import{a as S,b as N}from"./chunk-2NFLSA4Y.js";var Io;function Ri(){return Io}function Ze(n){let e=Io;return Io=n,e}var cl=Symbol("NotFound");function Xt(n){return n===cl||n?.name==="\u0275NotFound"}var ye=null,ki=!1,wo=1,Df=null,ge=Symbol("SIGNAL");function P(n){let e=ye;return ye=n,e}function Li(){return ye}var Dt={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function en(n){if(ki)throw new Error("");if(ye===null)return;ye.consumerOnSignalRead(n);let e=ye.producersTail;if(e!==void 0&&e.producer===n)return;let t,i=ye.recomputing;if(i&&(t=e!==void 0?e.nextProducer:ye.producers,t!==void 0&&t.producer===n)){ye.producersTail=t,t.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===ye&&(!i||If(r,ye)))return;let o=rn(ye),s={producer:n,consumer:ye,nextProducer:t,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};ye.producersTail=s,e!==void 0?e.nextProducer=s:ye.producers=s,o&&pl(n,s)}function ul(){wo++}function Vi(n){if(!(rn(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===wo)){if(!n.producerMustRecompute(n)&&!nn(n)){Oi(n);return}n.producerRecomputeValue(n),Oi(n)}}function xo(n){if(n.consumers===void 0)return;let e=ki;ki=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let i=t.consumer;i.dirty||bf(i)}}finally{ki=e}}function Mo(){return ye?.consumerAllowSignalWrites!==!1}function bf(n){n.dirty=!0,xo(n),n.consumerMarkedDirty?.(n)}function Oi(n){n.dirty=!1,n.lastCleanEpoch=wo}function bt(n){return n&&dl(n),P(n)}function dl(n){n.producersTail=void 0,n.recomputing=!0}function tn(n,e){P(e),n&&fl(n)}function fl(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(rn(n))do t=So(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function nn(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,i=e.lastReadVersion;if(i!==t.version||(Vi(t),i!==t.version))return!0}return!1}function It(n){if(rn(n)){let e=n.producers;for(;e!==void 0;)e=So(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function pl(n,e){let t=n.consumersTail,i=rn(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)pl(r.producer,r)}function So(n){let e=n.producer,t=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!rn(e)){let o=e.producers;for(;o!==void 0;)o=So(o)}return t}function rn(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Bi(n){Df?.(n)}function If(n,e){let t=e.producersTail;if(t!==void 0){let i=e.producers;do{if(i===n)return!0;if(i===t)break;i=i.nextProducer}while(i!==void 0)}return!1}function ji(n,e){return Object.is(n,e)}function Hn(n,e){let t=Object.create(wf);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(Vi(t),en(t),t.value===jn)throw t.error;return t.value};return i[ge]=t,Bi(t),i}var Pi=Symbol("UNSET"),Fi=Symbol("COMPUTING"),jn=Symbol("ERRORED"),wf=N(S({},Dt),{value:Pi,dirty:!0,error:null,equal:ji,kind:"computed",producerMustRecompute(n){return n.value===Pi||n.value===Fi},producerRecomputeValue(n){if(n.value===Fi)throw new Error("");let e=n.value;n.value=Fi;let t=bt(n),i,r=!1;try{i=n.computation(),P(null),r=e!==Pi&&e!==jn&&i!==jn&&n.equal(e,i)}catch(o){i=jn,n.error=o}finally{tn(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function xf(){throw new Error}var ml=xf;function hl(n){ml(n)}function To(n){ml=n}var Mf=null;function Ao(n,e){let t=Object.create(Hi);t.value=n,e!==void 0&&(t.equal=e);let i=()=>gl(t);return i[ge]=t,Bi(t),[i,s=>on(t,s),s=>No(t,s)]}function gl(n){return en(n),n.value}function on(n,e){Mo()||hl(n),n.equal(n.value,e)||(n.value=e,Sf(n))}function No(n,e){Mo()||hl(n),on(n,e(n.value))}var Hi=N(S({},Dt),{equal:ji,value:void 0,kind:"signal"});function Sf(n){n.version++,ul(),xo(n),Mf?.(n)}function Ie(n){return typeof n=="function"}function Ui(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $i=Ui(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Un(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ce=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Ie(i))try{i()}catch(o){e=o instanceof $i?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{vl(o)}catch(s){e=e??[],s instanceof $i?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $i(e)}}add(e){var t;if(e&&e!==this)if(this.closed)vl(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Un(t,e)}remove(e){let{_finalizers:t}=this;t&&Un(t,e),e instanceof n&&e._removeParent(this)}};Ce.EMPTY=(()=>{let n=new Ce;return n.closed=!0,n})();var Ro=Ce.EMPTY;function Gi(n){return n instanceof Ce||n&&"closed"in n&&Ie(n.remove)&&Ie(n.add)&&Ie(n.unsubscribe)}function vl(n){Ie(n)?n():n.unsubscribe()}var He={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var sn={setTimeout(n,e,...t){let{delegate:i}=sn;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=sn;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function yl(n){sn.setTimeout(()=>{let{onUnhandledError:e}=He;if(e)e(n);else throw n})}function ko(){}var El=Po("C",void 0,void 0);function Cl(n){return Po("E",void 0,n)}function _l(n){return Po("N",n,void 0)}function Po(n,e,t){return{kind:n,value:e,error:t}}var wt=null;function an(n){if(He.useDeprecatedSynchronousErrorHandling){let e=!wt;if(e&&(wt={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=wt;if(wt=null,t)throw i}}else n()}function Dl(n){He.useDeprecatedSynchronousErrorHandling&&wt&&(wt.errorThrown=!0,wt.error=n)}var xt=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Gi(e)&&e.add(this)):this.destination=Nf}static create(e,t,i){return new ln(e,t,i)}next(e){this.isStopped?Oo(_l(e),this):this._next(e)}error(e){this.isStopped?Oo(Cl(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Oo(El,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Tf=Function.prototype.bind;function Fo(n,e){return Tf.call(n,e)}var Lo=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){qi(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){qi(i)}else qi(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){qi(t)}}},ln=class extends xt{constructor(e,t,i){super();let r;if(Ie(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&He.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Fo(e.next,o),error:e.error&&Fo(e.error,o),complete:e.complete&&Fo(e.complete,o)}):r=e}this.destination=new Lo(r)}};function qi(n){He.useDeprecatedSynchronousErrorHandling?Dl(n):yl(n)}function Af(n){throw n}function Oo(n,e){let{onStoppedNotification:t}=He;t&&sn.setTimeout(()=>t(n,e))}var Nf={closed:!0,next:ko,error:Af,complete:ko};var bl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Il(n){return n}function wl(n){return n.length===0?Il:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var cn=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=kf(t)?t:new ln(t,i,r);return an(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=xl(i),new i((r,o)=>{let s=new ln({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[bl](){return this}pipe(...t){return wl(t)(this)}toPromise(t){return t=xl(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function xl(n){var e;return(e=n??He.Promise)!==null&&e!==void 0?e:Promise}function Rf(n){return n&&Ie(n.next)&&Ie(n.error)&&Ie(n.complete)}function kf(n){return n&&n instanceof xt||Rf(n)&&Gi(n)}function Pf(n){return Ie(n?.lift)}function Ml(n){return e=>{if(Pf(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Sl(n,e,t,i,r){return new Vo(n,e,t,i,r)}var Vo=class extends xt{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Tl=Ui(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ft=(()=>{class n extends cn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new zi(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Tl}next(t){an(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){an(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){an(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Ro:(this.currentObservers=null,o.push(t),new Ce(()=>{this.currentObservers=null,Un(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new cn;return t.source=this,t}}return n.create=(e,t)=>new zi(e,t),n})(),zi=class extends ft{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Ro}};var $n=class extends ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};function Bo(n,e){return Ml((t,i)=>{let r=0;t.subscribe(Sl(i,o=>{i.next(n.call(e,o,r++))}))})}var Al=N(S({},Dt),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Nl(n){if(n.dirty=!1,n.version>0&&!nn(n))return;n.version++;let e=bt(n);try{n.cleanup(),n.fn()}finally{tn(n,e)}}var Ki="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(Wn(e,t)),this.code=e}};function Ff(n){return`NG0${Math.abs(n)}`}function Wn(n,e){return`${Ff(n)}${e?": "+e:""}`}function W(n){for(let e in n)if(n[e]===W)return e;throw Error("")}function pt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(pt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function Ji(n,e){return n?e?`${n} ${e}`:n:e||""}var Of=W({__forward_ref__:W});function Xi(n){return n.__forward_ref__=Xi,n.toString=function(){return pt(this())},n}function Se(n){return Pl(n)?n():n}function Pl(n){return typeof n=="function"&&n.hasOwnProperty(Of)&&n.__forward_ref__===Xi}function Y(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qn(n){return{providers:n.providers||[],imports:n.imports||[]}}function er(n){return Lf(n,tr)}function Lf(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Vf(n){let e=n?.[tr]??null;return e||null}function Ho(n){return n&&n.hasOwnProperty(Qi)?n[Qi]:null}var tr=W({\u0275prov:W}),Qi=W({\u0275inj:W}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Y({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ko(n){return n&&!!n.\u0275providers}var Jo=W({\u0275cmp:W}),Xo=W({\u0275dir:W}),es=W({\u0275pipe:W});var Uo=W({\u0275fac:W}),At=W({__NG_ELEMENT_ID__:W}),Rl=W({__NG_ENV_ID__:W});function ht(n){return typeof n=="string"?n:n==null?"":String(n)}function Fl(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ht(n)}var Ol=W({ngErrorCode:W}),Bf=W({ngErrorMessage:W}),jf=W({ngTokenPath:W});function ts(n,e){return Ll("",-200,e)}function nr(n,e){throw new L(-201,!1)}function Ll(n,e,t){let i=new L(e,n);return i[Ol]=e,i[Bf]=n,t&&(i[jf]=t),i}function Hf(n){return n[Ol]}var $o;function Vl(){return $o}function Me(n){let e=$o;return $o=n,e}function ns(n,e,t){let i=er(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(e!==void 0)return e;nr(n,"Injector")}var Uf={},Mt=Uf,$f="__NG_DI_FLAG__",Go=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=St(t)||0;try{return this.injector.get(e,i&8?null:Mt,i)}catch(r){if(Xt(r))return r;throw r}}};function Gf(n,e=0){let t=Ri();if(t===void 0)throw new L(-203,!1);if(t===null)return ns(n,void 0,e);{let i=qf(e),r=t.retrieve(n,i);if(Xt(r)){if(i.optional)return null;throw r}return r}}function z(n,e=0){return(Vl()||Gf)(Se(n),e)}function T(n,e){return z(n,St(e))}function St(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qf(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function qo(n){let e=[];for(let t=0;t<n.length;t++){let i=Se(n[t]);if(Array.isArray(i)){if(i.length===0)throw new L(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=zf(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(z(r,o))}else e.push(z(i))}return e}function zf(n){return n[$f]}function dn(n,e){let t=n.hasOwnProperty(Uo);return t?n[Uo]:null}function Bl(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function jl(n){return n.flat(Number.POSITIVE_INFINITY)}function ir(n,e){n.forEach(t=>Array.isArray(t)?ir(t,e):e(t))}function is(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Zn(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Hl(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function rr(n,e,t){let i=fn(n,e);return i>=0?n[i|1]=t:(i=~i,Hl(n,i,e,t)),i}function or(n,e){let t=fn(n,e);if(t>=0)return n[t|1]}function fn(n,e){return Wf(n,e,1)}function Wf(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var Nt={},_e=[],Rt=new $(""),rs=new $("",-1),os=new $(""),qn=class{get(e,t=Mt){if(t===Mt){let r=Ll("",-201);throw r.name="\u0275NotFound",r}return t}};function kt(n){return n[Jo]||null}function ss(n){return n[Xo]||null}function Ul(n){return n[es]||null}function Yn(n){return{\u0275providers:n}}function $l(...n){return{\u0275providers:as(!0,n),\u0275fromNgModule:!0}}function as(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return ir(e,s=>{let a=s;Zi(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Gl(r,o),t}function Gl(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];ls(r,o=>{e(o,i)})}}function Zi(n,e,t,i){if(n=Se(n),!n)return!1;let r=null,o=Ho(n),s=!o&&kt(n);if(!o&&!s){let l=n.ngModule;if(o=Ho(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Zi(u,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{ir(o.imports,d=>{Zi(d,e,t,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&Gl(u,e)}if(!a){let u=dn(r)||(()=>new r);e({provide:r,useFactory:u,deps:_e},r),e({provide:os,useValue:r,multi:!0},r),e({provide:Rt,useValue:()=>z(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=n;ls(l,d=>{e(d,u)})}}else return!1;return r!==n&&n.providers!==void 0}function ls(n,e){for(let t of n)Ko(t)&&(t=t.\u0275providers),Array.isArray(t)?ls(t,e):e(t)}var Qf=W({provide:String,useValue:W});function ql(n){return n!==null&&typeof n=="object"&&Qf in n}function Zf(n){return!!(n&&n.useExisting)}function Yf(n){return!!(n&&n.useFactory)}function Yi(n){return typeof n=="function"}var Kn=new $(""),Wi={},kl={},jo;function Jn(){return jo===void 0&&(jo=new qn),jo}var Pe=class{},Tt=class extends Pe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Wo(e,s=>this.processProvider(s)),this.records.set(rs,un(void 0,this)),r.has("environment")&&this.records.set(Pe,un(void 0,this));let o=this.records.get(Kn);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(os,_e,{self:!0}))}retrieve(e,t){let i=St(t)||0;try{return this.get(e,Mt,i)}catch(r){if(Xt(r))return r;throw r}}destroy(){Gn(this),this._destroyed=!0;let e=P(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(e)}}onDestroy(e){return Gn(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Gn(this);let t=Ze(this),i=Me(void 0),r;try{return e()}finally{Ze(t),Me(i)}}get(e,t=Mt,i){if(Gn(this),e.hasOwnProperty(Rl))return e[Rl](this);let r=St(i),o,s=Ze(this),a=Me(void 0);try{if(!(r&4)){let u=this.records.get(e);if(u===void 0){let d=tp(e)&&er(e);d&&this.injectableDefInScope(d)?u=un(zo(e),Wi):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let l=r&2?Jn():this.parent;return t=r&8&&t===Mt?null:t,l.get(e,t)}catch(l){let u=Hf(l);throw u===-200||u===-201?new L(u,null):l}finally{Me(a),Ze(s)}}resolveInjectorInitializers(){let e=P(null),t=Ze(this),i=Me(void 0),r;try{let o=this.get(Rt,_e,{self:!0});for(let s of o)s()}finally{Ze(t),Me(i),P(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(pt(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Se(e);let t=Yi(e)?e:Se(e&&e.provide),i=Jf(e);if(!Yi(e)&&e.multi===!0){let r=this.records.get(t);r||(r=un(void 0,Wi,!0),r.factory=()=>qo(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=P(null);try{if(t.value===kl)throw ts(pt(e));return t.value===Wi&&(t.value=kl,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&ep(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{P(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Se(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function zo(n){let e=er(n),t=e!==null?e.factory:dn(n);if(t!==null)return t;if(n instanceof $)throw new L(204,!1);if(n instanceof Function)return Kf(n);throw new L(204,!1)}function Kf(n){if(n.length>0)throw new L(204,!1);let t=Vf(n);return t!==null?()=>t.factory(n):()=>new n}function Jf(n){if(ql(n))return un(void 0,n.useValue);{let e=zl(n);return un(e,Wi)}}function zl(n,e,t){let i;if(Yi(n)){let r=Se(n);return dn(r)||zo(r)}else if(ql(n))i=()=>Se(n.useValue);else if(Yf(n))i=()=>n.useFactory(...qo(n.deps||[]));else if(Zf(n))i=(r,o)=>z(Se(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Se(n&&(n.useClass||n.provide));if(Xf(n))i=()=>new r(...qo(n.deps));else return dn(r)||zo(r)}return i}function Gn(n){if(n.destroyed)throw new L(205,!1)}function un(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Xf(n){return!!n.deps}function ep(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function tp(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Wo(n,e){for(let t of n)Array.isArray(t)?Wo(t,e):t&&Ko(t)?Wo(t.\u0275providers,e):e(t)}function sr(n,e){let t;n instanceof Tt?(Gn(n),t=n):t=new Go(n);let i,r=Ze(t),o=Me(void 0);try{return e()}finally{Ze(r),Me(o)}}function Wl(){return Vl()!==void 0||Ri()!=null}var Ue=0,k=1,F=2,ue=3,Oe=4,Le=5,pn=6,mn=7,oe=8,ot=9,Ke=10,X=11,hn=12,cs=13,Pt=14,Ve=15,gt=16,Ft=17,Je=18,Xn=19,us=20,it=21,ar=22,st=23,Te=24,lr=25,Ot=26,fe=27,Ql=1,ds=6,vt=7,ei=8,Lt=9,ie=10;function at(n){return Array.isArray(n)&&typeof n[Ql]=="object"}function $e(n){return Array.isArray(n)&&n[Ql]===!0}function fs(n){return(n.flags&4)!==0}function Vt(n){return n.componentOffset>-1}function ti(n){return(n.flags&1)===1}function Bt(n){return!!n.template}function gn(n){return(n[F]&512)!==0}function jt(n){return(n[F]&256)===256}var ps="svg",Zl="math";function Be(n){for(;Array.isArray(n);)n=n[Ue];return n}function ms(n,e){return Be(e[n])}function Ge(n,e){return Be(e[n.index])}function ni(n,e){return n.data[e]}function Xe(n,e){let t=e[n];return at(t)?t:t[Ue]}function cr(n){return(n[F]&128)===128}function Yl(n){return $e(n[ue])}function je(n,e){return e==null?null:n[e]}function hs(n){n[Ft]=0}function gs(n){n[F]&1024||(n[F]|=1024,cr(n)&&Ht(n))}function Kl(n,e){for(;n>0;)e=e[Pt],n--;return e}function ii(n){return!!(n[F]&9216||n[Te]?.dirty)}function ur(n){n[Ke].changeDetectionScheduler?.notify(8),n[F]&64&&(n[F]|=1024),ii(n)&&Ht(n)}function Ht(n){n[Ke].changeDetectionScheduler?.notify(0);let e=mt(n);for(;e!==null&&!(e[F]&8192||(e[F]|=8192,!cr(e)));)e=mt(e)}function vs(n,e){if(jt(n))throw new L(911,!1);n[it]===null&&(n[it]=[]),n[it].push(e)}function Jl(n,e){if(n[it]===null)return;let t=n[it].indexOf(e);t!==-1&&n[it].splice(t,1)}function mt(n){let e=n[ue];return $e(e)?e[ue]:e}function ys(n){return n[mn]??=[]}function Es(n){return n.cleanup??=[]}function Xl(n,e,t,i){let r=ys(e);r.push(t),n.firstCreatePass&&Es(n).push(i,r.length-1)}var V={lFrame:mc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Qo=!1;function ec(){return V.lFrame.elementDepthCount}function tc(){V.lFrame.elementDepthCount++}function Cs(){V.lFrame.elementDepthCount--}function _s(){return V.bindingsEnabled}function nc(){return V.skipHydrationRootTNode!==null}function Ds(n){return V.skipHydrationRootTNode===n}function bs(){V.skipHydrationRootTNode=null}function U(){return V.lFrame.lView}function Ee(){return V.lFrame.tView}function _(n){return V.lFrame.contextLView=n,n[oe]}function D(n){return V.lFrame.contextLView=null,n}function Ae(){let n=Is();for(;n!==null&&n.type===64;)n=n.parent;return n}function Is(){return V.lFrame.currentTNode}function ic(){let n=V.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function vn(n,e){let t=V.lFrame;t.currentTNode=n,t.isParent=e}function ws(){return V.lFrame.isParent}function rc(){V.lFrame.isParent=!1}function xs(){return Qo}function yn(n){let e=Qo;return Qo=n,e}function oc(){let n=V.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function sc(){return V.lFrame.bindingIndex}function ac(n){return V.lFrame.bindingIndex=n}function yt(){return V.lFrame.bindingIndex++}function dr(n){let e=V.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function lc(){return V.lFrame.inI18n}function cc(n,e){let t=V.lFrame;t.bindingIndex=t.bindingRootIndex=n,fr(e)}function uc(){return V.lFrame.currentDirectiveIndex}function fr(n){V.lFrame.currentDirectiveIndex=n}function dc(n){let e=V.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function fc(){return V.lFrame.currentQueryIndex}function pr(n){V.lFrame.currentQueryIndex=n}function np(n){let e=n[k];return e.type===2?e.declTNode:e.type===1?n[Le]:null}function Ms(n,e,t){if(t&4){let r=e,o=n;for(;r=r.parent,r===null&&!(t&1);)if(r=np(o),r===null||(o=o[Pt],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=V.lFrame=pc();return i.currentTNode=e,i.lView=n,!0}function mr(n){let e=pc(),t=n[k];V.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function pc(){let n=V.lFrame,e=n===null?null:n.child;return e===null?mc(n):e}function mc(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function hc(){let n=V.lFrame;return V.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Ss=hc;function hr(){let n=hc();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gc(n){return(V.lFrame.contextLView=Kl(n,V.lFrame.contextLView))[oe]}function et(){return V.lFrame.selectedIndex}function Et(n){V.lFrame.selectedIndex=n}function gr(){let n=V.lFrame;return ni(n.tView,n.selectedIndex)}function Ut(){V.lFrame.currentNamespace=ps}function vc(){return V.lFrame.currentNamespace}var yc=!0;function vr(){return yc}function yr(n){yc=n}function Zo(n,e=null,t=null,i){let r=Ec(n,e,t,i);return r.resolveInjectorInitializers(),r}function Ec(n,e=null,t=null,i,r=new Set){let o=[t||_e,$l(n)];return i=i||(typeof n=="object"?void 0:pt(n)),new Tt(o,e||Jn(),i||null,r)}var rt=class n{static THROW_IF_NOT_FOUND=Mt;static NULL=new qn;static create(e,t){if(Array.isArray(e))return Zo({name:""},t,e,"");{let i=e.name??"";return Zo({name:i},e.parent,e.providers,i)}}static \u0275prov=Y({token:n,providedIn:"any",factory:()=>z(rs)});static __NG_ELEMENT_ID__=-1},qe=new $(""),$t=(()=>{class n{static __NG_ELEMENT_ID__=ip;static __NG_ENV_ID__=t=>t}return n})(),zn=class extends $t{_lView;constructor(e){super(),this._lView=e}get destroyed(){return jt(this._lView)}onDestroy(e){let t=this._lView;return vs(t,e),()=>Jl(t,e)}};function ip(){return new zn(U())}var Fe=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ct=new $("",{providedIn:"root",factory:()=>{let n=T(Pe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Fe),e.handleError(t))}}}),Cc={provide:Rt,useValue:()=>void T(Fe),multi:!0};function I(n,e){let[t,i,r]=Ao(n,e?.equal),o=t,s=o[ge];return o.set=i,o.update=r,o.asReadonly=Ts.bind(o),o}function Ts(){let n=this[ge];if(n.readonlyFn===void 0){let e=()=>this();e[ge]=n,n.readonlyFn=e}return n.readonlyFn}var ri=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=rp}return n})();function rp(){return new ri(U(),Ae())}var Ye=class{},oi=new $("",{providedIn:"root",factory:()=>!1});var As=new $(""),Er=new $(""),Gt=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new $n(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new cn(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})();function qt(...n){}var si=(()=>{class n{static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new Yo})}return n})(),Yo=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,i]of this.queues)t===null?e||=this.flushQueue(i):e||=t.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}};function Hr(n){return{toString:n}.toString()}function hp(n){return typeof n=="function"}var xr=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function Kc(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function gp(n){return n.type.prototype.ngOnChanges&&(n.setInput=yp),vp}function vp(){let n=Xc(this),e=n?.current;if(e){let t=n.previous;if(t===Nt)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function yp(n,e,t,i,r){let o=this.declaredInputs[i],s=Xc(n)||Ep(n,{previous:Nt,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new xr(u&&u.currentValue,t,l===Nt),Kc(n,e,r,t)}var Jc="__ngSimpleChanges__";function Xc(n){return n[Jc]||null}function Ep(n,e){return n[Jc]=e}var _c=[];var Q=function(n,e=null,t){for(let i=0;i<_c.length;i++){let r=_c[i];r(n,e,t)}};function Cp(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=gp(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function eu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function _r(n,e,t){tu(n,e,3,t)}function Dr(n,e,t,i){(n[F]&3)===t&&tu(n,e,t,i)}function Ns(n,e){let t=n[F];(t&3)===e&&(t&=16383,t+=1,n[F]=t)}function tu(n,e,t,i){let r=i!==void 0?n[Ft]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[Ft]+=65536),(a<o||o==-1)&&(_p(n,t,e,l),n[Ft]=(n[Ft]&4294901760)+l+2),l++}function Dc(n,e){Q(4,n,e);let t=P(null);try{e.call(n)}finally{P(t),Q(5,n,e)}}function _p(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[F]>>14<n[Ft]>>16&&(n[F]&3)===e&&(n[F]+=16384,Dc(a,o)):Dc(a,o)}var Cn=-1,ci=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}};function Dp(n){return(n.flags&8)!==0}function bp(n){return(n.flags&16)!==0}function Ip(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];xp(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function wp(n){return n===3||n===4||n===6}function xp(n){return n.charCodeAt(0)===64}function Ur(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?bc(n,t,r,null,e[++i]):bc(n,t,r,null,null))}}return n}function bc(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function nu(n){return n!==Cn}function Mr(n){return n&32767}function Mp(n){return n>>16}function Sr(n,e){let t=Mp(n),i=e;for(;t>0;)i=i[Pt],t--;return i}var Vs=!0;function Ic(n){let e=Vs;return Vs=n,e}var Sp=256,iu=Sp-1,ru=5,Tp=0,tt={};function Ap(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(At)&&(i=t[At]),i==null&&(i=t[At]=Tp++);let r=i&iu,o=1<<r;e.data[n+(r>>ru)]|=o}function ou(n,e){let t=su(n,e);if(t!==-1)return t;let i=e[k];i.firstCreatePass&&(n.injectorIndex=e.length,Rs(i.data,n),Rs(e,null),Rs(i.blueprint,null));let r=pa(n,e),o=n.injectorIndex;if(nu(r)){let s=Mr(r),a=Sr(r,e),l=a[k].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=r,o}function Rs(n,e){n.push(0,0,0,0,0,0,0,0,e)}function su(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function pa(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=du(r),i===null)return Cn;if(t++,r=r[Pt],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Cn}function Np(n,e,t){Ap(n,e,t)}function au(n,e,t){if(t&8||n!==void 0)return n;nr(e,"NodeInjector")}function lu(n,e,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=n[ot],o=Me(void 0);try{return r?r.get(e,i,t&8):ns(e,i,t&8)}finally{Me(o)}}return au(i,e,t)}function cu(n,e,t,i=0,r){if(n!==null){if(e[F]&2048&&!(i&2)){let s=Fp(n,e,t,i,tt);if(s!==tt)return s}let o=uu(n,e,t,i,tt);if(o!==tt)return o}return lu(e,t,i,r)}function uu(n,e,t,i,r){let o=kp(t);if(typeof o=="function"){if(!Ms(e,n,i))return i&1?au(r,t,i):lu(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&8))nr(t);else return s}finally{Ss()}}else if(typeof o=="number"){let s=null,a=su(n,e),l=Cn,u=i&1?e[Ve][Le]:null;for((a===-1||i&4)&&(l=a===-1?pa(n,e):e[a+8],l===Cn||!xc(i,!1)?a=-1:(s=e[k],a=Mr(l),e=Sr(l,e)));a!==-1;){let d=e[k];if(wc(o,a,d.data)){let g=Rp(a,e,t,s,i,u);if(g!==tt)return g}l=e[a+8],l!==Cn&&xc(i,e[k].data[a+8]===u)&&wc(o,a,e)?(s=d,a=Mr(l),e=Sr(l,e)):a=-1}}return r}function Rp(n,e,t,i,r,o){let s=e[k],a=s.data[n+8],l=i==null?Vt(a)&&Vs:i!=s&&(a.type&3)!==0,u=r&1&&o===a,d=br(a,s,t,l,u);return d!==null?Tr(e,s,d,a,r):tt}function br(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,d=o>>20,g=i?a:a+d,C=r?a+d:u;for(let b=g;b<C;b++){let R=s[b];if(b<l&&t===R||b>=l&&R.type===t)return b}if(r){let b=s[l];if(b&&Bt(b)&&b.type===t)return l}return null}function Tr(n,e,t,i,r){let o=n[t],s=e.data;if(o instanceof ci){let a=o;if(a.resolving){let b=Fl(s[t]);throw ts(b)}let l=Ic(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,g=a.injectImpl?Me(a.injectImpl):null,C=Ms(n,i,0);try{o=n[t]=a.factory(void 0,r,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&Cp(t,s[t],e)}finally{g!==null&&Me(g),Ic(l),a.resolving=!1,Ss()}}return o}function kp(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(At)?n[At]:void 0;return typeof e=="number"?e>=0?e&iu:Pp:e}function wc(n,e,t){let i=1<<n;return!!(t[e+(n>>ru)]&i)}function xc(n,e){return!(n&2)&&!(n&1&&e)}var zt=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return cu(this._tNode,this._lView,e,St(i),t)}};function Pp(){return new zt(Ae(),U())}function Fp(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[F]&2048&&!gn(s);){let a=uu(o,s,t,i|2,tt);if(a!==tt)return a;let l=o.parent;if(!l){let u=s[us];if(u){let d=u.get(t,tt,i);if(d!==tt)return d}l=du(s),s=s[Pt]}o=l}return r}function du(n){let e=n[k],t=e.type;return t===2?e.declTNode:t===1?n[Le]:null}function Op(){return In(Ae(),U())}function In(n,e){return new wn(Ge(n,e))}var wn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Op}return n})();function Lp(n){return n instanceof wn?n.nativeElement:n}function Vp(){return this._results[Symbol.iterator]()}var Ar=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ft}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=jl(e);(this._changesDetected=!Bl(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Vp};function fu(n){return(n.flags&128)===128}var ma=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(ma||{}),pu=new Map,Bp=0;function jp(){return Bp++}function Hp(n){pu.set(n[Xn],n)}function Bs(n){pu.delete(n[Xn])}var Mc="__ngContext__";function _n(n,e){at(e)?(n[Mc]=e[Xn],Hp(e)):n[Mc]=e}function mu(n){return gu(n[hn])}function hu(n){return gu(n[Oe])}function gu(n){for(;n!==null&&!$e(n);)n=n[Oe];return n}var js;function ha(n){js=n}function vu(){if(js!==void 0)return js;if(typeof document<"u")return document;throw new L(210,!1)}var $r=new $("",{providedIn:"root",factory:()=>Up}),Up="ng",Gr=new $(""),vi=new $("",{providedIn:"platform",factory:()=>"unknown"});var qr=new $("",{providedIn:"root",factory:()=>vu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var $p="h",Gp="b";var yu="r";var Eu="di";var Cu=!1,_u=new $("",{providedIn:"root",factory:()=>Cu});var qp=(n,e,t,i)=>{};function zp(n,e,t,i){qp(n,e,t,i)}function ga(n){return(n.flags&32)===32}var Wp=()=>null;function Du(n,e,t=!1){return Wp(n,e,t)}function bu(n,e){let t=n.contentQueries;if(t!==null){let i=P(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];pr(o),a.contentQueries(2,e[s],s)}}}finally{P(i)}}}function Hs(n,e,t){pr(0);let i=P(null);try{e(n,t)}finally{P(i)}}function Iu(n,e,t){if(fs(e)){let i=P(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{P(i)}}}var ct=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(ct||{});var Nr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ki})`}};function zr(n){return n instanceof Nr?n.changingThisBreaksApplicationSecurity:n}function wu(n,e){let t=xu(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ki})`)}return t===e}function xu(n){return n instanceof Nr&&n.getTypeName()||null}var Qp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mu(n){return n=String(n),n.match(Qp)?n:"unsafe:"+n}var va=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(va||{});function re(n){let e=Zp();return e?e.sanitize(va.URL,n)||"":wu(n,"URL")?zr(n):Mu(ht(n))}function Zp(){let n=U();return n&&n[Ke].sanitizer}function xn(n){return n.ownerDocument.defaultView}function Yp(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var Su="ng-template";function Kp(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&Yp(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(ya(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ya(n){return n.type===4&&n.value!==Su}function Jp(n,e,t){let i=n.type===4&&!t?Su:n.value;return e===i}function Xp(n,e,t){let i=4,r=n.attrs,o=r!==null?nm(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!ze(i)&&!ze(l))return!1;if(s&&ze(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Jp(n,l,t)||l===""&&e.length===1){if(ze(i))return!1;s=!0}}else if(i&8){if(r===null||!Kp(n,r,l,t)){if(ze(i))return!1;s=!0}}else{let u=e[++a],d=em(l,r,ya(n),t);if(d===-1){if(ze(i))return!1;s=!0;continue}if(u!==""){let g;if(d>o?g="":g=r[d+1].toLowerCase(),i&2&&u!==g){if(ze(i))return!1;s=!0}}}}return ze(i)||s}function ze(n){return(n&1)===0}function em(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return im(e,n)}function tm(n,e,t=!1){for(let i=0;i<e.length;i++)if(Xp(n,e[i],t))return!0;return!1}function nm(n){for(let e=0;e<n.length;e++){let t=n[e];if(wp(t))return e}return n.length}function im(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function Sc(n,e){return n?":not("+e.trim()+")":e}function rm(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!ze(s)&&(e+=Sc(o,r),r=""),i=s,o=o||!ze(i);t++}return r!==""&&(e+=Sc(o,r)),e}function om(n){return n.map(rm).join(",")}function sm(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!ze(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var De={};function am(n,e){return n.createText(e)}function lm(n,e,t){n.setValue(e,t)}function Tu(n,e,t){return n.createElement(e,t)}function Rr(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Au(n,e,t){n.appendChild(e,t)}function Tc(n,e,t,i,r){i!==null?Rr(n,e,t,i,r):Au(n,e,t)}function Nu(n,e,t,i){n.removeChild(null,e,t,i)}function cm(n,e,t){n.setAttribute(e,"style",t)}function um(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ru(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&Ip(n,e,i),r!==null&&um(n,e,r),o!==null&&cm(n,e,o)}function Ea(n,e,t,i,r,o,s,a,l,u,d){let g=fe+i,C=g+r,b=dm(g,C),R=typeof u=="function"?u():u;return b[k]={type:n,blueprint:b,template:t,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:R,incompleteFirstPass:!1,ssrId:d}}function dm(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:De);return t}function fm(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ea(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ca(n,e,t,i,r,o,s,a,l,u,d){let g=e.blueprint.slice();return g[Ue]=r,g[F]=i|4|128|8|64|1024,(u!==null||n&&n[F]&2048)&&(g[F]|=2048),hs(g),g[ue]=g[Pt]=n,g[oe]=t,g[Ke]=s||n&&n[Ke],g[X]=a||n&&n[X],g[ot]=l||n&&n[ot]||null,g[Le]=o,g[Xn]=jp(),g[pn]=d,g[us]=u,g[Ve]=e.type==2?n[Ve]:g,g}function pm(n,e,t){let i=Ge(e,n),r=fm(t),o=n[Ke].rendererFactory,s=_a(n,Ca(n,r,null,ku(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function ku(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Pu(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function _a(n,e){return n[hn]?n[cs][Oe]=e:n[hn]=e,n[cs]=e,e}function c(n=1){Fu(Ee(),U(),et()+n,!1)}function Fu(n,e,t,i){if(!i)if((e[F]&3)===3){let o=n.preOrderCheckHooks;o!==null&&_r(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Dr(e,o,0,t)}Et(t)}var Wr=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Wr||{});function Us(n,e,t,i){let r=P(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Wr.SignalBased)!==0&&(l=e[o][ge]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,l,i,t,o):Kc(e,l,o,i)}finally{P(r)}}var ut=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(ut||{}),mm;function Da(n,e){return mm(n,e)}var Wt=new Set,ba=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(ba||{}),yi=new $(""),Ac=new Set;function Kt(n){Ac.has(n)||(Ac.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ou=!1,$s=class extends ft{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Wl()&&(this.destroyRef=T($t,{optional:!0})??void 0,this.pendingTasks=T(Gt,{optional:!0})??void 0)}emit(e){let t=P(null);try{super.next(e)}finally{P(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ce&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},lt=$s;function Lu(n){let e,t;function i(){n=qt;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function Nc(n){return queueMicrotask(()=>n()),()=>{n=qt}}var Ia="isAngularZone",kr=Ia+"_ID",hm=0,pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new lt(!1);onMicrotaskEmpty=new lt(!1);onStable=new lt(!1);onError=new lt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Ou}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,ym(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ia)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,gm,qt,qt);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},gm={};function wa(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vm(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Lu(()=>{n.callbackScheduled=!1,Gs(n),n.isCheckStableRunning=!0,wa(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Gs(n)}function ym(n){let e=()=>{vm(n)},t=hm++;n._inner=n._inner.fork({name:"angular",properties:{[Ia]:!0,[kr]:t,[kr+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(Em(l))return i.invokeTask(o,s,a,l);try{return Rc(n),i.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),kc(n)}},onInvoke:(i,r,o,s,a,l,u)=>{try{return Rc(n),i.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Cm(l)&&e(),kc(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Gs(n),wa(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Gs(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Rc(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kc(n){n._nesting--,wa(n)}var ui=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new lt;onMicrotaskEmpty=new lt;onStable=new lt;onError=new lt;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function Em(n){return Vu(n,"__ignore_ng_zone__")}function Cm(n){return Vu(n,"__scheduler_tick__")}function Vu(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Bu=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})();var ju=new $("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Hu(n,e,t){let i=n.get(ju);if(Array.isArray(e))for(let r of e)i.queue.add(r),t?.detachedLeaveAnimationFns?.push(r);else i.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);i.scheduler&&i.scheduler(n)}function _m(n,e){let t=n.get(ju);if(e.detachedLeaveAnimationFns){for(let i of e.detachedLeaveAnimationFns)t.queue.delete(i);e.detachedLeaveAnimationFns=void 0}}function Dm(n,e){for(let[t,i]of e)Hu(n,i.animateFns)}function Pc(n,e,t,i){let r=n?.[Ot]?.enter;e!==null&&r&&r.has(t.index)&&Dm(i,r)}function En(n,e,t,i,r,o,s,a){if(r!=null){let l,u=!1;$e(r)?l=r:at(r)&&(u=!0,r=r[Ue]);let d=Be(r);n===0&&i!==null?(Pc(a,i,o,t),s==null?Au(e,i,d):Rr(e,i,d,s||null,!0)):n===1&&i!==null?(Pc(a,i,o,t),Rr(e,i,d,s||null,!0)):n===2?Fc(a,o,t,g=>{Nu(e,d,u,g)}):n===3&&Fc(a,o,t,()=>{e.destroyNode(d)}),l!=null&&Fm(e,n,t,l,o,i,s)}}function bm(n,e){Uu(n,e),e[Ue]=null,e[Le]=null}function Im(n,e,t,i,r,o){i[Ue]=r,i[Le]=e,Zr(n,i,t,1,r,o)}function Uu(n,e){e[Ke].changeDetectionScheduler?.notify(9),Zr(n,e,e[X],2,null,null)}function wm(n){let e=n[hn];if(!e)return ks(n[k],n);for(;e;){let t=null;if(at(e))t=e[hn];else{let i=e[ie];i&&(t=i)}if(!t){for(;e&&!e[Oe]&&e!==n;)at(e)&&ks(e[k],e),e=e[ue];e===null&&(e=n),at(e)&&ks(e[k],e),t=e&&e[Oe]}e=t}}function xa(n,e){let t=n[Lt],i=t.indexOf(e);t.splice(i,1)}function Qr(n,e){if(jt(e))return;let t=e[X];t.destroyNode&&Zr(n,e,t,3,null,null),wm(e)}function ks(n,e){if(jt(e))return;let t=P(null);try{e[F]&=-129,e[F]|=256,e[Te]&&It(e[Te]),Sm(n,e),Mm(n,e),e[k].type===1&&e[X].destroy();let i=e[gt];if(i!==null&&$e(e[ue])){i!==e[ue]&&xa(i,e);let r=e[Je];r!==null&&r.detachView(n)}Bs(e)}finally{P(t)}}function Fc(n,e,t,i){let r=n?.[Ot];if(r==null||r.leave==null||!r.leave.has(e.index))return i(!1);n&&Wt.add(n),Hu(t,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let u=s.animateFns[l],{promise:d}=u();a.push(d)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),xm(n,i)}else n&&Wt.delete(n),i(!1)},r)}function xm(n,e){let t=n[Ot]?.running;if(t){t.then(()=>{n[Ot].running=void 0,Wt.delete(n),e(!0)});return}e(!1)}function Mm(n,e){let t=n.cleanup,i=e[mn];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[mn]=null);let r=e[it];if(r!==null){e[it]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[st];if(o!==null){e[st]=null;for(let s of o)s.destroy()}}function Sm(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof ci)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Q(4,a,l);try{l.call(a)}finally{Q(5,a,l)}}else{Q(4,r,o);try{o.call(r)}finally{Q(5,r,o)}}}}}function Tm(n,e,t){return Am(n,e.parent,t)}function Am(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Ue];if(Vt(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===ct.None||r===ct.Emulated)return null}return Ge(i,t)}function Nm(n,e,t){return km(n,e,t)}function Rm(n,e,t){return n.type&40?Ge(n,t):null}var km=Rm,Oc;function Ma(n,e,t,i){let r=Tm(n,i,e),o=e[X],s=i.parent||e[Le],a=Nm(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Tc(o,r,t[l],a,!1);else Tc(o,r,t,a,!1);Oc!==void 0&&Oc(o,i,e,t,r)}function ai(n,e){if(e!==null){let t=e.type;if(t&3)return Ge(e,n);if(t&4)return qs(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return ai(n,i);{let r=n[e.index];return $e(r)?qs(-1,r):Be(r)}}else{if(t&128)return ai(n,e.next);if(t&32)return Da(e,n)()||Be(n[e.index]);{let i=$u(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=mt(n[Ve]);return ai(r,i)}else return ai(n,e.next)}}}return null}function $u(n,e){if(e!==null){let i=n[Ve][Le],r=e.projection;return i.projection[r]}return null}function qs(n,e){let t=ie+n+1;if(t<e.length){let i=e[t],r=i[k].firstChild;if(r!==null)return ai(i,r)}return e[vt]}function Sa(n,e,t,i,r,o,s){for(;t!=null;){let a=i[ot];if(t.type===128){t=t.next;continue}let l=i[t.index],u=t.type;if(s&&e===0&&(l&&_n(Be(l),i),t.flags|=2),!ga(t))if(u&8)Sa(n,e,t.child,i,r,o,!1),En(e,n,a,r,l,t,o,i);else if(u&32){let d=Da(t,i),g;for(;g=d();)En(e,n,a,r,g,t,o,i);En(e,n,a,r,l,t,o,i)}else u&16?Pm(n,e,i,t,r,o):En(e,n,a,r,l,t,o,i);t=s?t.projectionNext:t.next}}function Zr(n,e,t,i,r,o){Sa(t,i,n.firstChild,e,r,o,!1)}function Pm(n,e,t,i,r,o){let s=t[Ve],l=s[Le].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];En(e,n,t[ot],r,d,i,o,t)}else{let u=l,d=s[ue];fu(i)&&(u.flags|=128),Sa(n,e,u,d,r,o,!0)}}function Fm(n,e,t,i,r,o,s){let a=i[vt],l=Be(i);a!==l&&En(e,n,t,o,a,r,s);for(let u=ie;u<i.length;u++){let d=i[u];Zr(d[k],d,n,e,o,a)}}function Om(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:ut.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ut.Important),n.setStyle(t,i,r,o))}}function Gu(n,e,t,i,r){let o=et(),s=i&2;try{Et(-1),s&&e.length>fe&&Fu(n,e,fe,!1),Q(s?2:0,r,t),t(i,r)}finally{Et(o),Q(s?3:1,r,t)}}function Ta(n,e,t){$m(n,e,t),(t.flags&64)===64&&Gm(n,e,t)}function Yr(n,e,t=Ge){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function Lm(n,e,t,i){let o=i.get(_u,Cu)||t===ct.ShadowDom,s=n.selectRootElement(e,o);return Vm(s),s}function Vm(n){Bm(n)}var Bm=()=>null;function jm(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Hm(n,e,t,i,r,o){let s=e[k];if(Aa(n,s,e,t,i)){Vt(n)&&Um(e,n.index);return}n.type&3&&(t=jm(t)),qu(n,e,t,i,r,o)}function qu(n,e,t,i,r,o){if(n.type&3){let s=Ge(n,e);i=o!=null?o(i,n.value||"",t):i,r.setProperty(s,t,i)}else n.type&12}function Um(n,e){let t=Xe(e,n);t[F]&16||(t[F]|=64)}function $m(n,e,t){let i=t.directiveStart,r=t.directiveEnd;Vt(t)&&pm(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ou(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],l=Tr(e,n,s,t);if(_n(l,e),o!==null&&Qm(e,s-i,l,a,t,o),Bt(a)){let u=Xe(t.index,e);u[oe]=Tr(e,n,s,t)}}}function Gm(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=uc();try{Et(o);for(let a=i;a<r;a++){let l=n.data[a],u=e[a];fr(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&qm(l,u)}}finally{Et(-1),fr(s)}}function qm(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function zu(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];tm(e,o.selectors,!1)&&(i??=[],Bt(o)?i.unshift(o):i.push(o))}return i}function zm(n,e,t,i,r,o){let s=Ge(n,e);Wm(e[X],s,o,n.value,t,i,r)}function Wm(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?ht(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function Qm(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Us(i,t,l,u)}}function Wu(n,e,t,i,r){let o=fe+t,s=e[k],a=r(s,e,n,i,t);e[o]=a,vn(n,!0);let l=n.type===2;return l?(Ru(e[X],a,n),(ec()===0||ti(n))&&_n(a,e),tc()):_n(a,e),vr()&&(!l||!ga(n))&&Ma(s,e,a,n),n}function Qu(n){let e=n;return ws()?rc():(e=e.parent,vn(e,!1)),e}function Zm(n,e){let t=n[ot];if(!t)return;let i;try{i=t.get(Ct,null)}catch{i=null}i?.(e)}function Aa(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],d=s[l+1],g=e.data[u];Us(g,t[u],d,r),a=!0}if(o)for(let l of o){let u=t[l],d=e.data[l];Us(d,u,i,r),a=!0}return a}function Ym(n,e){let t=Xe(e,n),i=t[k];Km(i,t);let r=t[Ue];r!==null&&t[pn]===null&&(t[pn]=Du(r,t[ot])),Q(18),Na(i,t,t[oe]),Q(19,t[oe])}function Km(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Na(n,e,t){mr(e);try{let i=n.viewQuery;i!==null&&Hs(1,i,t);let r=n.template;r!==null&&Gu(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Je]?.finishViewCreation(n),n.staticContentQueries&&bu(n,e),n.staticViewQueries&&Hs(2,n.viewQuery,t);let o=n.components;o!==null&&Jm(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[F]&=-5,hr()}}function Jm(n,e){for(let t=0;t<e.length;t++)Ym(n,e[t])}function Kr(n,e,t,i){let r=P(null);try{let o=e.tView,a=n[F]&4096?4096:16,l=Ca(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];l[gt]=u;let d=n[Je];return d!==null&&(l[Je]=d.createEmbeddedView(o)),Na(o,l,t),l}finally{P(r)}}function di(n,e){return!e||e.firstChild===null||fu(n)}function fi(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(Be(o)),$e(o)&&Zu(o,i);let s=t.type;if(s&8)fi(n,e,t.child,i);else if(s&32){let a=Da(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=$u(e,t);if(Array.isArray(a))i.push(...a);else{let l=mt(e[Ve]);fi(l[k],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function Zu(n,e){for(let t=ie;t<n.length;t++){let i=n[t],r=i[k].firstChild;r!==null&&fi(i[k],i,r,e)}n[vt]!==n[Ue]&&e.push(n[vt])}function Yu(n){if(n[lr]!==null){for(let e of n[lr])e.impl.addSequence(e);n[lr].length=0}}var Ku=[];function Xm(n){return n[Te]??eh(n)}function eh(n){let e=Ku.pop()??Object.create(nh);return e.lView=n,e}function th(n){n.lView[Te]!==n&&(n.lView=null,Ku.push(n))}var nh=N(S({},Dt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ht(n.lView)},consumerOnSignalRead(){this.lView[Te]=this}});function ih(n){let e=n[Te]??Object.create(rh);return e.lView=n,e}var rh=N(S({},Dt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=mt(n.lView);for(;e&&!Ju(e[k]);)e=mt(e);e&&gs(e)},consumerOnSignalRead(){this.lView[Te]=this}});function Ju(n){return n.type!==2}function Xu(n){if(n[st]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[st])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[F]&8192)}}var oh=100;function ed(n,e=0){let i=n[Ke].rendererFactory,r=!1;r||i.begin?.();try{sh(n,e)}finally{r||i.end?.()}}function sh(n,e){let t=xs();try{yn(!0),zs(n,e);let i=0;for(;ii(n);){if(i===oh)throw new L(103,!1);i++,zs(n,1)}}finally{yn(t)}}function ah(n,e,t,i){if(jt(e))return;let r=e[F],o=!1,s=!1;mr(e);let a=!0,l=null,u=null;o||(Ju(n)?(u=Xm(e),l=bt(u)):Li()===null?(a=!1,u=ih(e),l=bt(u)):e[Te]&&(It(e[Te]),e[Te]=null));try{hs(e),ac(n.bindingStartIndex),t!==null&&Gu(n,e,t,2,i);let d=(r&3)===3;if(!o)if(d){let b=n.preOrderCheckHooks;b!==null&&_r(e,b,null)}else{let b=n.preOrderHooks;b!==null&&Dr(e,b,0,null),Ns(e,0)}if(s||lh(e),Xu(e),td(e,0),n.contentQueries!==null&&bu(n,e),!o)if(d){let b=n.contentCheckHooks;b!==null&&_r(e,b)}else{let b=n.contentHooks;b!==null&&Dr(e,b,1),Ns(e,1)}uh(n,e);let g=n.components;g!==null&&id(e,g,0);let C=n.viewQuery;if(C!==null&&Hs(2,C,i),!o)if(d){let b=n.viewCheckHooks;b!==null&&_r(e,b)}else{let b=n.viewHooks;b!==null&&Dr(e,b,2),Ns(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ar]){for(let b of e[ar])b();e[ar]=null}o||(Yu(e),e[F]&=-73)}catch(d){throw o||Ht(e),d}finally{u!==null&&(tn(u,l),a&&th(u)),hr()}}function td(n,e){for(let t=mu(n);t!==null;t=hu(t))for(let i=ie;i<t.length;i++){let r=t[i];nd(r,e)}}function lh(n){for(let e=mu(n);e!==null;e=hu(e)){if(!(e[F]&2))continue;let t=e[Lt];for(let i=0;i<t.length;i++){let r=t[i];gs(r)}}}function ch(n,e,t){Q(18);let i=Xe(e,n);nd(i,t),Q(19,i[oe])}function nd(n,e){cr(n)&&zs(n,e)}function zs(n,e){let i=n[k],r=n[F],o=n[Te],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&nn(o)),s||=!1,o&&(o.dirty=!1),n[F]&=-9217,s)ah(i,n,i.template,n[oe]);else if(r&8192){let a=P(null);try{Xu(n),td(n,1);let l=i.components;l!==null&&id(n,l,1),Yu(n)}finally{P(a)}}}function id(n,e,t){for(let i=0;i<e.length;i++)ch(n,e[i],t)}function uh(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Et(~r);else{let o=r,s=t[++i],a=t[++i];cc(s,o);let l=e[o];Q(24,l),a(2,l),Q(25,l)}}}finally{Et(-1)}}function Ra(n,e){let t=xs()?64:1088;for(n[Ke].changeDetectionScheduler?.notify(e);n;){n[F]|=t;let i=mt(n);if(gn(n)&&!i)return n;n=i}return null}function rd(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function od(n,e){let t=ie+e;if(t<n.length)return n[t]}function Jr(n,e,t,i=!0){let r=e[k];if(dh(r,e,n,t),i){let s=qs(t,n),a=e[X],l=a.parentNode(n[vt]);l!==null&&Im(r,n[Le],a,e,l,s)}let o=e[pn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sd(n,e){let t=pi(n,e);return t!==void 0&&Qr(t[k],t),t}function pi(n,e){if(n.length<=ie)return;let t=ie+e,i=n[t];if(i){let r=i[gt];r!==null&&r!==n&&xa(r,i),e>0&&(n[t-1][Oe]=i[Oe]);let o=Zn(n,ie+e);bm(i[k],i);let s=o[Je];s!==null&&s.detachView(o[k]),i[ue]=null,i[Oe]=null,i[F]&=-129}return i}function dh(n,e,t,i){let r=ie+i,o=t.length;i>0&&(t[r-1][Oe]=e),i<o-ie?(e[Oe]=t[r],is(t,ie+i,e)):(t.push(e),e[Oe]=null),e[ue]=t;let s=e[gt];s!==null&&t!==s&&ad(s,e);let a=e[Je];a!==null&&a.insertView(n),ur(e),e[F]|=128}function ad(n,e){let t=n[Lt],i=e[ue];if(at(i))n[F]|=2;else{let r=i[ue][Ve];e[Ve]!==r&&(n[F]|=2)}t===null?n[Lt]=[e]:t.push(e)}var Dn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[k];return fi(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[oe]}set context(e){this._lView[oe]=e}get destroyed(){return jt(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ue];if($e(e)){let t=e[ei],i=t?t.indexOf(this):-1;i>-1&&(pi(e,i),Zn(t,i))}this._attachedToViewContainer=!1}Qr(this._lView[k],this._lView)}onDestroy(e){vs(this._lView,e)}markForCheck(){Ra(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[F]&=-129}reattach(){ur(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,ed(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gn(this._lView),t=this._lView[gt];t!==null&&!e&&xa(t,this._lView),Uu(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=gn(this._lView),i=this._lView[gt];i!==null&&!t&&ad(i,this._lView),ur(this._lView)}};var Qt=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=fh;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){let o=Kr(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new Dn(o)}}return n})();function fh(){return ka(Ae(),U())}function ka(n,e){return n.type&4?new Qt(e,n,In(n,e)):null}function Ei(n,e,t,i,r){let o=n.data[e];if(o===null)o=ph(n,e,t,i,r),lc()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=ic();o.injectorIndex=s===null?-1:s.injectorIndex}return vn(o,!0),o}function ph(n,e,t,i,r){let o=Is(),s=ws(),a=s?o:o&&o.parent,l=n.data[e]=hh(n,a,t,e,i,r);return mh(n,l,o,s),l}function mh(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function hh(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return nc()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var lD=new RegExp(`^(\\d+)*(${Gp}|${$p})*(.*)`);function gh(n){let e=n[ds]??[],i=n[ue][X],r=[];for(let o of e)o.data[Eu]!==void 0?r.push(o):vh(o,i);n[ds]=r}function vh(n,e){let t=0,i=n.firstChild;if(i){let r=n.data[yu];for(;t<r;){let o=i.nextSibling;Nu(e,i,!1),i=o,t++}}}var yh=()=>null,Eh=()=>null;function Ws(n,e){return yh(n,e)}function ld(n,e,t){return Eh(n,e,t)}var cd=class{},Xr=class{},Qs=class{resolveComponentFactory(e){throw new L(917,!1)}},eo=class{static NULL=new Qs},Zt=class{};var ud=(()=>{class n{static \u0275prov=Y({token:n,providedIn:"root",factory:()=>null})}return n})();var Ir={},Zs=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){let r=this.injector.get(e,Ir,i);return r!==Ir||t===Ir?r:this.parentInjector.get(e,t,i)}};function Pr(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Ji(r,a);else if(o==2){let l=a,u=e[++s];i=Ji(i,l+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Mn(n,e=0){let t=U();if(t===null)return z(n,e);let i=Ae();return cu(i,t,Se(n),e)}function dd(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a=s,l=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,u]=d.resolveHostDirectives(s);break}Dh(n,e,t,a,o,l,u)}o!==null&&i!==null&&Ch(t,i,o)}function Ch(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new L(-301,!1);i.push(e[r],o)}}function _h(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Dh(n,e,t,i,r,o,s){let a=i.length,l=!1;for(let C=0;C<a;C++){let b=i[C];!l&&Bt(b)&&(l=!0,_h(n,t,C)),Np(ou(t,e),n,b.type)}Sh(t,n.data.length,a);for(let C=0;C<a;C++){let b=i[C];b.providersResolver&&b.providersResolver(b)}let u=!1,d=!1,g=Pu(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let C=0;C<a;C++){let b=i[C];if(t.mergedAttrs=Ur(t.mergedAttrs,b.hostAttrs),Ih(n,t,e,g,b),Mh(g,b,r),s!==null&&s.has(b)){let[G,ae]=s.get(b);t.directiveToIndex.set(b.type,[g,G+t.directiveStart,ae+t.directiveStart])}else(o===null||!o.has(b))&&t.directiveToIndex.set(b.type,g);b.contentQueries!==null&&(t.flags|=4),(b.hostBindings!==null||b.hostAttrs!==null||b.hostVars!==0)&&(t.flags|=64);let R=b.type.prototype;!u&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(R.ngOnChanges||R.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),g++}bh(n,t,o)}function bh(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))Lc(0,e,r,i),Lc(1,e,r,i),Bc(e,i,!1);else{let o=t.get(r);Vc(0,e,o,i),Vc(1,e,o,i),Bc(e,i,!0)}}}function Lc(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),fd(e,o)}}function Vc(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),fd(e,s)}}function fd(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Bc(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||ya(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let u=r[l];for(let d of u)if(d===e){s??=[],s.push(l,i[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Ih(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=dn(r.type,!0)),s=new ci(o,Bt(r),Mn,null);n.blueprint[i]=s,t[i]=s,wh(n,e,i,Pu(n,t,r.hostVars,De),r)}function wh(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;xh(s)!=a&&s.push(a),s.push(t,i,o)}}function xh(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Mh(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Bt(e)&&(t[""]=n)}}function Sh(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function pd(n,e,t,i,r,o,s,a){let l=e[k],u=l.consts,d=je(u,s),g=Ei(l,n,t,i,d);return o&&dd(l,e,g,je(u,a),r),g.mergedAttrs=Ur(g.mergedAttrs,g.attrs),g.attrs!==null&&Pr(g,g.attrs,!1),g.mergedAttrs!==null&&Pr(g,g.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,g),g}function md(n,e){eu(n,e),fs(e)&&n.queries.elementEnd(e)}function Th(n,e,t,i,r,o){let s=e.consts,a=je(s,r),l=Ei(e,n,t,i,a);if(l.mergedAttrs=Ur(l.mergedAttrs,l.attrs),o!=null){let u=je(s,o);l.localNames=[];for(let d=0;d<u.length;d+=2)l.localNames.push(u[d],-1)}return l.attrs!==null&&Pr(l,l.attrs,!1),l.mergedAttrs!==null&&Pr(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Pa(n){return gd(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function hd(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function gd(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ah(n,e,t){return n[e]=t}function Nh(n,e){return n[e]}function Qe(n,e,t){if(t===De)return!1;let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function Rh(n,e,t,i){let r=Qe(n,e,t);return Qe(n,e+1,i)||r}function wr(n,e,t){return function i(r){let o=Vt(n)?Xe(n.index,e):e;Ra(o,5);let s=e[oe],a=jc(e,s,t,r),l=i.__ngNextListenerFn__;for(;l;)a=jc(e,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function jc(n,e,t,i){let r=P(null);try{return Q(6,e,t),t(i)!==!1}catch(o){return Zm(n,o),!1}finally{Q(7,e,t),P(r)}}function vd(n,e,t,i,r,o,s,a){let l=ti(n),u=!1,d=null;if(!i&&l&&(d=Ph(e,t,o,n.index)),d!==null){let g=d.__ngLastListenerFn__||d;g.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let g=Ge(n,t),C=i?i(g):g;zp(t,C,o,a);let b=r.listen(C,o,a);if(!kh(o)){let R=i?G=>i(Be(G[n.index])):n.index;yd(R,e,t,o,a,b,!1)}}return u}function kh(n){return n.startsWith("animation")||n.startsWith("transition")}function Ph(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[mn],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function yd(n,e,t,i,r,o,s){let a=e.firstCreatePass?Es(e):null,l=ys(t),u=l.length;l.push(r,o),a&&a.push(i,n,u,(u+1)*(s?-1:1))}function Hc(n,e,t,i,r,o){let s=e[t],a=e[k],u=a.data[t].outputs[i],g=s[u].subscribe(o);yd(n.index,a,e,r,o,g,!0)}var Ys=Symbol("BINDING");var Ks=class extends eo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=kt(e);return new mi(t,this.ngModule)}};function Fh(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&Wr.SignalBased)!==0};return r&&(o.transform=r),o})}function Oh(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Lh(n,e,t){let i=e instanceof Pe?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new Zs(t,i):t}function Vh(n){let e=n.get(Zt,null);if(e===null)throw new L(407,!1);let t=n.get(ud,null),i=n.get(Ye,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function Bh(n,e){let t=Ed(n);return Tu(e,t,t==="svg"?ps:t==="math"?Zl:null)}function Ed(n){return(n.selectors[0][0]||"div").toLowerCase()}var mi=class extends Xr{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Fh(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Oh(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=om(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r,o,s){Q(22);let a=P(null);try{let l=this.componentDef,u=jh(i,l,s,o),d=Lh(l,r||this.ngModule,e),g=Vh(d),C=g.rendererFactory.createRenderer(null,l),b=i?Lm(C,i,l.encapsulation,d):Bh(l,C),R=s?.some(Uc)||o?.some(le=>typeof le!="function"&&le.bindings.some(Uc)),G=Ca(null,u,null,512|ku(l),null,null,g,C,d,null,Du(b,d,!0));G[fe]=b,mr(G);let ae=null;try{let le=pd(fe,G,2,"#host",()=>u.directiveRegistry,!0,0);Ru(C,b,le),_n(b,G),Ta(u,G,le),Iu(u,le,G),md(u,le),t!==void 0&&Uh(le,this.ngContentSelectors,t),ae=Xe(le.index,G),G[oe]=ae[oe],Na(u,G,null)}catch(le){throw ae!==null&&Bs(ae),Bs(G),le}finally{Q(23),hr()}return new Fr(this.componentType,G,!!R)}finally{P(a)}}};function jh(n,e,t,i){let r=n?["ng-version","20.3.12"]:sm(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[Ys].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(i)for(let d=0;d<i.length;d++){let g=i[d];if(typeof g!="function")for(let C of g.bindings){a+=C[Ys].requiredVars;let b=d+1;C.create&&(C.targetIdx=b,(o??=[]).push(C)),C.update&&(C.targetIdx=b,(s??=[]).push(C))}}let l=[e];if(i)for(let d of i){let g=typeof d=="function"?d:d.type,C=ss(g);l.push(C)}return Ea(0,null,Hh(o,s),1,a,l,null,null,null,[r],null)}function Hh(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let i of n)i.create();if(t&2&&e)for(let i of e)i.update()}}function Uc(n){let e=n[Ys].kind;return e==="input"||e==="twoWay"}var Fr=class extends cd{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=ni(t[k],fe),this.location=In(this._tNode,t),this.instance=Xe(this._tNode.index,t)[oe],this.hostView=this.changeDetectorRef=new Dn(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=Aa(i,r[k],r,e,t);this.previousInputValues.set(e,t);let s=Xe(i.index,r);Ra(s,1)}get injector(){return new zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Uh(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Sn=(()=>{class n{static __NG_ELEMENT_ID__=$h}return n})();function $h(){let n=Ae();return _d(n,U())}var Gh=Sn,Cd=class extends Gh{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return In(this._hostTNode,this._hostLView)}get injector(){return new zt(this._hostTNode,this._hostLView)}get parentInjector(){let e=pa(this._hostTNode,this._hostLView);if(nu(e)){let t=Sr(e,this._hostLView),i=Mr(e),r=t[k].data[i+8];return new zt(r,t)}else return new zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=$c(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ie}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Ws(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,di(this._hostTNode,s)),a}createComponent(e,t,i,r,o,s,a){let l=e&&!hp(e),u;if(l)u=t;else{let ae=t||{};u=ae.index,i=ae.injector,r=ae.projectableNodes,o=ae.environmentInjector||ae.ngModuleRef,s=ae.directives,a=ae.bindings}let d=l?e:new mi(kt(e)),g=i||this.parentInjector;if(!o&&d.ngModule==null){let le=(l?g:this.parentInjector).get(Pe,null);le&&(o=le)}let C=kt(d.componentType??{}),b=Ws(this._lContainer,C?.id??null),R=b?.firstChild??null,G=d.create(g,r,R,o,s,a);return this.insertImpl(G.hostView,u,di(this._hostTNode,b)),G}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(Yl(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[ue],u=new Cd(l,l[Le],l[ue]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Jr(s,r,o,i),e.attachToViewContainerRef(),is(Ps(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=$c(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=pi(this._lContainer,t);i&&(Zn(Ps(this._lContainer),t),Qr(i[k],i))}detach(e){let t=this._adjustIndex(e,-1),i=pi(this._lContainer,t);return i&&Zn(Ps(this._lContainer),t)!=null?new Dn(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function $c(n){return n[ei]}function Ps(n){return n[ei]||(n[ei]=[])}function _d(n,e){let t,i=e[n.index];return $e(i)?t=i:(t=rd(i,e,null,n),e[n.index]=t,_a(e,t)),zh(t,e,n,i),new Cd(t,n,e)}function qh(n,e){let t=n[X],i=t.createComment(""),r=Ge(e,n),o=t.parentNode(r);return Rr(t,o,i,t.nextSibling(r),!1),i}var zh=Zh,Wh=()=>!1;function Qh(n,e,t){return Wh(n,e,t)}function Zh(n,e,t,i){if(n[vt])return;let r;t.type&8?r=Be(i):r=qh(e,t),n[vt]=r}var Js=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Xs=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Id(e,t).matches!==null&&this.queries[t].setDirty()}},ea=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=ng(e):this.predicate=e}},ta=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},na=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,Yh(t,o)),this.matchTNodeWithReadOption(e,t,br(t,e,o,!1,!1))}else i===Qt?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,br(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===wn||r===Sn||r===Qt&&t.type&4)this.addMatch(t.index,-2);else{let o=br(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Yh(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function Kh(n,e){return n.type&11?In(n,e):n.type&4?ka(n,e):null}function Jh(n,e,t,i){return t===-1?Kh(e,n):t===-2?Xh(n,e,i):Tr(n,n[k],t,e)}function Xh(n,e,t){if(t===wn)return In(e,n);if(t===Qt)return ka(e,n);if(t===Sn)return _d(e,n)}function Dd(n,e,t,i){let r=e[Je].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let d=o[u];a.push(Jh(e,d,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function ia(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=Dd(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let u=o[a+1],d=e[-l];for(let g=ie;g<d.length;g++){let C=d[g];C[gt]===C[ue]&&ia(C[k],C,u,i)}if(d[Lt]!==null){let g=d[Lt];for(let C=0;C<g.length;C++){let b=g[C];ia(b[k],b,u,i)}}}}}return i}function bd(n,e){return n[Je].queries[e].queryList}function eg(n,e,t){let i=new Ar((t&4)===4);return Xl(n,e,i,i.destroy),(e[Je]??=new Xs).queries.push(new Js(i))-1}function tg(n,e,t){let i=Ee();return i.firstCreatePass&&(ig(i,new ea(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),eg(i,U(),e)}function ng(n){return n.split(",").map(e=>e.trim())}function ig(n,e,t){n.queries===null&&(n.queries=new ta),n.queries.track(new na(e,t))}function Id(n,e){return n.queries.getByIndex(e)}function rg(n,e){let t=n[k],i=Id(t,e);return i.crossesNgTemplate?ia(t,n,e,[]):Dd(t,n,i,e)}function wd(n,e,t){let i,r=Hn(()=>{i._dirtyCounter();let o=sg(i,n);if(e&&o===void 0)throw new L(-951,!1);return o});return i=r[ge],i._dirtyCounter=I(0),i._flatValue=void 0,r}function xd(n){return wd(!0,!1,n)}function Md(n){return wd(!0,!0,n)}function og(n,e){let t=n[ge];t._lView=U(),t._queryIndex=e,t._queryList=bd(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(i=>i+1))}function sg(n,e){let t=n._lView,i=n._queryIndex;if(t===void 0||i===void 0||t[F]&4)return e?void 0:_e;let r=bd(t,i),o=rg(t,i);return r.reset(o,Lp),e?r.first:r._changesDetected||n._flatValue===void 0?n._flatValue=r.toArray():n._flatValue}var Or=class{};var hi=class extends Or{injector;componentFactoryResolver=new Ks(this);instance=null;constructor(e){super();let t=new Tt([...e.providers,{provide:Or,useValue:this},{provide:eo,useValue:this.componentFactoryResolver}],e.parent||Jn(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sd(n,e,t=null){return new hi({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var ag=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=as(!1,t.type),r=i.length>0?Sd([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Y({token:n,providedIn:"environment",factory:()=>new n(z(Pe))})}return n})();function de(n){return Hr(()=>{let e=Td(n),t=N(S({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ma.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(ag).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ct.Emulated,styles:n.styles||_e,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Kt("NgStandalone"),Ad(t);let i=n.dependencies;return t.directiveDefs=Gc(i,lg),t.pipeDefs=Gc(i,Ul),t.id=dg(t),t})}function lg(n){return kt(n)||ss(n)}function to(n){return Hr(()=>({type:n.type,bootstrap:n.bootstrap||_e,declarations:n.declarations||_e,imports:n.imports||_e,exports:n.exports||_e,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function cg(n,e){if(n==null)return Nt;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=Wr.None,l=null),t[o]=[i,a,l],e[o]=s}return t}function ug(n){if(n==null)return Nt;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Fa(n){return Hr(()=>{let e=Td(n);return Ad(e),e})}function Td(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Nt,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||_e,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:cg(n.inputs,e),outputs:ug(n.outputs),debugInfo:null}}function Ad(n){n.features?.forEach(e=>e(n))}function Gc(n,e){return n?()=>{let t=typeof n=="function"?n():n,i=[];for(let r of t){let o=e(r);o!==null&&i.push(o)}return i}:null}function dg(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Nd(n,e,t,i,r,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Ur(n.mergedAttrs,n.attrs);let d=n.tView=Ea(2,n,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),vn(n,!1);let l=pg(t,e,n,i);vr()&&Ma(t,e,l,n),_n(l,e);let u=rd(l,e,l,n);e[i+fe]=u,_a(e,u),Qh(u,n,e)}function fg(n,e,t,i,r,o,s,a,l,u,d){let g=t+fe,C;return e.firstCreatePass?(C=Ei(e,g,4,s||null,a||null),_s()&&dd(e,n,C,je(e.consts,u),zu),eu(e,C)):C=e.data[g],Nd(C,n,e,t,i,r,o,l),ti(C)&&Ta(e,n,C),u!=null&&Yr(n,C,d),C}function Lr(n,e,t,i,r,o,s,a,l,u,d){let g=t+fe,C;if(e.firstCreatePass){if(C=Ei(e,g,4,s||null,a||null),u!=null){let b=je(e.consts,u);C.localNames=[];for(let R=0;R<b.length;R+=2)C.localNames.push(b[R],-1)}}else C=e.data[g];return Nd(C,n,e,t,i,r,o,l),u!=null&&Yr(n,C,d),C}function Ci(n,e,t,i,r,o,s,a){let l=U(),u=Ee(),d=je(u.consts,o);return fg(l,u,n,e,t,i,r,d,void 0,s,a),Ci}var pg=mg;function mg(n,e,t,i){return yr(!0),e[X].createComment("")}var Oa=new $("");function La(n){return!!n&&typeof n.then=="function"}function Rd(n){return!!n&&typeof n.subscribe=="function"}var kd=new $("");var Va=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=T(kd,{optional:!0})??[];injector=T(rt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=sr(this.injector,r);if(La(o))t.push(o);else if(Rd(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pd=new $("");function Fd(){To(()=>{let n="";throw new L(600,n)})}function Od(n){return n.isBoundToModule}var hg=10;var _i=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=T(Ct);afterRenderManager=T(Bu);zonelessEnabled=T(oi);rootEffectScheduler=T(si);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ft;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=T(Gt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Bo(t=>!t))}constructor(){T(yi,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=T(Pe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=rt.NULL){return this._injector.get(pe).run(()=>{Q(10);let s=t instanceof Xr;if(!this._injector.get(Va).done){let R="";throw new L(405,R)}let l;s?l=t:l=this._injector.get(eo).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let u=Od(l)?void 0:this._injector.get(Or),d=i||l.selector,g=l.create(r,[],d,u),C=g.location.nativeElement,b=g.injector.get(Oa,null);return b?.registerApplication(C),g.onDestroy(()=>{this.detachView(g.hostView),li(this.components,g),b?.unregisterApplication(C)}),this._loadComponent(g),Q(11,g),g})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Q(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ba.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=P(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,P(t),this.afterTick.next(),Q(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<hg;)Q(14),this.synchronizeOnce(),Q(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!ii(r))continue;let o=i&&!this.zonelessEnabled?0:1;ed(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ii(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;li(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(Pd,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>li(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function li(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function no(n,e,t,i){let r=U(),o=yt();if(Qe(r,o,e)){let s=Ee(),a=gr();zm(a,r,n,e,t,i)}return no}var mD=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var ra=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function Fs(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function gg(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let u=n.at(o),d=e[o],g=Fs(o,u,o,d,t);if(g!==0){g<0&&n.updateValue(o,d),o++;continue}let C=n.at(s),b=e[l],R=Fs(s,C,l,b,t);if(R!==0){R<0&&n.updateValue(s,b),s--,l--;continue}let G=t(o,u),ae=t(s,C),le=t(o,d);if(Object.is(le,ae)){let Bn=t(l,b);Object.is(Bn,G)?(n.swap(o,s),n.updateValue(s,b),l--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(i??=new Vr,r??=zc(n,o,s,t),oa(n,i,o,le))n.updateValue(o,d),o++,s++;else if(r.has(le))i.set(G,n.detach(o)),s--;else{let Bn=n.create(o,e[o]);n.attach(o,Bn),o++,s++}}for(;o<=l;)qc(n,i,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let d=n.at(o),g=u.value,C=Fs(o,d,o,g,t);if(C!==0)C<0&&n.updateValue(o,g),o++,u=l.next();else{i??=new Vr,r??=zc(n,o,s,t);let b=t(o,g);if(oa(n,i,o,b))n.updateValue(o,g),o++,s++,u=l.next();else if(!r.has(b))n.attach(o,n.create(o,g)),o++,s++,u=l.next();else{let R=t(o,d);i.set(R,n.detach(o)),s--}}}for(;!u.done;)qc(n,i,t,n.length,u.value),u=l.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(l=>{n.destroy(l)})}function oa(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function qc(n,e,t,i,r){if(oa(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function zc(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var Vr=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function x(n,e,t,i,r,o,s,a){Kt("NgControlFlow");let l=U(),u=Ee(),d=je(u.consts,o);return Lr(l,u,n,e,t,i,r,d,256,s,a),Ba}function Ba(n,e,t,i,r,o,s,a){Kt("NgControlFlow");let l=U(),u=Ee(),d=je(u.consts,o);return Lr(l,u,n,e,t,i,r,d,512,s,a),Ba}function M(n,e){Kt("NgControlFlow");let t=U(),i=yt(),r=t[i]!==De?t[i]:-1,o=r!==-1?Br(t,fe+r):void 0,s=0;if(Qe(t,i,n)){let a=P(null);try{if(o!==void 0&&sd(o,s),n!==-1){let l=fe+n,u=Br(t,l),d=ca(t[k],l),g=ld(u,d,t),C=Kr(t,d,e,{dehydratedView:g});Jr(u,C,s,di(d,g))}}finally{P(a)}}else if(o!==void 0){let a=od(o,s);a!==void 0&&(a[oe]=e)}}var sa=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-ie}};function be(n){return n}function Di(n,e){return e}var aa=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function K(n,e,t,i,r,o,s,a,l,u,d,g,C){Kt("NgControlFlow");let b=U(),R=Ee(),G=l!==void 0,ae=U(),le=a?s.bind(ae[Ve][oe]):s,Bn=new aa(G,le);ae[fe+n]=Bn,Lr(b,R,n+1,e,t,i,r,je(R.consts,o),256),G&&Lr(b,R,n+2,l,u,d,g,je(R.consts,C),512)}var la=class extends ra{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-ie}at(e){return this.getLView(e)[oe].$implicit}attach(e,t){let i=t[pn];this.needsIndexUpdate||=e!==this.length,Jr(this.lContainer,t,e,di(this.templateTNode,i)),vg(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,yg(this.lContainer,e),Eg(this.lContainer,e)}create(e,t){let i=Ws(this.lContainer,this.templateTNode.tView.ssrId),r=Kr(this.hostLView,this.templateTNode,new sa(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Qr(e[k],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[oe].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[oe].$index=e}getLView(e){return Cg(this.lContainer,e)}};function J(n){let e=P(null),t=et();try{let i=U(),r=i[k],o=i[t],s=t+1,a=Br(i,s);if(o.liveCollection===void 0){let u=ca(r,s);o.liveCollection=new la(a,i,u)}else o.liveCollection.reset();let l=o.liveCollection;if(gg(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=yt(),d=l.length===0;if(Qe(i,u,d)){let g=t+2,C=Br(i,g);if(d){let b=ca(r,g),R=ld(C,b,i),G=Kr(i,b,void 0,{dehydratedView:R});Jr(C,G,0,di(b,R))}else r.firstUpdatePass&&gh(C),sd(C,0)}}}finally{P(e)}}function Br(n,e){return n[e]}function vg(n,e){if(n.length<=ie)return;let t=ie+e,i=n[t],r=i?i[Ot]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[ot];_m(o,r),Wt.delete(i),r.detachedLeaveAnimationFns=void 0}}function yg(n,e){if(n.length<=ie)return;let t=ie+e,i=n[t],r=i?i[Ot]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function Eg(n,e){return pi(n,e)}function Cg(n,e){return od(n,e)}function ca(n,e){return ni(n,e)}function A(n,e,t){let i=U(),r=yt();if(Qe(i,r,e)){let o=Ee(),s=gr();Hm(s,i,n,e,i[X],t)}return A}function ua(n,e,t,i,r){Aa(e,n,t,r?"class":"style",i)}function m(n,e,t,i){let r=U(),o=r[k],s=n+fe,a=o.firstCreatePass?pd(s,r,2,e,zu,_s(),t,i):o.data[s];if(Wu(a,r,n,e,Ld),ti(a)){let l=r[k];Ta(l,r,a),Iu(l,a,r)}return i!=null&&Yr(r,a),m}function h(){let n=Ee(),e=Ae(),t=Qu(e);return n.firstCreatePass&&md(n,t),Ds(t)&&bs(),Cs(),t.classesWithoutHost!=null&&Dp(t)&&ua(n,t,U(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&bp(t)&&ua(n,t,U(),t.stylesWithoutHost,!1),h}function se(n,e,t,i){return m(n,e,t,i),h(),se}function E(n,e,t,i){let r=U(),o=r[k],s=n+fe,a=o.firstCreatePass?Th(s,o,2,e,t,i):o.data[s];return Wu(a,r,n,e,Ld),i!=null&&Yr(r,a),E}function v(){let n=Ae(),e=Qu(n);return Ds(e)&&bs(),Cs(),v}function ee(n,e,t,i){return E(n,e,t,i),v(),ee}var Ld=(n,e,t,i,r)=>(yr(!0),Tu(e[X],i,vc()));function j(){return U()}function O(n,e,t){let i=U(),r=yt();if(Qe(i,r,e)){let o=Ee(),s=gr();qu(s,i,n,e,i[X],t)}return O}var bi="en-US";var _g=bi;function Vd(n){typeof n=="string"&&(_g=n.toLowerCase().replace(/_/g,"-"))}function w(n,e,t){let i=U(),r=Ee(),o=Ae();return Dg(r,i,i[X],o,n,e,t),w}function B(n,e,t){let i=U(),r=Ee(),o=Ae();return(o.type&3||t)&&vd(o,r,i,t,i[X],n,e,wr(o,i,e)),B}function Dg(n,e,t,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=wr(i,e,o),vd(i,n,e,s,t,r,o,l)&&(a=!1)),a){let u=i.outputs?.[r],d=i.hostDirectiveOutputs?.[r];if(d&&d.length)for(let g=0;g<d.length;g+=2){let C=d[g],b=d[g+1];l??=wr(i,e,o),Hc(i,e,C,b,r,l)}if(u&&u.length)for(let g of u)l??=wr(i,e,o),Hc(i,e,g,r,r,l)}}function y(n=1){return gc(n)}function me(n,e,t,i){og(n,tg(e,t,i))}function Ne(n=1){pr(fc()+n)}function Cr(n,e){return n<<17|e<<2}function Yt(n){return n>>17&32767}function bg(n){return(n&2)==2}function Ig(n,e){return n&131071|e<<17}function da(n){return n|2}function bn(n){return(n&131068)>>2}function Os(n,e){return n&-131069|e<<2}function wg(n){return(n&1)===1}function fa(n){return n|1}function xg(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Yt(s),l=bn(s);n[i]=t;let u=!1,d;if(Array.isArray(t)){let g=t;d=g[1],(d===null||fn(g,d)>0)&&(u=!0)}else d=t;if(r)if(l!==0){let C=Yt(n[a+1]);n[i+1]=Cr(C,a),C!==0&&(n[C+1]=Os(n[C+1],i)),n[a+1]=Ig(n[a+1],i)}else n[i+1]=Cr(a,0),a!==0&&(n[a+1]=Os(n[a+1],i)),a=i;else n[i+1]=Cr(l,0),a===0?a=i:n[l+1]=Os(n[l+1],i),l=i;u&&(n[i+1]=da(n[i+1])),Wc(n,d,i,!0),Wc(n,d,i,!1),Mg(e,d,n,i,o),s=Cr(a,l),o?e.classBindings=s:e.styleBindings=s}function Mg(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&fn(o,e)>=0&&(t[i+1]=fa(t[i+1]))}function Wc(n,e,t,i){let r=n[t+1],o=e===null,s=i?Yt(r):bn(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];Sg(l,e)&&(a=!0,n[s+1]=i?fa(u):da(u)),s=i?Yt(u):bn(u)}a&&(n[t+1]=i?da(r):fa(r))}function Sg(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?fn(n,e)>=0:!1}var We={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Tg(n){return n.substring(We.key,We.keyEnd)}function Ag(n){return Ng(n),Bd(n,jd(n,0,We.textEnd))}function Bd(n,e){let t=We.textEnd;return t===e?-1:(e=We.keyEnd=Rg(n,We.key=e,t),jd(n,e,t))}function Ng(n){We.key=0,We.keyEnd=0,We.value=0,We.valueEnd=0,We.textEnd=n.length}function jd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Rg(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Re(n,e,t){return Hd(n,e,t,!1),Re}function te(n,e){return Hd(n,e,null,!0),te}function p(n){Pg(jg,kg,n,!0)}function kg(n,e){for(let t=Ag(e);t>=0;t=Bd(e,t))rr(n,Tg(e),!0)}function Hd(n,e,t,i){let r=U(),o=Ee(),s=dr(2);if(o.firstUpdatePass&&$d(o,n,s,i),e!==De&&Qe(r,s,e)){let a=o.data[et()];Gd(o,a,r,r[X],n,r[s+1]=Ug(e,t),i,s)}}function Pg(n,e,t,i){let r=Ee(),o=dr(2);r.firstUpdatePass&&$d(r,null,o,i);let s=U();if(t!==De&&Qe(s,o,t)){let a=r.data[et()];if(qd(a,i)&&!Ud(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Ji(l,t||"")),ua(r,a,s,t,i)}else Hg(r,a,s,s[X],s[o+1],s[o+1]=Bg(n,e,t),i,o)}}function Ud(n,e){return e>=n.expandoStartIndex}function $d(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[et()],s=Ud(n,t);qd(o,i)&&e===null&&!s&&(e=!1),e=Fg(r,o,e,i),xg(r,o,e,t,s,i)}}function Fg(n,e,t,i){let r=dc(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Ls(null,n,e,t,i),t=gi(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=Ls(r,n,e,t,i),o===null){let l=Og(n,e,i);l!==void 0&&Array.isArray(l)&&(l=Ls(null,n,e,l[1],i),l=gi(l,e.attrs,i),Lg(n,e,i,l))}else o=Vg(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function Og(n,e,t){let i=t?e.classBindings:e.styleBindings;if(bn(i)!==0)return n[Yt(i)]}function Lg(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Yt(r)]=i}function Vg(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=gi(i,s,t)}return gi(i,e.attrs,t)}function Ls(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=gi(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function gi(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),rr(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Bg(n,e,t){if(t==null||t==="")return _e;let i=[],r=zr(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function jg(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&rr(n,i,t)}function Hg(n,e,t,i,r,o,s,a){r===De&&(r=_e);let l=0,u=0,d=0<r.length?r[0]:null,g=0<o.length?o[0]:null;for(;d!==null||g!==null;){let C=l<r.length?r[l+1]:void 0,b=u<o.length?o[u+1]:void 0,R=null,G;d===g?(l+=2,u+=2,C!==b&&(R=g,G=b)):g===null||d!==null&&d<g?(l+=2,R=d):(u+=2,R=g,G=b),R!==null&&Gd(n,e,t,i,R,G,s,a),d=l<r.length?r[l]:null,g=u<o.length?o[u]:null}}function Gd(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],d=wg(u)?Qc(l,e,t,r,bn(u),s):void 0;if(!jr(d)){jr(o)||bg(u)&&(o=Qc(l,null,t,r,a,s));let g=ms(et(),t);Om(i,s,g,r,o)}}function Qc(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],u=Array.isArray(l),d=u?l[1]:l,g=d===null,C=t[r+1];C===De&&(C=g?_e:void 0);let b=g?or(C,i):d===i?C:void 0;if(u&&!jr(b)&&(b=or(l,i)),jr(b)&&(a=b,s))return a;let R=n[r+1];r=s?Yt(R):bn(R)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=or(l,i))}return a}function jr(n){return n!==void 0}function Ug(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=pt(zr(n)))),n}function qd(n,e){return(n.flags&(e?8:16))!==0}function f(n,e=""){let t=U(),i=Ee(),r=n+fe,o=i.firstCreatePass?Ei(i,r,1,e,null):i.data[r],s=$g(i,t,o,e,n);t[r]=s,vr()&&Ma(i,t,s,o),vn(o,!1)}var $g=(n,e,t,i,r)=>(yr(!0),am(e[X],i));function Gg(n,e,t,i=""){return Qe(n,yt(),t)?e+ht(t)+i:De}function qg(n,e,t,i,r,o=""){let s=sc(),a=Rh(n,s,t,r);return dr(2),a?e+ht(t)+i+ht(r)+o:De}function q(n){return H("",n),q}function H(n,e,t){let i=U(),r=Gg(i,n,e,t);return r!==De&&zd(i,et(),r),H}function Tn(n,e,t,i,r){let o=U(),s=qg(o,n,e,t,i,r);return s!==De&&zd(o,et(),s),Tn}function zd(n,e,t){let i=ms(e,n);lm(n[X],i,t)}function io(n){return Qe(U(),yt(),n)?ht(n):De}function _t(n,e,t){let i=oc()+n,r=U();return r[i]===De?Ah(r,i,t?e.call(t):e()):Nh(r,i)}var zg=(()=>{class n{zone=T(pe);changeDetectionScheduler=T(Ye);applicationRef=T(_i);applicationErrorHandler=T(Ct);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wd({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new pe(N(S({},Qd()),{scheduleInRootZone:t})),[{provide:pe,useFactory:n},{provide:Rt,multi:!0,useFactory:()=>{let i=T(zg,{optional:!0});return()=>i.initialize()}},{provide:Rt,multi:!0,useFactory:()=>{let i=T(Wg);return()=>{i.initialize()}}},e===!0?{provide:As,useValue:!0}:[],{provide:Er,useValue:t??Ou},{provide:Ct,useFactory:()=>{let i=T(pe),r=T(Pe),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(Fe),o.handleError(s))})}}}]}function Qd(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Wg=(()=>{class n{subscription=new Ce;initialized=!1;zone=T(pe);pendingTasks=T(Gt);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ja=(()=>{class n{applicationErrorHandler=T(Ct);appRef=T(_i);taskService=T(Gt);ngZone=T(pe);zonelessEnabled=T(oi);tracing=T(yi,{optional:!0});disableScheduling=T(As,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(kr):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(T(Er,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ui||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Nc:Lu;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(kr+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Nc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ha(){return Kt("NgZoneless"),Yn([{provide:Ye,useExisting:ja},{provide:pe,useClass:ui},{provide:oi,useValue:!0},{provide:Er,useValue:!1},[]])}function Qg(){return typeof $localize<"u"&&$localize.locale||bi}var Ua=new $("",{providedIn:"root",factory:()=>T(Ua,{optional:!0,skipSelf:!0})||Qg()});var ro=class{destroyed=!1;listeners=null;errorHandler=T(Fe,{optional:!0});destroyRef=T($t);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new L(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(Wn(953,!1));return}if(this.listeners===null)return;let t=P(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{P(t)}}};function Z(n,e){return Hn(n,e?.equal)}var $a=class{[ge];constructor(e){this[ge]=e}destroy(){this[ge].destroy()}};function ce(n,e){let t=e?.injector??T(rt),i=e?.manualCleanup!==!0?t.get($t):null,r,o=t.get(ri,null,{optional:!0}),s=t.get(Ye);return o!==null?(r=Kg(o.view,s,n),i instanceof zn&&i._lView===o.view&&(i=null)):r=Jg(n,t.get(si),s),r.injector=t,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new $a(r)}var Zd=N(S({},Al),{cleanupFns:void 0,zone:null,onDestroyFn:qt,run(){let n=yn(!1);try{Nl(this)}finally{yn(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=P(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],P(n)}}}),Zg=N(S({},Zd),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){It(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Yg=N(S({},Zd),{consumerMarkedDirty(){this.view[F]|=8192,Ht(this.view),this.notifier.notify(13)},destroy(){It(this),this.onDestroyFn(),this.cleanup(),this.view[st]?.delete(this)}});function Kg(n,e,t){let i=Object.create(Yg);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=Yd(i,t),n[st]??=new Set,n[st].add(i),i.consumerMarkedDirty(i),i}function Jg(n,e,t){let i=Object.create(Zg);return i.fn=Yd(i,n),i.scheduler=e,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function Yd(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var tf=Symbol("InputSignalNode#UNSET"),l0=N(S({},Hi),{transformFn:void 0,applyValueToInputSignal(n,e){on(n,e)}});function nf(n,e){let t=Object.create(l0);t.value=n,t.transformFn=e?.transform;function i(){if(en(t),t.value===tf){let r=null;throw new L(-950,r)}return t.value}return i[ge]=t,i}var c0=new $("");c0.__NG_ELEMENT_ID__=n=>{let e=Ae();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new L(204,!1)};function we(n){return new ro}function Kd(n,e){return nf(n,e)}function u0(n){return nf(tf,n)}var ne=(Kd.required=u0,Kd);function Jd(n,e){return xd(e)}function d0(n,e){return Md(e)}var ve=(Jd.required=d0,Jd);var Ga=new $(""),f0=new $("");function Ii(n){return!n.moduleRef}function p0(n){let e=Ii(n)?n.r3Injector:n.moduleRef.injector,t=e.get(pe);return t.run(()=>{Ii(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Ct),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),Ii(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Ga);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ga);s.add(o),n.moduleRef.onDestroy(()=>{li(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return h0(i,t,()=>{let o=e.get(Gt),s=o.add(),a=e.get(Va);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(Ua,bi);if(Vd(l||bi),!e.get(f0,!0))return Ii(n)?e.get(_i):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ii(n)){let d=e.get(_i);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return m0?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var m0;function h0(n,e,t){try{let i=t();return La(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n(i)),i}}var oo=null;function g0(n=[],e){return rt.create({name:e,providers:[{provide:Kn,useValue:"platform"},{provide:Ga,useValue:new Set([()=>oo=null])},...n]})}function v0(n=[]){if(oo)return oo;let e=g0(n);return oo=e,Fd(),y0(e),e}function y0(n){let e=n.get(Gr,null);sr(n,()=>{e?.forEach(t=>t())})}var qa=class{constructor(){}supports(e){return Pa(e)}create(e){return new za(e)}},E0=(n,e)=>e,za=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||E0}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<Xd(i,r,o)?t:i,a=Xd(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let u=a-r,d=l-r;if(u!=d){for(let C=0;C<u;C++){let b=C<o.length?o[C]:o[C]=0,R=b+C;d<=R&&R<u&&(o[C]=b+1)}let g=s.previousIndex;o[g]=d-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Pa(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,hd(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Wa(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new so),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new so),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wa=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Qa=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},so=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Qa,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Xd(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function ef(){return new Za([new qa])}var Za=(()=>{class n{factories;static \u0275prov=Y({token:n,providedIn:"root",factory:ef});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let i=T(n,{optional:!0,skipSelf:!0});return n.create(t,i||ef())}}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new L(901,!1)}}return n})();function rf(n){let{rootComponent:e,appProviders:t,platformProviders:i,platformRef:r}=n;Q(8);try{let o=r?.injector??v0(i),s=[Wd({}),{provide:Ye,useExisting:ja},Cc,...t||[]],a=new hi({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return p0({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Q(9)}}var of=null;function xi(){return of}function Ya(n){of??=n}var wi=class{};var ao=class{$implicit;ngForOf;index;count;constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},lo=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new ao(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),sf(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);sf(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(Mn(Sn),Mn(Qt),Mn(Za))};static \u0275dir=Fa({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function sf(n,e){n.context.$implicit=e.item}var he=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=to({type:n});static \u0275inj=Qn({})}return n})();function Ka(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Mi=class{};var af="browser";var Si=class{_doc;constructor(e){this._doc=e}manager},co=(()=>{class n extends Si{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(z(qe))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),fo=new $(""),nl=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(s=>{s.manager=this});let r=t.filter(s=>!(s instanceof co));this._plugins=r.slice().reverse();let o=t.find(s=>s instanceof co);o&&this._plugins.push(o)}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new L(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(z(fo),z(pe))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Ja="ng-app-id";function lf(n){for(let e of n)e.remove()}function cf(n,e){let t=e.createElement("style");return t.textContent=n,t}function _0(n,e,t,i){let r=n.head?.querySelectorAll(`style[${Ja}="${e}"],link[${Ja}="${e}"]`);if(r)for(let o of r)o.removeAttribute(Ja),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function el(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var il=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,_0(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,cf);i?.forEach(r=>this.addUsage(r,this.external,el))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(lf(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])lf(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,cf(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,el(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(z(qe),z($r),z(qr,8),z(vi))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Xa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rl=/%COMP%/g;var df="%COMP%",D0=`_nghost-${df}`,b0=`_ngcontent-${df}`,I0=!0,w0=new $("",{providedIn:"root",factory:()=>I0});function x0(n){return b0.replace(rl,n)}function M0(n){return D0.replace(rl,n)}function ff(n,e){return e.map(t=>t.replace(rl,n))}var ol=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,l=null,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Ti(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof uo?r.applyToHost(t):r instanceof Ai&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,g=this.platformIsServer,C=this.tracingService;switch(i.encapsulation){case ct.Emulated:o=new uo(l,u,i,this.appId,d,s,a,g,C);break;case ct.ShadowDom:return new tl(l,u,t,i,s,a,this.nonce,g,C);default:o=new Ai(l,u,i,d,s,a,g,C);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(z(nl),z(il),z($r),z(w0),z(qe),z(pe),z(qr),z(yi,8))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Ti=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Xa[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(uf(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(uf(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new L(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=Xa[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=Xa[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ut.DashCase|ut.Important)?e.style.setProperty(t,i,r&ut.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ut.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=xi().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function uf(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var tl=class extends Ti{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=ff(r.id,d);for(let C of d){let b=document.createElement("style");a&&b.setAttribute("nonce",a),b.textContent=C,this.shadowRoot.appendChild(b)}let g=r.getExternalStyles?.();if(g)for(let C of g){let b=el(C,o);a&&b.setAttribute("nonce",a),this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ai=class extends Ti{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=u?ff(u,d):d,this.styleUrls=i.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Wt.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},uo=class extends Ai{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,l,u){let d=r+"-"+i.id;super(e,t,i,o,s,a,l,u,d),this.contentAttr=x0(d),this.hostAttr=M0(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var po=class n extends wi{supportsDOMEvents=!0;static makeCurrent(){Ya(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=S0();return t==null?null:T0(t)}resetBaseElement(){Ni=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ka(document.cookie,e)}},Ni=null;function S0(){return Ni=Ni||document.head.querySelector("base"),Ni?Ni.getAttribute("href"):null}function T0(n){return new URL(n,document.baseURI).pathname}var A0=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),pf=["alt","control","meta","shift"],N0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R0={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},mf=(()=>{class n extends Si{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xi().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),pf.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=N0[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),pf.forEach(s=>{if(s!==r){let a=R0[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(z(qe))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function sl(n,e,t){let i=S({rootComponent:n,platformRef:t?.platformRef},k0(e));return rf(i)}function k0(n){return{appProviders:[...V0,...n?.providers??[]],platformProviders:L0}}function P0(){po.makeCurrent()}function F0(){return new Fe}function O0(){return ha(document),document}var L0=[{provide:vi,useValue:af},{provide:Gr,useValue:P0,multi:!0},{provide:qe,useFactory:O0}];var V0=[{provide:Kn,useValue:"root"},{provide:Fe,useFactory:F0},{provide:fo,useClass:co,multi:!0,deps:[qe]},{provide:fo,useClass:mf,multi:!0,deps:[qe]},ol,il,nl,{provide:Zt,useExisting:ol},{provide:Mi,useClass:A0},[]];function B0(n,e){if(n&1){let t=j();E(0,"div",8)(1,"input",16),B("input",function(r){let o=_(t).$index,s=y();return D(s.onEqBandChange(o,r))}),v(),E(2,"span",17),f(3),v()()}if(n&2){let t=e.$implicit,i=y();c(),Re("--thumb-bg","var(--color-"+i.theme().primary+"-400)")("--track-bg","var(--color-"+i.theme().primary+"-950)")("--thumb-border","var(--color-"+i.theme().primary+"-900)"),O("value",t.value),c(2),q(t.label)}}var An=class An{constructor(){this.eqSettings=ne.required();this.enhancements=ne.required();this.theme=ne.required();this.close=we();this.eqChange=we();this.enhancementsChange=we()}onEqBandChange(e,t){let i=parseInt(t.target.value,10),r=this.eqSettings().map((o,s)=>s===e?N(S({},o),{value:i}):o);this.eqChange.emit(r)}onEnhancementToggle(e,t){let i=t.target.checked,r=N(S({},this.enhancements()),{[e]:i});this.enhancementsChange.emit(r)}onClose(){this.close.emit()}};An.\u0275fac=function(t){return new(t||An)},An.\u0275cmp=de({type:An,selectors:[["app-eq-panel"]],inputs:{eqSettings:[1,"eqSettings"],enhancements:[1,"enhancements"],theme:[1,"theme"]},outputs:{close:"close",eqChange:"eqChange",enhancementsChange:"enhancementsChange"},decls:37,vars:16,consts:[[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-4","w-auto","max-w-md","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"mb-4"],[1,"text-sm","mb-2"],[1,"flex","justify-around","items-end","h-48","bg-black/50","p-4"],[1,"flex","flex-col","items-center"],[1,"space-y-2"],[1,"flex","items-center","justify-between","p-2","bg-black/50","cursor-pointer"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"change","checked"],[1,"w-9","h-5","border","flex","items-center","justify-center","text-xs","peer-checked:text-black"],[1,"peer-checked:hidden"],[1,"hidden","peer-checked:inline"],["type","range","min","0","max","100",1,"slider","vertical-slider",3,"input","value"],[1,"text-xs","text-green-400/60","mt-2"]],template:function(t,i){t&1&&(E(0,"div",0),B("click",function(){return i.onClose()}),v(),E(1,"div",1)(2,"div",2)(3,"h2",3),f(4,"[[ Equalizer & Enhancements ]]"),v(),E(5,"button",4),B("click",function(){return i.onClose()}),f(6," [X] "),v()(),E(7,"div",5)(8,"h3",6),f(9,"// Graphic EQ"),v(),E(10,"div",7),K(11,B0,4,8,"div",8,be),v()(),E(13,"div")(14,"h3",6),f(15,"// Enhancements"),v(),E(16,"div",9)(17,"label",10)(18,"span"),f(19,"Bass Boost"),v(),E(20,"div",11)(21,"input",12),B("change",function(o){return i.onEnhancementToggle("bassBoost",o)}),v(),E(22,"div",13)(23,"span",14),f(24,"[\xA0\xA0]"),v(),E(25,"span",15),f(26,"[X]"),v()()()(),E(27,"label",10)(28,"span"),f(29,"Surround Sound (UI Only)"),v(),E(30,"div",11)(31,"input",12),B("change",function(o){return i.onEnhancementToggle("surroundSound",o)}),v(),E(32,"div",13)(33,"span",14),f(34,"[\xA0\xA0]"),v(),E(35,"span",15),f(36,"[X]"),v()()()()()()()),t&2&&(c(),p("text-"+i.theme().primary+"-400"),c(4),p("hover:bg-"+i.theme().primary+"-400"),c(5),p("border border-"+i.theme().primary+"-400/30"),c(),J(i.eqSettings()),c(6),p("border border-"+i.theme().primary+"-400/30"),c(4),O("checked",i.enhancements().bassBoost),c(),p("peer-checked:bg-"+i.theme().primary+"-400"),c(5),p("border border-"+i.theme().primary+"-400/30"),c(4),O("checked",i.enhancements().surroundSound),c(),p("peer-checked:bg-"+i.theme().primary+"-400"))},dependencies:[he],styles:["input[type=range].vertical-slider[_ngcontent-%COMP%]{writing-mode:bt-lr;-webkit-appearance:slider-vertical;width:8px;height:120px;padding:0 5px;background-color:transparent}input[type=range].vertical-slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:var(--track-bg);width:4px;border-radius:0}input[type=range].vertical-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:8px;background:var(--thumb-bg);cursor:pointer;border:1px solid var(--thumb-border)}input[type=range].vertical-slider[_ngcontent-%COMP%]::-moz-range-track{background:var(--track-bg);width:4px;border-radius:0}input[type=range].vertical-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:8px;background:var(--thumb-bg);cursor:pointer;border:1px solid var(--thumb-border);border-radius:0}"]});var mo=An;var j0=["matrixCanvas"],Nn=class Nn{constructor(){this.canvasRef=ve.required("matrixCanvas");this.FRAME_RATE_INTERVAL=250}ngAfterViewInit(){let e=this.canvasRef().nativeElement,t=e.getContext("2d");if(!t){console.error("Could not get 2D context");return}this.ctx=t,e.width=window.innerWidth,e.height=window.innerHeight;let i="SmuveJeffPresents",r=16,o=e.width/r,s=[];for(let u=0;u<o;u++)s[u]=1;let a=0,l=u=>{if(u-a>this.FRAME_RATE_INTERVAL){this.ctx.fillStyle="rgba(0, 0, 0, 0.05)",this.ctx.fillRect(0,0,e.width,e.height),this.ctx.fillStyle="#0F0",this.ctx.font=r+"px monospace";for(let d=0;d<s.length;d++){let g=i.charAt(Math.floor(Math.random()*i.length));this.ctx.fillText(g,d*r,s[d]*r),s[d]*r>e.height&&Math.random()>.975&&(s[d]=0),s[d]++}a=u}this.animationFrameId=requestAnimationFrame(l)};this.animationFrameId=requestAnimationFrame(l)}ngOnDestroy(){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}};Nn.\u0275fac=function(t){return new(t||Nn)},Nn.\u0275cmp=de({type:Nn,selectors:[["app-matrix-background"]],viewQuery:function(t,i){t&1&&me(i.canvasRef,j0,5),t&2&&Ne()},decls:2,vars:0,consts:[["matrixCanvas",""],[1,"absolute","top-0","left-0","w-full","h-full"]],template:function(t,i){t&1&&ee(0,"canvas",1,0)},styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}"]});var ho=Nn;var Jt=class Jt{constructor(){this._apiKey=T(al);this._genAI=I(void 0);this._chatInstance=I(void 0);this._isAiAvailable=Z(()=>!!this._genAI())}get genAI(){return this._genAI()}get chatInstance(){return this._chatInstance()}get isAiAvailable(){return this._isAiAvailable()}getApiKey(){return this._apiKey}async initializeGenAI(){if(!this._apiKey||this._apiKey.length<30){console.error("AiService: AI features disabled. Invalid or missing API key injected via token."),this._genAI.set(void 0),this._chatInstance.set(void 0);return}try{let e=await import("./chunk-GUGQRGJ7.js"),t=new e.GoogleGenAI({apiKey:this._apiKey});this._genAI.set(t);let i=t.chats.create({model:"gemini-3-pro-preview",config:{systemInstruction:`You are S.M.U.V.E, an expert AI music manager toolkit. You specialize in genres such as Southern Rap, Hip-Hop, R&B, and Trap music, and possess advanced management and marketing skills. Provide concise, helpful, and culturally relevant responses tailored for independent music artists.

You can manage music, generate images/videos, analyze content, and search the web for up-to-date information.

Use COMMAND:::ACTION:::PARAMETER_KEY='value' format for app commands (e.g., COMMAND:::SET_THEME:::theme='blue'). Available commands:
- SET_THEME: Apply a visual theme (e.g., theme='blue').
- PLAY_TRACK: Play a track (e.g., title='My Song').
- PAUSE_TRACK: Pause current track.
- STOP_TRACK: Stop current track.
- LOAD_TRACK: (Requires more parameters like URL or search query, use cautiously).
- NEXT_TRACK: Play next track in playlist.
- PREVIOUS_TRACK: Play previous track in playlist.
- TOGGLE_LOOP: Toggle loop for current track.
- GENERATE_IMAGE: Create an image (e.g., prompt='album cover concept').
- GENERATE_VIDEO: Create a video (e.g., prompt='music video visualizer').
- ANALYZE_IMAGE: Describe an image (e.g., imageUrl='base64data').
- FIND_ON_MAP: Search for a location (e.g., query='recording studios in Atlanta').
- FIND_ARTISTS: Search for collaborators (e.g., location='Nashville', filter='producer').
- VIEW_ARTIST_PROFILE: Display an artist's detailed profile (e.g., name='BeatMaster Flex', genre='Hip-Hop', location='Atlanta').

When VIEW_ARTIST_PROFILE is used, expect a command containing an artist's name (and optional genre/location for disambiguation). Query your knowledge base (and implicitly, the MOCK_ARTISTS data provided in the app context) to provide an adaptive, detailed insight into their profile. This should include:
- Strengths (musicality, production, stage presence, lyrical ability etc.)
- Specific collaboration potential (e.g., "collaborate with a Memphis trap producer for a new single," "feature on an T_R&B singer's track").
- Career advice (e.g., "focus on building a strong presence on TikTok," "consider licensing your beats for video games").
- Marketing insights (e.g., "target college radio stations in the Southeast," "run Instagram ad campaigns geotargeted to your city").

If you need to search for up-to-date info, use the googleSearch tool. Adapt insights based on their genre, location, influences, and collaboration interests. Your responses should be direct and highly actionable, reflecting deep expertise in these specific music genres and industry practices.`}});this._chatInstance.set(i),console.log("AiService: GoogleGenAI client initialized and chat instance created.")}catch(e){console.error("AiService: Error initializing GoogleGenAI client:",e),this._genAI.set(void 0),this._chatInstance.set(void 0)}}};Jt.\u0275fac=function(t){return new(t||Jt)},Jt.\u0275prov=Y({token:Jt,factory:Jt.\u0275fac});var xe=Jt,hf=()=>Yn([{provide:xe,useClass:xe}]);var H0=(n,e)=>e.id,U0=(n,e)=>e.url;function $0(n,e){if(n&1&&(E(0,"div",2),f(1),v()),n&2){let t=y();c(),H(" ",t.errorMessage()," ")}}function G0(n,e){n&1&&(E(0,"div",3),f(1," AI services are disabled. Networking search features might be limited. "),v())}function q0(n,e){n&1&&(E(0,"span"),f(1,"[ SEARCHING... ]"),v())}function z0(n,e){n&1&&(E(0,"span"),f(1,"[ FIND ARTISTS ]"),v())}function W0(n,e){if(n&1){let t=j();E(0,"div",31),B("click",function(){let r=_(t).$implicit,o=y();return D(o.viewArtistDetail(r))}),ee(1,"img",32),E(2,"div",33)(3,"h4",34),f(4),v(),E(5,"p",35),f(6),v(),E(7,"p",36),f(8),v(),E(9,"p",36),f(10),v()(),Ut(),E(11,"svg",37),ee(12,"path",38),v()()}if(n&2){let t=e.$implicit,i=y();p("hover:bg-"+i.theme().blue+"-800/70"),c(),p("border-"+i.theme().neutral+"-600"),O("alt",io(t.name))("src",t.imageUrl,re),c(2),p("text-"+i.theme().blue+"-300"),c(),q(t.name),c(),p("text-"+i.theme().neutral+"-400"),c(),Tn("",t.genre," - ",t.location),c(2),H("",t.bio.substring(0,70),"..."),c(),p("text-"+i.theme().blue+"-500"),c(),H("Interest: ",t.collaborationInterest.join(", ")),c(),p("text-"+i.theme().blue+"-400")}}function Q0(n,e){if(n&1&&(E(0,"p",39),f(1,"No artists found. Adjust your search or clear filters."),v()),n&2){let t=y();p("text-"+t.theme().neutral+"-500")}}function Z0(n,e){if(n&1&&(E(0,"p",35)(1,"strong"),f(2,"Specialties:"),v(),f(3),v()),n&2){let t=y(2);p("text-"+t.theme().neutral+"-400"),c(3),H(" ",t.selectedArtistProfile().specialties.join(", "))}}function Y0(n,e){if(n&1&&(E(0,"p",35)(1,"strong"),f(2,"Target Audience:"),v(),f(3),v()),n&2){let t=y(2);p("text-"+t.theme().neutral+"-400"),c(3),H(" ",t.selectedArtistProfile().targetAudience)}}function K0(n,e){if(n&1&&(E(0,"p",35)(1,"strong"),f(2,"Career Goals:"),v(),f(3),v()),n&2){let t=y(2);p("text-"+t.theme().neutral+"-400"),c(3),H(" ",t.selectedArtistProfile().careerGoals)}}function J0(n,e){if(n&1&&(E(0,"a",55),f(1),v()),n&2){let t=e.$implicit,i=y(2);p("hover:text-"+i.theme().blue+"-300"),O("href",t.url,re),c(),Tn(" ",t.type.toUpperCase(),": ",t.url," ")}}function X0(n,e){if(n&1&&(E(0,"p",54),f(1,"No links available."),v()),n&2){let t=y(2);p("text-"+t.theme().neutral+"-500")}}function ev(n,e){if(n&1){let t=j();E(0,"div",40),B("click",function(){_(t);let r=y();return D(r.closeArtistDetailModal())}),v(),E(1,"div",41)(2,"div",42)(3,"h2",34),f(4),v(),E(5,"button",43),B("click",function(){_(t);let r=y();return D(r.closeArtistDetailModal())}),f(6," [X] "),v()(),E(7,"div",44),ee(8,"img",45),E(9,"div",46)(10,"p",35)(11,"strong"),f(12,"Genre:"),v(),f(13),v(),E(14,"p",35)(15,"strong"),f(16,"Location:"),v(),f(17),v(),E(18,"p",35)(19,"strong"),f(20,"Collaboration Interest:"),v(),f(21),v(),E(22,"p",35)(23,"strong"),f(24,"Influences:"),v(),f(25),v(),x(26,Z0,4,3,"p",47),x(27,Y0,4,3,"p",47),x(28,K0,4,3,"p",47),v()(),E(29,"div",48)(30,"p",49),f(31),v(),E(32,"h3",35),f(33,"// LINKS:"),v(),E(34,"div",50),K(35,J0,2,5,"a",51,U0,!1,X0,2,2,"p",52),v(),E(38,"h3",53),f(39,"// CONTACT:"),v(),E(40,"p",54),f(41),v()()()}if(n&2){let t=y();c(),p("text-"+t.theme().blue+"-400"),c(3),H("[[ ARTIST PROFILE: ",t.selectedArtistProfile().name," ]]"),c(),p("hover:bg-"+t.theme().blue+"-400"),c(3),p("border-"+t.theme().neutral+"-600"),O("alt",io(t.selectedArtistProfile().name))("src",t.selectedArtistProfile().imageUrl,re),c(2),p("text-"+t.theme().neutral+"-400"),c(3),Tn(" ",t.selectedArtistProfile().genre," (",t.selectedArtistProfile().genres.join(", "),")"),c(),p("text-"+t.theme().neutral+"-400"),c(3),H(" ",t.selectedArtistProfile().location),c(),p("text-"+t.theme().blue+"-500"),c(3),H(" ",t.selectedArtistProfile().collaborationInterest.join(", ")),c(),p("text-"+t.theme().neutral+"-500"),c(3),H(" ",t.selectedArtistProfile().influences.join(", ")),c(),M(t.selectedArtistProfile().specialties?26:-1),c(),M(t.selectedArtistProfile().targetAudience?27:-1),c(),M(t.selectedArtistProfile().careerGoals?28:-1),c(),p("border-"+t.theme().blue+"-500/30"),c(2),q(t.selectedArtistProfile().bio),c(),p("text-"+t.theme().blue+"-300"),c(3),J(t.selectedArtistProfile().links),c(3),p("text-"+t.theme().blue+"-300"),c(2),p("text-"+t.theme().neutral+"-400"),c(),q(t.selectedArtistProfile().contact)}}var nt=[{id:"flex101",name:"BeatMaster Flex",genre:"Hip-Hop Producer",location:"Brooklyn, NY",locationLatLon:{lat:40.6782,lon:-73.9442},bio:"Award-winning producer with a knack for soulful beats and hard-hitting drums. Always looking for fresh vocalists and lyricists to elevate tracks. Specializing in old-school boom-bap and modern trap sounds.",contact:"flexbeats@email.com",imageUrl:"https://picsum.photos/seed/flex/150/150",collaborationInterest:["Vocalist","Lyricist","Rapper","Mixing Engineer"],genres:["Hip-Hop","Boom-Bap","Trap","Southern Rap"],influences:["J Dilla","DJ Premier","Madlib","Metro Boomin"],links:[{type:"soundcloud",url:"https://soundcloud.com/beatmasterflex"}],specialties:["Sampling","Drum Programming","Arrangement"],targetAudience:"Underground Hip-Hop, Trap, and R&B fans",careerGoals:"Produce a platinum album, mentor new artists"},{id:"mae202",name:"Melody Mae",genre:"Indie Pop Vocalist",location:"Los Angeles, CA",locationLatLon:{lat:34.0522,lon:-118.2437},bio:"Ethereal vocals with a dreamy vibe. Seeking producers for new tracks and live musicians for touring. Inspired by nature and introspection.",contact:"melodymae@email.com",imageUrl:"https://picsum.photos/seed/mae/150/150",collaborationInterest:["Producer","Guitarist","Songwriter","Keyboardist"],genres:["Indie Pop","Dream Pop","Alternative","R&B"],influences:["Fiona Apple","Lana Del Rey","Mazzy Star","SZA"],links:[{type:"spotify",url:"https://open.spotify.com/artist/melodymae"},{type:"instagram",url:"https://instagram.com/melodymae"}],specialties:["Vocal Harmony","Lyric Writing","Live Performance"],targetAudience:"Indie Pop, Dream Pop, and soulful R&B listeners",careerGoals:"Release a critically acclaimed album, headline festivals"},{id:"sammy303",name:"Synthwave Sammy",genre:"Electronic / Synthwave",location:"Miami, FL",locationLatLon:{lat:25.7617,lon:-80.1918},bio:"Master of retro synths and driving basslines, creating nostalgic soundscapes. Open to scoring short films, collaborating with vocalists, or DJing events.",contact:"sammywave@email.com",imageUrl:"https://picsum.photos/seed/sammy/150/150",collaborationInterest:["Vocalist","Filmmaker","DJ","Sound Designer"],genres:["Synthwave","Electronic","Vaporwave"],influences:["Com Truise","Kavinsky","Daft Punk"],links:[{type:"soundcloud",url:"https://soundcloud.com/synthwavesammy"},{type:"website",url:"https://synthwavesammy.com"}]},{id:"jake404",name:"Jazz Fusion Jake",genre:"Jazz / Fusion Guitarist",location:"New Orleans, LA",locationLatLon:{lat:29.9511,lon:-90.0715},bio:"Complex harmonies and intricate solos define my style. Looking for drummers, bassists, and horn players for a new progressive jazz project.",contact:"jakejazz@email.com",imageUrl:"https://picsum.photos/seed/jake/150/150",collaborationInterest:["Drummer","Bassist","Saxophonist","Keyboardist"],genres:["Jazz Fusion","Progressive Jazz","Funk"],influences:["Pat Metheny","John Scofield","Frank Gambale"],links:[{type:"spotify",url:"https://open.spotify.com/artist/jazzfusionjake"}]},{id:"rina505",name:"Rhythm Queen Rina",genre:"Afrobeat Drummer",location:"London, UK",locationLatLon:{lat:51.5074,lon:.1278},bio:"High-energy percussionist bringing vibrant global rhythms to any track. Collaborations in world music, hip-hop, or pop welcome. Specializing in intricate polyrhythms.",contact:"rina.drums@email.com",imageUrl:"https://picsum.photos/seed/rina/150/150",collaborationInterest:["Producer","Bassist","Vocalist","Guitarist"],genres:["Afrobeat","World Music","Funk","Hip-Hop"],influences:["Tony Allen","Fela Kuti","Ginger Baker"],links:[{type:"instagram",url:"https://instagram.com/rhythmqueenrina"}]},{id:"keys606",name:"Electro Keys Eva",genre:"Electronic Keyboardist",location:"Berlin, DE",locationLatLon:{lat:52.52,lon:13.405},bio:"Versatile keyboardist exploring ambient, techno, and house. Seeking DJs, producers, and experimental vocalists for live and studio projects.",contact:"eva.keys@email.com",imageUrl:"https://picsum.photos/seed/eva/150/150",collaborationInterest:["Producer","DJ","Vocalist","Sound Designer"],genres:["Techno","House","Ambient","Electronic"],influences:["Kraftwerk","Aphex Twin","Four Tet"],links:[{type:"soundcloud",url:"https://soundcloud.com/electrokeys"}]},{id:"rhyme707",name:"Poetic Rhyme Rex",genre:"Spoken Word / Hip-Hop",location:"Chicago, IL",locationLatLon:{lat:41.8781,lon:-87.6298},bio:"Lyricist and spoken word artist with a powerful message. Collaborations with producers across genres, from jazz to trap.",contact:"rexrhymes@email.com",imageUrl:"https://picsum.photos/seed/rex/150/150",collaborationInterest:["Producer","Vocalist","Jazz Musician"],genres:["Spoken Word","Hip-Hop","Poetry","Trap"],influences:["Gil Scott-Heron","Kendrick Lamar","Saul Williams","J. Cole"],links:[{type:"instagram",url:"https://instagram.com/poeticrex"}],specialties:["Freestyle","Storytelling","Performance Art"],targetAudience:"Conscious Hip-Hop and Spoken Word enthusiasts",careerGoals:"Release a conceptual album, perform at major poetry slams"},{id:"south808",name:"Southern Siren Sia",genre:"R&B / Trap Soul Vocalist",location:"Atlanta, GA",locationLatLon:{lat:33.7488,lon:-84.3877},bio:"Sultry vocals blending R&B smoothness with trap grit. Collaborating with producers for new EPs and visual artists for music videos. Deeply inspired by Atlanta's vibrant music scene.",contact:"siasounds@email.com",imageUrl:"https://picsum.photos/seed/sia/150/150",collaborationInterest:["Producer","Beatmaker","Video Director","Songwriter"],genres:["R&B","Trap Soul","Neo-Soul","Southern Rap"],influences:["Summer Walker","SZA","Future","Jhen\xE9 Aiko"],links:[{type:"instagram",url:"https://instagram.com/southernsirensia"},{type:"spotify",url:"https://open.spotify.com/artist/southernsirensia"}],specialties:["Vocal production","Ad-libs","Melody creation"],targetAudience:"R&B and Trap music listeners, especially in the South",careerGoals:"Build a strong brand, perform at A3C, release a full-length album"},{id:"beatrix909",name:"Beatrix B",genre:"Trap Producer",location:"Houston, TX",locationLatLon:{lat:29.7604,lon:-95.3698},bio:"Hard-hitting trap beats with cinematic undertones. Always on the lookout for new vocalists, especially those in Southern Rap and R&B, for joint projects. Ready to drop bangers.",contact:"beatrixb@email.com",imageUrl:"https://picsum.photos/seed/beatrix/150/150",collaborationInterest:["Vocalist","Rapper","Mixing Engineer","Songwriter"],genres:["Trap","Southern Rap","Hip-Hop"],influences:["Zaytoven","Cardo","Tay Keith"],links:[{type:"soundcloud",url:"https://soundcloud.com/beatrixb"}],specialties:["Beatmaking","Sound Design","Mixing"],targetAudience:"Trap and Southern Hip-Hop fans",careerGoals:"Secure major placements, build a production team"},{id:"soulful1010",name:"Soulful Sam",genre:"Neo-Soul / R&B Producer",location:"New Orleans, LA",locationLatLon:{lat:29.9511,lon:-90.0715},bio:"Crafting lush, soulful soundscapes with a modern twist. Seeking R&B and Neo-Soul vocalists, instrumentalists (especially horns and strings), for studio and live collaborations.",contact:"soulfulsam@email.com",imageUrl:"https://picsum.photos/seed/sam/150/150",collaborationInterest:["Vocalist","Instrumentalist","Songwriter","Mixing Engineer"],genres:["Neo-Soul","R&B","Jazz","Funk"],influences:["D'Angelo","Erykah Badu","Robert Glasper"],links:[{type:"spotify",url:"https://open.spotify.com/artist/soulfulsam"}],specialties:["Arrangement","Keys","Live instrumentation recording"],targetAudience:"Neo-Soul, R&B, and Jazz fusion listeners",careerGoals:"Release collaborative EPs, perform at jazz/soul festivals"}],Rn=class Rn{constructor(){this.theme=ne.required();this.initialSearchQuery=ne(null);this.searchLocation=I("");this.collaborationFilter=I("");this.displayedArtists=I([]);this.isLoading=I(!1);this.errorMessage=I(null);this.selectedArtistProfile=I(null);this.showArtistDetailModal=I(!1);this.aiService=T(xe);this.isAiAvailable=Z(()=>this.aiService.isAiAvailable);this.artistProfileSelected=we();ce(()=>{let e=this.initialSearchQuery();e&&e!==this.searchLocation()&&(this.searchLocation.set(e),this.searchArtists())}),this.displayedArtists.set(nt),ce(()=>{this.selectedArtistProfile()?this.showArtistDetailModal.set(!0):this.showArtistDetailModal.set(!1)})}onSearchLocationInput(e){this.searchLocation.set(e.target.value)}onCollaborationFilterInput(e){this.collaborationFilter.set(e.target.value)}async searchArtists(){let e=this.searchLocation().trim(),t=this.collaborationFilter().trim();if(this.isLoading.set(!0),this.errorMessage.set(null),this.displayedArtists.set([]),!this.aiService.isAiAvailable){console.warn("AI services unavailable for networking search enhancement. Falling back to basic filter.");let i=nt.filter(r=>{let o=!e||r.location.toLowerCase().includes(e.toLowerCase()),s=!t||r.collaborationInterest.some(a=>a.toLowerCase().includes(t.toLowerCase()));return o&&s});this.displayedArtists.set(i),i.length===0&&this.errorMessage.set("No artists found matching your criteria with basic filter."),this.isLoading.set(!1);return}try{let i=`You are an expert music industry scout specializing in Southern Rap, Hip-Hop, R&B, and Trap music genres, with advanced management and marketing skills. Given the following artists' profiles (as JSON array):

${JSON.stringify(nt)}

Find artists who match the location "${e}" (if provided, prioritize this) and are interested in collaborations that include "${t}" (if provided, prioritize this). Consider their primary genre, influences, and bio for a holistic match. Provide the IDs of the top matching artists in a JSON array: {"matchingArtistIds": ["id1", "id2"]}. If no artists match, return an empty array.`,r=await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:"OBJECT",properties:{matchingArtistIds:{type:"ARRAY",items:{type:"STRING"}}},propertyOrdering:["matchingArtistIds"]}}}),s=JSON.parse(r.text).matchingArtistIds||[],a=nt.filter(l=>s.includes(l.id));this.displayedArtists.set(a),a.length===0&&this.errorMessage.set("AI found no artists matching your criteria. Try different terms.")}catch(i){console.error("AI failed to enhance networking search:",i),this.errorMessage.set("AI search enhancement failed. Falling back to basic filter.");let r=nt.filter(o=>{let s=!e||o.location.toLowerCase().includes(e.toLowerCase()),a=!t||o.collaborationInterest.some(l=>l.toLowerCase().includes(t.toLowerCase()));return s&&a});this.displayedArtists.set(r),r.length===0&&this.errorMessage.set("No artists found matching your criteria with basic filter.")}finally{this.isLoading.set(!1)}}clearSearch(){this.searchLocation.set(""),this.collaborationFilter.set(""),this.displayedArtists.set(nt),this.errorMessage.set(null)}viewArtistDetail(e){this.selectedArtistProfile.set(e),this.artistProfileSelected.emit(e)}closeArtistDetailModal(){this.selectedArtistProfile.set(null)}};Rn.\u0275fac=function(t){return new(t||Rn)},Rn.\u0275cmp=de({type:Rn,selectors:[["app-networking"]],inputs:{theme:[1,"theme"],initialSearchQuery:[1,"initialSearchQuery"]},outputs:{artistProfileSelected:"artistProfileSelected"},decls:55,vars:40,consts:[[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"bg-red-900/50","text-red-300","p-3","text-center","border","border-red-500","animate-fade-in"],[1,"bg-amber-900/50","text-amber-300","p-3","text-center","border","border-amber-500","animate-fade-in"],[1,"p-4","flex","flex-col","sm:flex-row","gap-4"],[1,"flex-grow","flex","flex-col","gap-2"],["for","location-search",1,"block","text-sm"],["id","location-search","type","text","placeholder","e.g., 'Los Angeles, CA' or 'London, UK'",1,"w-full","p-2","text-sm","focus:ring-500",3,"input","value","disabled"],["for","collaboration-filter",1,"block","text-sm"],["id","collaboration-filter",1,"w-full","p-2","text-sm","focus:ring-500",3,"change","value","disabled"],["value",""],["value","Vocalist"],["value","Producer"],["value","Lyricist"],["value","Guitarist"],["value","Drummer"],["value","Bassist"],["value","DJ"],["value","Songwriter"],["value","Filmmaker"],["value","Mixing Engineer"],["value","Keyboardist"],["value","Saxophonist"],["value","Sound Designer"],[1,"flex","gap-2","justify-center"],[1,"flex-grow","px-4","py-2","border-2","text-lg","max-w-sm",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg","max-w-sm",3,"click"],[1,"text-base","mt-4"],[1,"flex-grow","overflow-y-auto","pr-2","space-y-4","p-2"],[1,"flex","items-center","gap-4","p-4","cursor-pointer","transition-colors","duration-200",3,"class"],[1,"text-center","text-sm","p-4",3,"class"],[1,"flex","items-center","gap-4","p-4","cursor-pointer","transition-colors","duration-200",3,"click"],[1,"w-20","h-20","object-cover","border",3,"src","alt"],[1,"flex-grow"],[1,"text-lg"],[1,"text-sm"],[1,"text-xs","mt-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"text-center","text-sm","p-4"],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-lg","flex","flex-col","z-50","animate-slide-up","font-mono","max-h-[90vh]","overflow-hidden"],[1,"flex","justify-between","items-center","mb-4"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"flex","flex-col","sm:flex-row","gap-4","mb-4","flex-shrink-0"],[1,"w-32","h-32","object-cover","border","flex-shrink-0",3,"src","alt"],[1,"flex-grow","space-y-1"],[1,"text-sm",3,"class"],[1,"flex-grow","overflow-y-auto","pr-2","text-sm","border-t","pt-4"],[1,"mb-4"],[1,"space-y-1"],["target","_blank","rel","noopener noreferrer",1,"block","text-xs","underline",3,"href","class"],[1,"text-xs",3,"class"],[1,"text-sm","mt-4"],[1,"text-xs"],["target","_blank","rel","noopener noreferrer",1,"block","text-xs","underline",3,"href"]],template:function(t,i){t&1&&(E(0,"div",0)(1,"h2",1),f(2,"[ AURA NETWORKING HUB ]"),v(),x(3,$0,2,1,"div",2),x(4,G0,2,0,"div",3),E(5,"div",4)(6,"div",5)(7,"label",6),f(8,"SEARCH LOCATION:"),v(),E(9,"input",7),B("input",function(o){return i.onSearchLocationInput(o)}),v()(),E(10,"div",5)(11,"label",8),f(12,"COLLABORATION INTEREST:"),v(),E(13,"select",9),B("change",function(o){return i.onCollaborationFilterInput(o)}),E(14,"option",10),f(15,"Any"),v(),E(16,"option",11),f(17,"Vocalist"),v(),E(18,"option",12),f(19,"Producer"),v(),E(20,"option",13),f(21,"Lyricist"),v(),E(22,"option",14),f(23,"Guitarist"),v(),E(24,"option",15),f(25,"Drummer"),v(),E(26,"option",16),f(27,"Bassist"),v(),E(28,"option",17),f(29,"DJ"),v(),E(30,"option",18),f(31,"Songwriter"),v(),E(32,"option",19),f(33,"Filmmaker"),v(),E(34,"option",20),f(35,"Mixing Engineer"),v(),E(36,"option",21),f(37,"Keyboardist"),v(),E(38,"option",22),f(39,"Saxophonist"),v(),E(40,"option",23),f(41,"Sound Designer"),v()()()(),E(42,"div",24)(43,"button",25),B("click",function(){return i.searchArtists()}),x(44,q0,2,0,"span")(45,z0,2,0,"span"),v(),E(46,"button",26),B("click",function(){return i.clearSearch()}),f(47," [ CLEAR ] "),v()(),E(48,"h3",27),f(49,"// COLLABORATORS FOUND:"),v(),E(50,"div",28),K(51,W0,13,20,"div",29,H0,!1,Q0,2,2,"p",30),v()(),x(54,ev,42,37)),t&2&&(p("border border-"+i.theme().blue+"-500/30"),c(),p("text-"+i.theme().blue+"-400"),c(2),M(i.errorMessage()?3:-1),c(),M(i.isAiAvailable()?-1:4),c(),p("border border-"+i.theme().blue+"-500/20"),c(2),p("text-"+i.theme().blue+"-300"),c(2),p("focus:border-"+i.theme().blue+"-500"),O("value",i.searchLocation())("disabled",i.isLoading()),c(2),p("text-"+i.theme().blue+"-300"),c(2),p("focus:border-"+i.theme().blue+"-500"),O("value",i.collaborationFilter())("disabled",i.isLoading()),c(30),p("hover:text-black"),O("disabled",i.isLoading()),c(),M(i.isLoading()?44:45),c(2),p("hover:text-black"),c(2),p("text-"+i.theme().blue+"-300"),c(2),p("border border-"+i.theme().blue+"-500/20"),Re("--chat-history-track-bg","var(--color-"+i.theme().blue+"-950)")("--chat-history-thumb-bg","var(--color-"+i.theme().blue+"-400)")("--chat-history-thumb-border","var(--color-"+i.theme().blue+"-900)")("--chat-history-thumb-hover-bg","var(--color-"+i.theme().blue+"-300)"),c(),J(i.displayedArtists()),c(3),M(i.selectedArtistProfile()&&i.showArtistDetailModal()?54:-1))},dependencies:[he],styles:["[_nghost-%COMP%]{display:contents}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--chat-history-track-bg)}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--chat-history-thumb-bg);border:1px solid var(--chat-history-thumb-border)}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--chat-history-thumb-hover-bg)}"],changeDetection:0});var go=Rn;var tv=["chatHistory"],nv=(n,e)=>e.uri;function iv(n,e){if(n&1&&(E(0,"a",26),f(1),v()),n&2){let t=e.$implicit,i=y(3);p("hover:text-"+i.theme().primary+"-300"),O("href",t.uri,re),c(),H(" ",t.title||t.uri," ")}}function rv(n,e){if(n&1&&(E(0,"div",23)(1,"p",24),f(2,"Sources:"),v(),K(3,iv,2,4,"a",25,nv),v()),n&2){let t=y().$implicit,i=y();p("border-"+i.theme().primary+"-500/30"),c(3),J(t.urls)}}function ov(n,e){if(n&1&&(E(0,"div",27),ee(1,"img",28),E(2,"p",29),f(3,"Image analyzed:"),v()()),n&2){let t=y().$implicit,i=y();p("border-"+i.theme().primary+"-500/30"),c(),O("src",t.imageUrl,re),c(),p("text-"+i.theme().primary+"-500")}}function sv(n,e){if(n&1&&(E(0,"div")(1,"div",19)(2,"span",20),f(3),v(),E(4,"span"),f(5),v(),x(6,rv,5,2,"div",21),x(7,ov,4,5,"div",22),v()()),n&2){let t=e.$implicit,i=y();te("text-right",t.role==="user")("text-left",t.role==="model"),c(),p(t.role==="user"?"bg-"+i.theme().primary+"-700/50":"bg-"+i.theme().primary+"-900/50"),c(),p("text-"+i.theme().primary+"-300"),c(),q(t.role==="user"?"YOU:":"S.M.U.V.E:"),c(2),q(t.content),c(),M(t.urls&&t.urls.length>0?6:-1),c(),M(t.imageUrl?7:-1)}}function av(n,e){if(n&1&&(E(0,"div",8)(1,"div",19)(2,"span",20),f(3,"S.M.U.V.E:"),v(),E(4,"span"),f(5,"Thinking..."),v()()()),n&2){let t=y();c(),p("bg-"+t.theme().primary+"-900/50"),c(),p("text-"+t.theme().primary+"-300")}}function lv(n,e){if(n&1&&(E(0,"div",8)(1,"div",30)(2,"span",20),f(3,"S.M.U.V.E:"),v(),E(4,"span"),f(5,"Speaking..."),v()()()),n&2){let t=y();c(),p("bg-"+t.theme().primary+"-900/50"),c(),p("text-"+t.theme().primary+"-300")}}function cv(n,e){if(n&1&&(E(0,"div",31),f(1," Hi! I'm S.M.U.V.E. How can I help you with your music today? "),v()),n&2){let t=y();p("text-"+t.theme().primary+"-400/70")}}function uv(n,e){n&1&&(E(0,"div",10),f(1," AI features are currently disabled. Please check the API key configuration. "),v())}function dv(n,e){n&1&&(E(0,"span"),f(1,"[ DEEP QUERY ACTIVE (GEMINI 3 PRO) ]"),v())}function fv(n,e){n&1&&(E(0,"span"),f(1,"[ DEEP QUERY (GEMINI 3 PRO) ]"),v())}function pv(n,e){n&1&&(Ut(),E(0,"svg",15),ee(1,"path",32)(2,"path",33),v())}function mv(n,e){n&1&&(Ut(),E(0,"svg",16),ee(1,"path",32)(2,"path",34)(3,"path",35),v())}var kn=class kn{constructor(){this.close=we();this.appCommand=we();this.theme=ne.required();this.imageToAnalyzeUrl=ne(null);this.imageAnalysisResult=we();this.mapLocationQuery=ne(null);this.mapLocationResult=we();this.messages=I([]);this.userMessage=I("");this.isLoading=I(!1);this.isVoiceInputActive=I(!1);this.isSpeaking=I(!1);this.isDeepQueryActive=I(!1);this.aiService=T(xe);this.isAiAvailable=Z(()=>this.aiService.isAiAvailable);this.chatHistoryRef=ve("chatHistory");this.speechRecognition=null;this.speechUtterance=null;this.aiService.isAiAvailable||this.messages.update(e=>[...e,{role:"model",content:"AI services are currently unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."}]),"SpeechRecognition"in window||"webkitSpeechRecognition"in window?(this.speechRecognition=new(window.SpeechRecognition||window.webkitSpeechRecognition),this.speechRecognition.continuous=!1,this.speechRecognition.interimResults=!1,this.speechRecognition.lang="en-US",this.speechRecognition.onresult=e=>{let t=e.results[0][0].transcript;this.userMessage.set(t),this.sendMessage(),this.stopVoiceInput()},this.speechRecognition.onerror=e=>{console.error("Speech recognition error:",e.error),e.error==="no-speech"||this.messages.update(t=>[...t,{role:"model",content:`Voice input error: ${e.error}. Please try again.`}]),this.stopVoiceInput()},this.speechRecognition.onend=()=>{this.isVoiceInputActive.set(!1)}):console.warn("Speech Recognition API not supported in this browser."),ce(()=>{let e=this.imageToAnalyzeUrl();e&&!this.isLoading()&&(this.messages.update(t=>[...t,{role:"user",content:"Please analyze this image.",imageUrl:e}]),this.analyzeImage(e,"Describe this image in detail. Focus on elements relevant for an album cover or music video concept."))}),ce(()=>{let e=this.mapLocationQuery();e&&!this.isLoading()&&(this.messages.update(t=>[...t,{role:"user",content:`Find on map: ${e}`}]),this.sendGoogleMapsQuery(e))})}async sendMessage(){if(!this.aiService.isAiAvailable||!this.aiService.chatInstance)return;let e=this.userMessage().trim();if(e){if(this.messages.update(t=>[...t,{role:"user",content:e}]),this.userMessage.set(""),this.isLoading.set(!0),this.stopSpeaking(),this.isDeepQueryActive())await this.sendDeepQuery(e),this.isDeepQueryActive.set(!1);else if(e.toLowerCase().startsWith("search google for")||e.toLowerCase().startsWith("google for")){let t=e.toLowerCase().startsWith("google for")?e.substring(10).trim():e.substring(17).trim();await this.sendGoogleSearchQuery(t)}else if(e.toLowerCase().startsWith("find on map")||e.toLowerCase().startsWith("map for")){let t=e.toLowerCase().startsWith("map for")?e.substring(7).trim():e.substring(11).trim();await this.sendGoogleMapsQuery(t)}else if(e.toLowerCase().startsWith("view artist profile")){let t=e.substring(19).trim();if(t){let i=nt.find(r=>r.name.toLowerCase()===t.toLowerCase());if(i)await this.getArtistInsight(i),this.appCommand.emit({action:"VIEW_ARTIST_PROFILE",parameters:{name:t}});else{let r=`S.M.U.V.E doesn't have data for "${t}". Please try searching for artists first.`;this.messages.update(o=>[...o,{role:"model",content:r}]),this.speakResponse(r)}}else{let i="Please specify an artist name to view their profile.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}else try{let i=(await this.aiService.chatInstance.sendMessage({message:e})).text;if(typeof i!="string"||i.trim()===""){console.warn("Gemini API returned empty or non-string response:",i);let s="S.M.U.V.E received an empty response. Please try rephrasing.";this.messages.update(a=>[...a,{role:"model",content:s}]),this.speakResponse(s),this.isLoading.set(!1),this.scrollToBottom();return}let r=i.trim(),o=r.split(":::");if(o.length>=2&&o[0]==="CHAT"){let s=o.slice(1).join(":::");this.messages.update(a=>[...a,{role:"model",content:s}]),this.speakResponse(s)}else if(o.length>=2&&o[0]==="COMMAND"){let s=o[1].trim(),a=(o[2]||"").trim();try{let l={};if(a){let d=/(\w+)\s*=\s*'([^']*)'|(\w+)\s*=\s*(\d+)/g,g;for(;(g=d.exec(a))!==null;){let C=g[1]||g[3],b=g[2]!==void 0?g[2]:g[4];l[C]=b}}this.appCommand.emit({action:s,parameters:l});let u=`Executing command: ${s}`;this.messages.update(d=>[...d,{role:"model",content:u}]),this.speakResponse(u)}catch(l){console.error("Failed to parse command parameters:",l,"from string:",a);let u="S.M.U.V.E sent a command I couldn't understand. Please try again.";this.messages.update(d=>[...d,{role:"model",content:u}]),this.speakResponse(u)}}else console.warn("AI response did not match expected CHAT/COMMAND format:",r),this.messages.update(s=>[...s,{role:"model",content:r}]),this.speakResponse(r)}catch(t){console.error("Error sending message to Gemini API:",t);let i="Oops! Something went wrong. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}this.isLoading.set(!1),this.scrollToBottom()}}async sendGoogleSearchQuery(e){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let t=await this.aiService.genAI.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{tools:[{googleSearch:{}}]}}),i=t.text,r=t.candidates?.[0]?.groundingMetadata?.groundingChunks,o=[];if(r)for(let a of r)a.web&&a.web.uri&&o.push({uri:a.web.uri,title:a.web.title});let s={role:"model",content:i,urls:o.length>0?o:void 0};this.messages.update(a=>[...a,s]),this.speakResponse(i)}catch(t){console.error("Error sending Google Search query to Gemini API:",t);let i="Oops! Failed to perform Google Search. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async sendGoogleMapsQuery(e){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let t=await this.aiService.genAI.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{tools:[{googleSearch:{}}]}}),i=t.text,r=t.candidates?.[0]?.groundingMetadata?.groundingChunks,o=[];if(r)for(let a of r)a.web&&a.web.uri&&o.push({uri:a.web.uri,title:a.web.title});let s={role:"model",content:i,urls:o.length>0?o:void 0};this.messages.update(a=>[...a,s]),this.speakResponse(i),this.mapLocationResult.emit(i)}catch(t){console.error("Error sending Google Maps query to Gemini API:",t);let i="Oops! Failed to find location on map. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async sendDeepQuery(e){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let i=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:e,config:{systemInstruction:this.aiService.chatInstance.config.systemInstruction,topK:64,topP:.95,temperature:1,seed:42}})).text;this.messages.update(r=>[...r,{role:"model",content:`[DEEP QUERY RESPONSE]: ${i}`}]),this.speakResponse(i)}catch(t){console.error("Error sending deep query to Gemini API:",t);let i="Oops! Deep query failed. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async analyzeImage(e,t="Describe this image in detail. Focus on elements relevant for an album cover or music video concept."){if(!this.aiService.isAiAvailable||!this.aiService.genAI){let i="AI services are unavailable to analyze image. Please check API key.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i);return}this.isLoading.set(!0);try{let i=e.split(";")[0].split(":")[1],r=e.split(",")[1],o={inlineData:{mimeType:i,data:r}},s={text:t},l=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:[o,s]})).text,u={role:"model",content:`IMAGE ANALYSIS: ${l}`,imageUrl:e};this.messages.update(d=>[...d,u]),this.speakResponse(`Image analysis complete. ${l}`),this.imageAnalysisResult.emit(l)}catch(i){console.error("Error analyzing image with Gemini API:",i);let r="Oops! Failed to analyze image. Please try again.";this.messages.update(o=>[...o,{role:"model",content:r}]),this.speakResponse(r)}finally{this.isLoading.set(!1),this.scrollToBottom()}}async getArtistInsight(e){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI)){this.isLoading.set(!0);try{let t=`You are S.M.U.V.E, an expert AI music manager toolkit specialized in Southern Rap, Hip-Hop, R&B, and Trap music, with advanced management and marketing skills. Provide an adaptive, detailed insight into the following independent music artist's profile. Your insights should be highly specific to their genre(s) and location, and offer actionable advice. Include:
      - Strengths (musicality, production, stage presence, lyrical ability etc.)
      - Specific collaboration potential (e.g., "collaborate with a Memphis trap producer for a new single," "feature on an Atlanta R&B singer's track").
      - Career advice (e.g., "focus on building a strong presence on TikTok," "consider licensing your beats for video games").
      - Marketing insights (e.g., "target college radio stations in the Southeast," "run Instagram ad campaigns geotargeted to your city").

Artist Profile:
Name: ${e.name}
Genre(s): ${e.genres.join(", ")}
Location: ${e.location}
Bio: ${e.bio}
Collaboration Interests: ${e.collaborationInterest.join(", ")}
Influences: ${e.influences.join(", ")}
Contact: ${e.contact}
Links: ${e.links.map(o=>`${o.type}: ${o.url}`).join(", ")}
Specialties: ${e.specialties?e.specialties.join(", "):"N/A"}
Target Audience: ${e.targetAudience||"N/A"}
Career Goals: ${e.careerGoals||"N/A"}

Provide insights relevant to their profile and the independent music scene, focusing on growth, networking, and strategic moves within their specified genres. Be specific to Southern Rap, Hip-Hop, R&B, and Trap where appropriate.`,r=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:t,config:{systemInstruction:this.aiService.chatInstance.config.systemInstruction,topK:64,topP:.95,temperature:1,seed:42}})).text;this.messages.update(o=>[...o,{role:"model",content:`[INSIGHT for ${e.name}]: ${r}`}]),this.speakResponse(`Here's an insight for ${e.name}. ${r}`)}catch(t){console.error("Error getting artist insight:",t);let i=`S.M.U.V.E failed to provide insight for ${e.name}.`;this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}finally{this.isLoading.set(!1),this.scrollToBottom()}}}toggleVoiceInput(){if(!this.speechRecognition){alert("Speech Recognition is not supported in this browser.");return}this.isVoiceInputActive()?this.stopVoiceInput():this.startVoiceInput()}startVoiceInput(){this.speechRecognition&&(this.stopSpeaking(),this.isVoiceInputActive.set(!0),this.speechRecognition.start(),this.messages.update(e=>[...e,{role:"model",content:"Listening for voice input..."}]))}stopVoiceInput(){this.speechRecognition&&(this.speechRecognition.stop(),this.isVoiceInputActive.set(!1))}speakResponse(e){"speechSynthesis"in window?(this.stopSpeaking(),this.speechUtterance=new SpeechSynthesisUtterance(e),this.speechUtterance.onstart=()=>this.isSpeaking.set(!0),this.speechUtterance.onend=()=>this.isSpeaking.set(!1),this.speechUtterance.onerror=t=>{console.error("Speech synthesis error:",t),this.isSpeaking.set(!1)},window.speechSynthesis.speak(this.speechUtterance)):console.warn("Speech Synthesis API not supported in this browser.")}stopSpeaking(){this.speechUtterance&&(window.speechSynthesis.cancel(),this.isSpeaking.set(!1))}scrollToBottom(){requestAnimationFrame(()=>{if(this.chatHistoryRef()){let e=this.chatHistoryRef().nativeElement;e.scrollTop=e.scrollHeight}})}toggleDeepQuery(){this.isDeepQueryActive.update(e=>!e),this.isDeepQueryActive()?(this.messages.update(e=>[...e,{role:"model",content:"Deep Query mode activated. I will use Gemini 3 Pro for more complex reasoning. Please ask your question."}]),this.speakResponse("Deep Query mode activated. Please ask your question.")):(this.messages.update(e=>[...e,{role:"model",content:"Deep Query mode deactivated."}]),this.speakResponse("Deep Query mode deactivated."))}onClose(){this.stopVoiceInput(),this.stopSpeaking(),this.close.emit()}};kn.\u0275fac=function(t){return new(t||kn)},kn.\u0275cmp=de({type:kn,selectors:[["app-chatbot"]],viewQuery:function(t,i){t&1&&me(i.chatHistoryRef,tv,5),t&2&&Ne()},inputs:{theme:[1,"theme"],imageToAnalyzeUrl:[1,"imageToAnalyzeUrl"],mapLocationQuery:[1,"mapLocationQuery"]},outputs:{close:"close",appCommand:"appCommand",imageAnalysisResult:"imageAnalysisResult",mapLocationResult:"mapLocationResult"},decls:26,vars:41,consts:[["chatHistory",""],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:right-4","sm:bottom-4","border-2","bg-black/90","backdrop-blur-lg","p-4","w-full","max-w-sm","h-[70vh]","flex","flex-col","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"flex-grow","overflow-y-auto","pr-2","mb-4","border-b","pb-2","space-y-3","chat-history"],[3,"text-right","text-left"],[1,"text-left"],[1,"text-center","py-4",3,"class"],[1,"text-center","py-4","text-red-400"],[1,"flex","gap-2","mb-2"],["type","button",1,"flex-grow","p-2","border","hover:text-black","text-sm","transition-colors",3,"click","disabled"],[1,"flex","gap-2",3,"submit"],["type","button",1,"p-2","border","hover:text-black","text-sm","transition-colors","flex","items-center","justify-center","w-10","h-10",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5","animate-pulse"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["type","text","placeholder","Type your message...",1,"flex-grow","bg-black","border","px-2","py-1","text-sm","focus:ring-500",3,"input","value","disabled"],["type","submit",1,"p-2","border","hover:text-black","text-sm",3,"disabled"],[1,"inline-block","p-2","rounded-lg","max-w-[85%]"],[1,"text-xs","mr-2"],[1,"text-xs","mt-2","border-t","pt-1",3,"class"],[1,"mt-2","p-1","border",3,"class"],[1,"text-xs","mt-2","border-t","pt-1"],[1,"font-bold"],["target","_blank","rel","noopener noreferrer",1,"block","underline",3,"href","class"],["target","_blank","rel","noopener noreferrer",1,"block","underline",3,"href"],[1,"mt-2","p-1","border"],["alt","Image for analysis",1,"max-w-full","h-auto","object-contain",3,"src"],[1,"text-xs","mt-1"],[1,"inline-block","p-2","rounded-lg","max-w-[85%]","animate-pulse"],[1,"text-center","py-4"],["d","M8.25 4.5a3.75 3.75 0 1 1 7.5 0v8.25a3.75 3.75 0 1 1-7.5 0V4.5Z"],["d","M6 10.5a.75.75 0 0 1 .75.75v1.5a5.25 5.25 0 1 0 10.5 0v-1.5a.75.75 0 0 1 1.5 0v1.5a6.75 6.75 0 1 1-13.5 0v-1.5a.75.75 0 0 1 .75-.75Z"],["d","M12 21a2.25 2.25 0 0 0 2.25-2.25V15a.75.75 0 0 0-1.5 0v3.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75V15a.75.75 0 0 0-1.5 0v3.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75V15a.75.75 0 0 0-1.5 0v3.75A2.25 2.25 0 0 0 12 21Z"],["d","M18.75 10.5a.75.75 0 0 0-1.5 0v1.5a6.75 6.75 0 0 1-13.5 0v-1.5a.75.75 0 0 0-1.5 0v1.5a8.25 8.25 0 1 0 16.5 0v-1.5A.75.75 0 0 0 18.75 10.5Z"]],template:function(t,i){if(t&1){let r=j();E(0,"div",1),B("click",function(){return _(r),D(i.onClose())}),v(),E(1,"div",2)(2,"div",3)(3,"h2",4),f(4,"[[ S.M.U.V.E ]]"),v(),E(5,"button",5),B("click",function(){return _(r),D(i.onClose())}),f(6," [X] "),v()(),E(7,"div",6,0),K(9,sv,8,12,"div",7,be),x(11,av,6,4,"div",8)(12,lv,6,4,"div",8),x(13,cv,2,2,"div",9)(14,uv,2,0,"div",10),v(),E(15,"div",11)(16,"button",12),B("click",function(){return _(r),D(i.toggleDeepQuery())}),x(17,dv,2,0,"span")(18,fv,2,0,"span"),v()(),E(19,"form",13),B("submit",function(){return _(r),D(i.sendMessage())}),E(20,"button",14),B("click",function(){return _(r),D(i.toggleVoiceInput())}),x(21,pv,3,0,":svg:svg",15)(22,mv,4,0,":svg:svg",16),v(),E(23,"input",17),B("input",function(s){return _(r),D(i.userMessage.set(s.target.value))}),v(),E(24,"button",18),f(25," [ SEND ] "),v()()()}t&2&&(c(),p("text-"+i.theme().primary+"-400"),c(4),p("hover:bg-"+i.theme().primary+"-400"),c(2),p("border-"+i.theme().primary+"-400/30"),Re("--chat-history-track-bg","var(--color-"+i.theme().primary+"-950)")("--chat-history-thumb-bg","var(--color-"+i.theme().primary+"-400)")("--chat-history-thumb-border","var(--color-"+i.theme().primary+"-900)")("--chat-history-thumb-hover-bg","var(--color-"+i.theme().primary+"-300)"),c(2),J(i.messages()),c(2),M(i.isLoading()?11:i.isSpeaking()?12:-1),c(2),M(i.messages().length===0&&!i.isLoading()&&!i.isSpeaking()&&i.isAiAvailable()?13:i.isAiAvailable()?-1:14),c(3),p("hover:bg-"+i.theme().primary+"-400"),te("bg-green-500",i.isDeepQueryActive())("text-black",i.isDeepQueryActive()),O("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()),c(),M(i.isDeepQueryActive()?17:18),c(2),te("opacity-50",!i.isAiAvailable()),c(),p("hover:bg-"+i.theme().primary+"-400"),te("bg-green-500",i.isVoiceInputActive())("text-black",i.isVoiceInputActive()),O("disabled",i.isLoading()||i.isDeepQueryActive()||!i.isAiAvailable()),c(),M(i.isVoiceInputActive()?21:22),c(2),p("focus:border-"+i.theme().primary+"-500"),O("value",i.userMessage())("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()),c(),p("hover:bg-"+i.theme().primary+"-400"),O("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()))},dependencies:[he],styles:[".chat-history[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--chat-history-track-bg)}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--chat-history-thumb-bg);border:1px solid var(--chat-history-thumb-border)}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--chat-history-thumb-hover-bg)}"],changeDetection:0});var vo=kn;var hv=["fileInput"],gv=()=>["1:1","4:3","3:4","16:9","9:16"];function vv(n,e){if(n&1&&ee(0,"img",7),n&2){let t=y();O("src",t.originalImageUrl(),re)}}function yv(n,e){if(n&1&&(E(0,"span",23),f(1,"[ Upload an image for reference or leave empty ]"),v()),n&2){let t=y();p("text-"+t.theme().neutral+"-500")}}function Ev(n,e){if(n&1){let t=j();E(0,"button",24),B("click",function(){let r=_(t).$implicit,o=y();return D(o.aspectRatio.set(r))}),f(1),v()}if(n&2){let t=e.$implicit,i=y();p(i.aspectRatio()===t?"bg-"+i.theme().purple+"-500 text-black":"hover:bg-"+i.theme().purple+"-700/50"),O("disabled",i.isLoading()||!i.isAiAvailable()),c(),H(" ",t," ")}}function Cv(n,e){n&1&&(E(0,"span"),f(1,"[ GENERATING... ]"),v())}function _v(n,e){n&1&&(E(0,"span"),f(1,"[ GENERATE ]"),v())}function Dv(n,e){if(n&1&&(E(0,"p",19),f(1),v()),n&2){let t=y();c(),q(t.errorMessage())}}function bv(n,e){n&1&&(E(0,"p",19),f(1,"AI features are disabled due to an invalid API key."),v())}function Iv(n,e){if(n&1&&ee(0,"img",25),n&2){let t=e.$implicit;O("src",t,re)}}function wv(n,e){if(n&1&&K(0,Iv,1,1,"img",25,be),n&2){let t=y();J(t.generatedImageUrls())}}function xv(n,e){if(n&1&&(E(0,"span",26),f(1,"[ Generating image... ]"),v()),n&2){let t=y();p("text-"+t.theme().neutral+"-500")}}function Mv(n,e){if(n&1&&(E(0,"span",23),f(1,"[ No image generated yet ]"),v()),n&2){let t=y();p("text-"+t.theme().neutral+"-500")}}function Sv(n,e){if(n&1){let t=j();E(0,"button",27),B("click",function(){_(t);let r=y();return D(r.useAsAlbumArt())}),f(1," [ USE AS ALBUM ART ] "),v()}if(n&2){let t=y();p("hover:bg-"+t.theme().purple+"-500"),O("disabled",!t.isAiAvailable())}}function Tv(n,e){if(n&1){let t=j();E(0,"button",27),B("click",function(){_(t);let r=y();return D(r.requestImageAnalysis())}),f(1," [ ANALYZE IMAGE ] "),v()}if(n&2){let t=y();p("hover:bg-"+t.theme().purple+"-500"),O("disabled",!t.isAiAvailable())}}function Av(n,e){if(n&1&&(E(0,"a",28),f(1," [ DOWNLOAD ] "),v()),n&2){let t=y();p("hover:bg-"+t.theme().purple+"-500"),te("opacity-50",!t.isAiAvailable()),O("href",t.generatedImageUrls()[0],re),no("disabled",t.isAiAvailable()?null:!0)}}var Pn=class Pn{constructor(){this.initialPrompt=ne(null);this.theme=ne.required();this.originalImageUrl=I(null);this.editPrompt=I("");this.generatedImageUrls=I([]);this.isLoading=I(!1);this.errorMessage=I(null);this.aspectRatio=I("1:1");this.aiService=T(xe);this.isAiAvailable=Z(()=>this.aiService.isAiAvailable);this.fileInputRef=ve("fileInput");this.imageSelected=we();this.imageAnalysisRequest=we();this.genAI=void 0;this.aiService.isAiAvailable?this.genAI=this.aiService.genAI:this.errorMessage.set("AI features are unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."),ce(()=>{let e=this.initialPrompt();e&&e!==this.editPrompt()&&this.editPrompt.set(e)})}handleImageUpload(e){let t=e.target.files?.[0];if(t){this.errorMessage.set(null),this.generatedImageUrls.set([]);let i=new FileReader;i.onload=r=>{this.originalImageUrl.set(r.target?.result)},i.onerror=()=>{this.errorMessage.set("Failed to read file.")},i.readAsDataURL(t)}else this.originalImageUrl.set(null),this.generatedImageUrls.set([])}async generateImage(){if(!this.isAiAvailable()||!this.genAI){this.errorMessage.set("AI features are unavailable. Please check your configuration (window.AURA_GEMINI_API_KEY).");return}let e=this.editPrompt().trim();if(!e){this.errorMessage.set("Please enter an edit prompt.");return}this.isLoading.set(!0),this.errorMessage.set(null),this.generatedImageUrls.set([]);try{let i=(await this.genAI.models.generateImages({model:"imagen-4.0-generate-001",prompt:e,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:this.aspectRatio()}})).generatedImages[0]?.image?.imageBytes;i?this.generatedImageUrls.set([`data:image/png;base64,${i}`]):this.errorMessage.set("No image generated. Please try a different prompt.")}catch(t){console.error("Error generating image:",t),this.errorMessage.set(`Image generation failed: ${t.message||"Unknown error"}.`)}finally{this.isLoading.set(!1)}}clearImage(){this.originalImageUrl.set(null),this.generatedImageUrls.set([]),this.editPrompt.set(""),this.errorMessage.set(null),this.fileInputRef()&&(this.fileInputRef().nativeElement.value="")}useAsAlbumArt(){let e=this.generatedImageUrls().length>0?this.generatedImageUrls()[0]:this.originalImageUrl();e?this.imageSelected.emit(e):this.errorMessage.set("No image to use as album art.")}requestImageAnalysis(){let e=this.generatedImageUrls().length>0?this.generatedImageUrls()[0]:this.originalImageUrl();e?(this.imageAnalysisRequest.emit(e),alert("Image analysis requested. Check chatbot for results!")):this.errorMessage.set("No image available to analyze.")}};Pn.\u0275fac=function(t){return new(t||Pn)},Pn.\u0275cmp=de({type:Pn,selectors:[["app-image-editor"]],viewQuery:function(t,i){t&1&&me(i.fileInputRef,hv,5),t&2&&Ne()},inputs:{initialPrompt:[1,"initialPrompt"],theme:[1,"theme"]},outputs:{imageSelected:"imageSelected",imageAnalysisRequest:"imageAnalysisRequest"},decls:40,vars:40,consts:[["fileInput",""],[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","flex-grow"],[1,"flex","flex-col","gap-4","p-4"],[1,"text-base"],[1,"flex-grow","flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden"],["alt","Uploaded Image",1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"text-sm",3,"class"],[1,"w-full","text-center","block","p-2","border","hover:text-black","cursor-pointer","text-sm"],["type","file","accept","image/*",1,"hidden",3,"change"],["for","edit-prompt",1,"block","text-sm"],["id","edit-prompt","placeholder","e.g., 'A retro-futuristic album cover with glowing elements', 'A sci-fi landscape art with vibrant colors'","rows","4",1,"w-full","p-2","text-sm","focus:ring-500","resize-y",3,"input","value","disabled"],[1,"block","text-sm","mt-2"],[1,"flex","flex-wrap","gap-2","text-sm"],["type","button",1,"px-3","py-1","border",3,"class","disabled"],[1,"flex","gap-2","mt-4"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg",3,"click"],[1,"text-red-500","text-sm","mt-2","text-center"],[1,"text-sm","animate-pulse",3,"class"],[1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg","mb-2",3,"class","disabled"],["download","aura-edited-image.png",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href","class","opacity-50"],[1,"text-sm"],["type","button",1,"px-3","py-1","border",3,"click","disabled"],["alt","Generated Image",1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"text-sm","animate-pulse"],[1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg","mb-2",3,"click","disabled"],["download","aura-edited-image.png",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"]],template:function(t,i){if(t&1){let r=j();E(0,"div",1)(1,"h2",2),f(2,"[ AURA IMAGE LAB ]"),v(),E(3,"div",3)(4,"div",4)(5,"h3",5),f(6,"// ORIGINAL IMAGE (FOR CONTEXT)"),v(),E(7,"div",6),x(8,vv,1,1,"img",7)(9,yv,2,2,"span",8),v(),E(10,"label",9),f(11," [ UPLOAD IMAGE ] "),E(12,"input",10,0),B("change",function(s){return _(r),D(i.handleImageUpload(s))}),v()(),E(14,"label",11),f(15,"GENERATION PROMPT:"),v(),E(16,"textarea",12),B("input",function(s){return _(r),D(i.editPrompt.set(s.target.value))}),v(),E(17,"label",13),f(18,"ASPECT RATIO:"),v(),E(19,"div",14),K(20,Ev,2,4,"button",15,Di),v(),E(22,"div",16)(23,"button",17),B("click",function(){return _(r),D(i.generateImage())}),x(24,Cv,2,0,"span")(25,_v,2,0,"span"),v(),E(26,"button",18),B("click",function(){return _(r),D(i.clearImage())}),f(27," [ CLEAR ] "),v()(),x(28,Dv,2,1,"p",19),x(29,bv,2,0,"p",19),v(),E(30,"div",4)(31,"h3",5),f(32,"// GENERATED IMAGE"),v(),E(33,"div",6),x(34,wv,2,0)(35,xv,2,2,"span",20)(36,Mv,2,2,"span",8),v(),x(37,Sv,2,3,"button",21),x(38,Tv,2,3,"button",21),x(39,Av,2,6,"a",22),v()()()}t&2&&(p("border border-"+i.theme().purple+"-500/30"),c(),p("text-"+i.theme().purple+"-400"),c(3),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),p("border-"+i.theme().purple+"-700/50"),c(),M(i.originalImageUrl()?8:9),c(2),p("hover:bg-"+i.theme().purple+"-500"),c(4),p("text-"+i.theme().purple+"-300"),c(2),p("focus:border-"+i.theme().purple+"-500"),O("value",i.editPrompt())("disabled",i.isLoading()||!i.isAiAvailable()),c(),p("text-"+i.theme().purple+"-300"),c(3),J(_t(39,gv)),c(3),p("hover:text-black"),O("disabled",!i.editPrompt()||i.isLoading()||!i.isAiAvailable()),c(),M(i.isLoading()?24:25),c(2),p("hover:text-black"),c(2),M(i.errorMessage()?28:-1),c(),M(i.isAiAvailable()?-1:29),c(),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),p("border-"+i.theme().purple+"-700/50"),c(),M(i.generatedImageUrls().length>0?34:i.isLoading()?35:36),c(3),M(i.generatedImageUrls().length>0?37:-1),c(),M(i.generatedImageUrls().length>0?38:-1),c(),M(i.generatedImageUrls().length>0?39:-1))},dependencies:[he],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0});var yo=Pn;var Nv=["liveVideoPreview"],Rv=["recordedVideoPlayer"],kv=()=>["1:1","4:3","3:4","16:9","9:16"];function Pv(n,e){if(n&1&&(E(0,"div",4),f(1),v()),n&2){let t=y();c(),H(" ",t.error()," ")}}function Fv(n,e){if(n&1&&(E(0,"span",26),f(1,"[ Camera Off ]"),v()),n&2){let t=y();p("text-"+t.theme().neutral+"-500")}}function Ov(n,e){if(n&1&&(E(0,"span",11),ee(1,"span",27),f(2),v()),n&2){let t=y();c(2),H(" REC: ",t.formatTime(t.recordingTime())," ")}}function Lv(n,e){n&1&&(E(0,"span"),f(1,"[ DISABLE CAMERA ]"),v())}function Vv(n,e){n&1&&(E(0,"span"),f(1,"[ ENABLE CAMERA ]"),v())}function Bv(n,e){n&1&&(E(0,"span"),f(1,"[ RECORDING... ]"),v())}function jv(n,e){n&1&&(E(0,"span"),f(1,"[ START RECORDING ]"),v())}function Hv(n,e){if(n&1&&(E(0,"h3",28),f(1,"// RECORDED VIDEO"),v(),E(2,"div",29),ee(3,"video",30,1),v(),E(5,"a",31),f(6," [ DOWNLOAD RECORDED VIDEO ] "),v()),n&2){let t=y();p("text-"+t.theme().purple+"-300"),c(2),p("border-"+t.theme().purple+"-700/50"),c(),O("src",t.recordedVideoUrl(),re),c(2),p("hover:bg-"+t.theme().purple+"-500"),O("href",t.recordedVideoUrl(),re)}}function Uv(n,e){if(n&1&&(E(0,"div",15)(1,"h4",32),f(2,"// IMAGE INPUT FROM EDITOR"),v(),ee(3,"img",33),v()),n&2){let t=y();c(),p("text-"+t.theme().neutral+"-400"),c(2),p("border-"+t.theme().neutral+"-600"),O("src",t.imageForVideoGeneration(),re)}}function $v(n,e){if(n&1){let t=j();E(0,"button",34),B("click",function(){let r=_(t).$implicit,o=y();return D(o.aspectRatio.set(r))}),f(1),v()}if(n&2){let t=e.$implicit,i=y();p(i.aspectRatio()===t?"bg-"+i.theme().purple+"-500 text-black":"hover:bg-"+i.theme().purple+"-700/50"),O("disabled",i.isGeneratingVideo()||!i.isAiAvailable()),c(),H(" ",t," ")}}function Gv(n,e){n&1&&(E(0,"span"),f(1,"[ GENERATING... ]"),v())}function qv(n,e){n&1&&(E(0,"span"),f(1,"[ GENERATE FROM PROMPT ]"),v())}function zv(n,e){n&1&&(E(0,"span"),f(1,"[ GENERATING... ]"),v())}function Wv(n,e){n&1&&(E(0,"span"),f(1,"[ GENERATE FROM IMAGE + PROMPT ]"),v())}function Qv(n,e){if(n&1){let t=j();E(0,"button",13),B("click",function(){_(t);let r=y();return D(r.generateVideo(!0))}),x(1,zv,2,0,"span")(2,Wv,2,0,"span"),v()}if(n&2){let t=y();p("hover:text-black"),O("disabled",!t.videoPrompt()||t.isGeneratingVideo()||!t.isAiAvailable()),c(),M(t.isGeneratingVideo()?1:2)}}function Zv(n,e){if(n&1&&(E(0,"p",35),f(1),v()),n&2){let t=y();p("text-"+t.theme().neutral+"-400"),c(),q(t.generationProgressMessage())}}function Yv(n,e){if(n&1&&(E(0,"h3",28),f(1,"// GENERATED AI VIDEO"),v(),E(2,"div",29),ee(3,"video",36),v(),E(4,"a",37),f(5," [ DOWNLOAD AI VIDEO ] "),v()),n&2){let t=y();p("text-"+t.theme().purple+"-300"),c(2),p("border-"+t.theme().purple+"-700/50"),c(),O("src",t.generatedVideoUrl(),re),c(),p("hover:bg-"+t.theme().purple+"-500"),O("href",t.generatedVideoUrl(),re)}}var Fn=class Fn{constructor(){this.imageForVideoGeneration=ne(null);this.initialPrompt=ne(null);this.theme=ne.required();this.mediaStream=I(null);this.isRecording=I(!1);this.recordedVideoBlob=I(null);this.recordedVideoUrl=I(null);this.recordingTime=I(0);this.cameraEnabled=I(!1);this.isCameraActive=I(!1);this.videoPrompt=I("");this.generatedVideoUrl=I(null);this.isGeneratingVideo=I(!1);this.generationProgressMessage=I(null);this.aspectRatio=I("16:9");this.aiService=T(xe);this.isAiAvailable=Z(()=>this.aiService.isAiAvailable);this.error=I(null);this.liveVideoPreviewRef=ve("liveVideoPreview");this.recordedVideoPlayerRef=ve("recordedVideoPlayer");this.mediaRecorder=null;this.recordedChunks=[];this.genAI=void 0;this.aiService.isAiAvailable?this.genAI=this.aiService.genAI:this.error.set("AI features are unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."),ce(()=>{let e=this.initialPrompt();e&&e!==this.videoPrompt()&&this.videoPrompt.set(e)})}ngOnDestroy(){this.stopMediaStream()}async requestMediaPermissions(){this.error.set(null),this.mediaStream()&&this.stopMediaStream();try{let e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});this.mediaStream.set(e),this.cameraEnabled.set(!0),this.isCameraActive.set(!0),this.liveVideoPreviewRef()&&(this.liveVideoPreviewRef().nativeElement.srcObject=e,await this.liveVideoPreviewRef().nativeElement.play()),console.log("Camera and microphone access granted.")}catch(e){console.error("Error accessing media devices:",e),this.error.set(`Failed to access camera/microphone: ${e.name||e.message}. Please check permissions.`),this.cameraEnabled.set(!1),this.isCameraActive.set(!1)}}stopMediaStream(){this.mediaStream()?.getTracks().forEach(e=>e.stop()),this.mediaStream.set(null),this.isCameraActive.set(!1),this.liveVideoPreviewRef()&&(this.liveVideoPreviewRef().nativeElement.srcObject=null),console.log("Media stream stopped.")}toggleCamera(){this.isCameraActive()?(this.stopMediaStream(),this.cameraEnabled.set(!1)):this.requestMediaPermissions()}startRecording(){if(!this.mediaStream()||!this.isCameraActive()){this.error.set("Camera is not active. Please enable camera first.");return}if(!this.isRecording()){this.recordedChunks=[],this.recordedVideoBlob.set(null),this.recordedVideoUrl.set(null),this.recordingTime.set(0),this.error.set(null);try{this.mediaRecorder=new MediaRecorder(this.mediaStream(),{mimeType:"video/webm; codecs=vp8,opus"}),this.mediaRecorder.ondataavailable=e=>{e.data.size>0&&this.recordedChunks.push(e.data)},this.mediaRecorder.onstop=()=>{let e=new Blob(this.recordedChunks,{type:"video/webm"});this.recordedVideoBlob.set(e),this.recordedVideoUrl.set(URL.createObjectURL(e)),console.log("Recording stopped. Blob created."),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.onerror=e=>{console.error("MediaRecorder error:",e.error),this.error.set(`Recording error: ${e.error.name||e.error.message}`),this.isRecording.set(!1),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.start(),this.isRecording.set(!0),this.recordingIntervalId=window.setInterval(()=>this.recordingTime.update(e=>e+1),1e3),console.log("Recording started.")}catch(e){console.error("Error starting MediaRecorder:",e),this.error.set(`Failed to start recording: ${e.message}`),this.isRecording.set(!1)}}}stopRecording(){this.mediaRecorder&&this.isRecording()&&(this.mediaRecorder.stop(),this.isRecording.set(!1),console.log("Attempting to stop recording..."))}playRecordedVideo(){this.recordedVideoUrl()&&this.recordedVideoPlayerRef()&&(this.recordedVideoPlayerRef().nativeElement.load(),this.recordedVideoPlayerRef().nativeElement.play().catch(e=>console.error("Error playing recorded video:",e)))}async generateVideo(e){if(!this.isAiAvailable()||!this.genAI){this.error.set("AI features are unavailable. Please check your configuration (window.AURA_GEMINI_API_KEY).");return}let t=this.videoPrompt().trim();if(!t){this.error.set("Please enter a prompt for video generation.");return}if(e&&!this.imageForVideoGeneration()){this.error.set('Please select an image first or clear "Generate from image" option.');return}this.isGeneratingVideo.set(!0),this.error.set(null),this.generatedVideoUrl.set(null),this.generationProgressMessage.set("Starting video generation...");try{let i,r={numberOfVideos:1,aspectRatio:this.aspectRatio()};if(e&&this.imageForVideoGeneration()){let s=this.imageForVideoGeneration().split(";")[0].split(":")[1],a=this.imageForVideoGeneration().split(",")[1];i=await this.genAI.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:t,image:{imageBytes:a,mimeType:s},config:r})}else i=await this.genAI.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:t,config:r});for(this.generationProgressMessage.set("Video generation in progress. This may take a few minutes...");!i.done;)await new Promise(s=>setTimeout(s,1e4)),this.generationProgressMessage.set(`Still generating... Current status: ${i.metadata?.state||"processing"}`),i=await this.genAI.operations.getVideosOperation({operation:i});let o=i.response?.generatedVideos?.[0]?.video?.uri;o?(this.generatedVideoUrl.set(`${o}&key=${this.aiService.getApiKey()}`),this.generationProgressMessage.set("Video generation complete!")):(this.error.set("Video generation failed: No download link in response."),this.generationProgressMessage.set(null))}catch(i){console.error("Error generating video:",i),this.error.set(`Video generation failed: ${i.message||"Unknown error"}.`),this.generationProgressMessage.set(null)}finally{this.isGeneratingVideo.set(!1)}}formatTime(e){if(isNaN(e)||e<0)return"00:00";let t=Math.floor(e/60),i=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}clearAll(){this.stopMediaStream(),this.isRecording.set(!1),this.recordedVideoBlob.set(null),this.recordedVideoUrl.set(null),this.recordingTime.set(0),this.videoPrompt.set(""),this.generatedVideoUrl.set(null),this.isGeneratingVideo.set(!1),this.generationProgressMessage.set(null),this.aspectRatio.set("16:9"),this.error.set(null)}};Fn.\u0275fac=function(t){return new(t||Fn)},Fn.\u0275cmp=de({type:Fn,selectors:[["app-video-editor"]],viewQuery:function(t,i){t&1&&(me(i.liveVideoPreviewRef,Nv,5),me(i.recordedVideoPlayerRef,Rv,5)),t&2&&Ne(2)},inputs:{imageForVideoGeneration:[1,"imageForVideoGeneration"],initialPrompt:[1,"initialPrompt"],theme:[1,"theme"]},decls:46,vars:48,consts:[["liveVideoPreview",""],["recordedVideoPlayer",""],[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"bg-red-900/50","text-red-300","p-3","text-center","border","border-red-500","animate-fade-in"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","flex-grow"],[1,"flex","flex-col","gap-4","p-4"],[1,"text-base"],[1,"flex-grow","flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden","bg-black","relative"],["autoplay","","muted","","playsinline","",1,"max-w-full","max-h-full","object-contain"],[1,"absolute","text-sm",3,"class"],[1,"absolute","top-2","left-2","text-red-500","animate-pulse","text-sm","flex","items-center","gap-1"],[1,"flex","gap-2"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"flex","flex-col","items-center","gap-2"],["for","video-prompt",1,"block","text-sm"],["id","video-prompt","placeholder","e.g., 'A neon hologram of a cat driving at top speed', 'A futuristic city at sunset with flying cars and towering skyscrapers.'","rows","4",1,"w-full","p-2","text-sm","focus:ring-500","resize-y",3,"input","value","disabled"],[1,"block","text-sm","mt-2"],[1,"flex","flex-wrap","gap-2","text-sm"],["type","button",1,"px-3","py-1","border",3,"class","disabled"],[1,"flex","flex-col","gap-2","mt-4"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"class","disabled"],[1,"text-sm","mt-2","text-center","animate-pulse",3,"class"],[1,"flex","justify-center","mt-4"],[1,"px-6","py-2","border-2","text-lg",3,"click"],[1,"absolute","text-sm"],[1,"w-2","h-2","rounded-full","bg-red-500"],[1,"text-base","mt-4"],[1,"flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden","bg-black"],["controls","",1,"max-w-full","max-h-full","object-contain",3,"src"],["download","aura-recorded-video.webm",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"],[1,"text-sm"],["alt","Image from editor",1,"w-24","h-24","object-cover","border",3,"src"],["type","button",1,"px-3","py-1","border",3,"click","disabled"],[1,"text-sm","mt-2","text-center","animate-pulse"],["controls","","autoplay","","loop","","muted","","playsinline","",1,"max-w-full","max-h-full","object-contain",3,"src"],["download","aura-ai-generated-video.mp4",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"]],template:function(t,i){if(t&1){let r=j();E(0,"div",2)(1,"h2",3),f(2,"[ AURA VIDEO LAB ]"),v(),x(3,Pv,2,1,"div",4),E(4,"div",5)(5,"div",6)(6,"h3",7),f(7,"// CAMERA & RECORDING"),v(),E(8,"div",8),ee(9,"video",9,0),x(11,Fv,2,2,"span",10),x(12,Ov,3,1,"span",11),v(),E(13,"div",12)(14,"button",13),B("click",function(){return _(r),D(i.toggleCamera())}),x(15,Lv,2,0,"span")(16,Vv,2,0,"span"),v()(),E(17,"div",12)(18,"button",13),B("click",function(){return _(r),D(i.startRecording())}),x(19,Bv,2,0,"span")(20,jv,2,0,"span"),v(),E(21,"button",14),B("click",function(){return _(r),D(i.stopRecording())}),f(22," [ STOP ] "),v()(),x(23,Hv,7,8),v(),E(24,"div",6)(25,"h3",7),f(26,"// AI VIDEO GENERATION"),v(),x(27,Uv,4,5,"div",15),E(28,"label",16),f(29,"VIDEO PROMPT:"),v(),E(30,"textarea",17),B("input",function(s){return _(r),D(i.videoPrompt.set(s.target.value))}),v(),E(31,"label",18),f(32,"ASPECT RATIO:"),v(),E(33,"div",19),K(34,$v,2,4,"button",20,Di),v(),E(36,"div",21)(37,"button",13),B("click",function(){return _(r),D(i.generateVideo(!1))}),x(38,Gv,2,0,"span")(39,qv,2,0,"span"),v(),x(40,Qv,3,4,"button",22),v(),x(41,Zv,2,3,"p",23),x(42,Yv,6,8),v()(),E(43,"div",24)(44,"button",25),B("click",function(){return _(r),D(i.clearAll())}),f(45," [ CLEAR ALL ] "),v()()()}t&2&&(p("border border-"+i.theme().purple+"-500/30"),c(),p("text-"+i.theme().purple+"-400"),c(2),M(i.error()?3:-1),c(2),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),p("border-"+i.theme().purple+"-700/50"),c(3),M(i.isCameraActive()?-1:11),c(),M(i.isRecording()?12:-1),c(2),p("hover:text-black"),O("disabled",i.isRecording()),c(),M(i.isCameraActive()?15:16),c(3),p("hover:text-black"),O("disabled",i.isRecording()||!i.isCameraActive()),c(),M(i.isRecording()?19:20),c(2),p("hover:text-black"),O("disabled",!i.isRecording()),c(2),M(i.recordedVideoUrl()?23:-1),c(),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),M(i.imageForVideoGeneration()?27:-1),c(),p("text-"+i.theme().purple+"-300"),c(2),p("focus:border-"+i.theme().purple+"-500"),O("value",i.videoPrompt())("disabled",i.isGeneratingVideo()||!i.isAiAvailable()),c(),p("text-"+i.theme().purple+"-300"),c(3),J(_t(47,kv)),c(3),p("hover:text-black"),O("disabled",!i.videoPrompt()||i.isGeneratingVideo()||!i.isAiAvailable()),c(),M(i.isGeneratingVideo()?38:39),c(2),M(i.imageForVideoGeneration()?40:-1),c(),M(i.generationProgressMessage()?41:-1),c(),M(i.generatedVideoUrl()?42:-1),c(2),p("hover:text-black"))},dependencies:[he],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0});var Eo=Fn;var Kv=["visualizerCanvas"],On=class On{constructor(){this.analyserNode=ne(void 0);this.canvasRef=ve.required("visualizerCanvas");this.theme=ne.required();ce(()=>{let e=this.analyserNode(),t=this.theme();e?(e.fftSize=256,this.dataArray=new Uint8Array(e.frequencyBinCount),this.startVisualizer()):this.stopVisualizer()})}ngAfterViewInit(){let e=this.canvasRef().nativeElement,t=e.getContext("2d");t?(this.ctx=t,e.width=e.offsetWidth,e.height=e.offsetHeight):console.error("Failed to get 2D rendering context for visualizer canvas.")}ngOnDestroy(){this.stopVisualizer()}startVisualizer(){if(this.stopVisualizer(),!this.ctx||!this.analyserNode()||!this.dataArray)return;let e=this.canvasRef().nativeElement;e.width=e.offsetWidth,e.height=e.offsetHeight,this.animationFrameId=requestAnimationFrame(this.draw.bind(this))}stopVisualizer(){if(this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0),this.ctx){let e=this.canvasRef().nativeElement;this.ctx.clearRect(0,0,e.width,e.height)}}draw(){let e=this.analyserNode(),t=this.canvasRef().nativeElement,i=this.ctx;if(!e||!i||!this.dataArray){this.stopVisualizer();return}e.getByteFrequencyData(this.dataArray),i.clearRect(0,0,t.width,t.height);let r=e.frequencyBinCount,o=t.width/r*.9,s=0;for(let a=0;a<r;a++){let l=this.dataArray[a]/255*t.height,u=a*(360/r);i.fillStyle=`hsl(${u}, 80%, 60%)`,i.fillRect(s,t.height-l,o,l),s+=o+t.width/r*.1}this.animationFrameId=requestAnimationFrame(this.draw.bind(this))}};On.\u0275fac=function(t){return new(t||On)},On.\u0275cmp=de({type:On,selectors:[["app-audio-visualizer"]],viewQuery:function(t,i){t&1&&me(i.canvasRef,Kv,5),t&2&&Ne()},inputs:{analyserNode:[1,"analyserNode"],theme:[1,"theme"]},decls:3,vars:2,consts:[["visualizerCanvas",""],[1,"visualizer-container"]],template:function(t,i){t&1&&(E(0,"div",1),ee(1,"canvas",null,0),v()),t&2&&Re("--primary-color","var(--color-"+i.theme().primary+"-700)")},dependencies:[he],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.visualizer-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:transparent;overflow:hidden;border:1px solid var(--primary-color)}canvas[_ngcontent-%COMP%]{display:block;width:100%;height:100%}"],changeDetection:0});var Co=On;var yf=()=>[],Jv=(n,e)=>e.midi;function Xv(n,e){n&1&&(m(0,"span"),f(1,"[ STOP ]"),h())}function ey(n,e){n&1&&(m(0,"span"),f(1,"[ PLAY ]"),h())}function ty(n,e){if(n&1&&(m(0,"option",19),f(1),h()),n&2){let t=e.$implicit;A("value",t),c(),q(t)}}function ny(n,e){if(n&1&&(m(0,"option",19),f(1),h()),n&2){let t=e.$implicit;A("value",t),c(),q(t)}}function iy(n,e){if(n&1&&(m(0,"div",20),f(1),h()),n&2){let t=e.$index,i=y();p(i.currentStep()===t?"text-"+i.theme().primary+"-300":"text-"+i.theme().neutral+"-400"),te("font-bold",i.currentStep()===t)("current-step-bg",i.currentStep()===t),c(),H(" ",t+1," ")}}function ry(n,e){if(n&1){let t=j();m(0,"div",23),w("click",function(){let r=_(t).$index,o=y().$implicit,s=y();return D(s.toggleNote(o.midi,r))}),h()}if(n&2){let t=e.$implicit,i=e.$index,r=y().$implicit,o=y();p(t&&o.currentStep()===i?"bg-"+o.theme().primary+"-400":""),te("in-scale-bg",o.getNotesInScale().includes(r.midi))}}function oy(n,e){if(n&1&&(m(0,"div",21),f(1),h(),K(2,ry,1,4,"div",22,be)),n&2){let t=e.$implicit,i=y();p(t.name.includes("#")?"text-"+i.theme().primary+"-400/70":"text-"+i.theme().primary+"-400"),te("font-bold",t.name.includes("#"))("in-scale",i.getNotesInScale().includes(t.midi)),c(),H(" ",i.getNoteDisplay(t)," "),c(),J(i.sequence().get(t.midi)||_t(7,yf))}}var gf=3,sy=12,Ef=2,vf=16,ll=[],ay=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];for(let n=gf;n<gf+Ef;n++)for(let e=0;e<sy;e++)ll.push({midi:60+(n-4)*12+e,name:ay[e],octave:n});ll.reverse();var Ln=class Ln{constructor(){this.theme=ne.required();this.allNotes=ll;this.bpm=I(120);this.isPlaying=I(!1);this.currentStep=I(-1);this.sequence=I(new Map);this.scales={major:[0,2,4,5,7,9,11],minor:[0,2,3,5,7,8,10]};this.keys=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];this.selectedKey=I("C");this.selectedScale=I("major");this.audioContext=null;this.initializeEmptySequence(),ce(()=>{this.initializeEmptySequence()})}ngAfterViewInit(){}ngOnDestroy(){this.stop(),this.audioContext?.close().catch(e=>console.error("Error closing AudioContext:",e))}initializeEmptySequence(){let e=new Map;this.allNotes.forEach(t=>{e.set(t.midi,Array(vf).fill(!1))}),this.sequence.set(e)}async initAudio(){this.audioContext&&this.audioContext.state==="running"||(this.audioContext||(this.audioContext=new AudioContext,this.masterGainNode=this.audioContext.createGain(),this.masterGainNode.gain.value=.5,this.masterGainNode.connect(this.audioContext.destination)),this.audioContext.state==="suspended"&&await this.audioContext.resume())}async togglePlay(){await this.initAudio(),this.isPlaying()?this.stop():this.start()}start(){this.isPlaying()||(this.isPlaying.set(!0),this.currentStep.set(this.currentStep()===-1?0:this.currentStep()),this.scheduleNextStep())}stop(){this.isPlaying.set(!1),this.timerId&&(clearTimeout(this.timerId),this.timerId=void 0)}resetSequence(){this.stop(),this.currentStep.set(-1),this.initializeEmptySequence()}scheduleNextStep(){if(!this.isPlaying()||!this.audioContext)return;let t=60/this.bpm()/4;this.timerId=window.setTimeout(()=>{let i=this.currentStep();this.playStep(i),this.currentStep.update(r=>(r+1)%vf),this.scheduleNextStep()},t*1e3)}playStep(e){!this.audioContext||!this.masterGainNode||this.sequence().forEach((t,i)=>{t[e]&&this.playNote(i,this.audioContext.currentTime)})}playNote(e,t){if(!this.audioContext||!this.masterGainNode)return;let i=440*Math.pow(2,(e-69)/12),r=.01,o=.3,s=.7,a=.2,l=this.audioContext.currentTime,u=this.audioContext.createGain();u.gain.setValueAtTime(0,l),u.gain.linearRampToValueAtTime(1,l+r),u.gain.linearRampToValueAtTime(s,l+r+o),u.gain.setValueAtTime(s,l+r+o+a),u.gain.linearRampToValueAtTime(0,l+r+o+a+.1);let d=this.audioContext.createOscillator();d.type="sine",d.frequency.setValueAtTime(i,t);let g=this.audioContext.createOscillator();g.type="triangle",g.frequency.setValueAtTime(i*2,t),d.connect(u),g.connect(u),u.connect(this.masterGainNode),d.start(t),g.start(t),d.stop(t+.5),g.stop(t+.5)}toggleNote(e,t){this.sequence.update(i=>{let r=i.get(e);return r&&(r[t]=!r[t]),new Map(i)})}onBpmChange(e){let t=parseInt(e.target.value,10);!isNaN(t)&&t>=60&&t<=240&&(this.bpm.set(t),this.isPlaying()&&(this.stop(),this.start()))}getNoteDisplay(e){return`${e.name}${e.octave}`}objectKeys(e){return Object.keys(e)}getNotesInScale(){let e=this.keys.indexOf(this.selectedKey()),t=this.scales[this.selectedScale()],i=[];for(let r=0;r<Ef*12;r++)t.includes(r%12)&&i.push(e+r);return console.log("notes in scale",i),i}};Ln.\u0275fac=function(t){return new(t||Ln)},Ln.\u0275cmp=de({type:Ln,selectors:[["app-piano-roll"]],inputs:{theme:[1,"theme"]},decls:32,vars:24,consts:[[1,"w-full","p-4","flex","flex-col","gap-4","relative"],[1,"text-center","text-lg"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-4","p-2"],[1,"flex","items-center","gap-4"],[1,"w-24","px-4","py-2","border-2","text-lg",3,"click"],[1,"px-3","py-2","border-2","text-lg",3,"click"],[1,"flex","items-center","gap-2"],["for","bpm",1,"text-sm"],["id","bpm-slider","type","range","min","60","max","240",1,"w-24","aura-slider",3,"input","value"],["id","bpm-text","type","number","min","60","max","240",1,"p-1","text-sm","w-16","text-center",3,"input","value"],["for","key",1,"text-sm"],["id","key",1,"p-1","text-sm","w-24","text-center",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","scale",1,"text-sm"],["id","scale",1,"p-1","text-sm","w-24","text-center",3,"change"],[1,"w-full","overflow-x-auto"],[1,"piano-roll-grid","grid","gap-0.5","p-2"],[1,"sequencer-header","text-neutral-400","text-xs","text-right","pr-2"],[1,"step-header","text-xs","text-center","p-1",3,"class","font-bold","current-step-bg"],[3,"value"],[1,"step-header","text-xs","text-center","p-1"],[1,"note-name","text-xs","text-right","pr-2","py-1"],[1,"note-step","w-6","h-6","border","cursor-pointer","transition-all","duration-75",3,"class","in-scale-bg"],[1,"note-step","w-6","h-6","border","cursor-pointer","transition-all","duration-75",3,"click"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"h2",1),f(2,"[ AURA PIANO ROLL ]"),h(),m(3,"div",2)(4,"div",3)(5,"button",4),w("click",function(){return i.togglePlay()}),x(6,Xv,2,0,"span")(7,ey,2,0,"span"),h(),m(8,"button",5),w("click",function(){return i.resetSequence()}),f(9," [ RESET ] "),h(),m(10,"div",6)(11,"label",7),f(12,"BPM:"),h(),m(13,"input",8),w("input",function(o){return i.onBpmChange(o)}),h(),m(14,"input",9),w("input",function(o){return i.onBpmChange(o)}),h()(),m(15,"div",6)(16,"label",10),f(17,"Key:"),h(),m(18,"select",11),w("change",function(o){return i.selectedKey.set(o.target.value)}),Ci(19,ty,2,2,"option",12),h()(),m(20,"div",6)(21,"label",13),f(22,"Scale:"),h(),m(23,"select",14),w("change",function(o){return i.selectedScale.set(o.target.value)}),Ci(24,ny,2,2,"option",12),h()()()(),m(25,"div",15)(26,"div",16),se(27,"div",17),K(28,iy,2,7,"div",18,be),K(30,oy,4,8,null,null,Jv),h()()()),t&2&&(p("border border-"+i.theme().primary+"-500/30"),c(),p("text-"+i.theme().primary+"-400"),c(2),p("border border-"+i.theme().primary+"-500/20"),c(2),p("hover:text-black"),c(),M(i.isPlaying()?6:7),c(2),p("hover:text-black"),c(5),A("value",i.bpm()),c(),p("focus:border-"+i.theme().primary+"-500"),A("value",i.bpm()),c(4),p("focus:border-"+i.theme().primary+"-500"),c(),A("ngForOf",i.keys),c(4),p("focus:border-"+i.theme().primary+"-500"),c(),A("ngForOf",i.objectKeys(i.scales)),c(2),p("border border-"+i.theme().primary+"-500/20"),c(2),J(_t(23,yf).constructor(16)),c(2),J(i.allNotes))},dependencies:[he,lo],styles:[".piano-roll-grid[_ngcontent-%COMP%]{grid-template-columns:80px repeat(16,1fr);grid-auto-rows:24px;width:max-content}.sequencer-header[_ngcontent-%COMP%], .note-name[_ngcontent-%COMP%], .note-step[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.aura-slider[_ngcontent-%COMP%]{-webkit-appearance:none;height:4px;border-radius:2px;background:var(--color-amber-900);outline:none;opacity:.7;transition:opacity .2s}.aura-slider[_ngcontent-%COMP%]:hover{opacity:1}.aura-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:12px;height:12px;border-radius:50%;background:var(--color-amber-400);cursor:pointer;border:1px solid var(--color-amber-900)}.aura-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:12px;height:12px;border-radius:50%;background:var(--color-amber-400);cursor:pointer;border:1px solid var(--color-amber-900)}div[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-neutral-800)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--color-primary-400);border-radius:4px;border:1px solid var(--color-primary-700)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--color-primary-300)}.in-scale[_ngcontent-%COMP%]{color:var(--color-primary-300)!important;font-weight:700}.in-scale-bg[_ngcontent-%COMP%], .current-step-bg[_ngcontent-%COMP%]{background-color:#ffffff1a}"],changeDetection:0});var _o=Ln;var ly=["audioPlayerA"],cy=["videoPlayerA"],uy=["audioPlayerB"],dy=["videoPlayerB"],fy=["fileInput"],_f=(n,e)=>e.title,py=(n,e)=>e.audioSrc;function my(n,e){n&1&&(m(0,"span"),f(1,"[ DJ ]"),h())}function hy(n,e){n&1&&(m(0,"span",11),f(1,"[ PIANO EDITOR ]"),h())}function gy(n,e){n&1&&(m(0,"span"),f(1,"[ IMAGE EDITOR ]"),h())}function vy(n,e){n&1&&(m(0,"span"),f(1,"[ VIDEO EDITOR ]"),h())}function yy(n,e){n&1&&(m(0,"span"),f(1,"[ NETWORKING ]"),h())}function Ey(n,e){n&1&&(m(0,"span"),f(1,"[ PLAYER ]"),h())}function Cy(n,e){n&1&&(m(0,"span"),f(1,"[ CLOSE CHATBOT ]"),h())}function _y(n,e){n&1&&(m(0,"span"),f(1,"[ CHATBOT ]"),h())}function Dy(n,e){if(n&1){let t=j();m(0,"video",72,3),w("mousedown",function(r){_(t);let o=y(2);return D(o.onScratchStart(r,"A"))})("touchstart",function(r){_(t);let o=y(2);return D(o.onScratchStart(r,"A"))})("timeupdate",function(r){_(t);let o=y(2);return D(o.onTimeUpdate(r,"A"))})("loadedmetadata",function(r){_(t);let o=y(2);return D(o.onLoadedMetadata(r,"A"))})("ended",function(){_(t);let r=y(2);return D(r.onEnded("A"))}),h()}}function by(n,e){if(n&1){let t=j();m(0,"div",73),w("mousedown",function(r){_(t);let o=y(2);return D(o.onScratchStart(r,"A"))})("touchstart",function(r){_(t);let o=y(2);return D(o.onScratchStart(r,"A"))}),se(1,"div",74)(2,"div",75),h()}if(n&2){let t=y(2);Re("transform",t.scratchRotationA()),te("spinning",t.deckA().isPlaying&&!t.isScratchingA()),c(),p("bg-"+t.currentTheme().accent+"-600"),c(),p(t.djBgStone900)}}function Iy(n,e){n&1&&(m(0,"span"),f(1,"[ || ]"),h())}function wy(n,e){n&1&&(m(0,"span"),f(1,"[ > ]"),h())}function xy(n,e){if(n&1&&se(0,"div",76),n&2){let t=e.$index,i=y(2);te("green",t/12<i.vuLevelA()&&t<8)("yellow",t/12<i.vuLevelA()&&t>=8&&t<10)("red",t/12<i.vuLevelA()&&t>=10)}}function My(n,e){if(n&1&&(m(0,"div",77),f(1,"[ SEARCHING... ]"),h()),n&2){let t=y(2);p("border-"+t.currentTheme().accent+"-500/50")}}function Sy(n,e){if(n&1){let t=j();m(0,"div",80)(1,"p",81),f(2),h(),m(3,"div",82)(4,"p",83),f(5),h(),m(6,"div",84)(7,"button",85),w("click",function(){let r=_(t).$implicit,o=y(3);return D(o.loadTrackToDeck(r,"A"))}),f(8,"->A"),h(),m(9,"button",85),w("click",function(){let r=_(t).$implicit,o=y(3);return D(o.loadTrackToDeck(r,"B"))}),f(10,"->B"),h()()()()}if(n&2){let t=e.$implicit,i=y(3);p("hover:bg-"+i.currentTheme().neutral+"-700/50"),c(2),H("> ",t.title),c(2),p(i.djTextNeutral400Class),c(),H("-- ",t.artist),c(2),p(i.djHoverBgClass),c(2),p(i.djHoverBgClass)}}function Ty(n,e){if(n&1&&(m(0,"div",78),K(1,Sy,11,10,"div",79,_f),h()),n&2){let t=y(2);p("border-"+t.currentTheme().accent+"-500/50"),c(),J(t.searchResults())}}function Ay(n,e){if(n&1){let t=j();m(0,"button",88),w("click",function(){_(t);let r=y(3);return D(r.shareMix())}),f(1,"[ SHARE ]"),h()}if(n&2){let t=y(3);p(t.djHoverBgClass)}}function Ny(n,e){if(n&1&&(m(0,"div",64)(1,"a",86),f(2,"[ DOWNLOAD ]"),h(),x(3,Ay,2,2,"button",87),h()),n&2){let t=y(2);c(),p(t.djHoverBgClass),A("href",e,re),c(2),M(t.canShare()?3:-1)}}function Ry(n,e){n&1&&(se(0,"span",89),m(1,"span",90),f(2,"[ ACTIVE ]"),h())}function ky(n,e){if(n&1&&se(0,"div",76),n&2){let t=e.$index,i=y(3);te("green",t/12<i.vuLevelMic()&&t<8)("yellow",t/12<i.vuLevelMic()&&t>=8&&t<10)("red",t/12<i.vuLevelMic()&&t>=10)}}function Py(n,e){if(n&1){let t=j();m(0,"div",66)(1,"div",91),K(2,ky,1,6,"div",46,be),h(),m(4,"div",42)(5,"span",92),f(6,"VOL"),h(),m(7,"input",93),w("input",function(r){_(t);let o=y(2);return D(o.onMicVolumeChange(r))}),h()(),m(8,"div",42)(9,"span",92),f(10,"HI"),h(),m(11,"input",93),w("input",function(r){_(t);let o=y(2);return D(o.onMicEqChange(r,"High"))}),h()(),m(12,"div",42)(13,"span",92),f(14,"MID"),h(),m(15,"input",93),w("input",function(r){_(t);let o=y(2);return D(o.onMicEqChange(r,"Mid"))}),h()(),m(16,"div",42)(17,"span",92),f(18,"LOW"),h(),m(19,"input",93),w("input",function(r){_(t);let o=y(2);return D(o.onMicEqChange(r,"Low"))}),h()(),m(20,"div",42)(21,"span",92),f(22,"FX"),h(),m(23,"input",94),w("input",function(r){_(t);let o=y(2);return D(o.onMicFilterChange(r))}),h()()()}if(n&2){let t=y(2);c(),p(t.djBgStone800),c(),J(t.vuBars),c(5),A("value",t.micVolume()),c(4),A("value",t.micEqHigh()),c(4),A("value",t.micEqMid()),c(4),A("value",t.micEqLow()),c(4),A("value",t.getNormalizedFilterValue(t.micFilterFreq()))}}function Fy(n,e){if(n&1&&se(0,"div",76),n&2){let t=e.$index,i=y(2);te("green",t/12<i.vuLevelMaster()&&t<8)("yellow",t/12<i.vuLevelMaster()&&t>=8&&t<10)("red",t/12<i.vuLevelMaster()&&t>=10)}}function Oy(n,e){if(n&1){let t=j();m(0,"video",72,4),w("mousedown",function(r){_(t);let o=y(2);return D(o.onScratchStart(r,"B"))})("touchstart",function(r){_(t);let o=y(2);return D(o.onScratchStart(r,"B"))})("timeupdate",function(r){_(t);let o=y(2);return D(o.onTimeUpdate(r,"B"))})("loadedmetadata",function(r){_(t);let o=y(2);return D(o.onLoadedMetadata(r,"B"))})("ended",function(){_(t);let r=y(2);return D(r.onEnded("B"))}),h()}}function Ly(n,e){if(n&1){let t=j();m(0,"div",73),w("mousedown",function(r){_(t);let o=y(2);return D(o.onScratchStart(r,"B"))})("touchstart",function(r){_(t);let o=y(2);return D(o.onScratchStart(r,"B"))}),se(1,"div",95)(2,"div",75),h()}if(n&2){let t=y(2);Re("transform",t.scratchRotationB()),te("spinning",t.deckB().isPlaying&&!t.isScratchingB()),c(),p("bg-"+t.currentTheme().accent+"-600"),c(),p(t.djBgStone900)}}function Vy(n,e){n&1&&(m(0,"span"),f(1,"[ || ]"),h())}function By(n,e){n&1&&(m(0,"span"),f(1,"[ > ]"),h())}function jy(n,e){if(n&1&&se(0,"div",76),n&2){let t=e.$index,i=y(2);te("green",t/12<i.vuLevelB()&&t<8)("yellow",t/12<i.vuLevelB()&&t>=8&&t<10)("red",t/12<i.vuLevelB()&&t>=10)}}function Hy(n,e){if(n&1){let t=j();m(0,"div",23)(1,"div",24)(2,"h2",25),f(3," [ DECK A ] "),h(),m(4,"div",26)(5,"div",27)(6,"div",28),x(7,Dy,2,0,"video",29)(8,by,3,8,"div",30),h(),m(9,"div",31)(10,"h3",32),f(11),h(),m(12,"p",33),f(13),h()(),m(14,"div",34)(15,"input",35),w("input",function(r){_(t);let o=y();return D(o.onProgressChange(r,"A"))}),h(),m(16,"div",36)(17,"span"),f(18),h(),m(19,"span"),f(20),h()()(),m(21,"div",37)(22,"button",38),w("click",function(){_(t);let r=y();return D(r.togglePlayPause("A"))}),x(23,Iy,2,0,"span")(24,wy,2,0,"span"),h(),m(25,"button",39),w("click",function(){_(t);let r=y();return D(r.toggleLoop("A"))}),m(26,"span"),f(27,"[ REPEAT ]"),h()()()(),m(28,"div",40)(29,"div",41)(30,"div",42)(31,"span"),f(32,"GAIN"),h(),m(33,"input",43),w("input",function(r){_(t);let o=y();return D(o.onGainChange(r,"A"))}),h()(),m(34,"div",42)(35,"span"),f(36,"HI"),h(),m(37,"input",43),w("input",function(r){_(t);let o=y();return D(o.onEqChange(r,"A","High"))}),h()(),m(38,"div",42)(39,"span"),f(40,"MID"),h(),m(41,"input",43),w("input",function(r){_(t);let o=y();return D(o.onEqChange(r,"A","Mid"))}),h()(),m(42,"div",42)(43,"span"),f(44,"LOW"),h(),m(45,"input",43),w("input",function(r){_(t);let o=y();return D(o.onEqChange(r,"A","Low"))}),h()(),m(46,"div",42)(47,"span"),f(48,"FX"),h(),m(49,"input",44),w("input",function(r){_(t);let o=y();return D(o.onFilterChange(r,"A"))}),h()()(),m(50,"div",45),K(51,xy,1,6,"div",46,be),h(),m(53,"div",47)(54,"span",48),f(55,"PITCH"),h(),m(56,"input",49),w("input",function(r){_(t);let o=y();return D(o.onPitchChange(r,"A"))}),h()()()()(),m(57,"div",50)(58,"h2",51),f(59,"[ MIXER ]"),h(),m(60,"div",52)(61,"form",53),w("submit",function(r){_(t);let o=y();return D(o.performSearch(r))}),m(62,"div",54)(63,"input",55),w("input",function(r){_(t);let o=y();return D(o.onSearchQueryInput(r))}),h(),m(64,"button",56),f(65,"[SCN]"),h()()(),x(66,My,2,2,"div",57),x(67,Ty,3,2,"div",58),h(),m(68,"div",59)(69,"h3",48),f(70,"[ RECORDING ]"),h(),m(71,"div",60)(72,"button",61),w("click",function(){_(t);let r=y();return D(r.toggleRecording())}),m(73,"span",9),se(74,"span",62),f(75),h()(),m(76,"span",63),f(77),h()(),x(78,Ny,4,4,"div",64),h(),m(79,"div",59)(80,"h3",65),f(81," [ MICROPHONE ] "),x(82,Ry,3,0),h(),m(83,"div",60)(84,"button",61),w("click",function(){_(t);let r=y();return D(r.toggleMicrophone())}),f(85),h()(),x(86,Py,24,7,"div",66),h(),m(87,"div",67)(88,"div",45),K(89,Fy,1,6,"div",46,be),h(),m(91,"input",68),w("input",function(r){_(t);let o=y();return D(o.onCrossfadeChange(r))}),h(),m(92,"input",69),w("input",function(r){_(t);let o=y();return D(o.onVolumeChange(r))}),h()(),m(93,"div",70)(94,"span"),f(95,"DECK A"),h(),m(96,"span"),f(97,"MASTER"),h(),m(98,"span"),f(99,"DECK B"),h()(),m(100,"button",71),w("click",function(){_(t);let r=y();return D(r.openFilePickerForDeck("B"))}),f(101,"[ LOAD FILE ]"),h()(),m(102,"div",24)(103,"h2",25),f(104," [ DECK B ] "),h(),m(105,"div",26)(106,"div",27)(107,"div",28),x(108,Oy,2,0,"video",29)(109,Ly,3,8,"div",30),h(),m(110,"div",31)(111,"h3",32),f(112),h(),m(113,"p",33),f(114),h()(),m(115,"div",34)(116,"input",35),w("input",function(r){_(t);let o=y();return D(o.onProgressChange(r,"B"))}),h(),m(117,"div",36)(118,"span"),f(119),h(),m(120,"span"),f(121),h()()(),m(122,"div",37)(123,"button",38),w("click",function(){_(t);let r=y();return D(r.togglePlayPause("B"))}),x(124,Vy,2,0,"span")(125,By,2,0,"span"),h(),m(126,"button",39),w("click",function(){_(t);let r=y();return D(r.toggleLoop("B"))}),m(127,"span"),f(128,"[ REPEAT ]"),h()()()(),m(129,"div",40)(130,"div",41)(131,"div",42)(132,"span"),f(133,"GAIN"),h(),m(134,"input",43),w("input",function(r){_(t);let o=y();return D(o.onGainChange(r,"B"))}),h()(),m(135,"div",42)(136,"span"),f(137,"HI"),h(),m(138,"input",43),w("input",function(r){_(t);let o=y();return D(o.onEqChange(r,"B","High"))}),h()(),m(139,"div",42)(140,"span"),f(141,"MID"),h(),m(142,"input",43),w("input",function(r){_(t);let o=y();return D(o.onEqChange(r,"B","Mid"))}),h()(),m(143,"div",42)(144,"span"),f(145,"LOW"),h(),m(146,"input",43),w("input",function(r){_(t);let o=y();return D(o.onEqChange(r,"B","Low"))}),h()(),m(147,"div",42)(148,"span"),f(149,"FX"),h(),m(150,"input",44),w("input",function(r){_(t);let o=y();return D(o.onFilterChange(r,"B"))}),h()()(),m(151,"div",45),K(152,jy,1,6,"div",46,be),h(),m(154,"div",47)(155,"span",48),f(156,"PITCH"),h(),m(157,"input",49),w("input",function(r){_(t);let o=y();return D(o.onPitchChange(r,"B"))}),h()()()()()()}if(n&2){let t,i=y();p(i.djTextNeutral400Class),c(),p(i.djBorderClass),c(),p(i.djTextColorClass),c(5),M(i.deckA().track.videoSrc?7:8),c(3),p(i.mainTextColorClass()),A("title",i.deckA().track.title),c(),q(i.deckA().track.title),c(),p(i.djTextNeutral400Class),A("title",i.deckA().track.artist),c(),H("-- ",i.deckA().track.artist," --"),c(2),A("max",i.deckA().duration)("value",i.deckA().progress),c(),p(i.djTextNeutral400Class),c(2),q(i.formatTime(i.deckA().progress)),c(2),q(i.formatTime(i.deckA().duration)),c(2),p(i.djHoverBgClass),c(),M(i.deckA().isPlaying?23:24),c(2),p(i.deckA().loop?"text-black":""),c(3),p("border-l-2 border-"+i.currentTheme().accent+"-500/20"),c(5),A("value",i.deckA().gain),c(4),A("value",i.deckA().eqHigh),c(4),A("value",i.deckA().eqMid),c(4),A("value",i.deckA().eqLow),c(4),A("value",i.getNormalizedFilterValue(i.deckA().filterFreq)),c(),p(i.djBgStone800),c(),J(i.vuBars),c(5),A("value",i.deckA().playbackRate),c(),p(i.djBorderClass),c(),p(i.djTextColorClass),c(5),p("focus:border-"+i.currentTheme().accent+"-500"),A("value",i.searchQuery()),c(),p(i.djHoverBgClass),c(2),M(i.isSearching()?66:-1),c(),M(i.searchResults().length>0?67:-1),c(),p(i.djBorderClass),c(4),p(i.djHoverBgClass),c(2),te("recording",i.isRecording()),c(),H(" ",i.isRecording()?"STOP":"REC"," "),c(2),q(i.formatTime(i.recordingTime())),c(),M((t=i.recordedMixUrl())?78:-1,t),c(),p(i.djBorderClass),c(3),M(i.micEnabled()?82:-1),c(2),p(i.djHoverBgClass),c(),H(" ",i.micEnabled()?"DISABLE":"ENABLE"," "),c(),M(i.micEnabled()?86:-1),c(2),p(i.djBgStone800),c(),J(i.vuBars),c(2),A("value",i.crossfade()),c(),A("value",i.volume()),c(8),p(i.djHoverBgClass),c(2),p(i.djBorderClass),c(),p(i.djTextColorClass),c(5),M(i.deckB().track.videoSrc?108:109),c(3),p(i.mainTextColorClass()),A("title",i.deckB().track.title),c(),q(i.deckB().track.title),c(),p(i.djTextNeutral400Class),A("title",i.deckB().track.artist),c(),H("-- ",i.deckB().track.artist," --"),c(2),A("max",i.deckB().duration)("value",i.deckB().progress),c(),p(i.djTextNeutral400Class),c(2),q(i.formatTime(i.deckB().progress)),c(2),q(i.formatTime(i.deckB().duration)),c(2),p(i.djHoverBgClass),c(),M(i.deckB().isPlaying?124:125),c(2),p(i.deckB().loop?"text-black":""),c(3),p("border-l-2 border-"+i.currentTheme().accent+"-500/20"),c(5),A("value",i.deckB().gain),c(4),A("value",i.deckB().eqHigh),c(4),A("value",i.deckB().eqMid),c(4),A("value",i.deckB().eqLow),c(4),A("value",i.getNormalizedFilterValue(i.deckB().filterFreq)),c(),p(i.djBgStone800),c(),J(i.vuBars),c(5),A("value",i.deckB().playbackRate)}}function Uy(n,e){if(n&1&&se(0,"app-piano-roll",14),n&2){let t=y();A("theme",t.currentTheme())}}function $y(n,e){n&1&&se(0,"video",98,3)}function Gy(n,e){if(n&1&&se(0,"img",99),n&2){let t=y(2);A("src",t.deckA().track.albumArtUrl,re)}}function qy(n,e){n&1&&(m(0,"span"),f(1,"[ || ]"),h())}function zy(n,e){n&1&&(m(0,"span"),f(1,"[ > ]"),h())}function Wy(n,e){if(n&1&&(m(0,"div",77),f(1,"[ SEARCHING... ]"),h()),n&2){let t=y(2);p(t.mainBorderClass())}}function Qy(n,e){if(n&1){let t=j();m(0,"div",80)(1,"p",81),f(2),h(),m(3,"div",82)(4,"p",120),f(5),h(),m(6,"div",84)(7,"button",121),w("click",function(){let r=_(t).$implicit,o=y(3);return D(o.addTrackToPlaylist(r,!0))}),f(8,"[ PLAY ]"),h(),m(9,"button",121),w("click",function(){let r=_(t).$implicit,o=y(3);return D(o.addTrackToPlaylist(r,!1))}),f(10,"[ +QUEUE ]"),h()()()()}if(n&2){let t=e.$implicit,i=y(3);p("hover:bg-"+i.currentTheme().primary+"-900/50"),c(),p(i.mainTextColorClass()),c(),H("> ",t.title),c(3),H("-- ",t.artist),c(2),p(i.mainHoverBgClass()),c(2),p(i.mainHoverBgClass())}}function Zy(n,e){if(n&1&&(m(0,"div",118)(1,"h3",119),f(2,"[ Search Results ]"),h(),K(3,Qy,11,10,"div",79,_f),h()),n&2){let t=y(2);p(t.mainBorderClass()),c(3),J(t.searchResults())}}function Yy(n,e){if(n&1){let t=j();m(0,"div",122),w("click",function(){let r=_(t).$index,o=y(2);return D(o.playTrackFromPlaylist(r))}),m(1,"p",81),f(2),h(),m(3,"p",120),f(4),h()()}if(n&2){let t=e.$implicit,i=e.$index,r=y(2);p(r.currentTrackIndex()===i?"bg-"+r.currentTheme().primary+"-900/50":""),c(),te("text-white",r.currentTrackIndex()===i),c(),H("> ",t.title),c(2),H("-- ",t.artist)}}function Ky(n,e){n&1&&(m(0,"p",116),f(1,"[ Load a file or search to begin ]"),h())}function Jy(n,e){if(n&1){let t=j();m(0,"div",15)(1,"div",96)(2,"div",97),x(3,$y,2,0,"video",98)(4,Gy,1,1,"img",99),h(),se(5,"app-audio-visualizer",100),m(6,"div",31)(7,"h3",101),f(8),h(),m(9,"p",102),f(10),h()(),m(11,"div",34)(12,"input",35),w("input",function(r){_(t);let o=y();return D(o.onProgressChange(r,"A"))}),h(),m(13,"div",103)(14,"span"),f(15),h(),m(16,"span"),f(17),h()()(),m(18,"div",104)(19,"button",105),w("click",function(){_(t);let r=y();return D(r.playPrevious())}),f(20,"[ << ]"),h(),m(21,"button",106),w("click",function(){_(t);let r=y();return D(r.togglePlayPause("A"))}),x(22,qy,2,0,"span")(23,zy,2,0,"span"),h(),m(24,"button",105),w("click",function(){_(t);let r=y();return D(r.playNext())}),f(25,"[ >> ]"),h()(),m(26,"div",66)(27,"span",48),f(28,"VOL:"),h(),m(29,"input",107),w("input",function(r){_(t);let o=y();return D(o.onVolumeChange(r))}),h(),m(30,"button",108),w("click",function(){_(t);let r=y();return D(r.toggleEqPanel())}),f(31,"[EQ]"),h()()(),m(32,"div",109)(33,"form",53),w("submit",function(r){_(t);let o=y();return D(o.performSearch(r))}),m(34,"div",54)(35,"input",110),w("input",function(r){_(t);let o=y();return D(o.onSearchQueryInput(r))}),h(),m(36,"button",111),f(37,"[SCN]"),h()()(),x(38,Wy,2,2,"div",57),x(39,Zy,5,2,"div",112),m(40,"div",113)(41,"h3",114),f(42,"[ Playlist ]"),h(),K(43,Yy,5,6,"div",115,py),x(45,Ky,2,0,"p",116),h(),m(46,"button",117),w("click",function(){_(t);let r=y();return D(r.openFilePickerForDeck(null))}),f(47,"[LOAD FILE]"),h()()()}if(n&2){let t=y();c(2),p(t.mainBorderClass()),c(),M(t.deckA().track.videoSrc?3:4),c(2),A("analyserNode",t.getMasterAnalyser())("theme",t.currentTheme()),c(2),p(t.mainTextColorClass()),A("title",t.deckA().track.title),c(),q(t.deckA().track.title),c(),A("title",t.deckA().track.artist),c(),H("-- ",t.deckA().track.artist," --"),c(2),A("max",t.deckA().duration)("value",t.deckA().progress),c(3),q(t.formatTime(t.deckA().progress)),c(2),q(t.formatTime(t.deckA().duration)),c(2),p(t.mainHoverBgClass()),c(2),p(t.mainHoverBgClass()),c(),M(t.deckA().isPlaying?22:23),c(2),p(t.mainHoverBgClass()),c(3),p(t.mainTextColorClass()),c(2),A("value",t.volume()),c(),p(t.mainHoverBgClass()),c(5),p("focus:border-"+t.currentTheme().primary+"-500"),A("value",t.searchQuery()),c(),p(t.mainHoverBgClass()),c(2),M(t.isSearching()?38:-1),c(),M(t.searchResults().length>0?39:-1),c(),p(t.mainBorderClass()),c(),p(t.mainTextColorClass()),c(2),J(t.playlist()),c(2),M(t.playlist().length===0?45:-1),c(),p(t.mainHoverBgClass())}}function Xy(n,e){if(n&1){let t=j();m(0,"app-image-editor",123),w("imageSelected",function(r){_(t);let o=y();return D(o.handleImageSelectedForAlbumArt(r))})("imageAnalysisRequest",function(r){_(t);let o=y();return o.imageToAnalyzeUrl.set(r),D(o.showChatbot.set(!0))}),h()}if(n&2){let t=y();A("initialPrompt",t.imageEditorInitialPrompt())("theme",t.currentTheme())}}function eE(n,e){if(n&1&&se(0,"app-video-editor",17),n&2){let t=y();A("imageForVideoGeneration",t.lastImageEditorImageUrl())("initialPrompt",t.videoEditorInitialPrompt())("theme",t.currentTheme())}}function tE(n,e){if(n&1&&se(0,"app-networking",18),n&2){let t=y();A("initialSearchQuery",t.networkingLocationQuery())("theme",t.currentTheme())}}function nE(n,e){if(n&1){let t=j();m(0,"app-eq-panel",124),w("close",function(){_(t);let r=y();return D(r.toggleEqPanel())})("eqChange",function(r){_(t);let o=y();return D(o.onMasterEqChange(r))})("enhancementsChange",function(r){_(t);let o=y();return D(o.onEnhancementsChange(r))}),h()}if(n&2){let t=y();A("eqSettings",t.eqSettings())("enhancements",t.enhancements())("theme",t.currentTheme())}}function iE(n,e){if(n&1){let t=j();m(0,"app-chatbot",125),w("appCommand",function(r){_(t);let o=y();return D(o.handleChatbotCommand(r))})("close",function(){_(t);let r=y();return D(r.showChatbot.set(!1))})("imageAnalysisResult",function(r){_(t);let o=y();return o.imageAnalysisResult.set(r),D(o.imageToAnalyzeUrl.set(null))})("mapLocationResult",function(r){_(t);let o=y();return o.mapLocationResult.set(r),D(o.mapLocationQuery.set(null))}),h()}if(n&2){let t=y();A("theme",t.currentTheme())("imageToAnalyzeUrl",t.imageToAnalyzeUrl())("mapLocationQuery",t.mapLocationQuery())}}function rE(n,e){if(n&1){let t=j();m(0,"div",126),w("click",function(){_(t);let r=y();return D(r.showApplyAlbumArtModal.set(!1))}),h(),m(1,"div",127)(2,"div",128)(3,"h2",63),f(4,"[[ Apply Album Art ]]"),h(),m(5,"button",129),w("click",function(){_(t);let r=y();return D(r.showApplyAlbumArtModal.set(!1))}),f(6," [X] "),h()(),m(7,"p",130),f(8,"Where do you want to apply this image?"),h(),m(9,"div",131)(10,"button",132),w("click",function(){_(t);let r=y();return D(r.applyImageAsAlbumArt("player"))}),f(11,"[ CURRENT PLAYER TRACK ]"),h(),m(12,"button",132),w("click",function(){_(t);let r=y();return D(r.applyImageAsAlbumArt("A"))}),f(13,"[ DECK A ]"),h(),m(14,"button",132),w("click",function(){_(t);let r=y();return D(r.applyImageAsAlbumArt("B"))}),f(15,"[ DECK B ]"),h()()()}if(n&2){let t=y();c(),p(t.mainTextColorClass()),c(4),p(t.mainHoverBgClass()),c(5),p(t.mainHoverBgClass()),c(2),p(t.mainHoverBgClass()),c(2),p(t.mainHoverBgClass())}}function oE(n,e){if(n&1&&(m(0,"div",134),se(1,"img",136),h()),n&2){let t=y(2);c(),p(t.mainBorderClass()),A("src",t.imageToAnalyzeUrl(),re)}}function sE(n,e){if(n&1){let t=j();m(0,"div",126),w("click",function(){_(t);let r=y();return D(r.showImageAnalysisModal.set(!1))}),h(),m(1,"div",133)(2,"div",128)(3,"h2",63),f(4,"[[ Image Analysis Result ]]"),h(),m(5,"button",129),w("click",function(){_(t);let r=y();return r.showImageAnalysisModal.set(!1),r.imageAnalysisResult.set(null),D(r.imageToAnalyzeUrl.set(null))}),f(6," [X] "),h()(),x(7,oE,2,3,"div",134),m(8,"div",135)(9,"p"),f(10),h()()()}if(n&2){let t=y();c(),p(t.mainTextColorClass()),c(4),p(t.mainHoverBgClass()),c(2),M(t.imageToAnalyzeUrl()?7:-1),c(),p(t.mainBorderClass()),c(2),q(t.imageAnalysisResult())}}function aE(n,e){if(n&1&&(m(0,"p",138),f(1),h()),n&2){let t=y(2);p(t.mainTextColorClass()),c(),H('Query: "',t.mapLocationQuery(),'"')}}function lE(n,e){if(n&1){let t=j();m(0,"div",126),w("click",function(){_(t);let r=y();return D(r.showMapResultsModal.set(!1))}),h(),m(1,"div",133)(2,"div",128)(3,"h2",63),f(4,"[[ Map Search Result ]]"),h(),m(5,"button",129),w("click",function(){_(t);let r=y();return r.showMapResultsModal.set(!1),r.mapLocationResult.set(null),D(r.mapLocationQuery.set(null))}),f(6," [X] "),h()(),x(7,aE,2,3,"p",137),m(8,"div",135)(9,"p"),f(10),h()()()}if(n&2){let t=y();c(),p(t.mainTextColorClass()),c(4),p(t.mainHoverBgClass()),c(2),M(t.mapLocationQuery()?7:-1),c(),p(t.mainBorderClass()),c(2),q(t.mapLocationResult())}}var Do={track:{title:"NO SIGNAL",artist:"Load a track into deck",albumArtUrl:"https://picsum.photos/seed/placeholder/500/500",audioSrc:""},isPlaying:!1,progress:0,duration:0,playbackRate:1,filterFreq:2e4,loop:!1,gain:50,eqHigh:50,eqMid:50,eqLow:50,wasPlayingBeforeScratch:!1},Cf=[{name:"Green Vintage",primary:"green",accent:"amber",neutral:"neutral",purple:"purple",red:"red",blue:"blue"},{name:"Blue Retro",primary:"blue",accent:"fuchsia",neutral:"zinc",purple:"purple",red:"red",blue:"blue"},{name:"Red Glitch",primary:"red",accent:"cyan",neutral:"stone",purple:"purple",red:"red",blue:"blue"},{name:"Amber Glow",primary:"amber",accent:"green",neutral:"neutral",purple:"purple",red:"red",blue:"blue"},{name:"Purple Haze",primary:"purple",accent:"lime",neutral:"slate",purple:"purple",red:"red",blue:"blue"},{name:"Cyan Wave",primary:"cyan",accent:"violet",neutral:"gray",purple:"purple",red:"red",blue:"blue"},{name:"Yellow Neon",primary:"yellow",accent:"red",neutral:"stone",purple:"purple",red:"red",blue:"blue"}],Vn=class Vn{constructor(){this.audioPlayerARef=ve("audioPlayerA");this.videoPlayerARef=ve("videoPlayerA");this.audioPlayerBRef=ve("audioPlayerB");this.videoPlayerBRef=ve("videoPlayerB");this.fileInputRef=ve("fileInput");this.mainViewMode=I("player");this.showChatbot=I(!0);this.deckA=I(S({},Do));this.deckB=I(S({},Do));this.crossfade=I(0);this.loadingTargetDeck=I(null);this.isScratchingA=I(!1);this.isScratchingB=I(!1);this.scratchRotationA=I("");this.scratchRotationB=I("");this.scratchStateA={active:!1,lastAngle:0,platterElement:null};this.scratchStateB={active:!1,lastAngle:0,platterElement:null};this.SCRATCH_SENSITIVITY=2.5;this.playlist=I([]);this.currentTrackIndex=I(-1);this.currentPlayerTrack=Z(()=>{let e=this.currentTrackIndex(),t=this.playlist();return e>=0&&e<t.length?t[e]:null});this.volume=I(.75);this.showEqPanel=I(!1);this.searchQuery=I("");this.isSearching=I(!1);this.searchResults=I([]);this.eqSettings=I([{label:"60Hz",value:50},{label:"310Hz",value:50},{label:"1KHz",value:50},{label:"6KHz",value:50},{label:"16KHz",value:50}]);this.enhancements=I({bassBoost:!1,surroundSound:!1});this.isRecording=I(!1);this.recordingTime=I(0);this.recordedMixUrl=I(null);this.recordedBlob=I(null);this.canShare=Z(()=>!!(navigator.share&&this.recordedBlob()));this.vuLevelA=I(0);this.vuLevelB=I(0);this.vuLevelMaster=I(0);this.vuBars=Array(12).fill(0);this.micEnabled=I(!1);this.micVolume=I(50);this.micEqHigh=I(50);this.micEqMid=I(50);this.micEqLow=I(50);this.micFilterFreq=I(2e4);this.vuLevelMic=I(0);this.THEMES=Cf;this.currentTheme=I(Cf[0]);this.mainBorderClass=Z(()=>`border-${this.currentTheme().primary}-400/50`);this.mainTextColorClass=Z(()=>`text-${this.currentTheme().primary}-400`);this.mainHoverBgClass=Z(()=>`hover:bg-${this.currentTheme().primary}-400 hover:text-black`);this.mainBg90050Class=Z(()=>`bg-${this.currentTheme().primary}-900/50`);this.djBorderClass=Z(()=>`border-${this.currentTheme().accent}-500/30`);this.djTextColorClass=Z(()=>`text-${this.currentTheme().accent}-400`);this.djActiveBgClass=Z(()=>`bg-${this.currentTheme().accent}-500`);this.djHoverBgClass=Z(()=>`hover:bg-${this.currentTheme().accent}-500 hover:text-black`);this.djBg80050Class=Z(()=>`bg-${this.currentTheme().neutral}-800/50`);this.djTextAccent300Class=Z(()=>`text-${this.currentTheme().accent}-300`);this.djTextNeutral400Class=Z(()=>`text-${this.currentTheme().neutral}-400`);this.djBgStone900=Z(()=>`bg-${this.currentTheme().neutral}-900`);this.djBgStone700=Z(()=>`bg-${this.currentTheme().neutral}-700`);this.eqNodesMaster=[];this.micSourceNode=null;this.micGainNode=null;this.micEqNodes=[];this.micFilterNode=null;this.micStream=null;this.mediaRecorder=null;this.recordedChunks=[];this.imageEditorInitialPrompt=I("");this.videoEditorInitialPrompt=I("");this.lastImageEditorImageUrl=I(null);this.showApplyAlbumArtModal=I(!1);this.imageToApplyAsAlbumArt=I(null);this.imageToAnalyzeUrl=I(null);this.imageAnalysisResult=I(null);this.showImageAnalysisModal=I(!1);this.mapLocationQuery=I(null);this.mapLocationResult=I(null);this.showMapResultsModal=I(!1);this.networkingLocationQuery=I(null);this.selectedArtistProfile=I(null);this.showArtistDetailModal=I(!1);this.aiService=T(xe);this.activeFileInputDeck=null;this.activeFileInputTrackPlayer=!1;this.initAudioContext(),this.initVUAnalysis(),this.aiService.initializeGenAI(),ce(()=>{this.aiService.isAiAvailable||console.warn("AppComponent: AI services are not available.")}),ce(()=>{this.imageAnalysisResult()&&this.showImageAnalysisModal.set(!0)}),ce(()=>{this.mapLocationResult()&&this.showMapResultsModal.set(!0)}),ce(()=>{this.selectedArtistProfile()&&this.showArtistDetailModal.set(!0)}),this.loadTrackToDeck(Do.track,"A")}ngOnDestroy(){this.stopAllAudio(),this.audioContext&&this.audioContext.state!=="closed"&&this.audioContext.close().catch(e=>console.error("Error closing audio context:",e)),this.vuIntervalId&&clearInterval(this.vuIntervalId),this.stopMediaStream()}initAudioContext(){this.audioContext||(this.audioContext=new AudioContext,this.gainNodeMaster=this.audioContext.createGain(),this.crossfadeNode=this.audioContext.createGain(),this.analyserMaster=this.audioContext.createAnalyser(),this.analyserA=this.audioContext.createAnalyser(),this.analyserB=this.audioContext.createAnalyser(),this.analyserMic=this.audioContext.createAnalyser(),this.destinationNode=this.audioContext.createMediaStreamDestination(),this.crossfadeNode.connect(this.gainNodeMaster),this.setupMasterEq(this.gainNodeMaster),this.eqNodesMaster[this.eqNodesMaster.length-1].connect(this.analyserMaster),this.analyserMaster.connect(this.destinationNode),this.analyserMaster.connect(this.audioContext.destination),this.onCrossfadeChange({target:{value:this.crossfade()}}),this.onVolumeChange({target:{value:this.volume()}}),this.eqSettings().forEach((e,t)=>{this.onMasterEqChange(this.eqSettings())}))}setupMasterEq(e){this.eqNodesMaster=[];let t=[60,310,1e3,6e3,16e3];for(let i=0;i<t.length;i++){let r=this.audioContext.createBiquadFilter();r.type="peaking",r.frequency.value=t[i],r.Q.value=1,r.gain.value=0,this.eqNodesMaster.push(r)}if(this.eqNodesMaster.length>0){e.connect(this.eqNodesMaster[0]);for(let i=0;i<this.eqNodesMaster.length-1;i++)this.eqNodesMaster[i].connect(this.eqNodesMaster[i+1])}}initVUAnalysis(){this.vuIntervalId=window.setInterval(()=>{if(this.analyserA){let e=new Uint8Array(this.analyserA.fftSize);this.analyserA.getByteFrequencyData(e);let t=e.reduce((i,r)=>i+r,0)/e.length;this.vuLevelA.set(t/255)}if(this.analyserB){let e=new Uint8Array(this.analyserB.fftSize);this.analyserB.getByteFrequencyData(e);let t=e.reduce((i,r)=>i+r,0)/e.length;this.vuLevelB.set(t/255)}if(this.analyserMaster){let e=new Uint8Array(this.analyserMaster.fftSize);this.analyserMaster.getByteFrequencyData(e);let t=e.reduce((i,r)=>i+r,0)/e.length;this.vuLevelMaster.set(t/255)}if(this.analyserMic&&this.micEnabled()){let e=new Uint8Array(this.analyserMic.fftSize);this.analyserMic.getByteFrequencyData(e);let t=e.reduce((i,r)=>i+r,0)/e.length;this.vuLevelMic.set(t/255)}},100)}getMasterAnalyser(){return this.analyserMaster}openFilePickerForDeck(e){this.activeFileInputDeck=e,this.activeFileInputTrackPlayer=e===null,this.fileInputRef().nativeElement.click()}handleFileInput(e){let t=e.target.files?.[0];if(t){let i=URL.createObjectURL(t),r={title:t.name,artist:"Local File",albumArtUrl:"https://picsum.photos/seed/"+Math.random().toString(36).substring(7)+"/500/500",audioSrc:i,videoSrc:t.type.startsWith("video/")?i:void 0};this.activeFileInputDeck==="A"?this.loadTrackToDeck(r,"A"):this.activeFileInputDeck==="B"?this.loadTrackToDeck(r,"B"):this.activeFileInputTrackPlayer&&this.addTrackToPlaylist(r,!0)}this.fileInputRef()&&(this.fileInputRef().nativeElement.value=""),this.activeFileInputDeck=null,this.activeFileInputTrackPlayer=!1}loadTrackToDeck(e,t){let i=t==="A"?this.audioPlayerARef():this.audioPlayerBRef(),r=t==="A"?this.videoPlayerARef():this.videoPlayerBRef();if((t==="A"?this.deckA():this.deckB()).isPlaying&&(i?.nativeElement.pause(),r?.nativeElement&&r.nativeElement.pause()),!i){console.error(`Audio player reference for deck ${t} not found.`);return}this.loadingTargetDeck.set(t);let s=N(S({},Do),{track:e,isPlaying:!1});t==="A"?(this.deckA.set(s),i.nativeElement.src=e.audioSrc,this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.src=e.videoSrc||"")):(this.deckB.set(s),i.nativeElement.src=e.audioSrc,this.videoPlayerBRef()?.nativeElement&&(this.videoPlayerBRef().nativeElement.src=e.videoSrc||""))}togglePlayPause(e="player"){let t=e==="A"?this.audioPlayerARef():e==="B"?this.audioPlayerBRef():this.audioPlayerARef(),i=e==="A"?this.videoPlayerARef():e==="B"?this.videoPlayerBRef():this.videoPlayerARef(),r=e==="A"?this.deckA():e==="B"?this.deckB():this.deckA();if(!t||!t.nativeElement.src){console.warn(`No track loaded for deck ${e}.`);return}this.audioContext.state==="suspended"&&this.audioContext.resume().catch(a=>console.error("Error resuming AudioContext:",a));let o=!r.isPlaying;if(o){let a=t.nativeElement.__sourceNode;a||(a=this.audioContext.createMediaElementSource(t.nativeElement),t.nativeElement.__sourceNode=a,e==="A"?(this.gainNodeA=this.audioContext.createGain(),a.connect(this.gainNodeA),this.gainNodeA.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode)):e==="B"?(this.gainNodeB=this.audioContext.createGain(),a.connect(this.gainNodeB),this.gainNodeB.connect(this.analyserB),this.analyserB.connect(this.crossfadeNode)):(this.gainNodeA=this.audioContext.createGain(),a.connect(this.gainNodeA),a.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode))),t.nativeElement.play().catch(l=>console.error(`Error playing deck ${e}:`,l)),i?.nativeElement&&i.nativeElement.play().catch(l=>console.error(`Error playing video for deck ${e}:`,l))}else t.nativeElement.pause(),i?.nativeElement&&i.nativeElement.pause();let s=a=>N(S({},a),{isPlaying:o});e==="A"||e==="player"?this.deckA.update(s):this.deckB.update(s)}onTimeUpdate(e,t){let i=e.target,r=o=>N(S({},o),{progress:i.currentTime});t==="A"?this.deckA.update(r):this.deckB.update(r)}onLoadedMetadata(e,t){let i=e.target,r=o=>N(S({},o),{duration:i.duration,progress:0});if(t==="A"){this.deckA.update(r),this.gainNodeA&&(this.gainNodeA.gain.value=this.mapSliderToGain(this.deckA().gain));let o=i.__sourceNode;o||(o=this.audioContext.createMediaElementSource(i),i.__sourceNode=o,this.gainNodeA=this.audioContext.createGain(),o.connect(this.gainNodeA),this.gainNodeA.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode)),this.onEqChange({target:{value:this.deckA().eqHigh}},"A","High"),this.onEqChange({target:{value:this.deckA().eqMid}},"A","Mid"),this.onEqChange({target:{value:this.deckA().eqLow}},"A","Low"),this.onFilterChange({target:{value:this.getNormalizedFilterValue(this.deckA().filterFreq)}},"A")}else{this.deckB.update(r),this.gainNodeB&&(this.gainNodeB.gain.value=this.mapSliderToGain(this.deckB().gain));let o=i.__sourceNode;o||(o=this.audioContext.createMediaElementSource(i),i.__sourceNode=o,this.gainNodeB=this.audioContext.createGain(),o.connect(this.gainNodeB),this.gainNodeB.connect(this.analyserB),this.analyserB.connect(this.crossfadeNode)),this.onEqChange({target:{value:this.deckB().eqHigh}},"B","High"),this.onEqChange({target:{value:this.deckB().eqMid}},"B","Mid"),this.onEqChange({target:{value:this.deckB().eqLow}},"B","Low"),this.onFilterChange({target:{value:this.getNormalizedFilterValue(this.deckB().filterFreq)}},"B")}this.loadingTargetDeck.set(null)}onEnded(e){let t=i=>N(S({},i),{isPlaying:!1,progress:0});e==="A"?(this.deckA.update(i=>i.loop?N(S({},i),{progress:0,isPlaying:!0}):t(i)),this.deckA().loop&&(this.audioPlayerARef().nativeElement.currentTime=0,this.audioPlayerARef().nativeElement.play(),this.videoPlayerARef()?.nativeElement.play())):(this.deckB.update(i=>i.loop?N(S({},i),{progress:0,isPlaying:!0}):t(i)),this.deckB().loop&&(this.audioPlayerBRef().nativeElement.currentTime=0,this.audioPlayerBRef().nativeElement.play(),this.videoPlayerBRef()?.nativeElement.play())),this.mainViewMode()==="player"&&e==="A"&&!this.deckA().loop&&this.playNext()}onProgressChange(e,t){let i=parseInt(e.target.value,10),r=t==="A"?this.audioPlayerARef():this.audioPlayerBRef(),o=t==="A"?this.videoPlayerARef():this.videoPlayerBRef();r?.nativeElement&&(r.nativeElement.currentTime=i,o?.nativeElement&&(o.nativeElement.currentTime=i));let s=a=>N(S({},a),{progress:i});t==="A"?this.deckA.update(s):this.deckB.update(s)}toggleLoop(e){let t=i=>N(S({},i),{loop:!i.loop});e==="A"?this.deckA.update(t):this.deckB.update(t)}addTrackToPlaylist(e,t=!1){if(this.playlist.update(i=>[...i,e]),this.searchResults.set([]),t){let i=this.playlist().length-1;this.playTrackFromPlaylist(i)}}playTrackFromPlaylist(e){let t=this.playlist();if(e>=0&&e<t.length){this.currentTrackIndex.set(e);let i=t[e];this.loadTrackToDeck(i,"A"),this.deckA().isPlaying||this.togglePlayPause("A")}}playNext(){let e=this.playlist();if(e.length===0)return;let t=(this.currentTrackIndex()+1)%e.length;this.playTrackFromPlaylist(t)}playPrevious(){let e=this.playlist();if(e.length===0)return;let t=this.currentTrackIndex()-1;t<0&&(t=e.length-1),this.playTrackFromPlaylist(t)}onVolumeChange(e){let t=parseFloat(e.target.value);this.volume.set(t),this.gainNodeMaster&&(this.gainNodeMaster.gain.value=t)}toggleEqPanel(){this.showEqPanel.update(e=>!e)}onMasterEqChange(e){this.eqSettings.set(e),e.forEach((t,i)=>{this.eqNodesMaster[i]&&(this.eqNodesMaster[i].gain.value=this.mapSliderToDb(t.value))})}onEnhancementsChange(e){this.enhancements.set(e),console.log("Enhancements updated:",e)}mapSliderToGain(e){return e/100}onGainChange(e,t){let i=parseInt(e.target.value,10),r=this.mapSliderToGain(i),o=s=>N(S({},s),{gain:i});t==="A"?(this.deckA.update(o),this.gainNodeA&&(this.gainNodeA.gain.value=r)):(this.deckB.update(o),this.gainNodeB&&(this.gainNodeB.gain.value=r))}mapSliderToDb(e){return(e-50)*.48}onEqChange(e,t,i){let r=parseInt(e.target.value,10),o=this.mapSliderToDb(r),s=a=>N(S({},a),{[`eq${i}`]:r});t==="A"?this.deckA.update(s):this.deckB.update(s)}getNormalizedFilterValue(e){return Math.log10(e/20)/Math.log10(1e3)}mapFilterSliderToFreq(e){let r=Math.log10(20),o=Math.log10(2e4),s=r+e*(o-r);return Math.pow(10,s)}onFilterChange(e,t){let i=parseFloat(e.target.value),r=this.mapFilterSliderToFreq(i),o=s=>N(S({},s),{filterFreq:r});t==="A"?this.deckA.update(o):this.deckB.update(o)}onPitchChange(e,t){let i=parseFloat(e.target.value),r=t==="A"?this.audioPlayerARef():this.audioPlayerBRef(),o=t==="A"?this.videoPlayerARef():this.videoPlayerBRef();r?.nativeElement&&(r.nativeElement.playbackRate=i,o?.nativeElement&&(o.nativeElement.playbackRate=i));let s=a=>N(S({},a),{playbackRate:i});t==="A"?this.deckA.update(s):this.deckB.update(s)}onCrossfadeChange(e){let t=parseFloat(e.target.value);this.crossfade.set(t);let i=Math.cos((t+1)/2*(Math.PI/2)),r=Math.cos((1-t)/2*(Math.PI/2));this.gainNodeA&&(this.gainNodeA.gain.value=i),this.gainNodeB&&(this.gainNodeB.gain.value=r)}getElementAngle(e,t,i){let r=e.getBoundingClientRect(),o=r.left+r.width/2,s=r.top+r.height/2;return Math.atan2(i-s,t-o)}onScratchStart(e,t){let i=e.currentTarget.querySelector(".vinyl-platter");if(!i)return;e.preventDefault();let r,o;e instanceof TouchEvent?(r=e.touches[0].clientX,o=e.touches[0].clientY):(r=e.clientX,o=e.clientY);let s=t==="A"?this.deckA():this.deckB(),a=t==="A"?this.audioPlayerARef():this.audioPlayerBRef(),l=t==="A"?this.videoPlayerARef():this.videoPlayerBRef(),u=t==="A"?this.scratchStateA:this.scratchStateB;u.active=!0,u.platterElement=i,u.lastAngle=this.getElementAngle(i,r,o),u.initialTouchX=r,u.initialTouchY=o,a?.nativeElement&&s.isPlaying?(a.nativeElement.pause(),l?.nativeElement&&l.nativeElement.pause(),t==="A"?this.deckA.update(d=>N(S({},d),{isPlaying:!1,wasPlayingBeforeScratch:!0})):this.deckB.update(d=>N(S({},d),{isPlaying:!1,wasPlayingBeforeScratch:!0}))):a?.nativeElement&&(t==="A"?this.deckA.update(d=>N(S({},d),{wasPlayingBeforeScratch:!1})):this.deckB.update(d=>N(S({},d),{wasPlayingBeforeScratch:!1}))),t==="A"?this.isScratchingA.set(!0):this.isScratchingB.set(!0)}onScratch(e){if(!this.scratchStateA.active&&!this.scratchStateB.active)return;e.preventDefault();let t,i;if(e instanceof TouchEvent){if(e.touches.length===0)return;t=e.touches[0].clientX,i=e.touches[0].clientY}else t=e.clientX,i=e.clientY;this.scratchStateA.active&&this.scratchStateA.platterElement&&this.applyScratch(this.scratchStateA,t,i,"A"),this.scratchStateB.active&&this.scratchStateB.platterElement&&this.applyScratch(this.scratchStateB,t,i,"B")}applyScratch(e,t,i,r){if(!e.platterElement)return;let o=r==="A"?this.audioPlayerARef():this.audioPlayerBRef(),s=r==="A"?this.videoPlayerARef():this.videoPlayerBRef(),a=this.getElementAngle(e.platterElement,t,i),l=a-e.lastAngle;l>Math.PI&&(l-=2*Math.PI),l<-Math.PI&&(l+=2*Math.PI);let d=parseInt(e.platterElement.style.transform.replace("rotate(","").replace("deg)","")||"0",10)+l*180/Math.PI;if((r==="A"?this.scratchRotationA:this.scratchRotationB).set(`rotate(${d}deg)`),o?.nativeElement?.src){let C=l*this.SCRATCH_SENSITIVITY;o.nativeElement.currentTime+=C,s?.nativeElement&&(s.nativeElement.currentTime+=C)}e.lastAngle=a}onScratchEnd(){this.isScratchingA()||this.isScratchingB(),this.scratchStateA.active&&(this.scratchStateA.active=!1,this.scratchStateA.platterElement=null,this.isScratchingA.set(!1),this.deckA().wasPlayingBeforeScratch&&this.audioPlayerARef()?.nativeElement&&!this.deckA().isPlaying&&this.togglePlayPause("A")),this.scratchStateB.active&&(this.scratchStateB.active=!1,this.scratchStateB.platterElement=null,this.isScratchingB.set(!1),this.deckB().wasPlayingBeforeScratch&&this.audioPlayerBRef()?.nativeElement&&!this.deckB().isPlaying&&this.togglePlayPause("B"))}toggleRecording(){this.isRecording()?this.stopMasterRecording():this.startMasterRecording()}startMasterRecording(){if(!this.audioContext||!this.destinationNode){console.error("AudioContext or MediaStreamAudioDestinationNode not initialized.");return}if(!this.isRecording()){this.recordedChunks=[],this.recordedMixUrl.set(null),this.recordedBlob.set(null),this.recordingTime.set(0);try{this.mediaRecorder=new MediaRecorder(this.destinationNode.stream,{mimeType:"audio/webm; codecs=opus"}),this.mediaRecorder.ondataavailable=e=>{e.data.size>0&&this.recordedChunks.push(e.data)},this.mediaRecorder.onstop=()=>{let e=new Blob(this.recordedChunks,{type:"audio/webm"});this.recordedBlob.set(e),this.recordedMixUrl.set(URL.createObjectURL(e)),console.log("Master recording stopped. Blob created."),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.onerror=e=>{console.error("Master MediaRecorder error:",e.error),this.isRecording.set(!1),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.start(),this.isRecording.set(!0),this.recordingIntervalId=window.setInterval(()=>this.recordingTime.update(e=>e+1),1e3),console.log("Master recording started.")}catch(e){console.error("Error starting Master MediaRecorder:",e),this.isRecording.set(!1)}}}stopMasterRecording(){this.mediaRecorder&&this.isRecording()&&(this.mediaRecorder.stop(),this.isRecording.set(!1),console.log("Attempting to stop master recording..."))}async shareMix(){let e=this.recordedBlob();if(!e||!this.canShare()){console.warn("No recorded mix available or Web Share API not supported.");return}let t=new File([e],"aura-mix.webm",{type:e.type});try{await navigator.share({files:[t],title:"Aura Mix",text:"Check out my latest mix from Aura Music Player!"}),console.log("Mix shared successfully.")}catch(i){console.error("Error sharing mix:",i)}}async toggleMicrophone(){this.micEnabled()?this.stopMicrophone():await this.startMicrophone()}async startMicrophone(){if(!this.micEnabled())try{this.micStream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.micSourceNode=this.audioContext.createMediaStreamSource(this.micStream),this.micGainNode=this.audioContext.createGain(),this.micFilterNode=this.audioContext.createBiquadFilter(),this.micFilterNode.type="lowpass",this.micFilterNode.frequency.value=this.micFilterFreq();let e=[250,2500,1e4];this.micEqNodes=e.map(t=>{let i=this.audioContext.createBiquadFilter();return i.type="peaking",i.frequency.value=t,i.Q.value=1,i.gain.value=0,i}),this.micSourceNode.connect(this.micGainNode),this.micGainNode.connect(this.micEqNodes[0]),this.micEqNodes[0].connect(this.micEqNodes[1]),this.micEqNodes[1].connect(this.micEqNodes[2]),this.micEqNodes[2].connect(this.micFilterNode),this.micFilterNode.connect(this.analyserMic),this.analyserMic.connect(this.gainNodeMaster),this.onMicVolumeChange({target:{value:this.micVolume()}}),this.onMicEqChange({target:{value:this.micEqHigh()}},"High"),this.onMicEqChange({target:{value:this.micEqMid()}},"Mid"),this.onMicEqChange({target:{value:this.micEqLow()}},"Low"),this.onMicFilterChange({target:{value:this.getNormalizedFilterValue(this.micFilterFreq())}}),this.micEnabled.set(!0),console.log("Microphone enabled.")}catch(e){console.error("Error enabling microphone:",e),this.micEnabled.set(!1),alert("Failed to access microphone. Please ensure permissions are granted.")}}stopMicrophone(){this.micStream&&(this.micStream.getTracks().forEach(e=>e.stop()),this.micStream=null),this.micSourceNode&&this.micSourceNode.disconnect(),this.micGainNode&&this.micGainNode.disconnect(),this.micFilterNode&&this.micFilterNode.disconnect(),this.micEqNodes.forEach(e=>e.disconnect()),this.analyserMic&&this.analyserMic.disconnect(),this.micSourceNode=null,this.micGainNode=null,this.micFilterNode=null,this.micEqNodes=[],this.micEnabled.set(!1),this.vuLevelMic.set(0),console.log("Microphone disabled.")}onMicVolumeChange(e){let t=parseInt(e.target.value,10);this.micVolume.set(t),this.micGainNode&&(this.micGainNode.gain.value=this.mapSliderToGain(t))}onMicEqChange(e,t){let i=parseInt(e.target.value,10),r=this.mapSliderToDb(i);t==="High"&&this.micEqNodes[2]?(this.micEqHigh.set(i),this.micEqNodes[2].gain.value=r):t==="Mid"&&this.micEqNodes[1]?(this.micEqMid.set(i),this.micEqNodes[1].gain.value=r):t==="Low"&&this.micEqNodes[0]&&(this.micEqLow.set(i),this.micEqNodes[0].gain.value=r)}onMicFilterChange(e){let t=parseFloat(e.target.value),i=this.mapFilterSliderToFreq(t);this.micFilterFreq.set(i),this.micFilterNode&&(this.micFilterNode.frequency.value=i)}toggleMainViewMode(){let e=["player","dj","piano-roll","image-editor","video-editor","networking"],t=this.mainViewMode(),r=(e.indexOf(t)+1)%e.length;this.mainViewMode.set(e[r]),this.stopAllAudio(),e[r]!=="image-editor"&&this.imageEditorInitialPrompt.set(""),e[r]!=="video-editor"&&this.videoEditorInitialPrompt.set(""),e[r]!=="networking"&&(this.networkingLocationQuery.set(null),this.selectedArtistProfile.set(null)),this.lastImageEditorImageUrl.set(null),e[r]==="dj"&&(this.audioPlayerARef()?.nativeElement.load(),this.audioPlayerBRef()?.nativeElement.load(),this.deckA().isPlaying&&this.togglePlayPause("A"),this.deckB().isPlaying&&this.togglePlayPause("B"))}toggleChatbot(){this.showChatbot.update(e=>!e),this.showChatbot()||(this.imageToAnalyzeUrl.set(null),this.imageAnalysisResult.set(null),this.mapLocationQuery.set(null),this.mapLocationResult.set(null),this.showImageAnalysisModal.set(!1),this.showMapResultsModal.set(!1),this.networkingLocationQuery.set(null),this.selectedArtistProfile.set(null),this.showArtistDetailModal.set(!1))}handleChatbotCommand(e){console.log("AppComponent: Received chatbot command:",e);let{action:t,parameters:i,aiContext:r}=e;switch(t){case"SET_THEME":let o=i.theme,s=this.THEMES.find(a=>a.name.toLowerCase()===o.toLowerCase());s?(this.currentTheme.set(s),console.log(`Theme set to: ${s.name}`)):console.warn(`Theme "${o}" not found.`);break;case"PLAY_TRACK":if(i.title){let a=this.playlist().find(l=>l.title.toLowerCase().includes(i.title.toLowerCase()))||this.searchResults().find(l=>l.title.toLowerCase().includes(i.title.toLowerCase()));if(a){let l=this.playlist().indexOf(a);l!==-1?this.playTrackFromPlaylist(l):this.addTrackToPlaylist(a,!0)}else console.warn(`Track with title "${i.title}" not found.`)}break;case"PAUSE_TRACK":this.deckA().isPlaying&&this.togglePlayPause("A");break;case"STOP_TRACK":this.audioPlayerARef()?.nativeElement.pause(),this.audioPlayerARef()?.nativeElement&&(this.audioPlayerARef().nativeElement.currentTime=0),this.videoPlayerARef()?.nativeElement.pause(),this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.currentTime=0),this.deckA.update(a=>N(S({},a),{isPlaying:!1,progress:0}));break;case"NEXT_TRACK":this.playNext();break;case"PREVIOUS_TRACK":this.playPrevious();break;case"TOGGLE_LOOP":this.toggleLoop("A");break;case"LOAD_TRACK":console.warn("LOAD_TRACK command not fully implemented for chatbot direct loading.");break;case"GENERATE_IMAGE":i.prompt&&(this.imageEditorInitialPrompt.set(i.prompt),this.mainViewMode.set("image-editor"),this.showChatbot.set(!1));break;case"GENERATE_VIDEO":i.prompt&&(this.videoEditorInitialPrompt.set(i.prompt),this.mainViewMode.set("video-editor"),this.showChatbot.set(!1));break;case"ANALYZE_IMAGE":i.imageUrl&&(this.imageToAnalyzeUrl.set(i.imageUrl),this.showChatbot.set(!0));break;case"FIND_ON_MAP":i.query&&(this.mapLocationQuery.set(i.query),this.showChatbot.set(!0));break;case"FIND_ARTISTS":i.location&&(this.networkingLocationQuery.set(i.location),this.mainViewMode.set("networking"),this.showChatbot.set(!1));break;case"VIEW_ARTIST_PROFILE":if(i.name){let a=nt.filter(l=>l.name.toLowerCase()===i.name.toLowerCase()||i.genre&&l.genres.some(u=>u.toLowerCase().includes(i.genre.toLowerCase()))||i.location&&l.location.toLowerCase().includes(i.location.toLowerCase()));a.length>0?(this.selectedArtistProfile.set(a[0]),this.mainViewMode.set("networking"),this.showChatbot.set(!1)):console.warn(`Artist "${i.name}" not found in mock data or no matching criteria.`)}break;default:console.warn(`Unknown chatbot command: ${t}`);break}}handleImageSelectedForAlbumArt(e){this.imageToApplyAsAlbumArt.set(e),this.showApplyAlbumArtModal.set(!0),this.lastImageEditorImageUrl.set(e),this.showChatbot.set(!1)}applyImageAsAlbumArt(e){let t=this.imageToApplyAsAlbumArt();t&&(e==="player"&&this.currentPlayerTrack()?(this.playlist.update(i=>i.map((r,o)=>o===this.currentTrackIndex()?N(S({},r),{albumArtUrl:t}):r)),this.deckA.update(i=>N(S({},i),{track:N(S({},i.track),{albumArtUrl:t})}))):e==="A"?this.deckA.update(i=>N(S({},i),{track:N(S({},i.track),{albumArtUrl:t})})):e==="B"&&this.deckB.update(i=>N(S({},i),{track:N(S({},i.track),{albumArtUrl:t})})),this.showApplyAlbumArtModal.set(!1),this.imageToApplyAsAlbumArt.set(null))}stopAllAudio(){this.audioPlayerARef()?.nativeElement.pause(),this.audioPlayerARef()?.nativeElement&&(this.audioPlayerARef().nativeElement.currentTime=0),this.videoPlayerARef()?.nativeElement.pause(),this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.currentTime=0),this.deckA.update(e=>N(S({},e),{isPlaying:!1,progress:0})),this.audioPlayerBRef()?.nativeElement.pause(),this.audioPlayerBRef()?.nativeElement&&(this.audioPlayerBRef().nativeElement.currentTime=0),this.videoPlayerBRef()?.nativeElement.pause(),this.videoPlayerBRef()?.nativeElement&&(this.videoPlayerBRef().nativeElement.currentTime=0),this.deckB.update(e=>N(S({},e),{isPlaying:!1,progress:0})),this.stopMicrophone()}stopMediaStream(){this.micStream&&(this.micStream.getTracks().forEach(e=>e.stop()),this.micStream=null)}formatTime(e){if(isNaN(e)||e<0)return"00:00";let t=Math.floor(e/60),i=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}randomizeTheme(){let e=this.currentTheme();for(;e===this.currentTheme();)e=this.THEMES[Math.floor(Math.random()*this.THEMES.length)];this.currentTheme.set(e)}};Vn.\u0275fac=function(t){return new(t||Vn)},Vn.\u0275cmp=de({type:Vn,selectors:[["app-root"]],viewQuery:function(t,i){t&1&&(me(i.audioPlayerARef,ly,5),me(i.videoPlayerARef,cy,5),me(i.audioPlayerBRef,uy,5),me(i.videoPlayerBRef,dy,5),me(i.fileInputRef,fy,5)),t&2&&Ne(5)},hostBindings:function(t,i){t&1&&w("mousemove",function(o){return i.onScratch(o)},xn)("touchmove",function(o){return i.onScratch(o)},xn)("mouseup",function(){return i.onScratchEnd()},xn)("touchend",function(){return i.onScratchEnd()},xn)},decls:38,vars:20,consts:[["audioPlayerA",""],["audioPlayerB",""],["fileInput",""],["videoPlayerA",""],["videoPlayerB",""],[1,"bg-black","text-green-400","font-mono","min-h-screen","flex","items-center","justify-center","p-2","sm:p-4","relative","overflow-hidden"],[1,"w-full","max-w-7xl","border-2","bg-black/80","backdrop-blur-sm","z-10","flex","flex-col","transition-colors","duration-500"],[1,"flex","justify-between","items-center","p-2","sm:p-4","border-b-2","border-inherit"],[1,"text-xl","sm:text-2xl"],[1,"flex","items-center","gap-2"],[1,"p-2","border","border-inherit","hover:text-black","text-sm","transition-colors",3,"click"],["id","piano-roll-button"],[1,"p-2","sm:p-4"],[1,"flex","flex-col","lg:flex-row","gap-4",3,"class"],[3,"theme"],[1,"flex","flex-col","md:flex-row","gap-4"],[3,"initialPrompt","theme"],[3,"imageForVideoGeneration","initialPrompt","theme"],[3,"initialSearchQuery","theme"],[3,"eqSettings","enhancements","theme"],["preload","auto",3,"timeupdate","loadedmetadata","ended"],["type","file","accept","audio/*,video/*",1,"hidden",3,"change"],[3,"theme","imageToAnalyzeUrl","mapLocationQuery"],[1,"flex","flex-col","lg:flex-row","gap-4"],[1,"flex-1","p-2","space-y-3"],[1,"text-center","text-lg","flex","items-center","justify-center","gap-2"],[1,"flex","gap-4"],[1,"flex-1","space-y-3"],[1,"w-full","aspect-square","mx-auto","flex","items-center","justify-center","bg-black","relative"],["muted","","playsinline","","preload","auto",1,"w-full","h-full","object-cover"],[1,"vinyl-platter",3,"spinning","transform"],[1,"text-center"],[1,"text-base","truncate",3,"title"],[1,"text-xs","truncate",3,"title"],[1,"space-y-1"],["type","range","min","0",1,"w-full","h-1","aura-slider",3,"input","max","value"],[1,"flex","justify-between","text-xs"],[1,"flex","items-center","justify-around"],[1,"w-16","h-10","flex","items-center","justify-center","border-2",3,"click"],[1,"p-2","border","hover:text-black","text-xs",3,"click"],[1,"flex","items-center","gap-4","pl-4"],[1,"flex","flex-col","items-center","justify-between","h-full","space-y-2","text-sm"],[1,"flex","flex-col","items-center"],["type","range","min","0","max","100",1,"w-20","aura-slider",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"w-20","aura-slider",3,"input","value"],[1,"vu-meter"],[1,"vu-bar",3,"green","yellow","red"],[1,"flex","flex-col","items-center","justify-center","space-y-2"],[1,"text-sm"],["type","range","min","0.5","max","2","step","0.01",1,"aura-slider","vertical-slider",3,"input","value"],[1,"w-full","lg:w-[450px]","p-2","space-y-3","flex","flex-col","justify-between"],[1,"text-center","text-lg"],[1,"space-y-2"],[3,"submit"],[1,"flex","space-x-2"],["type","text","placeholder","Search online...",1,"flex-grow","border","text-neutral-200","p-1","text-sm","focus:ring-500",3,"input","value"],["type","submit",1,"p-2","border","hover:text-black","text-sm"],[1,"text-center","text-sm","p-2","border","border-dashed",3,"class"],[1,"border","p-1","space-y-1","max-h-40","overflow-y-auto",3,"class"],[1,"p-2","space-y-2","text-center"],[1,"flex","justify-center","items-center","gap-4"],[1,"px-3","py-1","border","hover:text-black",3,"click"],[1,"w-3","h-3","rounded-full","bg-red-800","rec-indicator"],[1,"text-lg"],[1,"flex","justify-center","gap-2","pt-2"],[1,"text-sm","flex","items-center","justify-center","gap-2"],[1,"flex","items-center","justify-center","gap-4","pt-2"],[1,"flex","items-center","gap-4"],["type","range","min","-1","max","1","step","0.01",1,"flex-grow","aura-slider",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"aura-slider","vertical-slider",3,"input","value"],[1,"flex","justify-between","items-center","text-xs"],[1,"w-full","p-2","border","hover:text-black","text-sm",3,"click"],["muted","","playsinline","","preload","auto",1,"w-full","h-full","object-cover",3,"mousedown","touchstart","timeupdate","loadedmetadata","ended"],[1,"vinyl-platter",3,"mousedown","touchstart"],[1,"label","deck-a"],[1,"spindle"],[1,"vu-bar"],[1,"text-center","text-sm","p-2","border","border-dashed"],[1,"border","p-1","space-y-1","max-h-40","overflow-y-auto"],[1,"text-sm","p-1",3,"class"],[1,"text-sm","p-1"],[1,"truncate"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-xs","truncate","pl-2"],[1,"flex","gap-1"],[1,"px-1","border","hover:text-black",3,"click"],["download","aura-mix.webm",1,"text-sm","p-1","border","hover:text-black",3,"href"],[1,"text-sm","p-1","border","hover:text-black",3,"class"],[1,"text-sm","p-1","border","hover:text-black",3,"click"],[1,"w-3","h-3","rounded-full","bg-green-500","rec-indicator","recording"],[1,"text-xs","text-green-500"],[1,"vu-meter","h-24"],[1,"text-xs"],["type","range","min","0","max","100",1,"w-20","aura-slider","vertical-slider","h-24",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"w-20","aura-slider","vertical-slider","h-24",3,"input","value"],[1,"label","deck-b"],[1,"flex-1","md:w-2/3","space-y-3"],[1,"w-full","aspect-video","mx-auto","border-2","p-1","media-container"],["muted","","playsinline","",1,"w-full","h-full","object-cover","media-element"],["alt","Album Art",1,"w-full","h-full","object-cover","media-element",3,"src"],[1,"w-full","h-24","mt-2",3,"analyserNode","theme"],[1,"text-xl","truncate",3,"title"],[1,"text-base","text-green-400/70","truncate",3,"title"],[1,"flex","justify-between","text-sm","text-green-400/70"],[1,"flex","items-center","justify-center","gap-4"],[1,"w-12","h-12","flex","items-center","justify-center","border-2","text-xl",3,"click"],[1,"w-20","h-20","flex","items-center","justify-center","border-2","text-3xl",3,"click"],["type","range","min","0","max","1","step","0.01",1,"w-1/2","aura-slider",3,"input","value"],[1,"p-2","border","text-sm",3,"click"],[1,"flex-1","md:w-1/3","space-y-3","flex","flex-col"],["type","text","placeholder","Search to add tracks...",1,"flex-grow","bg-black","border","text-sm","focus:ring-500",3,"input","value"],["type","submit",1,"p-2","border","text-sm"],[1,"border","p-1","space-y-1",3,"class"],[1,"flex-grow","border","p-2","space-y-2","overflow-y-auto","max-h-96"],[1,"text-center","text-base"],[1,"p-2","text-sm","cursor-pointer",3,"class"],[1,"text-center","text-sm","text-green-400/60","p-4"],[1,"w-full","p-2","border","text-sm",3,"click"],[1,"border","p-1","space-y-1"],[1,"text-center","text-base","py-1"],[1,"text-xs","text-green-400/70","truncate","pl-2"],[1,"px-1","border","text-black",3,"click"],[1,"p-2","text-sm","cursor-pointer",3,"click"],[3,"imageSelected","imageAnalysisRequest","initialPrompt","theme"],[3,"close","eqChange","enhancementsChange","eqSettings","enhancements","theme"],[3,"appCommand","close","imageAnalysisResult","mapLocationResult","theme","imageToAnalyzeUrl","mapLocationQuery"],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-sm","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"mb-4"],[1,"flex","flex-col","gap-2"],[1,"p-2","border","hover:text-black","text-sm",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-xl","h-2/3","flex","flex-col","z-50","animate-slide-up","font-mono"],[1,"flex-shrink-0","mb-4","overflow-hidden","flex","justify-center"],[1,"flex-grow","overflow-y-auto","pr-2","text-sm","border-t","pt-4"],["alt","Image being analyzed",1,"max-h-40","object-contain","border",3,"src"],[1,"mb-4","text-sm",3,"class"],[1,"mb-4","text-sm"]],template:function(t,i){if(t&1){let r=j();m(0,"main",5),se(1,"app-matrix-background"),m(2,"div",6)(3,"header",7)(4,"h1",8),f(5,"[ AURA ]"),h(),m(6,"div",9)(7,"button",10),w("click",function(){return _(r),D(i.randomizeTheme())}),m(8,"span"),f(9,"[ RANDOM THEME ]"),h()(),m(10,"button",10),w("click",function(){return _(r),D(i.toggleMainViewMode())}),x(11,my,2,0,"span")(12,hy,2,0,"span",11)(13,gy,2,0,"span")(14,vy,2,0,"span")(15,yy,2,0,"span")(16,Ey,2,0,"span"),h(),m(17,"button",10),w("click",function(){return _(r),D(i.toggleChatbot())}),x(18,Cy,2,0,"span")(19,_y,2,0,"span"),h()()(),m(20,"div",12),x(21,Hy,158,103,"div",13)(22,Uy,1,1,"app-piano-roll",14)(23,Jy,48,41,"div",15)(24,Xy,1,2,"app-image-editor",16)(25,eE,1,3,"app-video-editor",17)(26,tE,1,2,"app-networking",18),h(),x(27,nE,1,3,"app-eq-panel",19),m(28,"audio",20,0),w("timeupdate",function(s){return _(r),D(i.onTimeUpdate(s,"A"))})("loadedmetadata",function(s){return _(r),D(i.onLoadedMetadata(s,"A"))})("ended",function(){return _(r),D(i.onEnded("A"))}),h(),m(30,"audio",20,1),w("timeupdate",function(s){return _(r),D(i.onTimeUpdate(s,"B"))})("loadedmetadata",function(s){return _(r),D(i.onLoadedMetadata(s,"B"))})("ended",function(){return _(r),D(i.onEnded("B"))}),h(),m(32,"input",21,2),w("change",function(s){return _(r),D(i.handleFileInput(s))}),h()(),x(34,iE,1,3,"app-chatbot",22),x(35,rE,16,10),x(36,sE,11,8),x(37,lE,11,8),h()}if(t&2){let r;c(2),p(i.mainBorderClass()),te("dj-vintage-theme",i.mainViewMode()==="dj"),c(2),p(i.mainTextColorClass()),c(3),p(i.mainHoverBgClass()),c(3),p(i.mainHoverBgClass()),c(),M(i.mainViewMode()==="player"?11:i.mainViewMode()==="dj"?12:i.mainViewMode()==="piano-roll"?13:i.mainViewMode()==="image-editor"?14:i.mainViewMode()==="video-editor"?15:i.mainViewMode()==="networking"?16:-1),c(6),p(i.mainHoverBgClass()),c(),M(i.showChatbot()?18:19),c(3),M((r=i.mainViewMode())==="dj"?21:r==="piano-roll"?22:r==="player"?23:r==="image-editor"?24:r==="video-editor"?25:r==="networking"?26:-1),c(6),M(i.showEqPanel()?27:-1),c(7),M(i.showChatbot()?34:-1),c(),M(i.showApplyAlbumArtModal()?35:-1),c(),M(i.showImageAnalysisModal()&&i.imageAnalysisResult()?36:-1),c(),M(i.showMapResultsModal()&&i.mapLocationResult()?37:-1)}},dependencies:[he,mo,ho,vo,yo,Eo,Co,_o,go],encapsulation:2,changeDetection:0});var bo=Vn;var al=new $("GEMINI_API_KEY");sl(bo,{providers:[Ha(),hf(),{provide:al,useValue:""}]}).catch(n=>console.error(n));export{al as API_KEY_TOKEN};

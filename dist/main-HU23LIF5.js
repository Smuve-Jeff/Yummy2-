import{a as A,b as N}from"./chunk-2NFLSA4Y.js";var Do;function Ni(){return Do}function Ye(e){let t=Do;return Do=e,t}var tl=Symbol("NotFound");function Xt(e){return e===tl||e?.name==="\u0275NotFound"}var Ee=null,Ri=!1,bo=1,rf=null,ge=Symbol("SIGNAL");function P(e){let t=Ee;return Ee=e,t}function Oi(){return Ee}var bt={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function en(e){if(Ri)throw new Error("");if(Ee===null)return;Ee.consumerOnSignalRead(e);let t=Ee.producersTail;if(t!==void 0&&t.producer===e)return;let n,i=Ee.recomputing;if(i&&(n=t!==void 0?t.nextProducer:Ee.producers,n!==void 0&&n.producer===e)){Ee.producersTail=n,n.lastReadVersion=e.version;return}let r=e.consumersTail;if(r!==void 0&&r.consumer===Ee&&(!i||sf(r,Ee)))return;let o=rn(Ee),s={producer:e,consumer:Ee,nextProducer:n,prevConsumer:r,lastReadVersion:e.version,nextConsumer:void 0};Ee.producersTail=s,t!==void 0?t.nextProducer=s:Ee.producers=s,o&&ol(e,s)}function nl(){bo++}function Li(e){if(!(rn(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===bo)){if(!e.producerMustRecompute(e)&&!nn(e)){Fi(e);return}e.producerRecomputeValue(e),Fi(e)}}function wo(e){if(e.consumers===void 0)return;let t=Ri;Ri=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let i=n.consumer;i.dirty||of(i)}}finally{Ri=t}}function Io(){return Ee?.consumerAllowSignalWrites!==!1}function of(e){e.dirty=!0,wo(e),e.consumerMarkedDirty?.(e)}function Fi(e){e.dirty=!1,e.lastCleanEpoch=bo}function wt(e){return e&&il(e),P(e)}function il(e){e.producersTail=void 0,e.recomputing=!0}function tn(e,t){P(t),e&&rl(e)}function rl(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(rn(e))do n=xo(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function nn(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,i=t.lastReadVersion;if(i!==n.version||(Li(n),i!==n.version))return!0}return!1}function It(e){if(rn(e)){let t=e.producers;for(;t!==void 0;)t=xo(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function ol(e,t){let n=e.consumersTail,i=rn(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!i)for(let r=e.producers;r!==void 0;r=r.nextProducer)ol(r.producer,r)}function xo(e){let t=e.producer,n=e.nextProducer,i=e.nextConsumer,r=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:t.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(t.consumers=i,!rn(t)){let o=t.producers;for(;o!==void 0;)o=xo(o)}return n}function rn(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Vi(e){rf?.(e)}function sf(e,t){let n=t.producersTail;if(n!==void 0){let i=t.producers;do{if(i===e)return!0;if(i===n)break;i=i.nextProducer}while(i!==void 0)}return!1}function Bi(e,t){return Object.is(e,t)}function Hn(e,t){let n=Object.create(af);n.computation=e,t!==void 0&&(n.equal=t);let i=()=>{if(Li(n),en(n),n.value===jn)throw n.error;return n.value};return i[ge]=n,Vi(n),i}var ki=Symbol("UNSET"),Pi=Symbol("COMPUTING"),jn=Symbol("ERRORED"),af=N(A({},bt),{value:ki,dirty:!0,error:null,equal:Bi,kind:"computed",producerMustRecompute(e){return e.value===ki||e.value===Pi},producerRecomputeValue(e){if(e.value===Pi)throw new Error("");let t=e.value;e.value=Pi;let n=wt(e),i,r=!1;try{i=e.computation(),P(null),r=t!==ki&&t!==jn&&i!==jn&&e.equal(t,i)}catch(o){i=jn,e.error=o}finally{tn(e,n)}if(r){e.value=t;return}e.value=i,e.version++}});function lf(){throw new Error}var sl=lf;function al(e){sl(e)}function Mo(e){sl=e}var cf=null;function So(e,t){let n=Object.create(ji);n.value=e,t!==void 0&&(n.equal=t);let i=()=>ll(n);return i[ge]=n,Vi(n),[i,s=>on(n,s),s=>Ao(n,s)]}function ll(e){return en(e),e.value}function on(e,t){Io()||al(e),e.equal(e.value,t)||(e.value=t,uf(e))}function Ao(e,t){Io()||al(e),on(e,t(e.value))}var ji=N(A({},bt),{equal:Bi,value:void 0,kind:"signal"});function uf(e){e.version++,nl(),wo(e),cf?.(e)}function Me(e){return typeof e=="function"}function Hi(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ui=Hi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Un(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var _e=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(Me(i))try{i()}catch(o){t=o instanceof Ui?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{cl(o)}catch(s){t=t??[],s instanceof Ui?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ui(t)}}add(t){var n;if(t&&t!==this)if(this.closed)cl(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Un(n,t)}remove(t){let{_finalizers:n}=this;n&&Un(n,t),t instanceof e&&t._removeParent(this)}};_e.EMPTY=(()=>{let e=new _e;return e.closed=!0,e})();var To=_e.EMPTY;function $i(e){return e instanceof _e||e&&"closed"in e&&Me(e.remove)&&Me(e.add)&&Me(e.unsubscribe)}function cl(e){Me(e)?e():e.unsubscribe()}var He={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var sn={setTimeout(e,t,...n){let{delegate:i}=sn;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=sn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ul(e){sn.setTimeout(()=>{let{onUnhandledError:t}=He;if(t)t(e);else throw e})}function No(){}var dl=Ro("C",void 0,void 0);function fl(e){return Ro("E",void 0,e)}function pl(e){return Ro("N",e,void 0)}function Ro(e,t,n){return{kind:e,value:t,error:n}}var xt=null;function an(e){if(He.useDeprecatedSynchronousErrorHandling){let t=!xt;if(t&&(xt={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=xt;if(xt=null,n)throw i}}else e()}function ml(e){He.useDeprecatedSynchronousErrorHandling&&xt&&(xt.errorThrown=!0,xt.error=e)}var Mt=class extends _e{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,$i(t)&&t.add(this)):this.destination=pf}static create(t,n,i){return new ln(t,n,i)}next(t){this.isStopped?Po(pl(t),this):this._next(t)}error(t){this.isStopped?Po(fl(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Po(dl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},df=Function.prototype.bind;function ko(e,t){return df.call(e,t)}var Fo=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Gi(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Gi(i)}else Gi(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Gi(n)}}},ln=class extends Mt{constructor(t,n,i){super();let r;if(Me(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&He.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&ko(t.next,o),error:t.error&&ko(t.error,o),complete:t.complete&&ko(t.complete,o)}):r=t}this.destination=new Fo(r)}};function Gi(e){He.useDeprecatedSynchronousErrorHandling?ml(e):ul(e)}function ff(e){throw e}function Po(e,t){let{onStoppedNotification:n}=He;n&&sn.setTimeout(()=>n(e,t))}var pf={closed:!0,next:No,error:ff,complete:No};var hl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gl(e){return e}function vl(e){return e.length===0?gl:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var cn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=hf(n)?n:new ln(n,i,r);return an(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=yl(i),new i((r,o)=>{let s=new ln({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[hl](){return this}pipe(...n){return vl(n)(this)}toPromise(n){return n=yl(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function yl(e){var t;return(t=e??He.Promise)!==null&&t!==void 0?t:Promise}function mf(e){return e&&Me(e.next)&&Me(e.error)&&Me(e.complete)}function hf(e){return e&&e instanceof Mt||mf(e)&&$i(e)}function gf(e){return Me(e?.lift)}function El(e){return t=>{if(gf(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Cl(e,t,n,i,r){return new Oo(e,t,n,i,r)}var Oo=class extends Mt{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var _l=Hi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pt=(()=>{class e extends cn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new qi(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new _l}next(n){an(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){an(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){an(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?To:(this.currentObservers=null,o.push(n),new _e(()=>{this.currentObservers=null,Un(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new cn;return n.source=this,n}}return e.create=(t,n)=>new qi(t,n),e})(),qi=class extends pt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:To}};var $n=class extends pt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};function Lo(e,t){return El((n,i)=>{let r=0;n.subscribe(Cl(i,o=>{i.next(e.call(t,o,r++))}))})}var Dl=N(A({},bt),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function bl(e){if(e.dirty=!1,e.version>0&&!nn(e))return;e.version++;let t=wt(e);try{e.cleanup(),e.fn()}finally{tn(e,t)}}var Zi="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(t,n){super(Wn(t,n)),this.code=t}};function vf(e){return`NG0${Math.abs(e)}`}function Wn(e,t){return`${vf(e)}${t?": "+t:""}`}function Q(e){for(let t in e)if(e[t]===Q)return t;throw Error("")}function mt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(mt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function Ki(e,t){return e?t?`${e} ${t}`:e:t||""}var yf=Q({__forward_ref__:Q});function Ji(e){return e.__forward_ref__=Ji,e.toString=function(){return mt(this())},e}function Ne(e){return xl(e)?e():e}function xl(e){return typeof e=="function"&&e.hasOwnProperty(yf)&&e.__forward_ref__===Ji}function ee(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Qn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Xi(e){return Ef(e,er)}function Ef(e,t){return e.hasOwnProperty(t)&&e[t]||null}function Cf(e){let t=e?.[er]??null;return t||null}function Bo(e){return e&&e.hasOwnProperty(Wi)?e[Wi]:null}var er=Q({\u0275prov:Q}),Wi=Q({\u0275inj:Q}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yo(e){return e&&!!e.\u0275providers}var Zo=Q({\u0275cmp:Q}),Ko=Q({\u0275dir:Q}),Jo=Q({\u0275pipe:Q});var jo=Q({\u0275fac:Q}),Nt=Q({__NG_ELEMENT_ID__:Q}),wl=Q({__NG_ENV_ID__:Q});function gt(e){return typeof e=="string"?e:e==null?"":String(e)}function Ml(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():gt(e)}var Sl=Q({ngErrorCode:Q}),_f=Q({ngErrorMessage:Q}),Df=Q({ngTokenPath:Q});function Xo(e,t){return Al("",-200,t)}function tr(e,t){throw new U(-201,!1)}function Al(e,t,n){let i=new U(t,e);return i[Sl]=t,i[_f]=e,n&&(i[Df]=n),i}function bf(e){return e[Sl]}var Ho;function Tl(){return Ho}function Te(e){let t=Ho;return Ho=e,t}function es(e,t,n){let i=Xi(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&8)return null;if(t!==void 0)return t;tr(e,"Injector")}var wf={},St=wf,If="__NG_DI_FLAG__",Uo=class{injector;constructor(t){this.injector=t}retrieve(t,n){let i=At(n)||0;try{return this.injector.get(t,i&8?null:St,i)}catch(r){if(Xt(r))return r;throw r}}};function xf(e,t=0){let n=Ni();if(n===void 0)throw new U(-203,!1);if(n===null)return es(e,void 0,t);{let i=Mf(t),r=n.retrieve(e,i);if(Xt(r)){if(i.optional)return null;throw r}return r}}function z(e,t=0){return(Tl()||xf)(Ne(e),t)}function T(e,t){return z(e,At(t))}function At(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Mf(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function $o(e){let t=[];for(let n=0;n<e.length;n++){let i=Ne(e[n]);if(Array.isArray(i)){if(i.length===0)throw new U(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=Sf(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(z(r,o))}else t.push(z(i))}return t}function Sf(e){return e[If]}function dn(e,t){let n=e.hasOwnProperty(jo);return n?e[jo]:null}function Nl(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function Rl(e){return e.flat(Number.POSITIVE_INFINITY)}function nr(e,t){e.forEach(n=>Array.isArray(n)?nr(n,t):t(n))}function ts(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Yn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function kl(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function ir(e,t,n){let i=fn(e,t);return i>=0?e[i|1]=n:(i=~i,kl(e,i,t,n)),i}function rr(e,t){let n=fn(e,t);if(n>=0)return e[n|1]}function fn(e,t){return Af(e,t,1)}function Af(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var Rt={},De=[],kt=new $(""),ns=new $("",-1),is=new $(""),qn=class{get(t,n=St){if(n===St){let r=Al("",-201);throw r.name="\u0275NotFound",r}return n}};function Pt(e){return e[Zo]||null}function rs(e){return e[Ko]||null}function Pl(e){return e[Jo]||null}function Zn(e){return{\u0275providers:e}}function Fl(...e){return{\u0275providers:os(!0,e),\u0275fromNgModule:!0}}function os(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return nr(t,s=>{let a=s;Qi(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Ol(r,o),n}function Ol(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];ss(r,o=>{t(o,i)})}}function Qi(e,t,n,i){if(e=Ne(e),!e)return!1;let r=null,o=Bo(e),s=!o&&Pt(e);if(!o&&!s){let l=e.ngModule;if(o=Bo(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Qi(u,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{nr(o.imports,p=>{Qi(p,t,n,i)&&(u||=[],u.push(p))})}finally{}u!==void 0&&Ol(u,t)}if(!a){let u=dn(r)||(()=>new r);t({provide:r,useFactory:u,deps:De},r),t({provide:is,useValue:r,multi:!0},r),t({provide:kt,useValue:()=>z(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=e;ss(l,p=>{t(p,u)})}}else return!1;return r!==e&&e.providers!==void 0}function ss(e,t){for(let n of e)Yo(n)&&(n=n.\u0275providers),Array.isArray(n)?ss(n,t):t(n)}var Tf=Q({provide:String,useValue:Q});function Ll(e){return e!==null&&typeof e=="object"&&Tf in e}function Nf(e){return!!(e&&e.useExisting)}function Rf(e){return!!(e&&e.useFactory)}function Yi(e){return typeof e=="function"}var Kn=new $(""),zi={},Il={},Vo;function Jn(){return Vo===void 0&&(Vo=new qn),Vo}var Fe=class{},Tt=class extends Fe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,qo(t,s=>this.processProvider(s)),this.records.set(ns,un(void 0,this)),r.has("environment")&&this.records.set(Fe,un(void 0,this));let o=this.records.get(Kn);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(is,De,{self:!0}))}retrieve(t,n){let i=At(n)||0;try{return this.get(t,St,i)}catch(r){if(Xt(r))return r;throw r}}destroy(){Gn(this),this._destroyed=!0;let t=P(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(t)}}onDestroy(t){return Gn(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Gn(this);let n=Ye(this),i=Te(void 0),r;try{return t()}finally{Ye(n),Te(i)}}get(t,n=St,i){if(Gn(this),t.hasOwnProperty(wl))return t[wl](this);let r=At(i),o,s=Ye(this),a=Te(void 0);try{if(!(r&4)){let u=this.records.get(t);if(u===void 0){let p=Lf(t)&&Xi(t);p&&this.injectableDefInScope(p)?u=un(Go(t),zi):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,r)}let l=r&2?Jn():this.parent;return n=r&8&&n===St?null:n,l.get(t,n)}catch(l){let u=bf(l);throw u===-200||u===-201?new U(u,null):l}finally{Te(a),Ye(s)}}resolveInjectorInitializers(){let t=P(null),n=Ye(this),i=Te(void 0),r;try{let o=this.get(kt,De,{self:!0});for(let s of o)s()}finally{Ye(n),Te(i),P(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(mt(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ne(t);let n=Yi(t)?t:Ne(t&&t.provide),i=Pf(t);if(!Yi(t)&&t.multi===!0){let r=this.records.get(n);r||(r=un(void 0,zi,!0),r.factory=()=>$o(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n,i){let r=P(null);try{if(n.value===Il)throw Xo(mt(t));return n.value===zi&&(n.value=Il,n.value=n.factory(void 0,i)),typeof n.value=="object"&&n.value&&Of(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{P(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ne(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Go(e){let t=Xi(e),n=t!==null?t.factory:dn(e);if(n!==null)return n;if(e instanceof $)throw new U(204,!1);if(e instanceof Function)return kf(e);throw new U(204,!1)}function kf(e){if(e.length>0)throw new U(204,!1);let n=Cf(e);return n!==null?()=>n.factory(e):()=>new e}function Pf(e){if(Ll(e))return un(void 0,e.useValue);{let t=Vl(e);return un(t,zi)}}function Vl(e,t,n){let i;if(Yi(e)){let r=Ne(e);return dn(r)||Go(r)}else if(Ll(e))i=()=>Ne(e.useValue);else if(Rf(e))i=()=>e.useFactory(...$o(e.deps||[]));else if(Nf(e))i=(r,o)=>z(Ne(e.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Ne(e&&(e.useClass||e.provide));if(Ff(e))i=()=>new r(...$o(e.deps));else return dn(r)||Go(r)}return i}function Gn(e){if(e.destroyed)throw new U(205,!1)}function un(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ff(e){return!!e.deps}function Of(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Lf(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function qo(e,t){for(let n of e)Array.isArray(n)?qo(n,t):n&&Yo(n)?qo(n.\u0275providers,t):t(n)}function or(e,t){let n;e instanceof Tt?(Gn(e),n=e):n=new Uo(e);let i,r=Ye(n),o=Te(void 0);try{return t()}finally{Ye(r),Te(o)}}function Bl(){return Tl()!==void 0||Ni()!=null}var Ue=0,k=1,O=2,pe=3,Le=4,Ve=5,pn=6,mn=7,ae=8,at=9,Ke=10,ie=11,hn=12,as=13,Ft=14,Be=15,vt=16,Ot=17,Je=18,Xn=19,ls=20,ot=21,sr=22,lt=23,Re=24,ar=25,Lt=26,ve=27,jl=1,cs=6,yt=7,ei=8,Vt=9,oe=10;function ct(e){return Array.isArray(e)&&typeof e[jl]=="object"}function $e(e){return Array.isArray(e)&&e[jl]===!0}function us(e){return(e.flags&4)!==0}function Bt(e){return e.componentOffset>-1}function lr(e){return(e.flags&1)===1}function jt(e){return!!e.template}function gn(e){return(e[O]&512)!==0}function Ht(e){return(e[O]&256)===256}var ds="svg",Hl="math";function je(e){for(;Array.isArray(e);)e=e[Ue];return e}function fs(e,t){return je(t[e])}function Ge(e,t){return je(t[e.index])}function ti(e,t){return e.data[t]}function Xe(e,t){let n=t[e];return ct(n)?n:n[Ue]}function cr(e){return(e[O]&128)===128}function Ul(e){return $e(e[pe])}function et(e,t){return t==null?null:e[t]}function ps(e){e[Ot]=0}function ms(e){e[O]&1024||(e[O]|=1024,cr(e)&&Ut(e))}function $l(e,t){for(;e>0;)t=t[Ft],e--;return t}function ni(e){return!!(e[O]&9216||e[Re]?.dirty)}function ur(e){e[Ke].changeDetectionScheduler?.notify(8),e[O]&64&&(e[O]|=1024),ni(e)&&Ut(e)}function Ut(e){e[Ke].changeDetectionScheduler?.notify(0);let t=ht(e);for(;t!==null&&!(t[O]&8192||(t[O]|=8192,!cr(t)));)t=ht(t)}function hs(e,t){if(Ht(e))throw new U(911,!1);e[ot]===null&&(e[ot]=[]),e[ot].push(t)}function Gl(e,t){if(e[ot]===null)return;let n=e[ot].indexOf(t);n!==-1&&e[ot].splice(n,1)}function ht(e){let t=e[pe];return $e(t)?t[pe]:t}function gs(e){return e[mn]??=[]}function vs(e){return e.cleanup??=[]}function ql(e,t,n,i){let r=gs(t);r.push(n),e.firstCreatePass&&vs(e).push(i,r.length-1)}var H={lFrame:ac(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var zo=!1;function zl(){return H.lFrame.elementDepthCount}function Wl(){H.lFrame.elementDepthCount++}function ys(){H.lFrame.elementDepthCount--}function Ql(){return H.bindingsEnabled}function Yl(){return H.skipHydrationRootTNode!==null}function Es(e){return H.skipHydrationRootTNode===e}function Cs(){H.skipHydrationRootTNode=null}function G(){return H.lFrame.lView}function be(){return H.lFrame.tView}function C(e){return H.lFrame.contextLView=e,e[ae]}function _(e){return H.lFrame.contextLView=null,e}function ke(){let e=_s();for(;e!==null&&e.type===64;)e=e.parent;return e}function _s(){return H.lFrame.currentTNode}function Zl(){let e=H.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function vn(e,t){let n=H.lFrame;n.currentTNode=e,n.isParent=t}function Ds(){return H.lFrame.isParent}function Kl(){H.lFrame.isParent=!1}function bs(){return zo}function yn(e){let t=zo;return zo=e,t}function Jl(){let e=H.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Xl(){return H.lFrame.bindingIndex}function ec(e){return H.lFrame.bindingIndex=e}function Et(){return H.lFrame.bindingIndex++}function dr(e){let t=H.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function tc(){return H.lFrame.inI18n}function nc(e,t){let n=H.lFrame;n.bindingIndex=n.bindingRootIndex=e,fr(t)}function ic(){return H.lFrame.currentDirectiveIndex}function fr(e){H.lFrame.currentDirectiveIndex=e}function rc(e){let t=H.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function oc(){return H.lFrame.currentQueryIndex}function pr(e){H.lFrame.currentQueryIndex=e}function Vf(e){let t=e[k];return t.type===2?t.declTNode:t.type===1?e[Ve]:null}function ws(e,t,n){if(n&4){let r=t,o=e;for(;r=r.parent,r===null&&!(n&1);)if(r=Vf(o),r===null||(o=o[Ft],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=H.lFrame=sc();return i.currentTNode=t,i.lView=e,!0}function mr(e){let t=sc(),n=e[k];H.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function sc(){let e=H.lFrame,t=e===null?null:e.child;return t===null?ac(e):t}function ac(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function lc(){let e=H.lFrame;return H.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Is=lc;function hr(){let e=lc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function cc(e){return(H.lFrame.contextLView=$l(e,H.lFrame.contextLView))[ae]}function tt(){return H.lFrame.selectedIndex}function Ct(e){H.lFrame.selectedIndex=e}function gr(){let e=H.lFrame;return ti(e.tView,e.selectedIndex)}function $t(){H.lFrame.currentNamespace=ds}function uc(){return H.lFrame.currentNamespace}var dc=!0;function vr(){return dc}function yr(e){dc=e}function Wo(e,t=null,n=null,i){let r=fc(e,t,n,i);return r.resolveInjectorInitializers(),r}function fc(e,t=null,n=null,i,r=new Set){let o=[n||De,Fl(e)];return i=i||(typeof e=="object"?void 0:mt(e)),new Tt(o,t||Jn(),i||null,r)}var st=class e{static THROW_IF_NOT_FOUND=St;static NULL=new qn;static create(t,n){if(Array.isArray(t))return Wo({name:""},n,t,"");{let i=t.name??"";return Wo({name:i},t.parent,t.providers,i)}}static \u0275prov=ee({token:e,providedIn:"any",factory:()=>z(ns)});static __NG_ELEMENT_ID__=-1},qe=new $(""),Gt=(()=>{class e{static __NG_ELEMENT_ID__=Bf;static __NG_ENV_ID__=n=>n}return e})(),zn=class extends Gt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Ht(this._lView)}onDestroy(t){let n=this._lView;return hs(n,t),()=>Gl(n,t)}};function Bf(){return new zn(G())}var Oe=class{_console=console;handleError(t){this._console.error("ERROR",t)}},_t=new $("",{providedIn:"root",factory:()=>{let e=T(Fe),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Oe),t.handleError(n))}}}),pc={provide:kt,useValue:()=>void T(Oe),multi:!0};function w(e,t){let[n,i,r]=So(e,t?.equal),o=n,s=o[ge];return o.set=i,o.update=r,o.asReadonly=xs.bind(o),o}function xs(){let e=this[ge];if(e.readonlyFn===void 0){let t=()=>this();t[ge]=e,e.readonlyFn=t}return e.readonlyFn}var ii=(()=>{class e{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=jf}return e})();function jf(){return new ii(G(),ke())}var Ze=class{},ri=new $("",{providedIn:"root",factory:()=>!1});var Ms=new $(""),Er=new $(""),qt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new $n(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new cn(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ee({token:e,providedIn:"root",factory:()=>new e})}return e})();function zt(...e){}var oi=(()=>{class e{static \u0275prov=ee({token:e,providedIn:"root",factory:()=>new Qo})}return e})(),Qo=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,i=this.queues.get(n);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,i]of this.queues)n===null?t||=this.flushQueue(i):t||=n.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,n=!0,i.run());return n}};function ua(e){return{toString:e}.toString()}function Kf(e){return typeof e=="function"}var xr=class{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Gc(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function Jf(e){return e.type.prototype.ngOnChanges&&(e.setInput=ep),Xf}function Xf(){let e=zc(this),t=e?.current;if(t){let n=e.previous;if(n===Rt)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function ep(e,t,n,i,r){let o=this.declaredInputs[i],s=zc(e)||tp(e,{previous:Rt,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new xr(u&&u.currentValue,n,l===Rt),Gc(e,t,r,n)}var qc="__ngSimpleChanges__";function zc(e){return e[qc]||null}function tp(e,t){return e[qc]=t}var mc=[];var K=function(e,t=null,n){for(let i=0;i<mc.length;i++){let r=mc[i];r(e,t,n)}};function np(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=Jf(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function ip(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:p}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),p!=null&&(e.destroyHooks??=[]).push(n,p)}}function _r(e,t,n){Wc(e,t,3,n)}function Dr(e,t,n,i){(e[O]&3)===n&&Wc(e,t,n,i)}function Ss(e,t){let n=e[O];(n&3)===t&&(n&=16383,n+=1,e[O]=n)}function Wc(e,t,n,i){let r=i!==void 0?e[Ot]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[Ot]+=65536),(a<o||o==-1)&&(rp(e,n,t,l),e[Ot]=(e[Ot]&4294901760)+l+2),l++}function hc(e,t){K(4,e,t);let n=P(null);try{t.call(e)}finally{P(n),K(5,e,t)}}function rp(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[O]>>14<e[Ot]>>16&&(e[O]&3)===t&&(e[O]+=16384,hc(a,o)):hc(a,o)}var Cn=-1,li=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i,r){this.factory=t,this.name=r,this.canSeeViewProviders=n,this.injectImpl=i}};function op(e){return(e.flags&8)!==0}function sp(e){return(e.flags&16)!==0}function ap(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];cp(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function lp(e){return e===3||e===4||e===6}function cp(e){return e.charCodeAt(0)===64}function Hr(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?gc(e,n,r,null,t[++i]):gc(e,n,r,null,null))}}return e}function gc(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r)}function Qc(e){return e!==Cn}function Mr(e){return e&32767}function up(e){return e>>16}function Sr(e,t){let n=up(e),i=t;for(;n>0;)i=i[Ft],n--;return i}var Fs=!0;function vc(e){let t=Fs;return Fs=e,t}var dp=256,Yc=dp-1,Zc=5,fp=0,nt={};function pp(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Nt)&&(i=n[Nt]),i==null&&(i=n[Nt]=fp++);let r=i&Yc,o=1<<r;t.data[e+(r>>Zc)]|=o}function Kc(e,t){let n=Jc(e,t);if(n!==-1)return n;let i=t[k];i.firstCreatePass&&(e.injectorIndex=t.length,As(i.data,e),As(t,null),As(i.blueprint,null));let r=da(e,t),o=e.injectorIndex;if(Qc(r)){let s=Mr(r),a=Sr(r,t),l=a[k].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=r,o}function As(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jc(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function da(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=iu(r),i===null)return Cn;if(n++,r=r[Ft],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Cn}function mp(e,t,n){pp(e,t,n)}function Xc(e,t,n){if(n&8||e!==void 0)return e;tr(t,"NodeInjector")}function eu(e,t,n,i){if(n&8&&i===void 0&&(i=null),(n&3)===0){let r=e[at],o=Te(void 0);try{return r?r.get(t,i,n&8):es(t,i,n&8)}finally{Te(o)}}return Xc(i,t,n)}function tu(e,t,n,i=0,r){if(e!==null){if(t[O]&2048&&!(i&2)){let s=yp(e,t,n,i,nt);if(s!==nt)return s}let o=nu(e,t,n,i,nt);if(o!==nt)return o}return eu(t,n,i,r)}function nu(e,t,n,i,r){let o=gp(n);if(typeof o=="function"){if(!ws(t,e,i))return i&1?Xc(r,n,i):eu(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&8))tr(n);else return s}finally{Is()}}else if(typeof o=="number"){let s=null,a=Jc(e,t),l=Cn,u=i&1?t[Be][Ve]:null;for((a===-1||i&4)&&(l=a===-1?da(e,t):t[a+8],l===Cn||!Ec(i,!1)?a=-1:(s=t[k],a=Mr(l),t=Sr(l,t)));a!==-1;){let p=t[k];if(yc(o,a,p.data)){let E=hp(a,t,n,s,i,u);if(E!==nt)return E}l=t[a+8],l!==Cn&&Ec(i,t[k].data[a+8]===u)&&yc(o,a,t)?(s=p,a=Mr(l),t=Sr(l,t)):a=-1}}return r}function hp(e,t,n,i,r,o){let s=t[k],a=s.data[e+8],l=i==null?Bt(a)&&Fs:i!=s&&(a.type&3)!==0,u=r&1&&o===a,p=br(a,s,n,l,u);return p!==null?Ar(t,s,p,a,r):nt}function br(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,u=e.directiveEnd,p=o>>20,E=i?a:a+p,b=r?a+p:u;for(let D=E;D<b;D++){let F=s[D];if(D<l&&n===F||D>=l&&F.type===n)return D}if(r){let D=s[l];if(D&&jt(D)&&D.type===n)return l}return null}function Ar(e,t,n,i,r){let o=e[n],s=t.data;if(o instanceof li){let a=o;if(a.resolving){let D=Ml(s[n]);throw Xo(D)}let l=vc(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],p,E=a.injectImpl?Te(a.injectImpl):null,b=ws(e,i,0);try{o=e[n]=a.factory(void 0,r,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&np(n,s[n],t)}finally{E!==null&&Te(E),vc(l),a.resolving=!1,Is()}}return o}function gp(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Nt)?e[Nt]:void 0;return typeof t=="number"?t>=0?t&Yc:vp:t}function yc(e,t,n){let i=1<<e;return!!(n[t+(e>>Zc)]&i)}function Ec(e,t){return!(e&2)&&!(e&1&&t)}var Wt=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return tu(this._tNode,this._lView,t,At(i),n)}};function vp(){return new Wt(ke(),G())}function yp(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[O]&2048&&!gn(s);){let a=nu(o,s,n,i|2,nt);if(a!==nt)return a;let l=o.parent;if(!l){let u=s[ls];if(u){let p=u.get(n,nt,i);if(p!==nt)return p}l=iu(s),s=s[Ft]}o=l}return r}function iu(e){let t=e[k],n=t.type;return n===2?t.declTNode:n===1?e[Ve]:null}function Ep(){return In(ke(),G())}function In(e,t){return new xn(Ge(e,t))}var xn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Ep}return e})();function Cp(e){return e instanceof xn?e.nativeElement:e}function _p(){return this._results[Symbol.iterator]()}var Tr=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new pt}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=Rl(t);(this._changesDetected=!Nl(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=_p};function ru(e){return(e.flags&128)===128}var fa=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(fa||{}),ou=new Map,Dp=0;function bp(){return Dp++}function wp(e){ou.set(e[Xn],e)}function Os(e){ou.delete(e[Xn])}var Cc="__ngContext__";function _n(e,t){ct(t)?(e[Cc]=t[Xn],wp(t)):e[Cc]=t}function su(e){return lu(e[hn])}function au(e){return lu(e[Le])}function lu(e){for(;e!==null&&!$e(e);)e=e[Le];return e}var Ls;function pa(e){Ls=e}function cu(){if(Ls!==void 0)return Ls;if(typeof document<"u")return document;throw new U(210,!1)}var Ur=new $("",{providedIn:"root",factory:()=>Ip}),Ip="ng",$r=new $(""),gi=new $("",{providedIn:"platform",factory:()=>"unknown"});var Gr=new $("",{providedIn:"root",factory:()=>cu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var xp="h",Mp="b";var uu="r";var du="di";var fu=!1,pu=new $("",{providedIn:"root",factory:()=>fu});var Sp=(e,t,n,i)=>{};function Ap(e,t,n,i){Sp(e,t,n,i)}function ma(e){return(e.flags&32)===32}var Tp=()=>null;function mu(e,t,n=!1){return Tp(e,t,n)}function hu(e,t){let n=e.contentQueries;if(n!==null){let i=P(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];pr(o),a.contentQueries(2,t[s],s)}}}finally{P(i)}}}function Vs(e,t,n){pr(0);let i=P(null);try{t(e,n)}finally{P(i)}}function gu(e,t,n){if(us(t)){let i=P(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{P(i)}}}var dt=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(dt||{});var Nr=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zi})`}};function qr(e){return e instanceof Nr?e.changingThisBreaksApplicationSecurity:e}function vu(e,t){let n=yu(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Zi})`)}return n===t}function yu(e){return e instanceof Nr&&e.getTypeName()||null}var Np=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Eu(e){return e=String(e),e.match(Np)?e:"unsafe:"+e}var ha=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(ha||{});function ne(e){let t=Rp();return t?t.sanitize(ha.URL,e)||"":vu(e,"URL")?qr(e):Eu(gt(e))}function Rp(){let e=G();return e&&e[Ke].sanitizer}function Mn(e){return e.ownerDocument.defaultView}function kp(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}var Cu="ng-template";function Pp(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&kp(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(ga(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ga(e){return e.type===4&&e.value!==Cu}function Fp(e,t,n){let i=e.type===4&&!n?Cu:e.value;return t===i}function Op(e,t,n){let i=4,r=e.attrs,o=r!==null?Bp(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!ze(i)&&!ze(l))return!1;if(s&&ze(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Fp(e,l,n)||l===""&&t.length===1){if(ze(i))return!1;s=!0}}else if(i&8){if(r===null||!Pp(e,r,l,n)){if(ze(i))return!1;s=!0}}else{let u=t[++a],p=Lp(l,r,ga(e),n);if(p===-1){if(ze(i))return!1;s=!0;continue}if(u!==""){let E;if(p>o?E="":E=r[p+1].toLowerCase(),i&2&&u!==E){if(ze(i))return!1;s=!0}}}}return ze(i)||s}function ze(e){return(e&1)===0}function Lp(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return jp(t,e)}function Vp(e,t,n=!1){for(let i=0;i<t.length;i++)if(Op(e,t[i],n))return!0;return!1}function Bp(e){for(let t=0;t<e.length;t++){let n=e[t];if(lp(n))return t}return e.length}function jp(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function _c(e,t){return e?":not("+t.trim()+")":t}function Hp(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!ze(s)&&(t+=_c(o,r),r=""),i=s,o=o||!ze(i);n++}return r!==""&&(t+=_c(o,r)),t}function Up(e){return e.map(Hp).join(",")}function $p(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!ze(r))break;r=o}i++}return n.length&&t.push(1,...n),t}var we={};function Gp(e,t){return e.createText(t)}function qp(e,t,n){e.setValue(t,n)}function _u(e,t,n){return e.createElement(t,n)}function Rr(e,t,n,i,r){e.insertBefore(t,n,i,r)}function Du(e,t,n){e.appendChild(t,n)}function Dc(e,t,n,i,r){i!==null?Rr(e,t,n,i,r):Du(e,t,n)}function bu(e,t,n,i){e.removeChild(null,t,n,i)}function zp(e,t,n){e.setAttribute(t,"style",n)}function Wp(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function wu(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&ap(e,t,i),r!==null&&Wp(e,t,r),o!==null&&zp(e,t,o)}function va(e,t,n,i,r,o,s,a,l,u,p){let E=ve+i,b=E+r,D=Qp(E,b),F=typeof u=="function"?u():u;return D[k]={type:e,blueprint:D,template:n,queries:null,viewQuery:a,declTNode:t,data:D.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:F,incompleteFirstPass:!1,ssrId:p}}function Qp(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:we);return n}function Yp(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=va(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ya(e,t,n,i,r,o,s,a,l,u,p){let E=t.blueprint.slice();return E[Ue]=r,E[O]=i|4|128|8|64|1024,(u!==null||e&&e[O]&2048)&&(E[O]|=2048),ps(E),E[pe]=E[Ft]=e,E[ae]=n,E[Ke]=s||e&&e[Ke],E[ie]=a||e&&e[ie],E[at]=l||e&&e[at]||null,E[Ve]=o,E[Xn]=bp(),E[pn]=p,E[ls]=u,E[Be]=t.type==2?e[Be]:E,E}function Zp(e,t,n){let i=Ge(t,e),r=Yp(n),o=e[Ke].rendererFactory,s=Ea(e,ya(e,r,null,Iu(n),i,t,null,o.createRenderer(i,n),null,null,null));return e[t.index]=s}function Iu(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function xu(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Ea(e,t){return e[hn]?e[as][Le]=t:e[hn]=t,e[as]=t,t}function c(e=1){Mu(be(),G(),tt()+e,!1)}function Mu(e,t,n,i){if(!i)if((t[O]&3)===3){let o=e.preOrderCheckHooks;o!==null&&_r(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Dr(t,o,0,n)}Ct(n)}var zr=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(zr||{});function Bs(e,t,n,i){let r=P(null);try{let[o,s,a]=e.inputs[n],l=null;(s&zr.SignalBased)!==0&&(l=t[o][ge]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(t,i)),e.setInput!==null?e.setInput(t,l,i,n,o):Gc(t,l,o,i)}finally{P(r)}}var ft=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(ft||{}),Kp;function Ca(e,t){return Kp(e,t)}var Qt=new Set,_a=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(_a||{}),vi=new $(""),bc=new Set;function Kt(e){bc.has(e)||(bc.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Su=!1,js=class extends pt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Bl()&&(this.destroyRef=T(Gt,{optional:!0})??void 0,this.pendingTasks=T(qt,{optional:!0})??void 0)}emit(t){let n=P(null);try{super.next(t)}finally{P(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof _e&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ut=js;function Au(e){let t,n;function i(){e=zt;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function wc(e){return queueMicrotask(()=>e()),()=>{e=zt}}var Da="isAngularZone",kr=Da+"_ID",Jp=0,me=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ut(!1);onMicrotaskEmpty=new ut(!1);onStable=new ut(!1);onError=new ut(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Su}=t;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,tm(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Da)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new U(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,Xp,zt,zt);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},Xp={};function ba(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function em(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Au(()=>{e.callbackScheduled=!1,Hs(e),e.isCheckStableRunning=!0,ba(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Hs(e)}function tm(e){let t=()=>{em(e)},n=Jp++;e._inner=e._inner.fork({name:"angular",properties:{[Da]:!0,[kr]:n,[kr+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(nm(l))return i.invokeTask(o,s,a,l);try{return Ic(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),xc(e)}},onInvoke:(i,r,o,s,a,l,u)=>{try{return Ic(e),i.invoke(o,s,a,l,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!im(l)&&t(),xc(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Hs(e),ba(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Hs(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Ic(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xc(e){e._nesting--,ba(e)}var ci=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ut;onMicrotaskEmpty=new ut;onStable=new ut;onError=new ut;run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function nm(e){return Tu(e,"__ignore_ng_zone__")}function im(e){return Tu(e,"__scheduler_tick__")}function Tu(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Nu=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=ee({token:e,providedIn:"root",factory:()=>new e})}return e})();var Ru=new $("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function ku(e,t,n){let i=e.get(Ru);if(Array.isArray(t))for(let r of t)i.queue.add(r),n?.detachedLeaveAnimationFns?.push(r);else i.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(e)}function rm(e,t){let n=e.get(Ru);if(t.detachedLeaveAnimationFns){for(let i of t.detachedLeaveAnimationFns)n.queue.delete(i);t.detachedLeaveAnimationFns=void 0}}function om(e,t){for(let[n,i]of t)ku(e,i.animateFns)}function Mc(e,t,n,i){let r=e?.[Lt]?.enter;t!==null&&r&&r.has(n.index)&&om(i,r)}function En(e,t,n,i,r,o,s,a){if(r!=null){let l,u=!1;$e(r)?l=r:ct(r)&&(u=!0,r=r[Ue]);let p=je(r);e===0&&i!==null?(Mc(a,i,o,n),s==null?Du(t,i,p):Rr(t,i,p,s||null,!0)):e===1&&i!==null?(Mc(a,i,o,n),Rr(t,i,p,s||null,!0)):e===2?Sc(a,o,n,E=>{bu(t,p,u,E)}):e===3&&Sc(a,o,n,()=>{t.destroyNode(p)}),l!=null&&ym(t,e,n,l,o,i,s)}}function sm(e,t){Pu(e,t),t[Ue]=null,t[Ve]=null}function am(e,t,n,i,r,o){i[Ue]=r,i[Ve]=t,Qr(e,i,n,1,r,o)}function Pu(e,t){t[Ke].changeDetectionScheduler?.notify(9),Qr(e,t,t[ie],2,null,null)}function lm(e){let t=e[hn];if(!t)return Ts(e[k],e);for(;t;){let n=null;if(ct(t))n=t[hn];else{let i=t[oe];i&&(n=i)}if(!n){for(;t&&!t[Le]&&t!==e;)ct(t)&&Ts(t[k],t),t=t[pe];t===null&&(t=e),ct(t)&&Ts(t[k],t),n=t&&t[Le]}t=n}}function wa(e,t){let n=e[Vt],i=n.indexOf(t);n.splice(i,1)}function Wr(e,t){if(Ht(t))return;let n=t[ie];n.destroyNode&&Qr(e,t,n,3,null,null),lm(t)}function Ts(e,t){if(Ht(t))return;let n=P(null);try{t[O]&=-129,t[O]|=256,t[Re]&&It(t[Re]),dm(e,t),um(e,t),t[k].type===1&&t[ie].destroy();let i=t[vt];if(i!==null&&$e(t[pe])){i!==t[pe]&&wa(i,t);let r=t[Je];r!==null&&r.detachView(e)}Os(t)}finally{P(n)}}function Sc(e,t,n,i){let r=e?.[Lt];if(r==null||r.leave==null||!r.leave.has(t.index))return i(!1);e&&Qt.add(e),ku(n,()=>{if(r.leave&&r.leave.has(t.index)){let s=r.leave.get(t.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let u=s.animateFns[l],{promise:p}=u();a.push(p)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),cm(e,i)}else e&&Qt.delete(e),i(!1)},r)}function cm(e,t){let n=e[Lt]?.running;if(n){n.then(()=>{e[Lt].running=void 0,Qt.delete(e),t(!0)});return}t(!1)}function um(e,t){let n=e.cleanup,i=t[mn];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(t[mn]=null);let r=t[ot];if(r!==null){t[ot]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=t[lt];if(o!==null){t[lt]=null;for(let s of o)s.destroy()}}function dm(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof li)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];K(4,a,l);try{l.call(a)}finally{K(5,a,l)}}else{K(4,r,o);try{o.call(r)}finally{K(5,r,o)}}}}}function fm(e,t,n){return pm(e,t.parent,n)}function pm(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[Ue];if(Bt(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===dt.None||r===dt.Emulated)return null}return Ge(i,n)}function mm(e,t,n){return gm(e,t,n)}function hm(e,t,n){return e.type&40?Ge(e,n):null}var gm=hm,Ac;function Ia(e,t,n,i){let r=fm(e,i,t),o=t[ie],s=i.parent||t[Ve],a=mm(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Dc(o,r,n[l],a,!1);else Dc(o,r,n,a,!1);Ac!==void 0&&Ac(o,i,t,n,r)}function si(e,t){if(t!==null){let n=t.type;if(n&3)return Ge(t,e);if(n&4)return Us(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return si(e,i);{let r=e[t.index];return $e(r)?Us(-1,r):je(r)}}else{if(n&128)return si(e,t.next);if(n&32)return Ca(t,e)()||je(e[t.index]);{let i=Fu(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=ht(e[Be]);return si(r,i)}else return si(e,t.next)}}}return null}function Fu(e,t){if(t!==null){let i=e[Be][Ve],r=t.projection;return i.projection[r]}return null}function Us(e,t){let n=oe+e+1;if(n<t.length){let i=t[n],r=i[k].firstChild;if(r!==null)return si(i,r)}return t[yt]}function xa(e,t,n,i,r,o,s){for(;n!=null;){let a=i[at];if(n.type===128){n=n.next;continue}let l=i[n.index],u=n.type;if(s&&t===0&&(l&&_n(je(l),i),n.flags|=2),!ma(n))if(u&8)xa(e,t,n.child,i,r,o,!1),En(t,e,a,r,l,n,o,i);else if(u&32){let p=Ca(n,i),E;for(;E=p();)En(t,e,a,r,E,n,o,i);En(t,e,a,r,l,n,o,i)}else u&16?vm(e,t,i,n,r,o):En(t,e,a,r,l,n,o,i);n=s?n.projectionNext:n.next}}function Qr(e,t,n,i,r,o){xa(n,i,e.firstChild,t,r,o,!1)}function vm(e,t,n,i,r,o){let s=n[Be],l=s[Ve].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let p=l[u];En(t,e,n[at],r,p,i,o,n)}else{let u=l,p=s[pe];ru(i)&&(u.flags|=128),xa(e,t,u,p,r,o,!0)}}function ym(e,t,n,i,r,o,s){let a=i[yt],l=je(i);a!==l&&En(t,e,n,o,a,r,s);for(let u=oe;u<i.length;u++){let p=i[u];Qr(p[k],p,e,t,o,a)}}function Em(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:ft.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ft.Important),e.setStyle(n,i,r,o))}}function Ou(e,t,n,i,r){let o=tt(),s=i&2;try{Ct(-1),s&&t.length>ve&&Mu(e,t,ve,!1),K(s?2:0,r,n),n(i,r)}finally{Ct(o),K(s?3:1,r,n)}}function Lu(e,t,n){xm(e,t,n),(n.flags&64)===64&&Mm(e,t,n)}function Ma(e,t,n=Ge){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function Cm(e,t,n,i){let o=i.get(pu,fu)||n===dt.ShadowDom,s=e.selectRootElement(t,o);return _m(s),s}function _m(e){Dm(e)}var Dm=()=>null;function bm(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function wm(e,t,n,i,r,o){let s=t[k];if(Sa(e,s,t,n,i)){Bt(e)&&Im(t,e.index);return}e.type&3&&(n=bm(n)),Vu(e,t,n,i,r,o)}function Vu(e,t,n,i,r,o){if(e.type&3){let s=Ge(e,t);i=o!=null?o(i,e.value||"",n):i,r.setProperty(s,n,i)}else e.type&12}function Im(e,t){let n=Xe(t,e);n[O]&16||(n[O]|=64)}function xm(e,t,n){let i=n.directiveStart,r=n.directiveEnd;Bt(n)&&Zp(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Kc(n,t);let o=n.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=Ar(t,e,s,n);if(_n(l,t),o!==null&&Rm(t,s-i,l,a,n,o),jt(a)){let u=Xe(n.index,t);u[ae]=Ar(t,e,s,n)}}}function Mm(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=ic();try{Ct(o);for(let a=i;a<r;a++){let l=e.data[a],u=t[a];fr(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Sm(l,u)}}finally{Ct(-1),fr(s)}}function Sm(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Am(e,t){let n=e.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];Vp(t,o.selectors,!1)&&(i??=[],jt(o)?i.unshift(o):i.push(o))}return i}function Tm(e,t,n,i,r,o){let s=Ge(e,t);Nm(t[ie],s,o,e.value,n,i,r)}function Nm(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?gt(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function Rm(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Bs(i,n,l,u)}}function Bu(e,t,n,i,r){let o=ve+n,s=t[k],a=r(s,t,e,i,n);t[o]=a,vn(e,!0);let l=e.type===2;return l?(wu(t[ie],a,e),(zl()===0||lr(e))&&_n(a,t),Wl()):_n(a,t),vr()&&(!l||!ma(e))&&Ia(s,t,a,e),e}function ju(e){let t=e;return Ds()?Kl():(t=t.parent,vn(t,!1)),t}function km(e,t){let n=e[at];if(!n)return;let i;try{i=n.get(_t,null)}catch{i=null}i?.(t)}function Sa(e,t,n,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],p=s[l+1],E=t.data[u];Bs(E,n[u],p,r),a=!0}if(o)for(let l of o){let u=n[l],p=t.data[l];Bs(p,u,i,r),a=!0}return a}function Pm(e,t){let n=Xe(t,e),i=n[k];Fm(i,n);let r=n[Ue];r!==null&&n[pn]===null&&(n[pn]=mu(r,n[at])),K(18),Aa(i,n,n[ae]),K(19,n[ae])}function Fm(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Aa(e,t,n){mr(t);try{let i=e.viewQuery;i!==null&&Vs(1,i,n);let r=e.template;r!==null&&Ou(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Je]?.finishViewCreation(e),e.staticContentQueries&&hu(e,t),e.staticViewQueries&&Vs(2,e.viewQuery,n);let o=e.components;o!==null&&Om(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[O]&=-5,hr()}}function Om(e,t){for(let n=0;n<t.length;n++)Pm(e,t[n])}function Yr(e,t,n,i){let r=P(null);try{let o=t.tView,a=e[O]&4096?4096:16,l=ya(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=e[t.index];l[vt]=u;let p=e[Je];return p!==null&&(l[Je]=p.createEmbeddedView(o)),Aa(o,l,n),l}finally{P(r)}}function ui(e,t){return!t||t.firstChild===null||ru(e)}function di(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(je(o)),$e(o)&&Hu(o,i);let s=n.type;if(s&8)di(e,t,n.child,i);else if(s&32){let a=Ca(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=Fu(t,n);if(Array.isArray(a))i.push(...a);else{let l=ht(t[Be]);di(l[k],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function Hu(e,t){for(let n=oe;n<e.length;n++){let i=e[n],r=i[k].firstChild;r!==null&&di(i[k],i,r,t)}e[yt]!==e[Ue]&&t.push(e[yt])}function Uu(e){if(e[ar]!==null){for(let t of e[ar])t.impl.addSequence(t);e[ar].length=0}}var $u=[];function Lm(e){return e[Re]??Vm(e)}function Vm(e){let t=$u.pop()??Object.create(jm);return t.lView=e,t}function Bm(e){e.lView[Re]!==e&&(e.lView=null,$u.push(e))}var jm=N(A({},bt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ut(e.lView)},consumerOnSignalRead(){this.lView[Re]=this}});function Hm(e){let t=e[Re]??Object.create(Um);return t.lView=e,t}var Um=N(A({},bt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=ht(e.lView);for(;t&&!Gu(t[k]);)t=ht(t);t&&ms(t)},consumerOnSignalRead(){this.lView[Re]=this}});function Gu(e){return e.type!==2}function qu(e){if(e[lt]===null)return;let t=!0;for(;t;){let n=!1;for(let i of e[lt])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(e[O]&8192)}}var $m=100;function zu(e,t=0){let i=e[Ke].rendererFactory,r=!1;r||i.begin?.();try{Gm(e,t)}finally{r||i.end?.()}}function Gm(e,t){let n=bs();try{yn(!0),$s(e,t);let i=0;for(;ni(e);){if(i===$m)throw new U(103,!1);i++,$s(e,1)}}finally{yn(n)}}function qm(e,t,n,i){if(Ht(t))return;let r=t[O],o=!1,s=!1;mr(t);let a=!0,l=null,u=null;o||(Gu(e)?(u=Lm(t),l=wt(u)):Oi()===null?(a=!1,u=Hm(t),l=wt(u)):t[Re]&&(It(t[Re]),t[Re]=null));try{ps(t),ec(e.bindingStartIndex),n!==null&&Ou(e,t,n,2,i);let p=(r&3)===3;if(!o)if(p){let D=e.preOrderCheckHooks;D!==null&&_r(t,D,null)}else{let D=e.preOrderHooks;D!==null&&Dr(t,D,0,null),Ss(t,0)}if(s||zm(t),qu(t),Wu(t,0),e.contentQueries!==null&&hu(e,t),!o)if(p){let D=e.contentCheckHooks;D!==null&&_r(t,D)}else{let D=e.contentHooks;D!==null&&Dr(t,D,1),Ss(t,1)}Qm(e,t);let E=e.components;E!==null&&Yu(t,E,0);let b=e.viewQuery;if(b!==null&&Vs(2,b,i),!o)if(p){let D=e.viewCheckHooks;D!==null&&_r(t,D)}else{let D=e.viewHooks;D!==null&&Dr(t,D,2),Ss(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[sr]){for(let D of t[sr])D();t[sr]=null}o||(Uu(t),t[O]&=-73)}catch(p){throw o||Ut(t),p}finally{u!==null&&(tn(u,l),a&&Bm(u)),hr()}}function Wu(e,t){for(let n=su(e);n!==null;n=au(n))for(let i=oe;i<n.length;i++){let r=n[i];Qu(r,t)}}function zm(e){for(let t=su(e);t!==null;t=au(t)){if(!(t[O]&2))continue;let n=t[Vt];for(let i=0;i<n.length;i++){let r=n[i];ms(r)}}}function Wm(e,t,n){K(18);let i=Xe(t,e);Qu(i,n),K(19,i[ae])}function Qu(e,t){cr(e)&&$s(e,t)}function $s(e,t){let i=e[k],r=e[O],o=e[Re],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&nn(o)),s||=!1,o&&(o.dirty=!1),e[O]&=-9217,s)qm(i,e,i.template,e[ae]);else if(r&8192){let a=P(null);try{qu(e),Wu(e,1);let l=i.components;l!==null&&Yu(e,l,1),Uu(e)}finally{P(a)}}}function Yu(e,t,n){for(let i=0;i<t.length;i++)Wm(e,t[i],n)}function Qm(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Ct(~r);else{let o=r,s=n[++i],a=n[++i];nc(s,o);let l=t[o];K(24,l),a(2,l),K(25,l)}}}finally{Ct(-1)}}function Ta(e,t){let n=bs()?64:1088;for(e[Ke].changeDetectionScheduler?.notify(t);e;){e[O]|=n;let i=ht(e);if(gn(e)&&!i)return e;e=i}return null}function Zu(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function Ku(e,t){let n=oe+t;if(n<e.length)return e[n]}function Zr(e,t,n,i=!0){let r=t[k];if(Ym(r,t,e,n),i){let s=Us(n,e),a=t[ie],l=a.parentNode(e[yt]);l!==null&&am(r,e[Ve],a,t,l,s)}let o=t[pn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ju(e,t){let n=fi(e,t);return n!==void 0&&Wr(n[k],n),n}function fi(e,t){if(e.length<=oe)return;let n=oe+t,i=e[n];if(i){let r=i[vt];r!==null&&r!==e&&wa(r,i),t>0&&(e[n-1][Le]=i[Le]);let o=Yn(e,oe+t);sm(i[k],i);let s=o[Je];s!==null&&s.detachView(o[k]),i[pe]=null,i[Le]=null,i[O]&=-129}return i}function Ym(e,t,n,i){let r=oe+i,o=n.length;i>0&&(n[r-1][Le]=t),i<o-oe?(t[Le]=n[r],ts(n,oe+i,t)):(n.push(t),t[Le]=null),t[pe]=n;let s=t[vt];s!==null&&n!==s&&Xu(s,t);let a=t[Je];a!==null&&a.insertView(e),ur(t),t[O]|=128}function Xu(e,t){let n=e[Vt],i=t[pe];if(ct(i))e[O]|=2;else{let r=i[pe][Be];t[Be]!==r&&(e[O]|=2)}n===null?e[Vt]=[t]:n.push(t)}var Dn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[k];return di(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ae]}set context(t){this._lView[ae]=t}get destroyed(){return Ht(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[pe];if($e(t)){let n=t[ei],i=n?n.indexOf(this):-1;i>-1&&(fi(t,i),Yn(n,i))}this._attachedToViewContainer=!1}Wr(this._lView[k],this._lView)}onDestroy(t){hs(this._lView,t)}markForCheck(){Ta(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){ur(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,zu(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=gn(this._lView),n=this._lView[vt];n!==null&&!t&&wa(n,this._lView),Pu(this._lView[k],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=t;let n=gn(this._lView),i=this._lView[vt];i!==null&&!n&&Xu(i,this._lView),ur(this._lView)}};var bn=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Zm;constructor(n,i,r){this._declarationLView=n,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,r){let o=Yr(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:r});return new Dn(o)}}return e})();function Zm(){return Na(ke(),G())}function Na(e,t){return e.type&4?new bn(t,e,In(e,t)):null}function Kr(e,t,n,i,r){let o=e.data[t];if(o===null)o=Km(e,t,n,i,r),tc()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=Zl();o.injectorIndex=s===null?-1:s.injectorIndex}return vn(o,!0),o}function Km(e,t,n,i,r){let o=_s(),s=Ds(),a=s?o:o&&o.parent,l=e.data[t]=Xm(e,a,n,t,i,r);return Jm(e,l,o,s),l}function Jm(e,t,n,i){e.firstChild===null&&(e.firstChild=t),n!==null&&(i?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function Xm(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Yl()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var rD=new RegExp(`^(\\d+)*(${Mp}|${xp})*(.*)`);function eh(e){let t=e[cs]??[],i=e[pe][ie],r=[];for(let o of t)o.data[du]!==void 0?r.push(o):th(o,i);e[cs]=r}function th(e,t){let n=0,i=e.firstChild;if(i){let r=e.data[uu];for(;n<r;){let o=i.nextSibling;bu(t,i,!1),i=o,n++}}}var nh=()=>null,ih=()=>null;function Gs(e,t){return nh(e,t)}function ed(e,t,n){return ih(e,t,n)}var td=class{},Jr=class{},qs=class{resolveComponentFactory(t){throw new U(917,!1)}},Xr=class{static NULL=new qs},Yt=class{};var nd=(()=>{class e{static \u0275prov=ee({token:e,providedIn:"root",factory:()=>null})}return e})();var wr={},zs=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){let r=this.injector.get(t,wr,i);return r!==wr||n===wr?r:this.parentInjector.get(t,n,i)}};function Pr(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=Ki(r,a);else if(o==2){let l=a,u=t[++s];i=Ki(i,l+": "+u+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function Ra(e,t=0){let n=G();if(n===null)return z(e,t);let i=ke();return tu(i,n,Ne(e),t)}function rh(e,t,n,i,r){let o=i===null?null:{"":-1},s=r(e,n);if(s!==null){let a=s,l=null,u=null;for(let p of s)if(p.resolveHostDirectives!==null){[a,l,u]=p.resolveHostDirectives(s);break}ah(e,t,n,a,o,l,u)}o!==null&&i!==null&&oh(n,i,o)}function oh(e,t,n){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new U(-301,!1);i.push(t[r],o)}}function sh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ah(e,t,n,i,r,o,s){let a=i.length,l=!1;for(let b=0;b<a;b++){let D=i[b];!l&&jt(D)&&(l=!0,sh(e,n,b)),mp(Kc(n,t),e,D.type)}ph(n,e.data.length,a);for(let b=0;b<a;b++){let D=i[b];D.providersResolver&&D.providersResolver(D)}let u=!1,p=!1,E=xu(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let b=0;b<a;b++){let D=i[b];if(n.mergedAttrs=Hr(n.mergedAttrs,D.hostAttrs),ch(e,n,t,E,D),fh(E,D,r),s!==null&&s.has(D)){let[q,ce]=s.get(D);n.directiveToIndex.set(D.type,[E,q+n.directiveStart,ce+n.directiveStart])}else(o===null||!o.has(D))&&n.directiveToIndex.set(D.type,E);D.contentQueries!==null&&(n.flags|=4),(D.hostBindings!==null||D.hostAttrs!==null||D.hostVars!==0)&&(n.flags|=64);let F=D.type.prototype;!u&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!p&&(F.ngOnChanges||F.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),E++}lh(e,n,o)}function lh(e,t,n){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=e.data[i];if(n===null||!n.has(r))Tc(0,t,r,i),Tc(1,t,r,i),Rc(t,i,!1);else{let o=n.get(r);Nc(0,t,o,i),Nc(1,t,o,i),Rc(t,i,!0)}}}function Tc(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),id(t,o)}}function Nc(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),id(t,s)}}function id(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Rc(e,t,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!n&&r===null||n&&o===null||ga(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&r.hasOwnProperty(l)){let u=r[l];for(let p of u)if(p===t){s??=[],s.push(l,i[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let u=o[l];for(let p=0;p<u.length;p+=2)if(u[p]===t){s??=[],s.push(u[p+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function ch(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=dn(r.type,!0)),s=new li(o,jt(r),Ra,null);e.blueprint[i]=s,n[i]=s,uh(e,t,i,xu(e,n,r.hostVars,we),r)}function uh(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;dh(s)!=a&&s.push(a),s.push(n,i,o)}}function dh(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function fh(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;jt(t)&&(n[""]=e)}}function ph(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function rd(e,t,n,i,r,o,s,a){let l=t[k],u=l.consts,p=et(u,s),E=Kr(l,e,n,i,p);return o&&rh(l,t,E,et(u,a),r),E.mergedAttrs=Hr(E.mergedAttrs,E.attrs),E.attrs!==null&&Pr(E,E.attrs,!1),E.mergedAttrs!==null&&Pr(E,E.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,E),E}function od(e,t){ip(e,t),us(t)&&e.queries.elementEnd(t)}function mh(e,t,n,i,r,o){let s=t.consts,a=et(s,r),l=Kr(t,e,n,i,a);if(l.mergedAttrs=Hr(l.mergedAttrs,l.attrs),o!=null){let u=et(s,o);l.localNames=[];for(let p=0;p<u.length;p+=2)l.localNames.push(u[p],-1)}return l.attrs!==null&&Pr(l,l.attrs,!1),l.mergedAttrs!==null&&Pr(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function hh(e,t,n){return e[t]=n}function gh(e,t){return e[t]}function Qe(e,t,n){if(n===we)return!1;let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function vh(e,t,n,i){let r=Qe(e,t,n);return Qe(e,t+1,i)||r}function Ir(e,t,n){return function i(r){let o=Bt(e)?Xe(e.index,t):t;Ta(o,5);let s=t[ae],a=kc(t,s,n,r),l=i.__ngNextListenerFn__;for(;l;)a=kc(t,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function kc(e,t,n,i){let r=P(null);try{return K(6,t,n),n(i)!==!1}catch(o){return km(e,o),!1}finally{K(7,t,n),P(r)}}function sd(e,t,n,i,r,o,s,a){let l=lr(e),u=!1,p=null;if(!i&&l&&(p=Eh(t,n,o,e.index)),p!==null){let E=p.__ngLastListenerFn__||p;E.__ngNextListenerFn__=s,p.__ngLastListenerFn__=s,u=!0}else{let E=Ge(e,n),b=i?i(E):E;Ap(n,b,o,a);let D=r.listen(b,o,a);if(!yh(o)){let F=i?q=>i(je(q[e.index])):e.index;ad(F,t,n,o,a,D,!1)}}return u}function yh(e){return e.startsWith("animation")||e.startsWith("transition")}function Eh(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[mn],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function ad(e,t,n,i,r,o,s){let a=t.firstCreatePass?vs(t):null,l=gs(n),u=l.length;l.push(r,o),a&&a.push(i,e,u,(u+1)*(s?-1:1))}function Pc(e,t,n,i,r,o){let s=t[n],a=t[k],u=a.data[n].outputs[i],E=s[u].subscribe(o);ad(e.index,a,t,r,o,E,!0)}var Ws=Symbol("BINDING");var Qs=class extends Xr{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Pt(t);return new pi(n,this.ngModule)}};function Ch(e){return Object.keys(e).map(t=>{let[n,i,r]=e[t],o={propName:n,templateName:t,isSignal:(i&zr.SignalBased)!==0};return r&&(o.transform=r),o})}function _h(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Dh(e,t,n){let i=t instanceof Fe?t:t?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new zs(n,i):n}function bh(e){let t=e.get(Yt,null);if(t===null)throw new U(407,!1);let n=e.get(nd,null),i=e.get(Ze,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:i,ngReflect:!1}}function wh(e,t){let n=ld(e);return _u(t,n,n==="svg"?ds:n==="math"?Hl:null)}function ld(e){return(e.selectors[0][0]||"div").toLowerCase()}var pi=class extends Jr{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Ch(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=_h(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Up(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,i,r,o,s){K(22);let a=P(null);try{let l=this.componentDef,u=Ih(i,l,s,o),p=Dh(l,r||this.ngModule,t),E=bh(p),b=E.rendererFactory.createRenderer(null,l),D=i?Cm(b,i,l.encapsulation,p):wh(l,b),F=s?.some(Fc)||o?.some(ue=>typeof ue!="function"&&ue.bindings.some(Fc)),q=ya(null,u,null,512|Iu(l),null,null,E,b,p,null,mu(D,p,!0));q[ve]=D,mr(q);let ce=null;try{let ue=rd(ve,q,2,"#host",()=>u.directiveRegistry,!0,0);wu(b,D,ue),_n(D,q),Lu(u,q,ue),gu(u,ue,q),od(u,ue),n!==void 0&&Mh(ue,this.ngContentSelectors,n),ce=Xe(ue.index,q),q[ae]=ce[ae],Aa(u,q,null)}catch(ue){throw ce!==null&&Os(ce),Os(q),ue}finally{K(23),hr()}return new Fr(this.componentType,q,!!F)}finally{P(a)}}};function Ih(e,t,n,i){let r=e?["ng-version","20.3.12"]:$p(t.selectors[0]),o=null,s=null,a=0;if(n)for(let p of n)a+=p[Ws].requiredVars,p.create&&(p.targetIdx=0,(o??=[]).push(p)),p.update&&(p.targetIdx=0,(s??=[]).push(p));if(i)for(let p=0;p<i.length;p++){let E=i[p];if(typeof E!="function")for(let b of E.bindings){a+=b[Ws].requiredVars;let D=p+1;b.create&&(b.targetIdx=D,(o??=[]).push(b)),b.update&&(b.targetIdx=D,(s??=[]).push(b))}}let l=[t];if(i)for(let p of i){let E=typeof p=="function"?p:p.type,b=rs(E);l.push(b)}return va(0,null,xh(o,s),1,a,l,null,null,null,[r],null)}function xh(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let i of e)i.create();if(n&2&&t)for(let i of t)i.update()}}function Fc(e){let t=e[Ws].kind;return t==="input"||t==="twoWay"}var Fr=class extends td{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,i){super(),this._rootLView=n,this._hasInputBindings=i,this._tNode=ti(n[k],ve),this.location=In(this._tNode,n),this.instance=Xe(this._tNode.index,n)[ae],this.hostView=this.changeDetectorRef=new Dn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let r=this._rootLView,o=Sa(i,r[k],r,t,n);this.previousInputValues.set(t,n);let s=Xe(i.index,r);Ta(s,1)}get injector(){return new Wt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Mh(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var yi=(()=>{class e{static __NG_ELEMENT_ID__=Sh}return e})();function Sh(){let e=ke();return ud(e,G())}var Ah=yi,cd=class extends Ah{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return In(this._hostTNode,this._hostLView)}get injector(){return new Wt(this._hostTNode,this._hostLView)}get parentInjector(){let t=da(this._hostTNode,this._hostLView);if(Qc(t)){let n=Sr(t,this._hostLView),i=Mr(t),r=n[k].data[i+8];return new Wt(r,n)}else return new Wt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Oc(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-oe}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Gs(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,ui(this._hostTNode,s)),a}createComponent(t,n,i,r,o,s,a){let l=t&&!Kf(t),u;if(l)u=n;else{let ce=n||{};u=ce.index,i=ce.injector,r=ce.projectableNodes,o=ce.environmentInjector||ce.ngModuleRef,s=ce.directives,a=ce.bindings}let p=l?t:new pi(Pt(t)),E=i||this.parentInjector;if(!o&&p.ngModule==null){let ue=(l?E:this.parentInjector).get(Fe,null);ue&&(o=ue)}let b=Pt(p.componentType??{}),D=Gs(this._lContainer,b?.id??null),F=D?.firstChild??null,q=p.create(E,r,F,o,s,a);return this.insertImpl(q.hostView,u,ui(this._hostTNode,D)),q}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(Ul(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[pe],u=new cd(l,l[Ve],l[pe]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Zr(s,r,o,i),t.attachToViewContainerRef(),ts(Ns(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Oc(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=fi(this._lContainer,n);i&&(Yn(Ns(this._lContainer),n),Wr(i[k],i))}detach(t){let n=this._adjustIndex(t,-1),i=fi(this._lContainer,n);return i&&Yn(Ns(this._lContainer),n)!=null?new Dn(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Oc(e){return e[ei]}function Ns(e){return e[ei]||(e[ei]=[])}function ud(e,t){let n,i=t[e.index];return $e(i)?n=i:(n=Zu(i,t,null,e),t[e.index]=n,Ea(t,n)),Nh(n,t,e,i),new cd(n,e,t)}function Th(e,t){let n=e[ie],i=n.createComment(""),r=Ge(t,e),o=n.parentNode(r);return Rr(n,o,i,n.nextSibling(r),!1),i}var Nh=Ph,Rh=()=>!1;function kh(e,t,n){return Rh(e,t,n)}function Ph(e,t,n,i){if(e[yt])return;let r;n.type&8?r=je(i):r=Th(t,n),e[yt]=r}var Ys=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Zs=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)pd(t,n).matches!==null&&this.queries[n].setDirty()}},Ks=class{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=Hh(t):this.predicate=t}},Js=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Xs=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,Fh(n,o)),this.matchTNodeWithReadOption(t,n,br(n,t,o,!1,!1))}else i===bn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,br(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===xn||r===yi||r===bn&&n.type&4)this.addMatch(n.index,-2);else{let o=br(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function Fh(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function Oh(e,t){return e.type&11?In(e,t):e.type&4?Na(e,t):null}function Lh(e,t,n,i){return n===-1?Oh(t,e):n===-2?Vh(e,t,i):Ar(e,e[k],n,t)}function Vh(e,t,n){if(n===xn)return In(t,e);if(n===bn)return Na(t,e);if(n===yi)return ud(t,e)}function dd(e,t,n,i){let r=t[Je].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let p=o[u];a.push(Lh(t,p,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function ea(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=dd(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let u=o[a+1],p=t[-l];for(let E=oe;E<p.length;E++){let b=p[E];b[vt]===b[pe]&&ea(b[k],b,u,i)}if(p[Vt]!==null){let E=p[Vt];for(let b=0;b<E.length;b++){let D=E[b];ea(D[k],D,u,i)}}}}}return i}function fd(e,t){return e[Je].queries[t].queryList}function Bh(e,t,n){let i=new Tr((n&4)===4);return ql(e,t,i,i.destroy),(t[Je]??=new Zs).queries.push(new Ys(i))-1}function jh(e,t,n){let i=be();return i.firstCreatePass&&(Uh(i,new Ks(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),Bh(i,G(),t)}function Hh(e){return e.split(",").map(t=>t.trim())}function Uh(e,t,n){e.queries===null&&(e.queries=new Js),e.queries.track(new Xs(t,n))}function pd(e,t){return e.queries.getByIndex(t)}function $h(e,t){let n=e[k],i=pd(n,t);return i.crossesNgTemplate?ea(n,e,t,[]):dd(n,e,i,t)}function md(e,t,n){let i,r=Hn(()=>{i._dirtyCounter();let o=qh(i,e);if(t&&o===void 0)throw new U(-951,!1);return o});return i=r[ge],i._dirtyCounter=w(0),i._flatValue=void 0,r}function hd(e){return md(!0,!1,e)}function gd(e){return md(!0,!0,e)}function Gh(e,t){let n=e[ge];n._lView=G(),n._queryIndex=t,n._queryList=fd(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(i=>i+1))}function qh(e,t){let n=e._lView,i=e._queryIndex;if(n===void 0||i===void 0||n[O]&4)return t?void 0:De;let r=fd(n,i),o=$h(n,i);return r.reset(o,Cp),t?r.first:r._changesDetected||e._flatValue===void 0?e._flatValue=r.toArray():e._flatValue}var Or=class{};var mi=class extends Or{injector;componentFactoryResolver=new Qs(this);instance=null;constructor(t){super();let n=new Tt([...t.providers,{provide:Or,useValue:this},{provide:Xr,useValue:this.componentFactoryResolver}],t.parent||Jn(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function vd(e,t,n=null){return new mi({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var zh=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=os(!1,n.type),r=i.length>0?vd([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ee({token:e,providedIn:"environment",factory:()=>new e(z(Fe))})}return e})();function le(e){return ua(()=>{let t=Zh(e),n=N(A({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===fa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(zh).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||dt.Emulated,styles:e.styles||De,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Kt("NgStandalone"),Kh(n);let i=e.dependencies;return n.directiveDefs=Lc(i,Wh),n.pipeDefs=Lc(i,Pl),n.id=Jh(n),n})}function Wh(e){return Pt(e)||rs(e)}function eo(e){return ua(()=>({type:e.type,bootstrap:e.bootstrap||De,declarations:e.declarations||De,imports:e.imports||De,exports:e.exports||De,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Qh(e,t){if(e==null)return Rt;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=zr.None,l=null),n[o]=[i,a,l],t[o]=s}return n}function Yh(e){if(e==null)return Rt;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Zh(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Rt,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||De,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Qh(e.inputs,t),outputs:Yh(e.outputs),debugInfo:null}}function Kh(e){e.features?.forEach(t=>t(e))}function Lc(e,t){return e?()=>{let n=typeof e=="function"?e():e,i=[];for(let r of n){let o=t(r);o!==null&&i.push(o)}return i}:null}function Jh(e){let t=0,n=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Xh(e,t,n,i,r,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Hr(e.mergedAttrs,e.attrs);let p=e.tView=va(2,e,r,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),p.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),vn(e,!1);let l=eg(n,t,e,i);vr()&&Ia(n,t,l,e),_n(l,t);let u=Zu(l,t,l,e);t[i+ve]=u,Ea(t,u),kh(u,e,t)}function Lr(e,t,n,i,r,o,s,a,l,u,p){let E=n+ve,b;if(t.firstCreatePass){if(b=Kr(t,E,4,s||null,a||null),u!=null){let D=et(t.consts,u);b.localNames=[];for(let F=0;F<D.length;F+=2)b.localNames.push(D[F],-1)}}else b=t.data[E];return Xh(b,e,t,n,i,r,o,l),u!=null&&Ma(e,b,p),b}var eg=tg;function tg(e,t,n,i){return yr(!0),t[ie].createComment("")}var ka=new $("");function Pa(e){return!!e&&typeof e.then=="function"}function yd(e){return!!e&&typeof e.subscribe=="function"}var Ed=new $("");var Fa=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=T(Ed,{optional:!0})??[];injector=T(st);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=or(this.injector,r);if(Pa(o))n.push(o);else if(yd(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cd=new $("");function _d(){Mo(()=>{let e="";throw new U(600,e)})}function Dd(e){return e.isBoundToModule}var ng=10;var Ei=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=T(_t);afterRenderManager=T(Nu);zonelessEnabled=T(ri);rootEffectScheduler=T(oi);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new pt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=T(qt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Lo(n=>!n))}constructor(){T(vi,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=T(Fe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,r=st.NULL){return this._injector.get(me).run(()=>{K(10);let s=n instanceof Jr;if(!this._injector.get(Fa).done){let F="";throw new U(405,F)}let l;s?l=n:l=this._injector.get(Xr).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let u=Dd(l)?void 0:this._injector.get(Or),p=i||l.selector,E=l.create(r,[],p,u),b=E.location.nativeElement,D=E.injector.get(ka,null);return D?.registerApplication(b),E.onDestroy(()=>{this.detachView(E.hostView),ai(this.components,E),D?.unregisterApplication(b)}),this._loadComponent(E),K(11,E),E})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){K(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(_a.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let n=P(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,P(n),this.afterTick.next(),K(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Yt,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<ng;)K(14),this.synchronizeOnce(),K(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!ni(r))continue;let o=i&&!this.zonelessEnabled?0:1;zu(r,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ni(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;ai(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(Cd,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ai(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ai(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function to(e,t,n,i){let r=G(),o=Et();if(Qe(r,o,t)){let s=be(),a=gr();Tm(a,r,e,t,n,i)}return to}var uD=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var ta=class{destroy(t){}updateValue(t,n){}swap(t,n){let i=Math.min(t,n),r=Math.max(t,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(t,n){this.attach(n,this.detach(t))}};function Rs(e,t,n,i,r){return e===n&&Object.is(t,i)?1:Object.is(r(e,t),r(n,i))?-1:0}function ig(e,t,n){let i,r,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;o<=s&&o<=l;){let u=e.at(o),p=t[o],E=Rs(o,u,o,p,n);if(E!==0){E<0&&e.updateValue(o,p),o++;continue}let b=e.at(s),D=t[l],F=Rs(s,b,l,D,n);if(F!==0){F<0&&e.updateValue(s,D),s--,l--;continue}let q=n(o,u),ce=n(s,b),ue=n(o,p);if(Object.is(ue,ce)){let Bn=n(l,D);Object.is(Bn,q)?(e.swap(o,s),e.updateValue(s,D),l--,s--):e.move(s,o),e.updateValue(o,p),o++;continue}if(i??=new Vr,r??=Bc(e,o,s,n),na(e,i,o,ue))e.updateValue(o,p),o++,s++;else if(r.has(ue))i.set(q,e.detach(o)),s--;else{let Bn=e.create(o,t[o]);e.attach(o,Bn),o++,s++}}for(;o<=l;)Vc(e,i,n,o,t[o]),o++}else if(t!=null){let l=t[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let p=e.at(o),E=u.value,b=Rs(o,p,o,E,n);if(b!==0)b<0&&e.updateValue(o,E),o++,u=l.next();else{i??=new Vr,r??=Bc(e,o,s,n);let D=n(o,E);if(na(e,i,o,D))e.updateValue(o,E),o++,s++,u=l.next();else if(!r.has(D))e.attach(o,e.create(o,E)),o++,s++,u=l.next();else{let F=n(o,p);i.set(F,e.detach(o)),s--}}}for(;!u.done;)Vc(e,i,n,e.length,u.value),u=l.next()}for(;o<=s;)e.destroy(e.detach(s--));i?.forEach(l=>{e.destroy(l)})}function na(e,t,n,i){return t!==void 0&&t.has(i)?(e.attach(n,t.get(i)),t.delete(i),!0):!1}function Vc(e,t,n,i,r){if(na(e,t,i,n(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function Bc(e,t,n,i){let r=new Set;for(let o=t;o<=n;o++)r.add(i(o,e.at(o)));return r}var Vr=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,i]of this.kvMap)if(t(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,n)}}};function I(e,t,n,i,r,o,s,a){Kt("NgControlFlow");let l=G(),u=be(),p=et(u.consts,o);return Lr(l,u,e,t,n,i,r,p,256,s,a),Oa}function Oa(e,t,n,i,r,o,s,a){Kt("NgControlFlow");let l=G(),u=be(),p=et(u.consts,o);return Lr(l,u,e,t,n,i,r,p,512,s,a),Oa}function x(e,t){Kt("NgControlFlow");let n=G(),i=Et(),r=n[i]!==we?n[i]:-1,o=r!==-1?Br(n,ve+r):void 0,s=0;if(Qe(n,i,e)){let a=P(null);try{if(o!==void 0&&Ju(o,s),e!==-1){let l=ve+e,u=Br(n,l),p=sa(n[k],l),E=ed(u,p,n),b=Yr(n,p,t,{dehydratedView:E});Zr(u,b,s,ui(p,E))}}finally{P(a)}}else if(o!==void 0){let a=Ku(o,s);a!==void 0&&(a[ae]=t)}}var ia=class{lContainer;$implicit;$index;constructor(t,n,i){this.lContainer=t,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-oe}};function Ie(e){return e}function Ci(e,t){return t}var ra=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,i){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=i}};function J(e,t,n,i,r,o,s,a,l,u,p,E,b){Kt("NgControlFlow");let D=G(),F=be(),q=l!==void 0,ce=G(),ue=a?s.bind(ce[Be][ae]):s,Bn=new ra(q,ue);ce[ve+e]=Bn,Lr(D,F,e+1,t,n,i,r,et(F.consts,o),256),q&&Lr(D,F,e+2,l,u,p,E,et(F.consts,b),512)}var oa=class extends ta{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,i){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-oe}at(t){return this.getLView(t)[ae].$implicit}attach(t,n){let i=n[pn];this.needsIndexUpdate||=t!==this.length,Zr(this.lContainer,n,t,ui(this.templateTNode,i)),rg(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,og(this.lContainer,t),sg(this.lContainer,t)}create(t,n){let i=Gs(this.lContainer,this.templateTNode.tView.ssrId),r=Yr(this.hostLView,this.templateTNode,new ia(this.lContainer,n,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){Wr(t[k],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ae].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ae].$index=t}getLView(t){return ag(this.lContainer,t)}};function X(e){let t=P(null),n=tt();try{let i=G(),r=i[k],o=i[n],s=n+1,a=Br(i,s);if(o.liveCollection===void 0){let u=sa(r,s);o.liveCollection=new oa(a,i,u)}else o.liveCollection.reset();let l=o.liveCollection;if(ig(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=Et(),p=l.length===0;if(Qe(i,u,p)){let E=n+2,b=Br(i,E);if(p){let D=sa(r,E),F=ed(b,D,i),q=Yr(i,D,void 0,{dehydratedView:F});Zr(b,q,0,ui(D,F))}else r.firstUpdatePass&&eh(b),Ju(b,0)}}}finally{P(t)}}function Br(e,t){return e[t]}function rg(e,t){if(e.length<=oe)return;let n=oe+t,i=e[n],r=i?i[Lt]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[at];rm(o,r),Qt.delete(i),r.detachedLeaveAnimationFns=void 0}}function og(e,t){if(e.length<=oe)return;let n=oe+t,i=e[n],r=i?i[Lt]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function sg(e,t){return fi(e,t)}function ag(e,t){return Ku(e,t)}function sa(e,t){return ti(e,t)}function V(e,t,n){let i=G(),r=Et();if(Qe(i,r,t)){let o=be(),s=gr();wm(s,i,e,t,i[ie],n)}return V}function aa(e,t,n,i,r){Sa(t,e,n,r?"class":"style",i)}function v(e,t,n,i){let r=G(),o=r[k],s=e+ve,a=o.firstCreatePass?rd(s,r,2,t,Am,Ql(),n,i):o.data[s];if(Bu(a,r,e,t,bd),lr(a)){let l=r[k];Lu(l,r,a),gu(l,a,r)}return i!=null&&Ma(r,a),v}function y(){let e=be(),t=ke(),n=ju(t);return e.firstCreatePass&&od(e,n),Es(n)&&Cs(),ys(),n.classesWithoutHost!=null&&op(n)&&aa(e,n,G(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&sp(n)&&aa(e,n,G(),n.stylesWithoutHost,!1),y}function de(e,t,n,i){return v(e,t,n,i),y(),de}function h(e,t,n,i){let r=G(),o=r[k],s=e+ve,a=o.firstCreatePass?mh(s,o,2,t,n,i):o.data[s];return Bu(a,r,e,t,bd),i!=null&&Ma(r,a),h}function m(){let e=ke(),t=ju(e);return Es(t)&&Cs(),ys(),m}function Y(e,t,n,i){return h(e,t,n,i),m(),Y}var bd=(e,t,n,i,r)=>(yr(!0),_u(t[ie],i,uc()));function B(){return G()}function R(e,t,n){let i=G(),r=Et();if(Qe(i,r,t)){let o=be(),s=gr();Vu(s,i,e,t,i[ie],n)}return R}var _i="en-US";var lg=_i;function wd(e){typeof e=="string"&&(lg=e.toLowerCase().replace(/_/g,"-"))}function M(e,t,n){let i=G(),r=be(),o=ke();return cg(r,i,i[ie],o,e,t,n),M}function S(e,t,n){let i=G(),r=be(),o=ke();return(o.type&3||n)&&sd(o,r,i,n,i[ie],e,t,Ir(o,i,t)),S}function cg(e,t,n,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=Ir(i,t,o),sd(i,e,t,s,n,r,o,l)&&(a=!1)),a){let u=i.outputs?.[r],p=i.hostDirectiveOutputs?.[r];if(p&&p.length)for(let E=0;E<p.length;E+=2){let b=p[E],D=p[E+1];l??=Ir(i,t,o),Pc(i,t,b,D,r,l)}if(u&&u.length)for(let E of u)l??=Ir(i,t,o),Pc(i,t,E,r,r,l)}}function g(e=1){return cc(e)}function he(e,t,n,i){Gh(e,jh(t,n,i))}function Pe(e=1){pr(oc()+e)}function Cr(e,t){return e<<17|t<<2}function Zt(e){return e>>17&32767}function ug(e){return(e&2)==2}function dg(e,t){return e&131071|t<<17}function la(e){return e|2}function wn(e){return(e&131068)>>2}function ks(e,t){return e&-131069|t<<2}function fg(e){return(e&1)===1}function ca(e){return e|1}function pg(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Zt(s),l=wn(s);e[i]=n;let u=!1,p;if(Array.isArray(n)){let E=n;p=E[1],(p===null||fn(E,p)>0)&&(u=!0)}else p=n;if(r)if(l!==0){let b=Zt(e[a+1]);e[i+1]=Cr(b,a),b!==0&&(e[b+1]=ks(e[b+1],i)),e[a+1]=dg(e[a+1],i)}else e[i+1]=Cr(a,0),a!==0&&(e[a+1]=ks(e[a+1],i)),a=i;else e[i+1]=Cr(l,0),a===0?a=i:e[l+1]=ks(e[l+1],i),l=i;u&&(e[i+1]=la(e[i+1])),jc(e,p,i,!0),jc(e,p,i,!1),mg(t,p,e,i,o),s=Cr(a,l),o?t.classBindings=s:t.styleBindings=s}function mg(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&fn(o,t)>=0&&(n[i+1]=ca(n[i+1]))}function jc(e,t,n,i){let r=e[n+1],o=t===null,s=i?Zt(r):wn(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],u=e[s+1];hg(l,t)&&(a=!0,e[s+1]=i?ca(u):la(u)),s=i?Zt(u):wn(u)}a&&(e[n+1]=i?la(r):ca(r))}function hg(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?fn(e,t)>=0:!1}var We={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gg(e){return e.substring(We.key,We.keyEnd)}function vg(e){return yg(e),Id(e,xd(e,0,We.textEnd))}function Id(e,t){let n=We.textEnd;return n===t?-1:(t=We.keyEnd=Eg(e,We.key=t,n),xd(e,t,n))}function yg(e){We.key=0,We.keyEnd=0,We.value=0,We.valueEnd=0,We.textEnd=e.length}function xd(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Eg(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function xe(e,t,n){return Md(e,t,n,!1),xe}function se(e,t){return Md(e,t,null,!0),se}function f(e){_g(Mg,Cg,e,!0)}function Cg(e,t){for(let n=vg(t);n>=0;n=Id(t,n))ir(e,gg(t),!0)}function Md(e,t,n,i){let r=G(),o=be(),s=dr(2);if(o.firstUpdatePass&&Ad(o,e,s,i),t!==we&&Qe(r,s,t)){let a=o.data[tt()];Td(o,a,r,r[ie],e,r[s+1]=Ag(t,n),i,s)}}function _g(e,t,n,i){let r=be(),o=dr(2);r.firstUpdatePass&&Ad(r,null,o,i);let s=G();if(n!==we&&Qe(s,o,n)){let a=r.data[tt()];if(Nd(a,i)&&!Sd(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Ki(l,n||"")),aa(r,a,s,n,i)}else Sg(r,a,s,s[ie],s[o+1],s[o+1]=xg(e,t,n),i,o)}}function Sd(e,t){return t>=e.expandoStartIndex}function Ad(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[tt()],s=Sd(e,n);Nd(o,i)&&t===null&&!s&&(t=!1),t=Dg(r,o,t,i),pg(r,o,t,n,s,i)}}function Dg(e,t,n,i){let r=rc(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Ps(null,e,t,n,i),n=hi(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=Ps(r,e,t,n,i),o===null){let l=bg(e,t,i);l!==void 0&&Array.isArray(l)&&(l=Ps(null,e,t,l[1],i),l=hi(l,t.attrs,i),wg(e,t,i,l))}else o=Ig(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function bg(e,t,n){let i=n?t.classBindings:t.styleBindings;if(wn(i)!==0)return e[Zt(i)]}function wg(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Zt(r)]=i}function Ig(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=hi(i,s,n)}return hi(i,t.attrs,n)}function Ps(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=hi(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function hi(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),ir(e,s,n?!0:t[++o]))}return e===void 0?null:e}function xg(e,t,n){if(n==null||n==="")return De;let i=[],r=qr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function Mg(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&ir(e,i,n)}function Sg(e,t,n,i,r,o,s,a){r===we&&(r=De);let l=0,u=0,p=0<r.length?r[0]:null,E=0<o.length?o[0]:null;for(;p!==null||E!==null;){let b=l<r.length?r[l+1]:void 0,D=u<o.length?o[u+1]:void 0,F=null,q;p===E?(l+=2,u+=2,b!==D&&(F=E,q=D)):E===null||p!==null&&p<E?(l+=2,F=p):(u+=2,F=E,q=D),F!==null&&Td(e,t,n,i,F,q,s,a),p=l<r.length?r[l]:null,E=u<o.length?o[u]:null}}function Td(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,u=l[a+1],p=fg(u)?Hc(l,t,n,r,wn(u),s):void 0;if(!jr(p)){jr(o)||ug(u)&&(o=Hc(l,null,n,r,a,s));let E=fs(tt(),n);Em(i,s,E,r,o)}}function Hc(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],u=Array.isArray(l),p=u?l[1]:l,E=p===null,b=n[r+1];b===we&&(b=E?De:void 0);let D=E?rr(b,i):p===i?b:void 0;if(u&&!jr(D)&&(D=rr(l,i)),jr(D)&&(a=D,s))return a;let F=e[r+1];r=s?Zt(F):wn(F)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=rr(l,i))}return a}function jr(e){return e!==void 0}function Ag(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=mt(qr(e)))),e}function Nd(e,t){return(e.flags&(t?8:16))!==0}function d(e,t=""){let n=G(),i=be(),r=e+ve,o=i.firstCreatePass?Kr(i,r,1,t,null):i.data[r],s=Tg(i,n,o,t,e);n[r]=s,vr()&&Ia(i,n,s,o),vn(o,!1)}var Tg=(e,t,n,i,r)=>(yr(!0),Gp(t[ie],i));function Ng(e,t,n,i=""){return Qe(e,Et(),n)?t+gt(n)+i:we}function Rg(e,t,n,i,r,o=""){let s=Xl(),a=vh(e,s,n,r);return dr(2),a?t+gt(n)+i+gt(r)+o:we}function Z(e){return j("",e),Z}function j(e,t,n){let i=G(),r=Ng(i,e,t,n);return r!==we&&Rd(i,tt(),r),j}function Sn(e,t,n,i,r){let o=G(),s=Rg(o,e,t,n,i,r);return s!==we&&Rd(o,tt(),s),Sn}function Rd(e,t,n){let i=fs(t,e);qp(e[ie],i,n)}function no(e){return Qe(G(),Et(),e)?gt(e):we}function Dt(e,t,n){let i=Jl()+e,r=G();return r[i]===we?hh(r,i,n?t.call(n):t()):gh(r,i)}var kg=(()=>{class e{zone=T(me);changeDetectionScheduler=T(Ze);applicationRef=T(Ei);applicationErrorHandler=T(_t);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kd({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new me(N(A({},Pd()),{scheduleInRootZone:n})),[{provide:me,useFactory:e},{provide:kt,multi:!0,useFactory:()=>{let i=T(kg,{optional:!0});return()=>i.initialize()}},{provide:kt,multi:!0,useFactory:()=>{let i=T(Pg);return()=>{i.initialize()}}},t===!0?{provide:Ms,useValue:!0}:[],{provide:Er,useValue:n??Su},{provide:_t,useFactory:()=>{let i=T(me),r=T(Fe),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(Oe),o.handleError(s))})}}}]}function Pd(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Pg=(()=>{class e{subscription=new _e;initialized=!1;zone=T(me);pendingTasks=T(qt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var La=(()=>{class e{applicationErrorHandler=T(_t);appRef=T(Ei);taskService=T(qt);ngZone=T(me);zonelessEnabled=T(ri);tracing=T(vi,{optional:!0});disableScheduling=T(Ms,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new _e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(kr):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(T(Er,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ci||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?wc:Au;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(kr+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(n),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,wc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Va(){return Kt("NgZoneless"),Zn([{provide:Ze,useExisting:La},{provide:me,useClass:ci},{provide:ri,useValue:!0},{provide:Er,useValue:!1},[]])}function Fg(){return typeof $localize<"u"&&$localize.locale||_i}var Ba=new $("",{providedIn:"root",factory:()=>T(Ba,{optional:!0,skipSelf:!0})||Fg()});var io=class{destroyed=!1;listeners=null;errorHandler=T(Oe,{optional:!0});destroyRef=T(Gt);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new U(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let n=this.listeners?.indexOf(t);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed){console.warn(Wn(953,!1));return}if(this.listeners===null)return;let n=P(null);try{for(let i of this.listeners)try{i(t)}catch(r){this.errorHandler?.handleError(r)}}finally{P(n)}}};function W(e,t){return Hn(e,t?.equal)}var ja=class{[ge];constructor(t){this[ge]=t}destroy(){this[ge].destroy()}};function re(e,t){let n=t?.injector??T(st),i=t?.manualCleanup!==!0?n.get(Gt):null,r,o=n.get(ii,null,{optional:!0}),s=n.get(Ze);return o!==null?(r=Vg(o.view,s,e),i instanceof zn&&i._lView===o.view&&(i=null)):r=Bg(e,n.get(oi),s),r.injector=n,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new ja(r)}var Fd=N(A({},Dl),{cleanupFns:void 0,zone:null,onDestroyFn:zt,run(){let e=yn(!1);try{bl(this)}finally{yn(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=P(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],P(e)}}}),Og=N(A({},Fd),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){It(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Lg=N(A({},Fd),{consumerMarkedDirty(){this.view[O]|=8192,Ut(this.view),this.notifier.notify(13)},destroy(){It(this),this.onDestroyFn(),this.cleanup(),this.view[lt]?.delete(this)}});function Vg(e,t,n){let i=Object.create(Lg);return i.view=e,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=Od(i,n),e[lt]??=new Set,e[lt].add(i),i.consumerMarkedDirty(i),i}function Bg(e,t,n){let i=Object.create(Og);return i.fn=Od(i,e),i.scheduler=t,i.notifier=n,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function Od(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}var Bd=Symbol("InputSignalNode#UNSET"),Zg=N(A({},ji),{transformFn:void 0,applyValueToInputSignal(e,t){on(e,t)}});function jd(e,t){let n=Object.create(Zg);n.value=e,n.transformFn=t?.transform;function i(){if(en(n),n.value===Bd){let r=null;throw new U(-950,r)}return n.value}return i[ge]=n,i}var Kg=new $("");Kg.__NG_ELEMENT_ID__=e=>{let t=ke();if(t===null)throw new U(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new U(204,!1)};function Se(e){return new io}function Ld(e,t){return jd(e,t)}function Jg(e){return jd(Bd,e)}var te=(Ld.required=Jg,Ld);function Vd(e,t){return hd(t)}function Xg(e,t){return gd(t)}var ye=(Vd.required=Xg,Vd);var Ha=new $(""),e0=new $("");function Di(e){return!e.moduleRef}function t0(e){let t=Di(e)?e.r3Injector:e.moduleRef.injector,n=t.get(me);return n.run(()=>{Di(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(_t),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:i})}),Di(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Ha);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ha);s.add(o),e.moduleRef.onDestroy(()=>{ai(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return i0(i,n,()=>{let o=t.get(qt),s=o.add(),a=t.get(Fa);return a.runInitializers(),a.donePromise.then(()=>{let l=t.get(Ba,_i);if(wd(l||_i),!t.get(e0,!0))return Di(e)?t.get(Ei):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Di(e)){let p=t.get(Ei);return e.rootComponent!==void 0&&p.bootstrap(e.rootComponent),p}else return n0?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var n0;function i0(e,t,n){try{let i=n();return Pa(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e(i)),i}}var ro=null;function r0(e=[],t){return st.create({name:t,providers:[{provide:Kn,useValue:"platform"},{provide:Ha,useValue:new Set([()=>ro=null])},...e]})}function o0(e=[]){if(ro)return ro;let t=r0(e);return ro=t,_d(),s0(t),t}function s0(e){let t=e.get($r,null);or(e,()=>{t?.forEach(n=>n())})}function Hd(e){let{rootComponent:t,appProviders:n,platformProviders:i,platformRef:r}=e;K(8);try{let o=r?.injector??o0(i),s=[kd({}),{provide:Ze,useExisting:La},pc,...n||[]],a=new mi({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return t0({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{K(9)}}var Ud=null;function wi(){return Ud}function Ua(e){Ud??=e}var bi=class{};var fe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=eo({type:e});static \u0275inj=Qn({})}return e})();function $a(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Ii=class{};var $d="browser";var xi=class{_doc;constructor(t){this._doc=t}manager},oo=(()=>{class e extends xi{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(z(qe))};static \u0275prov=ee({token:e,factory:e.\u0275fac})}return e})(),ao=new $(""),Qa=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(s=>{s.manager=this});let r=n.filter(s=>!(s instanceof oo));this._plugins=r.slice().reverse();let o=n.find(s=>s instanceof oo);o&&this._plugins.push(o)}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||e)(z(ao),z(me))};static \u0275prov=ee({token:e,factory:e.\u0275fac})}return e})(),Ga="ng-app-id";function Gd(e){for(let t of e)t.remove()}function qd(e,t){let n=t.createElement("style");return n.textContent=e,n}function l0(e,t,n,i){let r=e.head?.querySelectorAll(`style[${Ga}="${t}"],link[${Ga}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Ga),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function za(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Ya=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,l0(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,qd);i?.forEach(r=>this.addUsage(r,this.external,za))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(Gd(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Gd(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,qd(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,za(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),n.appendChild(i)}static \u0275fac=function(i){return new(i||e)(z(qe),z(Ur),z(Gr,8),z(gi))};static \u0275prov=ee({token:e,factory:e.\u0275fac})}return e})(),qa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Za=/%COMP%/g;var Wd="%COMP%",c0=`_nghost-${Wd}`,u0=`_ngcontent-${Wd}`,d0=!0,f0=new $("",{providedIn:"root",factory:()=>d0});function p0(e){return u0.replace(Za,e)}function m0(e){return c0.replace(Za,e)}function Qd(e,t){return t.map(n=>n.replace(Za,e))}var Ka=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,l=null,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Mi(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,i);return r instanceof so?r.applyToHost(n):r instanceof Si&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,E=this.platformIsServer,b=this.tracingService;switch(i.encapsulation){case dt.Emulated:o=new so(l,u,i,this.appId,p,s,a,E,b);break;case dt.ShadowDom:return new Wa(l,u,n,i,s,a,this.nonce,E,b);default:o=new Si(l,u,i,p,s,a,E,b);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||e)(z(Qa),z(Ya),z(Ur),z(f0),z(qe),z(me),z(Gr),z(vi,8))};static \u0275prov=ee({token:e,factory:e.\u0275fac})}return e})(),Mi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,i,r,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(qa[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(zd(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(zd(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new U(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=qa[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=qa[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(ft.DashCase|ft.Important)?t.style.setProperty(n,i,r&ft.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&ft.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i,r){if(typeof t=="string"&&(t=wi().getGlobalEventTarget(this.doc,t),!t))throw new U(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,r)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function zd(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Wa=class extends Mi{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,i,r,o,s,a,l,u){super(t,o,s,l,u),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=r.styles;p=Qd(r.id,p);for(let b of p){let D=document.createElement("style");a&&D.setAttribute("nonce",a),D.textContent=b,this.shadowRoot.appendChild(D)}let E=r.getExternalStyles?.();if(E)for(let b of E){let D=za(b,o);a&&D.setAttribute("nonce",a),this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Si=class extends Mi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,i,r,o,s,a,l,u){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let p=i.styles;this.styles=u?Qd(u,p):p,this.styleUrls=i.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Qt.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},so=class extends Si{contentAttr;hostAttr;constructor(t,n,i,r,o,s,a,l,u){let p=r+"-"+i.id;super(t,n,i,o,s,a,l,u,p),this.contentAttr=p0(p),this.hostAttr=m0(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}};var lo=class e extends bi{supportsDOMEvents=!0;static makeCurrent(){Ua(new e)}onAndCancel(t,n,i,r){return t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=h0();return n==null?null:g0(n)}resetBaseElement(){Ai=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $a(document.cookie,t)}},Ai=null;function h0(){return Ai=Ai||document.head.querySelector("base"),Ai?Ai.getAttribute("href"):null}function g0(e){return new URL(e,document.baseURI).pathname}var v0=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=ee({token:e,factory:e.\u0275fac})}return e})(),Yd=["alt","control","meta","shift"],y0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E0={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Zd=(()=>{class e extends xi{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wi().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Yd.forEach(u=>{let p=i.indexOf(u);p>-1&&(i.splice(p,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=y0[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Yd.forEach(s=>{if(s!==r){let a=E0[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||e)(z(qe))};static \u0275prov=ee({token:e,factory:e.\u0275fac})}return e})();function Ja(e,t,n){let i=A({rootComponent:e,platformRef:n?.platformRef},C0(t));return Hd(i)}function C0(e){return{appProviders:[...I0,...e?.providers??[]],platformProviders:w0}}function _0(){lo.makeCurrent()}function D0(){return new Oe}function b0(){return pa(document),document}var w0=[{provide:gi,useValue:$d},{provide:$r,useValue:_0,multi:!0},{provide:qe,useFactory:b0}];var I0=[{provide:Kn,useValue:"root"},{provide:Oe,useFactory:D0},{provide:ao,useClass:oo,multi:!0,deps:[qe]},{provide:ao,useClass:Zd,multi:!0,deps:[qe]},Ka,Ya,Qa,{provide:Yt,useExisting:Ka},{provide:Ii,useClass:v0},[]];function x0(e,t){if(e&1){let n=B();h(0,"div",8)(1,"input",16),S("input",function(r){let o=C(n).$index,s=g();return _(s.onEqBandChange(o,r))}),m(),h(2,"span",17),d(3),m()()}if(e&2){let n=t.$implicit,i=g();c(),xe("--thumb-bg","var(--color-"+i.theme().primary+"-400)")("--track-bg","var(--color-"+i.theme().primary+"-950)")("--thumb-border","var(--color-"+i.theme().primary+"-900)"),R("value",n.value),c(2),Z(n.label)}}var An=class An{constructor(){this.eqSettings=te.required();this.enhancements=te.required();this.theme=te.required();this.close=Se();this.eqChange=Se();this.enhancementsChange=Se()}onEqBandChange(t,n){let i=parseInt(n.target.value,10),r=this.eqSettings().map((o,s)=>s===t?N(A({},o),{value:i}):o);this.eqChange.emit(r)}onEnhancementToggle(t,n){let i=n.target.checked,r=N(A({},this.enhancements()),{[t]:i});this.enhancementsChange.emit(r)}onClose(){this.close.emit()}};An.\u0275fac=function(n){return new(n||An)},An.\u0275cmp=le({type:An,selectors:[["app-eq-panel"]],inputs:{eqSettings:[1,"eqSettings"],enhancements:[1,"enhancements"],theme:[1,"theme"]},outputs:{close:"close",eqChange:"eqChange",enhancementsChange:"enhancementsChange"},decls:37,vars:16,consts:[[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-4","w-auto","max-w-md","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"mb-4"],[1,"text-sm","mb-2"],[1,"flex","justify-around","items-end","h-48","bg-black/50","p-4"],[1,"flex","flex-col","items-center"],[1,"space-y-2"],[1,"flex","items-center","justify-between","p-2","bg-black/50","cursor-pointer"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"change","checked"],[1,"w-9","h-5","border","flex","items-center","justify-center","text-xs","peer-checked:text-black"],[1,"peer-checked:hidden"],[1,"hidden","peer-checked:inline"],["type","range","min","0","max","100",1,"slider","vertical-slider",3,"input","value"],[1,"text-xs","text-green-400/60","mt-2"]],template:function(n,i){n&1&&(h(0,"div",0),S("click",function(){return i.onClose()}),m(),h(1,"div",1)(2,"div",2)(3,"h2",3),d(4,"[[ Equalizer & Enhancements ]]"),m(),h(5,"button",4),S("click",function(){return i.onClose()}),d(6," [X] "),m()(),h(7,"div",5)(8,"h3",6),d(9,"// Graphic EQ"),m(),h(10,"div",7),J(11,x0,4,8,"div",8,Ie),m()(),h(13,"div")(14,"h3",6),d(15,"// Enhancements"),m(),h(16,"div",9)(17,"label",10)(18,"span"),d(19,"Bass Boost"),m(),h(20,"div",11)(21,"input",12),S("change",function(o){return i.onEnhancementToggle("bassBoost",o)}),m(),h(22,"div",13)(23,"span",14),d(24,"[\xA0\xA0]"),m(),h(25,"span",15),d(26,"[X]"),m()()()(),h(27,"label",10)(28,"span"),d(29,"Surround Sound (UI Only)"),m(),h(30,"div",11)(31,"input",12),S("change",function(o){return i.onEnhancementToggle("surroundSound",o)}),m(),h(32,"div",13)(33,"span",14),d(34,"[\xA0\xA0]"),m(),h(35,"span",15),d(36,"[X]"),m()()()()()()()),n&2&&(c(),f("text-"+i.theme().primary+"-400"),c(4),f("hover:bg-"+i.theme().primary+"-400"),c(5),f("border border-"+i.theme().primary+"-400/30"),c(),X(i.eqSettings()),c(6),f("border border-"+i.theme().primary+"-400/30"),c(4),R("checked",i.enhancements().bassBoost),c(),f("peer-checked:bg-"+i.theme().primary+"-400"),c(5),f("border border-"+i.theme().primary+"-400/30"),c(4),R("checked",i.enhancements().surroundSound),c(),f("peer-checked:bg-"+i.theme().primary+"-400"))},dependencies:[fe],styles:["input[type=range].vertical-slider[_ngcontent-%COMP%]{writing-mode:bt-lr;-webkit-appearance:slider-vertical;width:8px;height:120px;padding:0 5px;background-color:transparent}input[type=range].vertical-slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:var(--track-bg);width:4px;border-radius:0}input[type=range].vertical-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:8px;background:var(--thumb-bg);cursor:pointer;border:1px solid var(--thumb-border)}input[type=range].vertical-slider[_ngcontent-%COMP%]::-moz-range-track{background:var(--track-bg);width:4px;border-radius:0}input[type=range].vertical-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:8px;background:var(--thumb-bg);cursor:pointer;border:1px solid var(--thumb-border);border-radius:0}"]});var co=An;var M0=["matrixCanvas"],Tn=class Tn{constructor(){this.canvasRef=ye.required("matrixCanvas");this.FRAME_RATE_INTERVAL=250}ngAfterViewInit(){let t=this.canvasRef().nativeElement,n=t.getContext("2d");if(!n){console.error("Could not get 2D context");return}this.ctx=n,t.width=window.innerWidth,t.height=window.innerHeight;let i="SmuveJeffPresents",r=16,o=t.width/r,s=[];for(let u=0;u<o;u++)s[u]=1;let a=0,l=u=>{if(u-a>this.FRAME_RATE_INTERVAL){this.ctx.fillStyle="rgba(0, 0, 0, 0.05)",this.ctx.fillRect(0,0,t.width,t.height),this.ctx.fillStyle="#0F0",this.ctx.font=r+"px monospace";for(let p=0;p<s.length;p++){let E=i.charAt(Math.floor(Math.random()*i.length));this.ctx.fillText(E,p*r,s[p]*r),s[p]*r>t.height&&Math.random()>.975&&(s[p]=0),s[p]++}a=u}this.animationFrameId=requestAnimationFrame(l)};this.animationFrameId=requestAnimationFrame(l)}ngOnDestroy(){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}};Tn.\u0275fac=function(n){return new(n||Tn)},Tn.\u0275cmp=le({type:Tn,selectors:[["app-matrix-background"]],viewQuery:function(n,i){n&1&&he(i.canvasRef,M0,5),n&2&&Pe()},decls:2,vars:0,consts:[["matrixCanvas",""],[1,"absolute","top-0","left-0","w-full","h-full"]],template:function(n,i){n&1&&Y(0,"canvas",1,0)},styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}"]});var uo=Tn;var S0=new $("GEMINI_API_KEY");var Jt=class Jt{constructor(){this._apiKey=T(S0);this._genAI=w(void 0);this._chatInstance=w(void 0);this._isAiAvailable=W(()=>!!this._genAI());this.initializeGenAI()}get genAI(){return this._genAI()}get chatInstance(){return this._chatInstance()}get isAiAvailable(){return this._isAiAvailable()}getApiKey(){return this._apiKey}async initializeGenAI(){if(!this._apiKey||this._apiKey.length<30){console.error("AiService: AI features disabled. Invalid or missing API key injected via token."),this._genAI.set(void 0),this._chatInstance.set(void 0);return}try{let t=await import("./chunk-GUGQRGJ7.js"),n=new t.GoogleGenAI({apiKey:this._apiKey});this._genAI.set(n);let i=n.chats.create({model:"gemini-3-pro-preview",config:{systemInstruction:`You are S.M.U.V.E, an expert AI music manager toolkit. You specialize in genres such as Southern Rap, Hip-Hop, R&B, and Trap music, and possess advanced management and marketing skills. Provide concise, helpful, and culturally relevant responses tailored for independent music artists.

You can manage music, generate images/videos, analyze content, and search the web for up-to-date information.

Use COMMAND:::ACTION:::PARAMETER_KEY='value' format for app commands (e.g., COMMAND:::SET_THEME:::theme='blue'). Available commands:
- SET_THEME: Apply a visual theme (e.g., theme='blue').
- PLAY_TRACK: Play a track (e.g., title='My Song').
- PAUSE_TRACK: Pause current track.
- STOP_TRACK: Stop current track.
- LOAD_TRACK: (Requires more parameters like URL or search query, use cautiously).
- NEXT_TRACK: Play next track in playlist.
- PREVIOUS_TRACK: Play previous track in playlist.
- TOGGLE_LOOP: Toggle loop for current track.
- GENERATE_IMAGE: Create an image (e.g., prompt='album cover concept').
- GENERATE_VIDEO: Create a video (e.g., prompt='music video visualizer').
- ANALYZE_IMAGE: Describe an image (e.g., imageUrl='base64data').
- FIND_ON_MAP: Search for a location (e.g., query='recording studios in Atlanta').
- FIND_ARTISTS: Search for collaborators (e.g., location='Nashville', filter='producer').
- VIEW_ARTIST_PROFILE: Display an artist's detailed profile (e.g., name='BeatMaster Flex', genre='Hip-Hop', location='Atlanta').

When VIEW_ARTIST_PROFILE is used, expect a command containing an artist's name (and optional genre/location for disambiguation). Query your knowledge base (and implicitly, the MOCK_ARTISTS data provided in the app context) to provide an adaptive, detailed insight into their profile. This should include:
- Strengths (musicality, production, stage presence, lyrical ability etc.)
- Specific collaboration potential (e.g., "collaborate with a Memphis trap producer for a new single," "feature on an T_R&B singer's track").
- Career advice (e.g., "focus on building a strong presence on TikTok," "consider licensing your beats for video games").
- Marketing insights (e.g., "target college radio stations in the Southeast," "run Instagram ad campaigns geotargeted to your city").

If you need to search for up-to-date info, use the googleSearch tool. Adapt insights based on their genre, location, influences, and collaboration interests. Your responses should be direct and highly actionable, reflecting deep expertise in these specific music genres and industry practices.`}});this._chatInstance.set(i),console.log("AiService: GoogleGenAI client initialized and chat instance created.")}catch(t){console.error("AiService: Error initializing GoogleGenAI client:",t),this._genAI.set(void 0),this._chatInstance.set(void 0)}}};Jt.\u0275fac=function(n){return new(n||Jt)},Jt.\u0275prov=ee({token:Jt,factory:Jt.\u0275fac});var Ce=Jt,Kd=()=>Zn([{provide:Ce,useClass:Ce}]);var A0=(e,t)=>t.id,T0=(e,t)=>t.url;function N0(e,t){if(e&1&&(h(0,"div",2),d(1),m()),e&2){let n=g();c(),j(" ",n.errorMessage()," ")}}function R0(e,t){e&1&&(h(0,"div",3),d(1," AI services are disabled. Networking search features might be limited. "),m())}function k0(e,t){e&1&&(h(0,"span"),d(1,"[ SEARCHING... ]"),m())}function P0(e,t){e&1&&(h(0,"span"),d(1,"[ FIND ARTISTS ]"),m())}function F0(e,t){if(e&1){let n=B();h(0,"div",33),S("click",function(){let r=C(n).$implicit,o=g();return _(o.viewArtistDetail(r))}),Y(1,"img",34),h(2,"div",35)(3,"h4",36),d(4),m(),h(5,"p",37),d(6),m(),h(7,"p",38),d(8),m(),h(9,"p",38),d(10),m()(),$t(),h(11,"svg",39),Y(12,"path",40),m()()}if(e&2){let n=t.$implicit,i=g();f("hover:bg-"+i.theme().blue+"-800/70"),c(),f("border-"+i.theme().neutral+"-600"),R("alt",no(n.name))("src",n.imageUrl,ne),c(2),f("text-"+i.theme().blue+"-300"),c(),Z(n.name),c(),f("text-"+i.theme().neutral+"-400"),c(),Sn("",n.genre," - ",n.location),c(2),j("",n.bio.substring(0,70),"..."),c(),f("text-"+i.theme().blue+"-500"),c(),j("Interest: ",n.collaborationInterest.join(", ")),c(),f("text-"+i.theme().blue+"-400")}}function O0(e,t){if(e&1&&(h(0,"p",41),d(1,"No artists found. Adjust your search or clear filters."),m()),e&2){let n=g();f("text-"+n.theme().neutral+"-500")}}function L0(e,t){if(e&1&&(h(0,"p",37)(1,"strong"),d(2,"Specialties:"),m(),d(3),m()),e&2){let n=g(2);f("text-"+n.theme().neutral+"-400"),c(3),j(" ",n.selectedArtistProfile().specialties.join(", "))}}function V0(e,t){if(e&1&&(h(0,"p",37)(1,"strong"),d(2,"Target Audience:"),m(),d(3),m()),e&2){let n=g(2);f("text-"+n.theme().neutral+"-400"),c(3),j(" ",n.selectedArtistProfile().targetAudience)}}function B0(e,t){if(e&1&&(h(0,"p",37)(1,"strong"),d(2,"Career Goals:"),m(),d(3),m()),e&2){let n=g(2);f("text-"+n.theme().neutral+"-400"),c(3),j(" ",n.selectedArtistProfile().careerGoals)}}function j0(e,t){if(e&1&&(h(0,"a",57),d(1),m()),e&2){let n=t.$implicit,i=g(2);f("hover:text-"+i.theme().blue+"-300"),R("href",n.url,ne),c(),Sn(" ",n.type.toUpperCase(),": ",n.url," ")}}function H0(e,t){if(e&1&&(h(0,"p",56),d(1,"No links available."),m()),e&2){let n=g(2);f("text-"+n.theme().neutral+"-500")}}function U0(e,t){if(e&1){let n=B();h(0,"div",42),S("click",function(){C(n);let r=g();return _(r.closeArtistDetailModal())}),m(),h(1,"div",43)(2,"div",44)(3,"h2",36),d(4),m(),h(5,"button",45),S("click",function(){C(n);let r=g();return _(r.closeArtistDetailModal())}),d(6," [X] "),m()(),h(7,"div",46),Y(8,"img",47),h(9,"div",48)(10,"p",37)(11,"strong"),d(12,"Genre:"),m(),d(13),m(),h(14,"p",37)(15,"strong"),d(16,"Location:"),m(),d(17),m(),h(18,"p",37)(19,"strong"),d(20,"Collaboration Interest:"),m(),d(21),m(),h(22,"p",37)(23,"strong"),d(24,"Influences:"),m(),d(25),m(),I(26,L0,4,3,"p",49),I(27,V0,4,3,"p",49),I(28,B0,4,3,"p",49),m()(),h(29,"div",50)(30,"p",51),d(31),m(),h(32,"h3",37),d(33,"// LINKS:"),m(),h(34,"div",52),J(35,j0,2,5,"a",53,T0,!1,H0,2,2,"p",54),m(),h(38,"h3",55),d(39,"// CONTACT:"),m(),h(40,"p",56),d(41),m()()()}if(e&2){let n=g();c(),f("text-"+n.theme().blue+"-400"),c(3),j("[[ ARTIST PROFILE: ",n.selectedArtistProfile().name," ]]"),c(),f("hover:bg-"+n.theme().blue+"-400"),c(3),f("border-"+n.theme().neutral+"-600"),R("alt",no(n.selectedArtistProfile().name))("src",n.selectedArtistProfile().imageUrl,ne),c(2),f("text-"+n.theme().neutral+"-400"),c(3),Sn(" ",n.selectedArtistProfile().genre," (",n.selectedArtistProfile().genres.join(", "),")"),c(),f("text-"+n.theme().neutral+"-400"),c(3),j(" ",n.selectedArtistProfile().location),c(),f("text-"+n.theme().blue+"-500"),c(3),j(" ",n.selectedArtistProfile().collaborationInterest.join(", ")),c(),f("text-"+n.theme().neutral+"-500"),c(3),j(" ",n.selectedArtistProfile().influences.join(", ")),c(),x(n.selectedArtistProfile().specialties?26:-1),c(),x(n.selectedArtistProfile().targetAudience?27:-1),c(),x(n.selectedArtistProfile().careerGoals?28:-1),c(),f("border-"+n.theme().blue+"-500/30"),c(2),Z(n.selectedArtistProfile().bio),c(),f("text-"+n.theme().blue+"-300"),c(3),X(n.selectedArtistProfile().links),c(3),f("text-"+n.theme().blue+"-300"),c(2),f("text-"+n.theme().neutral+"-400"),c(),Z(n.selectedArtistProfile().contact)}}var rt=[{id:"flex101",name:"BeatMaster Flex",genre:"Hip-Hop Producer",location:"Brooklyn, NY",locationLatLon:{lat:40.6782,lon:-73.9442},bio:"Award-winning producer with a knack for soulful beats and hard-hitting drums. Always looking for fresh vocalists and lyricists to elevate tracks. Specializing in old-school boom-bap and modern trap sounds.",contact:"flexbeats@email.com",imageUrl:"https://picsum.photos/seed/flex/150/150",collaborationInterest:["Vocalist","Lyricist","Rapper","Mixing Engineer"],genres:["Hip-Hop","Boom-Bap","Trap","Southern Rap"],influences:["J Dilla","DJ Premier","Madlib","Metro Boomin"],links:[{type:"soundcloud",url:"https://soundcloud.com/beatmasterflex"}],specialties:["Sampling","Drum Programming","Arrangement"],targetAudience:"Underground Hip-Hop, Trap, and R&B fans",careerGoals:"Produce a platinum album, mentor new artists"},{id:"mae202",name:"Melody Mae",genre:"Indie Pop Vocalist",location:"Los Angeles, CA",locationLatLon:{lat:34.0522,lon:-118.2437},bio:"Ethereal vocals with a dreamy vibe. Seeking producers for new tracks and live musicians for touring. Inspired by nature and introspection.",contact:"melodymae@email.com",imageUrl:"https://picsum.photos/seed/mae/150/150",collaborationInterest:["Producer","Guitarist","Songwriter","Keyboardist"],genres:["Indie Pop","Dream Pop","Alternative","R&B"],influences:["Fiona Apple","Lana Del Rey","Mazzy Star","SZA"],links:[{type:"spotify",url:"https://open.spotify.com/artist/melodymae"},{type:"instagram",url:"https://instagram.com/melodymae"}],specialties:["Vocal Harmony","Lyric Writing","Live Performance"],targetAudience:"Indie Pop, Dream Pop, and soulful R&B listeners",careerGoals:"Release a critically acclaimed album, headline festivals"},{id:"sammy303",name:"Synthwave Sammy",genre:"Electronic / Synthwave",location:"Miami, FL",locationLatLon:{lat:25.7617,lon:-80.1918},bio:"Master of retro synths and driving basslines, creating nostalgic soundscapes. Open to scoring short films, collaborating with vocalists, or DJing events.",contact:"sammywave@email.com",imageUrl:"https://picsum.photos/seed/sammy/150/150",collaborationInterest:["Vocalist","Filmmaker","DJ","Sound Designer"],genres:["Synthwave","Electronic","Vaporwave"],influences:["Com Truise","Kavinsky","Daft Punk"],links:[{type:"soundcloud",url:"https://soundcloud.com/synthwavesammy"},{type:"website",url:"https://synthwavesammy.com"}]},{id:"jake404",name:"Jazz Fusion Jake",genre:"Jazz / Fusion Guitarist",location:"New Orleans, LA",locationLatLon:{lat:29.9511,lon:-90.0715},bio:"Complex harmonies and intricate solos define my style. Looking for drummers, bassists, and horn players for a new progressive jazz project.",contact:"jakejazz@email.com",imageUrl:"https://picsum.photos/seed/jake/150/150",collaborationInterest:["Drummer","Bassist","Saxophonist","Keyboardist"],genres:["Jazz Fusion","Progressive Jazz","Funk"],influences:["Pat Metheny","John Scofield","Frank Gambale"],links:[{type:"spotify",url:"https://open.spotify.com/artist/jazzfusionjake"}]},{id:"rina505",name:"Rhythm Queen Rina",genre:"Afrobeat Drummer",location:"London, UK",locationLatLon:{lat:51.5074,lon:.1278},bio:"High-energy percussionist bringing vibrant global rhythms to any track. Collaborations in world music, hip-hop, or pop welcome. Specializing in intricate polyrhythms.",contact:"rina.drums@email.com",imageUrl:"https://picsum.photos/seed/rina/150/150",collaborationInterest:["Producer","Bassist","Vocalist","Guitarist"],genres:["Afrobeat","World Music","Funk","Hip-Hop"],influences:["Tony Allen","Fela Kuti","Ginger Baker"],links:[{type:"instagram",url:"https://instagram.com/rhythmqueenrina"}]},{id:"keys606",name:"Electro Keys Eva",genre:"Electronic Keyboardist",location:"Berlin, DE",locationLatLon:{lat:52.52,lon:13.405},bio:"Versatile keyboardist exploring ambient, techno, and house. Seeking DJs, producers, and experimental vocalists for live and studio projects.",contact:"eva.keys@email.com",imageUrl:"https://picsum.photos/seed/eva/150/150",collaborationInterest:["Producer","DJ","Vocalist","Sound Designer"],genres:["Techno","House","Ambient","Electronic"],influences:["Kraftwerk","Aphex Twin","Four Tet"],links:[{type:"soundcloud",url:"https://soundcloud.com/electrokeys"}]},{id:"rhyme707",name:"Poetic Rhyme Rex",genre:"Spoken Word / Hip-Hop",location:"Chicago, IL",locationLatLon:{lat:41.8781,lon:-87.6298},bio:"Lyricist and spoken word artist with a powerful message. Collaborations with producers across genres, from jazz to trap.",contact:"rexrhymes@email.com",imageUrl:"https://picsum.photos/seed/rex/150/150",collaborationInterest:["Producer","Vocalist","Jazz Musician"],genres:["Spoken Word","Hip-Hop","Poetry","Trap"],influences:["Gil Scott-Heron","Kendrick Lamar","Saul Williams","J. Cole"],links:[{type:"instagram",url:"https://instagram.com/poeticrex"}],specialties:["Freestyle","Storytelling","Performance Art"],targetAudience:"Conscious Hip-Hop and Spoken Word enthusiasts",careerGoals:"Release a conceptual album, perform at major poetry slams"},{id:"south808",name:"Southern Siren Sia",genre:"R&B / Trap Soul Vocalist",location:"Atlanta, GA",locationLatLon:{lat:33.7488,lon:-84.3877},bio:"Sultry vocals blending R&B smoothness with trap grit. Collaborating with producers for new EPs and visual artists for music videos. Deeply inspired by Atlanta's vibrant music scene.",contact:"siasounds@email.com",imageUrl:"https://picsum.photos/seed/sia/150/150",collaborationInterest:["Producer","Beatmaker","Video Director","Songwriter"],genres:["R&B","Trap Soul","Neo-Soul","Southern Rap"],influences:["Summer Walker","SZA","Future","Jhen\xE9 Aiko"],links:[{type:"instagram",url:"https://instagram.com/southernsirensia"},{type:"spotify",url:"https://open.spotify.com/artist/southernsirensia"}],specialties:["Vocal production","Ad-libs","Melody creation"],targetAudience:"R&B and Trap music listeners, especially in the South",careerGoals:"Build a strong brand, perform at A3C, release a full-length album"},{id:"beatrix909",name:"Beatrix B",genre:"Trap Producer",location:"Houston, TX",locationLatLon:{lat:29.7604,lon:-95.3698},bio:"Hard-hitting trap beats with cinematic undertones. Always on the lookout for new vocalists, especially those in Southern Rap and R&B, for joint projects. Ready to drop bangers.",contact:"beatrixb@email.com",imageUrl:"https://picsum.photos/seed/beatrix/150/150",collaborationInterest:["Vocalist","Rapper","Mixing Engineer","Songwriter"],genres:["Trap","Southern Rap","Hip-Hop"],influences:["Zaytoven","Cardo","Tay Keith"],links:[{type:"soundcloud",url:"https://soundcloud.com/beatrixb"}],specialties:["Beatmaking","Sound Design","Mixing"],targetAudience:"Trap and Southern Hip-Hop fans",careerGoals:"Secure major placements, build a production team"},{id:"soulful1010",name:"Soulful Sam",genre:"Neo-Soul / R&B Producer",location:"New Orleans, LA",locationLatLon:{lat:29.9511,lon:-90.0715},bio:"Crafting lush, soulful soundscapes with a modern twist. Seeking R&B and Neo-Soul vocalists, instrumentalists (especially horns and strings), for studio and live collaborations.",contact:"soulfulsam@email.com",imageUrl:"https://picsum.photos/seed/sam/150/150",collaborationInterest:["Vocalist","Instrumentalist","Songwriter","Mixing Engineer"],genres:["Neo-Soul","R&B","Jazz","Funk"],influences:["D'Angelo","Erykah Badu","Robert Glasper"],links:[{type:"spotify",url:"https://open.spotify.com/artist/soulfulsam"}],specialties:["Arrangement","Keys","Live instrumentation recording"],targetAudience:"Neo-Soul, R&B, and Jazz fusion listeners",careerGoals:"Release collaborative EPs, perform at jazz/soul festivals"}],Nn=class Nn{constructor(){this.theme=te.required();this.initialSearchQuery=te(null);this.searchLocation=w("");this.collaborationFilter=w("");this.displayedArtists=w([]);this.isLoading=w(!1);this.errorMessage=w(null);this.selectedArtistProfile=w(null);this.showArtistDetailModal=w(!1);this.aiService=T(Ce);this.isAiAvailable=W(()=>this.aiService.isAiAvailable);this.artistProfileSelected=Se();this.markers=[];re(()=>{let t=this.initialSearchQuery();t&&t!==this.searchLocation()&&(this.searchLocation.set(t),this.searchArtists())}),this.displayedArtists.set(rt),re(()=>{this.selectedArtistProfile()?this.showArtistDetailModal.set(!0):this.showArtistDetailModal.set(!1)}),re(()=>{let t=this.displayedArtists();this.map&&this.updateMapMarkers(t)})}ngAfterViewInit(){this.initMap()}ngOnDestroy(){this.map&&this.map.remove()}initMap(){if(typeof L>"u"){console.warn("Leaflet not loaded. Map will not be available.");return}document.getElementById("map")&&(this.map=L.map("map").setView([35,-95],3),L.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19}).addTo(this.map),this.updateMapMarkers(this.displayedArtists()))}updateMapMarkers(t){this.map&&(this.markers.forEach(n=>this.map.removeLayer(n)),this.markers=[],t.forEach(n=>{if(n.locationLatLon){let i=L.marker([n.locationLatLon.lat,n.locationLatLon.lon]).addTo(this.map).bindPopup(`<b>${n.name}</b><br>${n.genre}`);i.on("click",()=>{this.viewArtistDetail(n)}),this.markers.push(i)}}))}onSearchLocationInput(t){this.searchLocation.set(t.target.value)}onCollaborationFilterInput(t){this.collaborationFilter.set(t.target.value)}async searchArtists(){let t=this.searchLocation().trim(),n=this.collaborationFilter().trim();if(this.isLoading.set(!0),this.errorMessage.set(null),this.displayedArtists.set([]),!this.aiService.isAiAvailable){console.warn("AI services unavailable for networking search enhancement. Falling back to basic filter.");let i=rt.filter(r=>{let o=!t||r.location.toLowerCase().includes(t.toLowerCase()),s=!n||r.collaborationInterest.some(a=>a.toLowerCase().includes(n.toLowerCase()));return o&&s});this.displayedArtists.set(i),i.length===0&&this.errorMessage.set("No artists found matching your criteria with basic filter."),this.isLoading.set(!1);return}try{let i=`You are an expert music industry scout specializing in Southern Rap, Hip-Hop, R&B, and Trap music genres, with advanced management and marketing skills. Given the following artists' profiles (as JSON array):

${JSON.stringify(rt)}

Find artists who match the location "${t}" (if provided, prioritize this) and are interested in collaborations that include "${n}" (if provided, prioritize this). Consider their primary genre, influences, and bio for a holistic match. Provide the IDs of the top matching artists in a JSON array: {"matchingArtistIds": ["id1", "id2"]}. If no artists match, return an empty array.`,r=await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:"OBJECT",properties:{matchingArtistIds:{type:"ARRAY",items:{type:"STRING"}}},propertyOrdering:["matchingArtistIds"]}}}),s=JSON.parse(r.text).matchingArtistIds||[],a=rt.filter(l=>s.includes(l.id));this.displayedArtists.set(a),a.length===0&&this.errorMessage.set("AI found no artists matching your criteria. Try different terms.")}catch(i){console.error("AI failed to enhance networking search:",i),this.errorMessage.set("AI search enhancement failed. Falling back to basic filter.");let r=rt.filter(o=>{let s=!t||o.location.toLowerCase().includes(t.toLowerCase()),a=!n||o.collaborationInterest.some(l=>l.toLowerCase().includes(n.toLowerCase()));return s&&a});this.displayedArtists.set(r),r.length===0&&this.errorMessage.set("No artists found matching your criteria with basic filter.")}finally{this.isLoading.set(!1)}}clearSearch(){this.searchLocation.set(""),this.collaborationFilter.set(""),this.displayedArtists.set(rt),this.errorMessage.set(null)}viewArtistDetail(t){this.selectedArtistProfile.set(t),this.artistProfileSelected.emit(t)}closeArtistDetailModal(){this.selectedArtistProfile.set(null)}};Nn.\u0275fac=function(n){return new(n||Nn)},Nn.\u0275cmp=le({type:Nn,selectors:[["app-networking"]],inputs:{theme:[1,"theme"],initialSearchQuery:[1,"initialSearchQuery"]},outputs:{artistProfileSelected:"artistProfileSelected"},decls:57,vars:40,consts:[[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"bg-red-900/50","text-red-300","p-3","text-center","border","border-red-500","animate-fade-in"],[1,"bg-amber-900/50","text-amber-300","p-3","text-center","border","border-amber-500","animate-fade-in"],[1,"p-4","flex","flex-col","sm:flex-row","gap-4"],[1,"flex-grow","flex","flex-col","gap-2"],["for","location-search",1,"block","text-sm"],["id","location-search","type","text","placeholder","e.g., 'Los Angeles, CA' or 'London, UK'",1,"w-full","p-2","text-sm","focus:ring-500",3,"input","value","disabled"],["for","collaboration-filter",1,"block","text-sm"],["id","collaboration-filter",1,"w-full","p-2","text-sm","focus:ring-500",3,"change","value","disabled"],["value",""],["value","Vocalist"],["value","Producer"],["value","Lyricist"],["value","Guitarist"],["value","Drummer"],["value","Bassist"],["value","DJ"],["value","Songwriter"],["value","Filmmaker"],["value","Mixing Engineer"],["value","Keyboardist"],["value","Saxophonist"],["value","Sound Designer"],[1,"flex","gap-2","justify-center"],[1,"flex-grow","px-4","py-2","border-2","text-lg","max-w-sm",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg","max-w-sm",3,"click"],[1,"flex","flex-col","md:flex-row","gap-4","flex-grow","overflow-hidden"],["id","map",1,"w-full","md:w-1/2","h-64","md:h-auto","border","border-blue-500/30"],[1,"flex-grow","w-full","md:w-1/2","overflow-y-auto","pr-2","space-y-4","p-2"],[1,"text-base"],[1,"flex","items-center","gap-4","p-4","cursor-pointer","transition-colors","duration-200",3,"class"],[1,"text-center","text-sm","p-4",3,"class"],[1,"flex","items-center","gap-4","p-4","cursor-pointer","transition-colors","duration-200",3,"click"],[1,"w-20","h-20","object-cover","border",3,"src","alt"],[1,"flex-grow"],[1,"text-lg"],[1,"text-sm"],[1,"text-xs","mt-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"text-center","text-sm","p-4"],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-lg","flex","flex-col","z-50","animate-slide-up","font-mono","max-h-[90vh]","overflow-hidden"],[1,"flex","justify-between","items-center","mb-4"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"flex","flex-col","sm:flex-row","gap-4","mb-4","flex-shrink-0"],[1,"w-32","h-32","object-cover","border","flex-shrink-0",3,"src","alt"],[1,"flex-grow","space-y-1"],[1,"text-sm",3,"class"],[1,"flex-grow","overflow-y-auto","pr-2","text-sm","border-t","pt-4"],[1,"mb-4"],[1,"space-y-1"],["target","_blank","rel","noopener noreferrer",1,"block","text-xs","underline",3,"href","class"],[1,"text-xs",3,"class"],[1,"text-sm","mt-4"],[1,"text-xs"],["target","_blank","rel","noopener noreferrer",1,"block","text-xs","underline",3,"href"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"h2",1),d(2,"[ AURA NETWORKING HUB ]"),m(),I(3,N0,2,1,"div",2),I(4,R0,2,0,"div",3),h(5,"div",4)(6,"div",5)(7,"label",6),d(8,"SEARCH LOCATION:"),m(),h(9,"input",7),S("input",function(o){return i.onSearchLocationInput(o)}),m()(),h(10,"div",5)(11,"label",8),d(12,"COLLABORATION INTEREST:"),m(),h(13,"select",9),S("change",function(o){return i.onCollaborationFilterInput(o)}),h(14,"option",10),d(15,"Any"),m(),h(16,"option",11),d(17,"Vocalist"),m(),h(18,"option",12),d(19,"Producer"),m(),h(20,"option",13),d(21,"Lyricist"),m(),h(22,"option",14),d(23,"Guitarist"),m(),h(24,"option",15),d(25,"Drummer"),m(),h(26,"option",16),d(27,"Bassist"),m(),h(28,"option",17),d(29,"DJ"),m(),h(30,"option",18),d(31,"Songwriter"),m(),h(32,"option",19),d(33,"Filmmaker"),m(),h(34,"option",20),d(35,"Mixing Engineer"),m(),h(36,"option",21),d(37,"Keyboardist"),m(),h(38,"option",22),d(39,"Saxophonist"),m(),h(40,"option",23),d(41,"Sound Designer"),m()()()(),h(42,"div",24)(43,"button",25),S("click",function(){return i.searchArtists()}),I(44,k0,2,0,"span")(45,P0,2,0,"span"),m(),h(46,"button",26),S("click",function(){return i.clearSearch()}),d(47," [ CLEAR ] "),m()(),h(48,"div",27),Y(49,"div",28),h(50,"div",29)(51,"h3",30),d(52,"// COLLABORATORS FOUND:"),m(),J(53,F0,13,20,"div",31,A0,!1,O0,2,2,"p",32),m()()(),I(56,U0,42,37)),n&2&&(f("border border-"+i.theme().blue+"-500/30"),c(),f("text-"+i.theme().blue+"-400"),c(2),x(i.errorMessage()?3:-1),c(),x(i.isAiAvailable()?-1:4),c(),f("border border-"+i.theme().blue+"-500/20"),c(2),f("text-"+i.theme().blue+"-300"),c(2),f("focus:border-"+i.theme().blue+"-500"),R("value",i.searchLocation())("disabled",i.isLoading()),c(2),f("text-"+i.theme().blue+"-300"),c(2),f("focus:border-"+i.theme().blue+"-500"),R("value",i.collaborationFilter())("disabled",i.isLoading()),c(30),f("hover:text-black"),R("disabled",i.isLoading()),c(),x(i.isLoading()?44:45),c(2),f("hover:text-black"),c(4),f("border border-"+i.theme().blue+"-500/20"),xe("--chat-history-track-bg","var(--color-"+i.theme().blue+"-950)")("--chat-history-thumb-bg","var(--color-"+i.theme().blue+"-400)")("--chat-history-thumb-border","var(--color-"+i.theme().blue+"-900)")("--chat-history-thumb-hover-bg","var(--color-"+i.theme().blue+"-300)"),c(),f("text-"+i.theme().blue+"-300"),c(2),X(i.displayedArtists()),c(3),x(i.selectedArtistProfile()&&i.showArtistDetailModal()?56:-1))},dependencies:[fe],styles:["[_nghost-%COMP%]{display:contents}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--chat-history-track-bg)}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--chat-history-thumb-bg);border:1px solid var(--chat-history-thumb-border)}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--chat-history-thumb-hover-bg)}"],changeDetection:0});var fo=Nn;var $0=["chatHistory"],G0=(e,t)=>t.uri;function q0(e,t){if(e&1&&(h(0,"a",26),d(1),m()),e&2){let n=t.$implicit,i=g(3);f("hover:text-"+i.theme().primary+"-300"),R("href",n.uri,ne),c(),j(" ",n.title||n.uri," ")}}function z0(e,t){if(e&1&&(h(0,"div",23)(1,"p",24),d(2,"Sources:"),m(),J(3,q0,2,4,"a",25,G0),m()),e&2){let n=g().$implicit,i=g();f("border-"+i.theme().primary+"-500/30"),c(3),X(n.urls)}}function W0(e,t){if(e&1&&(h(0,"div",27),Y(1,"img",28),h(2,"p",29),d(3,"Image analyzed:"),m()()),e&2){let n=g().$implicit,i=g();f("border-"+i.theme().primary+"-500/30"),c(),R("src",n.imageUrl,ne),c(),f("text-"+i.theme().primary+"-500")}}function Q0(e,t){if(e&1&&(h(0,"div")(1,"div",19)(2,"span",20),d(3),m(),h(4,"span"),d(5),m(),I(6,z0,5,2,"div",21),I(7,W0,4,5,"div",22),m()()),e&2){let n=t.$implicit,i=g();se("text-right",n.role==="user")("text-left",n.role==="model"),c(),f(n.role==="user"?"bg-"+i.theme().primary+"-700/50":"bg-"+i.theme().primary+"-900/50"),c(),f("text-"+i.theme().primary+"-300"),c(),Z(n.role==="user"?"YOU:":"S.M.U.V.E:"),c(2),Z(n.content),c(),x(n.urls&&n.urls.length>0?6:-1),c(),x(n.imageUrl?7:-1)}}function Y0(e,t){if(e&1&&(h(0,"div",8)(1,"div",19)(2,"span",20),d(3,"S.M.U.V.E:"),m(),h(4,"span"),d(5,"Thinking..."),m()()()),e&2){let n=g();c(),f("bg-"+n.theme().primary+"-900/50"),c(),f("text-"+n.theme().primary+"-300")}}function Z0(e,t){if(e&1&&(h(0,"div",8)(1,"div",30)(2,"span",20),d(3,"S.M.U.V.E:"),m(),h(4,"span"),d(5,"Speaking..."),m()()()),e&2){let n=g();c(),f("bg-"+n.theme().primary+"-900/50"),c(),f("text-"+n.theme().primary+"-300")}}function K0(e,t){if(e&1&&(h(0,"div",31),d(1," Hi! I'm S.M.U.V.E. How can I help you with your music today? "),m()),e&2){let n=g();f("text-"+n.theme().primary+"-400/70")}}function J0(e,t){e&1&&(h(0,"div",10),d(1," AI features are currently disabled. Please check the API key configuration. "),m())}function X0(e,t){e&1&&(h(0,"span"),d(1,"[ DEEP QUERY ACTIVE (GEMINI 3 PRO) ]"),m())}function ev(e,t){e&1&&(h(0,"span"),d(1,"[ DEEP QUERY (GEMINI 3 PRO) ]"),m())}function tv(e,t){e&1&&($t(),h(0,"svg",15),Y(1,"path",32)(2,"path",33),m())}function nv(e,t){e&1&&($t(),h(0,"svg",16),Y(1,"path",32)(2,"path",34)(3,"path",35),m())}var Rn=class Rn{constructor(){this.close=Se();this.appCommand=Se();this.theme=te.required();this.imageToAnalyzeUrl=te(null);this.imageAnalysisResult=Se();this.mapLocationQuery=te(null);this.mapLocationResult=Se();this.messages=w([]);this.userMessage=w("");this.isLoading=w(!1);this.isVoiceInputActive=w(!1);this.isSpeaking=w(!1);this.isDeepQueryActive=w(!1);this.aiService=T(Ce);this.isAiAvailable=W(()=>this.aiService.isAiAvailable);this.chatHistoryRef=ye("chatHistory");this.speechRecognition=null;this.speechUtterance=null;this.aiService.isAiAvailable||this.messages.update(t=>[...t,{role:"model",content:"AI services are currently unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."}]),"SpeechRecognition"in window||"webkitSpeechRecognition"in window?(this.speechRecognition=new(window.SpeechRecognition||window.webkitSpeechRecognition),this.speechRecognition.continuous=!1,this.speechRecognition.interimResults=!1,this.speechRecognition.lang="en-US",this.speechRecognition.onresult=t=>{let n=t.results[0][0].transcript;this.userMessage.set(n),this.sendMessage(),this.stopVoiceInput()},this.speechRecognition.onerror=t=>{console.error("Speech recognition error:",t.error),t.error==="no-speech"||this.messages.update(n=>[...n,{role:"model",content:`Voice input error: ${t.error}. Please try again.`}]),this.stopVoiceInput()},this.speechRecognition.onend=()=>{this.isVoiceInputActive.set(!1)}):console.warn("Speech Recognition API not supported in this browser."),re(()=>{let t=this.imageToAnalyzeUrl();t&&!this.isLoading()&&(this.messages.update(n=>[...n,{role:"user",content:"Please analyze this image.",imageUrl:t}]),this.analyzeImage(t,"Describe this image in detail. Focus on elements relevant for an album cover or music video concept."))}),re(()=>{let t=this.mapLocationQuery();t&&!this.isLoading()&&(this.messages.update(n=>[...n,{role:"user",content:`Find on map: ${t}`}]),this.sendGoogleMapsQuery(t))})}async sendMessage(){if(!this.aiService.isAiAvailable||!this.aiService.chatInstance)return;let t=this.userMessage().trim();if(t){if(this.messages.update(n=>[...n,{role:"user",content:t}]),this.userMessage.set(""),this.isLoading.set(!0),this.stopSpeaking(),this.isDeepQueryActive())await this.sendDeepQuery(t),this.isDeepQueryActive.set(!1);else if(t.toLowerCase().startsWith("search google for")||t.toLowerCase().startsWith("google for")){let n=t.toLowerCase().startsWith("google for")?t.substring(10).trim():t.substring(17).trim();await this.sendGoogleSearchQuery(n)}else if(t.toLowerCase().startsWith("find on map")||t.toLowerCase().startsWith("map for")){let n=t.toLowerCase().startsWith("map for")?t.substring(7).trim():t.substring(11).trim();await this.sendGoogleMapsQuery(n)}else if(t.toLowerCase().startsWith("view artist profile")){let n=t.substring(19).trim();if(n){let i=rt.find(r=>r.name.toLowerCase()===n.toLowerCase());if(i)await this.getArtistInsight(i),this.appCommand.emit({action:"VIEW_ARTIST_PROFILE",parameters:{name:n}});else{let r=`S.M.U.V.E doesn't have data for "${n}". Please try searching for artists first.`;this.messages.update(o=>[...o,{role:"model",content:r}]),this.speakResponse(r)}}else{let i="Please specify an artist name to view their profile.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}else try{let i=(await this.aiService.chatInstance.sendMessage({message:t})).text;if(typeof i!="string"||i.trim()===""){console.warn("Gemini API returned empty or non-string response:",i);let s="S.M.U.V.E received an empty response. Please try rephrasing.";this.messages.update(a=>[...a,{role:"model",content:s}]),this.speakResponse(s),this.isLoading.set(!1),this.scrollToBottom();return}let r=i.trim(),o=r.split(":::");if(o.length>=2&&o[0]==="CHAT"){let s=o.slice(1).join(":::");this.messages.update(a=>[...a,{role:"model",content:s}]),this.speakResponse(s)}else if(o.length>=2&&o[0]==="COMMAND"){let s=o[1].trim(),a=(o[2]||"").trim();try{let l={};if(a){let p=/(\w+)\s*=\s*'([^']*)'|(\w+)\s*=\s*(\d+)/g,E;for(;(E=p.exec(a))!==null;){let b=E[1]||E[3],D=E[2]!==void 0?E[2]:E[4];l[b]=D}}this.appCommand.emit({action:s,parameters:l});let u=`Executing command: ${s}`;this.messages.update(p=>[...p,{role:"model",content:u}]),this.speakResponse(u)}catch(l){console.error("Failed to parse command parameters:",l,"from string:",a);let u="S.M.U.V.E sent a command I couldn't understand. Please try again.";this.messages.update(p=>[...p,{role:"model",content:u}]),this.speakResponse(u)}}else console.warn("AI response did not match expected CHAT/COMMAND format:",r),this.messages.update(s=>[...s,{role:"model",content:r}]),this.speakResponse(r)}catch(n){console.error("Error sending message to Gemini API:",n);let i="Oops! Something went wrong. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}this.isLoading.set(!1),this.scrollToBottom()}}async sendGoogleSearchQuery(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let n=await this.aiService.genAI.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{tools:[{googleSearch:{}}]}}),i=n.text,r=n.candidates?.[0]?.groundingMetadata?.groundingChunks,o=[];if(r)for(let a of r)a.web&&a.web.uri&&o.push({uri:a.web.uri,title:a.web.title});let s={role:"model",content:i,urls:o.length>0?o:void 0};this.messages.update(a=>[...a,s]),this.speakResponse(i)}catch(n){console.error("Error sending Google Search query to Gemini API:",n);let i="Oops! Failed to perform Google Search. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async sendGoogleMapsQuery(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let n=await this.aiService.genAI.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{tools:[{googleSearch:{}}]}}),i=n.text,r=n.candidates?.[0]?.groundingMetadata?.groundingChunks,o=[];if(r)for(let a of r)a.web&&a.web.uri&&o.push({uri:a.web.uri,title:a.web.title});let s={role:"model",content:i,urls:o.length>0?o:void 0};this.messages.update(a=>[...a,s]),this.speakResponse(i),this.mapLocationResult.emit(i)}catch(n){console.error("Error sending Google Maps query to Gemini API:",n);let i="Oops! Failed to find location on map. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async sendDeepQuery(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let i=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:t,config:{systemInstruction:this.aiService.chatInstance.config.systemInstruction,topK:64,topP:.95,temperature:1,seed:42}})).text;this.messages.update(r=>[...r,{role:"model",content:`[DEEP QUERY RESPONSE]: ${i}`}]),this.speakResponse(i)}catch(n){console.error("Error sending deep query to Gemini API:",n);let i="Oops! Deep query failed. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async analyzeImage(t,n="Describe this image in detail. Focus on elements relevant for an album cover or music video concept."){if(!this.aiService.isAiAvailable||!this.aiService.genAI){let i="AI services are unavailable to analyze image. Please check API key.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i);return}this.isLoading.set(!0);try{let i=t.split(";")[0].split(":")[1],r=t.split(",")[1],o={inlineData:{mimeType:i,data:r}},s={text:n},l=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:[o,s]})).text,u={role:"model",content:`IMAGE ANALYSIS: ${l}`,imageUrl:t};this.messages.update(p=>[...p,u]),this.speakResponse(`Image analysis complete. ${l}`),this.imageAnalysisResult.emit(l)}catch(i){console.error("Error analyzing image with Gemini API:",i);let r="Oops! Failed to analyze image. Please try again.";this.messages.update(o=>[...o,{role:"model",content:r}]),this.speakResponse(r)}finally{this.isLoading.set(!1),this.scrollToBottom()}}async getArtistInsight(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI)){this.isLoading.set(!0);try{let n=`You are S.M.U.V.E, an expert AI music manager toolkit specialized in Southern Rap, Hip-Hop, R&B, and Trap music, with advanced management and marketing skills. Provide an adaptive, detailed insight into the following independent music artist's profile. Your insights should be highly specific to their genre(s) and location, and offer actionable advice. Include:
      - Strengths (musicality, production, stage presence, lyrical ability etc.)
      - Specific collaboration potential (e.g., "collaborate with a Memphis trap producer for a new single," "feature on an Atlanta R&B singer's track").
      - Career advice (e.g., "focus on building a strong presence on TikTok," "consider licensing your beats for video games").
      - Marketing insights (e.g., "target college radio stations in the Southeast," "run Instagram ad campaigns geotargeted to your city").

Artist Profile:
Name: ${t.name}
Genre(s): ${t.genres.join(", ")}
Location: ${t.location}
Bio: ${t.bio}
Collaboration Interests: ${t.collaborationInterest.join(", ")}
Influences: ${t.influences.join(", ")}
Contact: ${t.contact}
Links: ${t.links.map(o=>`${o.type}: ${o.url}`).join(", ")}
Specialties: ${t.specialties?t.specialties.join(", "):"N/A"}
Target Audience: ${t.targetAudience||"N/A"}
Career Goals: ${t.careerGoals||"N/A"}

Provide insights relevant to their profile and the independent music scene, focusing on growth, networking, and strategic moves within their specified genres. Be specific to Southern Rap, Hip-Hop, R&B, and Trap where appropriate.`,r=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:n,config:{systemInstruction:this.aiService.chatInstance.config.systemInstruction,topK:64,topP:.95,temperature:1,seed:42}})).text;this.messages.update(o=>[...o,{role:"model",content:`[INSIGHT for ${t.name}]: ${r}`}]),this.speakResponse(`Here's an insight for ${t.name}. ${r}`)}catch(n){console.error("Error getting artist insight:",n);let i=`S.M.U.V.E failed to provide insight for ${t.name}.`;this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}finally{this.isLoading.set(!1),this.scrollToBottom()}}}toggleVoiceInput(){if(!this.speechRecognition){alert("Speech Recognition is not supported in this browser.");return}this.isVoiceInputActive()?this.stopVoiceInput():this.startVoiceInput()}startVoiceInput(){this.speechRecognition&&(this.stopSpeaking(),this.isVoiceInputActive.set(!0),this.speechRecognition.start(),this.messages.update(t=>[...t,{role:"model",content:"Listening for voice input..."}]))}stopVoiceInput(){this.speechRecognition&&(this.speechRecognition.stop(),this.isVoiceInputActive.set(!1))}speakResponse(t){"speechSynthesis"in window?(this.stopSpeaking(),this.speechUtterance=new SpeechSynthesisUtterance(t),this.speechUtterance.onstart=()=>this.isSpeaking.set(!0),this.speechUtterance.onend=()=>this.isSpeaking.set(!1),this.speechUtterance.onerror=n=>{console.error("Speech synthesis error:",n),this.isSpeaking.set(!1)},window.speechSynthesis.speak(this.speechUtterance)):console.warn("Speech Synthesis API not supported in this browser.")}stopSpeaking(){this.speechUtterance&&(window.speechSynthesis.cancel(),this.isSpeaking.set(!1))}scrollToBottom(){requestAnimationFrame(()=>{if(this.chatHistoryRef()){let t=this.chatHistoryRef().nativeElement;t.scrollTop=t.scrollHeight}})}toggleDeepQuery(){this.isDeepQueryActive.update(t=>!t),this.isDeepQueryActive()?(this.messages.update(t=>[...t,{role:"model",content:"Deep Query mode activated. I will use Gemini 3 Pro for more complex reasoning. Please ask your question."}]),this.speakResponse("Deep Query mode activated. Please ask your question.")):(this.messages.update(t=>[...t,{role:"model",content:"Deep Query mode deactivated."}]),this.speakResponse("Deep Query mode deactivated."))}onClose(){this.stopVoiceInput(),this.stopSpeaking(),this.close.emit()}};Rn.\u0275fac=function(n){return new(n||Rn)},Rn.\u0275cmp=le({type:Rn,selectors:[["app-chatbot"]],viewQuery:function(n,i){n&1&&he(i.chatHistoryRef,$0,5),n&2&&Pe()},inputs:{theme:[1,"theme"],imageToAnalyzeUrl:[1,"imageToAnalyzeUrl"],mapLocationQuery:[1,"mapLocationQuery"]},outputs:{close:"close",appCommand:"appCommand",imageAnalysisResult:"imageAnalysisResult",mapLocationResult:"mapLocationResult"},decls:26,vars:41,consts:[["chatHistory",""],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:right-4","sm:bottom-4","border-2","bg-black/90","backdrop-blur-lg","p-4","w-full","max-w-sm","h-[70vh]","flex","flex-col","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"flex-grow","overflow-y-auto","pr-2","mb-4","border-b","pb-2","space-y-3","chat-history"],[3,"text-right","text-left"],[1,"text-left"],[1,"text-center","py-4",3,"class"],[1,"text-center","py-4","text-red-400"],[1,"flex","gap-2","mb-2"],["type","button",1,"flex-grow","p-2","border","hover:text-black","text-sm","transition-colors",3,"click","disabled"],[1,"flex","gap-2",3,"submit"],["type","button",1,"p-2","border","hover:text-black","text-sm","transition-colors","flex","items-center","justify-center","w-10","h-10",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5","animate-pulse"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["type","text","placeholder","Type your message...",1,"flex-grow","bg-black","border","px-2","py-1","text-sm","focus:ring-500",3,"input","value","disabled"],["type","submit",1,"p-2","border","hover:text-black","text-sm",3,"disabled"],[1,"inline-block","p-2","rounded-lg","max-w-[85%]"],[1,"text-xs","mr-2"],[1,"text-xs","mt-2","border-t","pt-1",3,"class"],[1,"mt-2","p-1","border",3,"class"],[1,"text-xs","mt-2","border-t","pt-1"],[1,"font-bold"],["target","_blank","rel","noopener noreferrer",1,"block","underline",3,"href","class"],["target","_blank","rel","noopener noreferrer",1,"block","underline",3,"href"],[1,"mt-2","p-1","border"],["alt","Image for analysis",1,"max-w-full","h-auto","object-contain",3,"src"],[1,"text-xs","mt-1"],[1,"inline-block","p-2","rounded-lg","max-w-[85%]","animate-pulse"],[1,"text-center","py-4"],["d","M8.25 4.5a3.75 3.75 0 1 1 7.5 0v8.25a3.75 3.75 0 1 1-7.5 0V4.5Z"],["d","M6 10.5a.75.75 0 0 1 .75.75v1.5a5.25 5.25 0 1 0 10.5 0v-1.5a.75.75 0 0 1 1.5 0v1.5a6.75 6.75 0 1 1-13.5 0v-1.5a.75.75 0 0 1 .75-.75Z"],["d","M12 21a2.25 2.25 0 0 0 2.25-2.25V15a.75.75 0 0 0-1.5 0v3.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75V15a.75.75 0 0 0-1.5 0v3.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75V15a.75.75 0 0 0-1.5 0v3.75A2.25 2.25 0 0 0 12 21Z"],["d","M18.75 10.5a.75.75 0 0 0-1.5 0v1.5a6.75 6.75 0 0 1-13.5 0v-1.5a.75.75 0 0 0-1.5 0v1.5a8.25 8.25 0 1 0 16.5 0v-1.5A.75.75 0 0 0 18.75 10.5Z"]],template:function(n,i){if(n&1){let r=B();h(0,"div",1),S("click",function(){return C(r),_(i.onClose())}),m(),h(1,"div",2)(2,"div",3)(3,"h2",4),d(4,"[[ S.M.U.V.E ]]"),m(),h(5,"button",5),S("click",function(){return C(r),_(i.onClose())}),d(6," [X] "),m()(),h(7,"div",6,0),J(9,Q0,8,12,"div",7,Ie),I(11,Y0,6,4,"div",8)(12,Z0,6,4,"div",8),I(13,K0,2,2,"div",9)(14,J0,2,0,"div",10),m(),h(15,"div",11)(16,"button",12),S("click",function(){return C(r),_(i.toggleDeepQuery())}),I(17,X0,2,0,"span")(18,ev,2,0,"span"),m()(),h(19,"form",13),S("submit",function(){return C(r),_(i.sendMessage())}),h(20,"button",14),S("click",function(){return C(r),_(i.toggleVoiceInput())}),I(21,tv,3,0,":svg:svg",15)(22,nv,4,0,":svg:svg",16),m(),h(23,"input",17),S("input",function(s){return C(r),_(i.userMessage.set(s.target.value))}),m(),h(24,"button",18),d(25," [ SEND ] "),m()()()}n&2&&(c(),f("text-"+i.theme().primary+"-400"),c(4),f("hover:bg-"+i.theme().primary+"-400"),c(2),f("border-"+i.theme().primary+"-400/30"),xe("--chat-history-track-bg","var(--color-"+i.theme().primary+"-950)")("--chat-history-thumb-bg","var(--color-"+i.theme().primary+"-400)")("--chat-history-thumb-border","var(--color-"+i.theme().primary+"-900)")("--chat-history-thumb-hover-bg","var(--color-"+i.theme().primary+"-300)"),c(2),X(i.messages()),c(2),x(i.isLoading()?11:i.isSpeaking()?12:-1),c(2),x(i.messages().length===0&&!i.isLoading()&&!i.isSpeaking()&&i.isAiAvailable()?13:i.isAiAvailable()?-1:14),c(3),f("hover:bg-"+i.theme().primary+"-400"),se("bg-green-500",i.isDeepQueryActive())("text-black",i.isDeepQueryActive()),R("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()),c(),x(i.isDeepQueryActive()?17:18),c(2),se("opacity-50",!i.isAiAvailable()),c(),f("hover:bg-"+i.theme().primary+"-400"),se("bg-green-500",i.isVoiceInputActive())("text-black",i.isVoiceInputActive()),R("disabled",i.isLoading()||i.isDeepQueryActive()||!i.isAiAvailable()),c(),x(i.isVoiceInputActive()?21:22),c(2),f("focus:border-"+i.theme().primary+"-500"),R("value",i.userMessage())("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()),c(),f("hover:bg-"+i.theme().primary+"-400"),R("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()))},dependencies:[fe],styles:[".chat-history[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--chat-history-track-bg)}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--chat-history-thumb-bg);border:1px solid var(--chat-history-thumb-border)}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--chat-history-thumb-hover-bg)}"],changeDetection:0});var po=Rn;var iv=["fileInput"],rv=()=>["1:1","4:3","3:4","16:9","9:16"];function ov(e,t){if(e&1&&Y(0,"img",7),e&2){let n=g();R("src",n.originalImageUrl(),ne)}}function sv(e,t){if(e&1&&(h(0,"span",23),d(1,"[ Upload an image for reference or leave empty ]"),m()),e&2){let n=g();f("text-"+n.theme().neutral+"-500")}}function av(e,t){if(e&1){let n=B();h(0,"button",24),S("click",function(){let r=C(n).$implicit,o=g();return _(o.aspectRatio.set(r))}),d(1),m()}if(e&2){let n=t.$implicit,i=g();f(i.aspectRatio()===n?"bg-"+i.theme().purple+"-500 text-black":"hover:bg-"+i.theme().purple+"-700/50"),R("disabled",i.isLoading()||!i.isAiAvailable()),c(),j(" ",n," ")}}function lv(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATING... ]"),m())}function cv(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATE ]"),m())}function uv(e,t){if(e&1&&(h(0,"p",19),d(1),m()),e&2){let n=g();c(),Z(n.errorMessage())}}function dv(e,t){e&1&&(h(0,"p",19),d(1,"AI features are disabled due to an invalid API key."),m())}function fv(e,t){if(e&1&&Y(0,"img",25),e&2){let n=t.$implicit;R("src",n,ne)}}function pv(e,t){if(e&1&&J(0,fv,1,1,"img",25,Ie),e&2){let n=g();X(n.generatedImageUrls())}}function mv(e,t){if(e&1&&(h(0,"span",26),d(1,"[ Generating image... ]"),m()),e&2){let n=g();f("text-"+n.theme().neutral+"-500")}}function hv(e,t){if(e&1&&(h(0,"span",23),d(1,"[ No image generated yet ]"),m()),e&2){let n=g();f("text-"+n.theme().neutral+"-500")}}function gv(e,t){if(e&1){let n=B();h(0,"button",27),S("click",function(){C(n);let r=g();return _(r.useAsAlbumArt())}),d(1," [ USE AS ALBUM ART ] "),m()}if(e&2){let n=g();f("hover:bg-"+n.theme().purple+"-500"),R("disabled",!n.isAiAvailable())}}function vv(e,t){if(e&1){let n=B();h(0,"button",27),S("click",function(){C(n);let r=g();return _(r.requestImageAnalysis())}),d(1," [ ANALYZE IMAGE ] "),m()}if(e&2){let n=g();f("hover:bg-"+n.theme().purple+"-500"),R("disabled",!n.isAiAvailable())}}function yv(e,t){if(e&1&&(h(0,"a",28),d(1," [ DOWNLOAD ] "),m()),e&2){let n=g();f("hover:bg-"+n.theme().purple+"-500"),se("opacity-50",!n.isAiAvailable()),R("href",n.generatedImageUrls()[0],ne),to("disabled",n.isAiAvailable()?null:!0)}}var kn=class kn{constructor(){this.initialPrompt=te(null);this.theme=te.required();this.originalImageUrl=w(null);this.editPrompt=w("");this.generatedImageUrls=w([]);this.isLoading=w(!1);this.errorMessage=w(null);this.aspectRatio=w("1:1");this.aiService=T(Ce);this.isAiAvailable=W(()=>this.aiService.isAiAvailable);this.fileInputRef=ye("fileInput");this.imageSelected=Se();this.imageAnalysisRequest=Se();this.genAI=void 0;this.aiService.isAiAvailable?this.genAI=this.aiService.genAI:this.errorMessage.set("AI features are unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."),re(()=>{let t=this.initialPrompt();t&&t!==this.editPrompt()&&this.editPrompt.set(t)})}handleImageUpload(t){let n=t.target.files?.[0];if(n){this.errorMessage.set(null),this.generatedImageUrls.set([]);let i=new FileReader;i.onload=r=>{this.originalImageUrl.set(r.target?.result)},i.onerror=()=>{this.errorMessage.set("Failed to read file.")},i.readAsDataURL(n)}else this.originalImageUrl.set(null),this.generatedImageUrls.set([])}async generateImage(){if(!this.isAiAvailable()||!this.genAI){this.errorMessage.set("AI features are unavailable. Please check your configuration (window.AURA_GEMINI_API_KEY).");return}let t=this.editPrompt().trim();if(!t){this.errorMessage.set("Please enter an edit prompt.");return}this.isLoading.set(!0),this.errorMessage.set(null),this.generatedImageUrls.set([]);try{let i=(await this.genAI.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:this.aspectRatio()}})).generatedImages[0]?.image?.imageBytes;i?this.generatedImageUrls.set([`data:image/png;base64,${i}`]):this.errorMessage.set("No image generated. Please try a different prompt.")}catch(n){console.error("Error generating image:",n),this.errorMessage.set(`Image generation failed: ${n.message||"Unknown error"}.`)}finally{this.isLoading.set(!1)}}clearImage(){this.originalImageUrl.set(null),this.generatedImageUrls.set([]),this.editPrompt.set(""),this.errorMessage.set(null),this.fileInputRef()&&(this.fileInputRef().nativeElement.value="")}useAsAlbumArt(){let t=this.generatedImageUrls().length>0?this.generatedImageUrls()[0]:this.originalImageUrl();t?this.imageSelected.emit(t):this.errorMessage.set("No image to use as album art.")}requestImageAnalysis(){let t=this.generatedImageUrls().length>0?this.generatedImageUrls()[0]:this.originalImageUrl();t?(this.imageAnalysisRequest.emit(t),alert("Image analysis requested. Check chatbot for results!")):this.errorMessage.set("No image available to analyze.")}};kn.\u0275fac=function(n){return new(n||kn)},kn.\u0275cmp=le({type:kn,selectors:[["app-image-editor"]],viewQuery:function(n,i){n&1&&he(i.fileInputRef,iv,5),n&2&&Pe()},inputs:{initialPrompt:[1,"initialPrompt"],theme:[1,"theme"]},outputs:{imageSelected:"imageSelected",imageAnalysisRequest:"imageAnalysisRequest"},decls:40,vars:40,consts:[["fileInput",""],[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","flex-grow"],[1,"flex","flex-col","gap-4","p-4"],[1,"text-base"],[1,"flex-grow","flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden"],["alt","Uploaded Image",1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"text-sm",3,"class"],[1,"w-full","text-center","block","p-2","border","hover:text-black","cursor-pointer","text-sm"],["type","file","accept","image/*",1,"hidden",3,"change"],["for","edit-prompt",1,"block","text-sm"],["id","edit-prompt","placeholder","e.g., 'A retro-futuristic album cover with glowing elements', 'A sci-fi landscape art with vibrant colors'","rows","4",1,"w-full","p-2","text-sm","focus:ring-500","resize-y",3,"input","value","disabled"],[1,"block","text-sm","mt-2"],[1,"flex","flex-wrap","gap-2","text-sm"],["type","button",1,"px-3","py-1","border",3,"class","disabled"],[1,"flex","gap-2","mt-4"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg",3,"click"],[1,"text-red-500","text-sm","mt-2","text-center"],[1,"text-sm","animate-pulse",3,"class"],[1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg","mb-2",3,"class","disabled"],["download","aura-edited-image.png",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href","class","opacity-50"],[1,"text-sm"],["type","button",1,"px-3","py-1","border",3,"click","disabled"],["alt","Generated Image",1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"text-sm","animate-pulse"],[1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg","mb-2",3,"click","disabled"],["download","aura-edited-image.png",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"]],template:function(n,i){if(n&1){let r=B();h(0,"div",1)(1,"h2",2),d(2,"[ AURA IMAGE LAB ]"),m(),h(3,"div",3)(4,"div",4)(5,"h3",5),d(6,"// ORIGINAL IMAGE (FOR CONTEXT)"),m(),h(7,"div",6),I(8,ov,1,1,"img",7)(9,sv,2,2,"span",8),m(),h(10,"label",9),d(11," [ UPLOAD IMAGE ] "),h(12,"input",10,0),S("change",function(s){return C(r),_(i.handleImageUpload(s))}),m()(),h(14,"label",11),d(15,"GENERATION PROMPT:"),m(),h(16,"textarea",12),S("input",function(s){return C(r),_(i.editPrompt.set(s.target.value))}),m(),h(17,"label",13),d(18,"ASPECT RATIO:"),m(),h(19,"div",14),J(20,av,2,4,"button",15,Ci),m(),h(22,"div",16)(23,"button",17),S("click",function(){return C(r),_(i.generateImage())}),I(24,lv,2,0,"span")(25,cv,2,0,"span"),m(),h(26,"button",18),S("click",function(){return C(r),_(i.clearImage())}),d(27," [ CLEAR ] "),m()(),I(28,uv,2,1,"p",19),I(29,dv,2,0,"p",19),m(),h(30,"div",4)(31,"h3",5),d(32,"// GENERATED IMAGE"),m(),h(33,"div",6),I(34,pv,2,0)(35,mv,2,2,"span",20)(36,hv,2,2,"span",8),m(),I(37,gv,2,3,"button",21),I(38,vv,2,3,"button",21),I(39,yv,2,6,"a",22),m()()()}n&2&&(f("border border-"+i.theme().purple+"-500/30"),c(),f("text-"+i.theme().purple+"-400"),c(3),f("border border-"+i.theme().purple+"-500/20"),c(),f("text-"+i.theme().purple+"-300"),c(2),f("border-"+i.theme().purple+"-700/50"),c(),x(i.originalImageUrl()?8:9),c(2),f("hover:bg-"+i.theme().purple+"-500"),c(4),f("text-"+i.theme().purple+"-300"),c(2),f("focus:border-"+i.theme().purple+"-500"),R("value",i.editPrompt())("disabled",i.isLoading()||!i.isAiAvailable()),c(),f("text-"+i.theme().purple+"-300"),c(3),X(Dt(39,rv)),c(3),f("hover:text-black"),R("disabled",!i.editPrompt()||i.isLoading()||!i.isAiAvailable()),c(),x(i.isLoading()?24:25),c(2),f("hover:text-black"),c(2),x(i.errorMessage()?28:-1),c(),x(i.isAiAvailable()?-1:29),c(),f("border border-"+i.theme().purple+"-500/20"),c(),f("text-"+i.theme().purple+"-300"),c(2),f("border-"+i.theme().purple+"-700/50"),c(),x(i.generatedImageUrls().length>0?34:i.isLoading()?35:36),c(3),x(i.generatedImageUrls().length>0?37:-1),c(),x(i.generatedImageUrls().length>0?38:-1),c(),x(i.generatedImageUrls().length>0?39:-1))},dependencies:[fe],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0});var mo=kn;var Ev=["liveVideoPreview"],Cv=["recordedVideoPlayer"],_v=()=>["1:1","4:3","3:4","16:9","9:16"];function Dv(e,t){if(e&1&&(h(0,"div",4),d(1),m()),e&2){let n=g();c(),j(" ",n.error()," ")}}function bv(e,t){if(e&1&&(h(0,"span",29),d(1,"[ Camera Off ]"),m()),e&2){let n=g();f("text-"+n.theme().neutral+"-500")}}function wv(e,t){if(e&1&&(h(0,"span",11),Y(1,"span",30),d(2),m()),e&2){let n=g();c(2),j(" REC: ",n.formatTime(n.recordingTime())," ")}}function Iv(e,t){e&1&&(h(0,"span",12),d(1," LIVE "),m())}function xv(e,t){e&1&&(h(0,"span"),d(1,"[ DISABLE CAMERA ]"),m())}function Mv(e,t){e&1&&(h(0,"span"),d(1,"[ ENABLE CAMERA (HD) ]"),m())}function Sv(e,t){e&1&&(h(0,"span"),d(1,"[ RECORDING... ]"),m())}function Av(e,t){e&1&&(h(0,"span"),d(1,"[ REC ]"),m())}function Tv(e,t){if(e&1&&(h(0,"h3",31),d(1,"// RECORDED VIDEO"),m(),h(2,"div",32),Y(3,"video",33,1),m(),h(5,"a",34),d(6," [ DOWNLOAD RECORDED VIDEO ] "),m()),e&2){let n=g();f("text-"+n.theme().purple+"-300"),c(2),f("border-"+n.theme().purple+"-700/50"),c(),R("src",n.recordedVideoUrl(),ne),c(2),f("hover:bg-"+n.theme().purple+"-500"),R("href",n.recordedVideoUrl(),ne)}}function Nv(e,t){if(e&1&&(h(0,"div",18)(1,"h4",35),d(2,"// IMAGE INPUT FROM EDITOR"),m(),Y(3,"img",36),m()),e&2){let n=g();c(),f("text-"+n.theme().neutral+"-400"),c(2),f("border-"+n.theme().neutral+"-600"),R("src",n.imageForVideoGeneration(),ne)}}function Rv(e,t){if(e&1){let n=B();h(0,"button",37),S("click",function(){let r=C(n).$implicit,o=g();return _(o.aspectRatio.set(r))}),d(1),m()}if(e&2){let n=t.$implicit,i=g();f(i.aspectRatio()===n?"bg-"+i.theme().purple+"-500 text-black":"hover:bg-"+i.theme().purple+"-700/50"),R("disabled",i.isGeneratingVideo()||!i.isAiAvailable()),c(),j(" ",n," ")}}function kv(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATING... ]"),m())}function Pv(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATE FROM PROMPT ]"),m())}function Fv(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATING... ]"),m())}function Ov(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATE FROM IMAGE + PROMPT ]"),m())}function Lv(e,t){if(e&1){let n=B();h(0,"button",16),S("click",function(){C(n);let r=g();return _(r.generateVideo(!0))}),I(1,Fv,2,0,"span")(2,Ov,2,0,"span"),m()}if(e&2){let n=g();f("hover:text-black"),R("disabled",!n.videoPrompt()||n.isGeneratingVideo()||!n.isAiAvailable()),c(),x(n.isGeneratingVideo()?1:2)}}function Vv(e,t){if(e&1&&(h(0,"p",38),d(1),m()),e&2){let n=g();f("text-"+n.theme().neutral+"-400"),c(),Z(n.generationProgressMessage())}}function Bv(e,t){if(e&1&&(h(0,"h3",31),d(1,"// GENERATED AI VIDEO"),m(),h(2,"div",32),Y(3,"video",39),m(),h(4,"a",40),d(5," [ DOWNLOAD AI VIDEO ] "),m()),e&2){let n=g();f("text-"+n.theme().purple+"-300"),c(2),f("border-"+n.theme().purple+"-700/50"),c(),R("src",n.generatedVideoUrl(),ne),c(),f("hover:bg-"+n.theme().purple+"-500"),R("href",n.generatedVideoUrl(),ne)}}var Pn=class Pn{constructor(){this.imageForVideoGeneration=te(null);this.initialPrompt=te(null);this.theme=te.required();this.mediaStream=w(null);this.isRecording=w(!1);this.recordedVideoBlob=w(null);this.recordedVideoUrl=w(null);this.recordingTime=w(0);this.cameraEnabled=w(!1);this.isCameraActive=w(!1);this.videoFilter=w("none");this.isLiveStreaming=w(!1);this.videoPrompt=w("");this.generatedVideoUrl=w(null);this.isGeneratingVideo=w(!1);this.generationProgressMessage=w(null);this.aspectRatio=w("16:9");this.aiService=T(Ce);this.isAiAvailable=W(()=>this.aiService.isAiAvailable);this.error=w(null);this.liveVideoPreviewRef=ye("liveVideoPreview");this.recordedVideoPlayerRef=ye("recordedVideoPlayer");this.mediaRecorder=null;this.recordedChunks=[];this.genAI=void 0;this.aiService.isAiAvailable?this.genAI=this.aiService.genAI:this.error.set("AI features are unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."),re(()=>{let t=this.initialPrompt();t&&t!==this.videoPrompt()&&this.videoPrompt.set(t)})}ngOnDestroy(){this.stopMediaStream()}async requestMediaPermissions(){this.error.set(null),this.mediaStream()&&this.stopMediaStream();try{let t={video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}},n=await navigator.mediaDevices.getUserMedia(t);this.mediaStream.set(n),this.cameraEnabled.set(!0),this.isCameraActive.set(!0),this.liveVideoPreviewRef()&&(this.liveVideoPreviewRef().nativeElement.srcObject=n,await this.liveVideoPreviewRef().nativeElement.play()),console.log("Camera and microphone access granted (HD).")}catch(t){console.error("Error accessing media devices:",t),this.error.set(`Failed to access camera/microphone: ${t.name||t.message}. Please check permissions.`),this.cameraEnabled.set(!1),this.isCameraActive.set(!1)}}stopMediaStream(){this.mediaStream()?.getTracks().forEach(t=>t.stop()),this.mediaStream.set(null),this.isCameraActive.set(!1),this.isLiveStreaming.set(!1),this.liveVideoPreviewRef()&&(this.liveVideoPreviewRef().nativeElement.srcObject=null),console.log("Media stream stopped.")}toggleCamera(){this.isCameraActive()?(this.stopMediaStream(),this.cameraEnabled.set(!1)):this.requestMediaPermissions()}setFilter(t){this.videoFilter.set(t)}toggleLiveStream(){if(!this.isCameraActive()){this.error.set("Enable camera first to go live.");return}this.isLiveStreaming()?this.isLiveStreaming.set(!1):(this.isLiveStreaming.set(!0),setTimeout(()=>{alert("You are now LIVE! (Mock Stream)")},500))}startRecording(){if(!this.mediaStream()||!this.isCameraActive()){this.error.set("Camera is not active. Please enable camera first.");return}if(!this.isRecording()){this.recordedChunks=[],this.recordedVideoBlob.set(null),this.recordedVideoUrl.set(null),this.recordingTime.set(0),this.error.set(null);try{this.mediaRecorder=new MediaRecorder(this.mediaStream(),{mimeType:"video/webm; codecs=vp8,opus"}),this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&this.recordedChunks.push(t.data)},this.mediaRecorder.onstop=()=>{let t=new Blob(this.recordedChunks,{type:"video/webm"});this.recordedVideoBlob.set(t),this.recordedVideoUrl.set(URL.createObjectURL(t)),console.log("Recording stopped. Blob created."),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.onerror=t=>{console.error("MediaRecorder error:",t.error),this.error.set(`Recording error: ${t.error.name||t.error.message}`),this.isRecording.set(!1),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.start(),this.isRecording.set(!0),this.recordingIntervalId=window.setInterval(()=>this.recordingTime.update(t=>t+1),1e3),console.log("Recording started.")}catch(t){console.error("Error starting MediaRecorder:",t),this.error.set(`Failed to start recording: ${t.message}`),this.isRecording.set(!1)}}}stopRecording(){this.mediaRecorder&&this.isRecording()&&(this.mediaRecorder.stop(),this.isRecording.set(!1),console.log("Attempting to stop recording..."))}playRecordedVideo(){this.recordedVideoUrl()&&this.recordedVideoPlayerRef()&&(this.recordedVideoPlayerRef().nativeElement.load(),this.recordedVideoPlayerRef().nativeElement.play().catch(t=>console.error("Error playing recorded video:",t)))}async generateVideo(t){if(!this.isAiAvailable()||!this.genAI){this.error.set("AI features are unavailable. Please check your configuration (window.AURA_GEMINI_API_KEY).");return}let n=this.videoPrompt().trim();if(!n){this.error.set("Please enter a prompt for video generation.");return}if(t&&!this.imageForVideoGeneration()){this.error.set('Please select an image first or clear "Generate from image" option.');return}this.isGeneratingVideo.set(!0),this.error.set(null),this.generatedVideoUrl.set(null),this.generationProgressMessage.set("Starting video generation...");try{let i,r={numberOfVideos:1,aspectRatio:this.aspectRatio()};if(t&&this.imageForVideoGeneration()){let s=this.imageForVideoGeneration().split(";")[0].split(":")[1],a=this.imageForVideoGeneration().split(",")[1];i=await this.genAI.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:n,image:{imageBytes:a,mimeType:s},config:r})}else i=await this.genAI.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:n,config:r});for(this.generationProgressMessage.set("Video generation in progress. This may take a few minutes...");!i.done;)await new Promise(s=>setTimeout(s,1e4)),this.generationProgressMessage.set(`Still generating... Current status: ${i.metadata?.state||"processing"}`),i=await this.genAI.operations.getVideosOperation({operation:i});let o=i.response?.generatedVideos?.[0]?.video?.uri;o?(this.generatedVideoUrl.set(`${o}&key=${this.aiService.getApiKey()}`),this.generationProgressMessage.set("Video generation complete!")):(this.error.set("Video generation failed: No download link in response."),this.generationProgressMessage.set(null))}catch(i){console.error("Error generating video:",i),this.error.set(`Video generation failed: ${i.message||"Unknown error"}.`),this.generationProgressMessage.set(null)}finally{this.isGeneratingVideo.set(!1)}}formatTime(t){if(isNaN(t)||t<0)return"00:00";let n=Math.floor(t/60),i=Math.floor(t%60);return`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}clearAll(){this.stopMediaStream(),this.isRecording.set(!1),this.recordedVideoBlob.set(null),this.recordedVideoUrl.set(null),this.recordingTime.set(0),this.videoPrompt.set(""),this.generatedVideoUrl.set(null),this.isGeneratingVideo.set(!1),this.generationProgressMessage.set(null),this.aspectRatio.set("16:9"),this.error.set(null),this.videoFilter.set("none"),this.isLiveStreaming.set(!1)}};Pn.\u0275fac=function(n){return new(n||Pn)},Pn.\u0275cmp=le({type:Pn,selectors:[["app-video-editor"]],viewQuery:function(n,i){n&1&&(he(i.liveVideoPreviewRef,Ev,5),he(i.recordedVideoPlayerRef,Cv,5)),n&2&&Pe(2)},inputs:{imageForVideoGeneration:[1,"imageForVideoGeneration"],initialPrompt:[1,"initialPrompt"],theme:[1,"theme"]},decls:60,vars:65,consts:[["liveVideoPreview",""],["recordedVideoPlayer",""],[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"bg-red-900/50","text-red-300","p-3","text-center","border","border-red-500","animate-fade-in"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","flex-grow"],[1,"flex","flex-col","gap-4","p-4"],[1,"text-base"],[1,"flex-grow","flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden","bg-black","relative"],["autoplay","","muted","","playsinline","",1,"max-w-full","max-h-full","object-contain","transition-all","duration-500"],[1,"absolute","text-sm",3,"class"],[1,"absolute","top-2","left-2","text-red-500","animate-pulse","text-sm","flex","items-center","gap-1"],[1,"absolute","top-2","right-2","bg-red-600","text-white","px-2","py-1","text-xs","font-bold","animate-pulse"],[1,"flex","flex-wrap","gap-2","justify-center","text-xs"],[1,"px-2","py-1","border","hover:bg-white","hover:text-black",3,"click"],[1,"flex","gap-2"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"flex","flex-col","items-center","gap-2"],["for","video-prompt",1,"block","text-sm"],["id","video-prompt","placeholder","e.g., 'A neon hologram of a cat driving at top speed', 'A futuristic city at sunset with flying cars and towering skyscrapers.'","rows","4",1,"w-full","p-2","text-sm","focus:ring-500","resize-y",3,"input","value","disabled"],[1,"block","text-sm","mt-2"],[1,"flex","flex-wrap","gap-2","text-sm"],["type","button",1,"px-3","py-1","border",3,"class","disabled"],[1,"flex","flex-col","gap-2","mt-4"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"class","disabled"],[1,"text-sm","mt-2","text-center","animate-pulse",3,"class"],[1,"flex","justify-center","mt-4"],[1,"px-6","py-2","border-2","text-lg",3,"click"],[1,"absolute","text-sm"],[1,"w-2","h-2","rounded-full","bg-red-500"],[1,"text-base","mt-4"],[1,"flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden","bg-black"],["controls","",1,"max-w-full","max-h-full","object-contain",3,"src"],["download","aura-recorded-video.webm",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"],[1,"text-sm"],["alt","Image from editor",1,"w-24","h-24","object-cover","border",3,"src"],["type","button",1,"px-3","py-1","border",3,"click","disabled"],[1,"text-sm","mt-2","text-center","animate-pulse"],["controls","","autoplay","","loop","","muted","","playsinline","",1,"max-w-full","max-h-full","object-contain",3,"src"],["download","aura-ai-generated-video.mp4",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"]],template:function(n,i){if(n&1){let r=B();h(0,"div",2)(1,"h2",3),d(2,"[ AURA VIDEO LAB ]"),m(),I(3,Dv,2,1,"div",4),h(4,"div",5)(5,"div",6)(6,"h3",7),d(7,"// CAMERA & RECORDING"),m(),h(8,"div",8),Y(9,"video",9,0),I(11,bv,2,2,"span",10),I(12,wv,3,1,"span",11),I(13,Iv,2,0,"span",12),m(),h(14,"div",13)(15,"button",14),S("click",function(){return C(r),_(i.setFilter("none"))}),d(16,"Norm"),m(),h(17,"button",14),S("click",function(){return C(r),_(i.setFilter("grayscale(100%)"))}),d(18,"B&W"),m(),h(19,"button",14),S("click",function(){return C(r),_(i.setFilter("sepia(100%)"))}),d(20,"Sepia"),m(),h(21,"button",14),S("click",function(){return C(r),_(i.setFilter("contrast(150%)"))}),d(22,"HighCon"),m(),h(23,"button",14),S("click",function(){return C(r),_(i.setFilter("hue-rotate(90deg)"))}),d(24,"Alien"),m()(),h(25,"div",15)(26,"button",16),S("click",function(){return C(r),_(i.toggleCamera())}),I(27,xv,2,0,"span")(28,Mv,2,0,"span"),m()(),h(29,"div",15)(30,"button",16),S("click",function(){return C(r),_(i.startRecording())}),I(31,Sv,2,0,"span")(32,Av,2,0,"span"),m(),h(33,"button",17),S("click",function(){return C(r),_(i.stopRecording())}),d(34," [ STOP ] "),m(),h(35,"button",17),S("click",function(){return C(r),_(i.toggleLiveStream())}),d(36),m()(),I(37,Tv,7,8),m(),h(38,"div",6)(39,"h3",7),d(40,"// AI VIDEO GENERATION"),m(),I(41,Nv,4,5,"div",18),h(42,"label",19),d(43,"VIDEO PROMPT:"),m(),h(44,"textarea",20),S("input",function(s){return C(r),_(i.videoPrompt.set(s.target.value))}),m(),h(45,"label",21),d(46,"ASPECT RATIO:"),m(),h(47,"div",22),J(48,Rv,2,4,"button",23,Ci),m(),h(50,"div",24)(51,"button",16),S("click",function(){return C(r),_(i.generateVideo(!1))}),I(52,kv,2,0,"span")(53,Pv,2,0,"span"),m(),I(54,Lv,3,4,"button",25),m(),I(55,Vv,2,3,"p",26),I(56,Bv,6,8),m()(),h(57,"div",27)(58,"button",28),S("click",function(){return C(r),_(i.clearAll())}),d(59," [ CLEAR ALL ] "),m()()()}n&2&&(f("border border-"+i.theme().purple+"-500/30"),c(),f("text-"+i.theme().purple+"-400"),c(2),x(i.error()?3:-1),c(2),f("border border-"+i.theme().purple+"-500/20"),c(),f("text-"+i.theme().purple+"-300"),c(2),f("border-"+i.theme().purple+"-700/50"),c(),xe("filter",i.videoFilter()),c(2),x(i.isCameraActive()?-1:11),c(),x(i.isRecording()?12:-1),c(),x(i.isLiveStreaming()?13:-1),c(2),f(i.videoFilter()==="none"?"bg-white text-black":""),c(2),f(i.videoFilter()==="grayscale(100%)"?"bg-white text-black":""),c(2),f(i.videoFilter()==="sepia(100%)"?"bg-white text-black":""),c(2),f(i.videoFilter()==="contrast(150%)"?"bg-white text-black":""),c(2),f(i.videoFilter()==="hue-rotate(90deg)"?"bg-white text-black":""),c(3),f("hover:text-black"),R("disabled",i.isRecording()),c(),x(i.isCameraActive()?27:28),c(3),f("hover:text-black"),R("disabled",i.isRecording()||!i.isCameraActive()),c(),x(i.isRecording()?31:32),c(2),f("hover:text-black"),R("disabled",!i.isRecording()),c(2),f("hover:bg-"+i.theme().purple+"-500 hover:text-black"),R("disabled",!i.isCameraActive()),c(),j(" ",i.isLiveStreaming()?"[ END STREAM ]":"[ GO LIVE ]"," "),c(),x(i.recordedVideoUrl()?37:-1),c(),f("border border-"+i.theme().purple+"-500/20"),c(),f("text-"+i.theme().purple+"-300"),c(2),x(i.imageForVideoGeneration()?41:-1),c(),f("text-"+i.theme().purple+"-300"),c(2),f("focus:border-"+i.theme().purple+"-500"),R("value",i.videoPrompt())("disabled",i.isGeneratingVideo()||!i.isAiAvailable()),c(),f("text-"+i.theme().purple+"-300"),c(3),X(Dt(64,_v)),c(3),f("hover:text-black"),R("disabled",!i.videoPrompt()||i.isGeneratingVideo()||!i.isAiAvailable()),c(),x(i.isGeneratingVideo()?52:53),c(2),x(i.imageForVideoGeneration()?54:-1),c(),x(i.generationProgressMessage()?55:-1),c(),x(i.generatedVideoUrl()?56:-1),c(2),f("hover:text-black"))},dependencies:[fe],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0});var ho=Pn;var jv=["visualizerCanvas"],Fn=class Fn{constructor(){this.analyserNode=te(void 0);this.canvasRef=ye.required("visualizerCanvas");this.theme=te.required();re(()=>{let t=this.analyserNode(),n=this.theme();t?(t.fftSize=256,this.dataArray=new Uint8Array(t.frequencyBinCount),this.startVisualizer()):this.stopVisualizer()})}ngAfterViewInit(){let t=this.canvasRef().nativeElement,n=t.getContext("2d");n?(this.ctx=n,t.width=t.offsetWidth,t.height=t.offsetHeight):console.error("Failed to get 2D rendering context for visualizer canvas.")}ngOnDestroy(){this.stopVisualizer()}startVisualizer(){if(this.stopVisualizer(),!this.ctx||!this.analyserNode()||!this.dataArray)return;let t=this.canvasRef().nativeElement;t.width=t.offsetWidth,t.height=t.offsetHeight,this.animationFrameId=requestAnimationFrame(this.draw.bind(this))}stopVisualizer(){if(this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0),this.ctx){let t=this.canvasRef().nativeElement;this.ctx.clearRect(0,0,t.width,t.height)}}draw(){let t=this.analyserNode(),n=this.canvasRef().nativeElement,i=this.ctx;if(!t||!i||!this.dataArray){this.stopVisualizer();return}t.getByteFrequencyData(this.dataArray),i.clearRect(0,0,n.width,n.height);let r=t.frequencyBinCount,o=n.width/r*.9,s=0;for(let a=0;a<r;a++){let l=this.dataArray[a]/255*n.height,u=a*(360/r);i.fillStyle=`hsl(${u}, 80%, 60%)`,i.fillRect(s,n.height-l,o,l),s+=o+n.width/r*.1}this.animationFrameId=requestAnimationFrame(this.draw.bind(this))}};Fn.\u0275fac=function(n){return new(n||Fn)},Fn.\u0275cmp=le({type:Fn,selectors:[["app-audio-visualizer"]],viewQuery:function(n,i){n&1&&he(i.canvasRef,jv,5),n&2&&Pe()},inputs:{analyserNode:[1,"analyserNode"],theme:[1,"theme"]},decls:3,vars:2,consts:[["visualizerCanvas",""],[1,"visualizer-container"]],template:function(n,i){n&1&&(h(0,"div",1),Y(1,"canvas",null,0),m()),n&2&&xe("--primary-color","var(--color-"+i.theme().primary+"-700)")},dependencies:[fe],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.visualizer-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:transparent;overflow:hidden;border:1px solid var(--primary-color)}canvas[_ngcontent-%COMP%]{display:block;width:100%;height:100%}"],changeDetection:0});var go=Fn;var ef=()=>[],Hv=(e,t)=>t.midi;function Uv(e,t){e&1&&(h(0,"span"),d(1,"[ STOP ]"),m())}function $v(e,t){e&1&&(h(0,"span"),d(1,"[ PLAY ]"),m())}function Gv(e,t){if(e&1&&(h(0,"div",14),d(1),m()),e&2){let n=t.$index,i=g();f(i.currentStep()===n?"text-"+i.theme().primary+"-300":"text-"+i.theme().neutral+"-400"),se("font-bold",i.currentStep()===n),c(),j(" ",n+1," ")}}function qv(e,t){if(e&1){let n=B();h(0,"div",17),S("click",function(){let r=C(n).$index,o=g().$implicit,s=g();return _(s.toggleNote(o.midi,r))}),m()}if(e&2){let n=t.$implicit,i=t.$index,r=g(2);f(n&&r.currentStep()===i?"bg-"+r.theme().primary+"-400":"")}}function zv(e,t){if(e&1&&(h(0,"div",15),d(1),m(),J(2,qv,1,2,"div",16,Ie)),e&2){let n=t.$implicit,i=g();f(n.name.includes("#")?"text-"+i.theme().primary+"-400/70":"text-"+i.theme().primary+"-400"),se("font-bold",n.name.includes("#")),c(),j(" ",i.getNoteDisplay(n)," "),c(),X(i.sequence().get(n.midi)||Dt(5,ef))}}var Jd=3,Wv=12,Qv=2,Xd=16,Xa=[],Yv=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];for(let e=Jd;e<Jd+Qv;e++)for(let t=0;t<Wv;t++)Xa.push({midi:60+(e-4)*12+t,name:Yv[t],octave:e});Xa.reverse();var On=class On{constructor(){this.theme=te.required();this.allNotes=Xa;this.bpm=w(120);this.isPlaying=w(!1);this.currentStep=w(-1);this.sequence=w(new Map);this.audioContext=null;this.initializeEmptySequence(),re(()=>{this.initializeEmptySequence()})}ngAfterViewInit(){}ngOnDestroy(){this.stop(),this.audioContext?.close().catch(t=>console.error("Error closing AudioContext:",t))}initializeEmptySequence(){let t=new Map;this.allNotes.forEach(n=>{t.set(n.midi,Array(Xd).fill(!1))}),this.sequence.set(t)}async initAudio(){this.audioContext&&this.audioContext.state==="running"||(this.audioContext||(this.audioContext=new AudioContext,this.masterGainNode=this.audioContext.createGain(),this.masterGainNode.gain.value=.5,this.masterGainNode.connect(this.audioContext.destination)),this.audioContext.state==="suspended"&&await this.audioContext.resume())}async togglePlay(){await this.initAudio(),this.isPlaying()?this.stop():this.start()}start(){this.isPlaying()||(this.isPlaying.set(!0),this.currentStep.set(this.currentStep()===-1?0:this.currentStep()),this.scheduleNextStep())}stop(){this.isPlaying.set(!1),this.timerId&&(clearTimeout(this.timerId),this.timerId=void 0)}resetSequence(){this.stop(),this.currentStep.set(-1),this.initializeEmptySequence()}scheduleNextStep(){if(!this.isPlaying()||!this.audioContext)return;let n=60/this.bpm()/4;this.timerId=window.setTimeout(()=>{let i=this.currentStep();this.playStep(i),this.currentStep.update(r=>(r+1)%Xd),this.scheduleNextStep()},n*1e3)}playStep(t){!this.audioContext||!this.masterGainNode||this.sequence().forEach((n,i)=>{n[t]&&this.playNote(i,this.audioContext.currentTime)})}playNote(t,n){if(!this.audioContext||!this.masterGainNode)return;let i=440*Math.pow(2,(t-69)/12),r=this.audioContext.createOscillator(),o=this.audioContext.createGain();r.type="sine",r.frequency.setValueAtTime(i,n),o.gain.setValueAtTime(.3,n),o.gain.exponentialRampToValueAtTime(1e-4,n+.5),r.connect(o),o.connect(this.masterGainNode),r.start(n),r.stop(n+.5)}toggleNote(t,n){this.sequence.update(i=>{let r=i.get(t);return r&&(r[n]=!r[n]),new Map(i)})}onBpmChange(t){let n=parseInt(t.target.value,10);!isNaN(n)&&n>=60&&n<=240&&(this.bpm.set(n),this.isPlaying()&&(this.stop(),this.start()))}getNoteDisplay(t){return`${t.name}${t.octave}`}};On.\u0275fac=function(n){return new(n||On)},On.\u0275cmp=le({type:On,selectors:[["app-piano-roll"]],inputs:{theme:[1,"theme"]},decls:22,vars:18,consts:[[1,"w-full","p-4","flex","flex-col","gap-4","relative"],[1,"text-center","text-lg"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-4","p-2"],[1,"flex","items-center","gap-4"],[1,"w-24","px-4","py-2","border-2","text-lg",3,"click"],[1,"px-3","py-2","border-2","text-lg",3,"click"],[1,"flex","items-center","gap-2"],["for","bpm",1,"text-sm"],["id","bpm-slider","type","range","min","60","max","240",1,"w-24","aura-slider",3,"input","value"],["id","bpm-text","type","number","min","60","max","240",1,"p-1","text-sm","w-16","text-center",3,"input","value"],[1,"w-full","overflow-x-auto"],[1,"piano-roll-grid","grid","gap-0.5","p-2"],[1,"sequencer-header","text-neutral-400","text-xs","text-right","pr-2"],[1,"step-header","text-xs","text-center","p-1",3,"class","font-bold"],[1,"step-header","text-xs","text-center","p-1"],[1,"note-name","text-xs","text-right","pr-2","py-1"],[1,"note-step","w-6","h-6","border","cursor-pointer","transition-all","duration-75",3,"class"],[1,"note-step","w-6","h-6","border","cursor-pointer","transition-all","duration-75",3,"click"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"h2",1),d(2,"[ AURA PIANO ROLL ]"),m(),h(3,"div",2)(4,"div",3)(5,"button",4),S("click",function(){return i.togglePlay()}),I(6,Uv,2,0,"span")(7,$v,2,0,"span"),m(),h(8,"button",5),S("click",function(){return i.resetSequence()}),d(9," [ RESET ] "),m(),h(10,"div",6)(11,"label",7),d(12,"BPM:"),m(),h(13,"input",8),S("input",function(o){return i.onBpmChange(o)}),m(),h(14,"input",9),S("input",function(o){return i.onBpmChange(o)}),m()()()(),h(15,"div",10)(16,"div",11),Y(17,"div",12),J(18,Gv,2,5,"div",13,Ie),J(20,zv,4,6,null,null,Hv),m()()()),n&2&&(f("border border-"+i.theme().primary+"-500/30"),c(),f("text-"+i.theme().primary+"-400"),c(2),f("border border-"+i.theme().primary+"-500/20"),c(2),f("hover:text-black"),c(),x(i.isPlaying()?6:7),c(2),f("hover:text-black"),c(5),R("value",i.bpm()),c(),f("focus:border-"+i.theme().primary+"-500"),R("value",i.bpm()),c(2),f("border border-"+i.theme().primary+"-500/20"),c(2),X(Dt(17,ef).constructor(16)),c(2),X(i.allNotes))},dependencies:[fe],styles:[".piano-roll-grid[_ngcontent-%COMP%]{grid-template-columns:80px repeat(16,1fr);grid-auto-rows:24px;width:max-content}.sequencer-header[_ngcontent-%COMP%], .note-name[_ngcontent-%COMP%], .note-step[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.aura-slider[_ngcontent-%COMP%]{-webkit-appearance:none;height:4px;border-radius:2px;background:var(--color-amber-900);outline:none;opacity:.7;transition:opacity .2s}.aura-slider[_ngcontent-%COMP%]:hover{opacity:1}.aura-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:12px;height:12px;border-radius:50%;background:var(--color-amber-400);cursor:pointer;border:1px solid var(--color-amber-900)}.aura-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:12px;height:12px;border-radius:50%;background:var(--color-amber-400);cursor:pointer;border:1px solid var(--color-amber-900)}div[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-neutral-800)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--color-primary-400);border-radius:4px;border:1px solid var(--color-primary-700)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--color-primary-300)}"],changeDetection:0});var vo=On;function Zv(e,t){if(e&1&&(h(0,"div",18),d(1),m()),e&2){let n=g();f("border-"+n.theme().primary+"-500"),c(),j(" ",n.generationStatus()," ")}}function Kv(e,t){e&1&&(h(0,"p",13),d(1,"AI API Key missing."),m())}function Jv(e,t){if(e&1){let n=B();h(0,"button",19),S("click",function(){C(n);let r=g();return _(r.startRecording())}),d(1," REC "),m()}e&2&&f("border-red-500 text-red-500")}function Xv(e,t){if(e&1){let n=B();h(0,"button",20),S("click",function(){C(n);let r=g();return _(r.stopRecording())}),d(1," STOP "),m(),h(2,"p",21),d(3,"RECORDING..."),m()}e&2&&f("border-red-500 text-red-500")}function ey(e,t){if(e&1){let n=B();h(0,"div",22)(1,"button",23),S("click",function(){C(n);let r=g();return _(r.togglePlayback())}),d(2),m(),Y(3,"audio",24),m()}if(e&2){let n=g();f("border-"+n.theme().primary+"-500/30"),c(),f("text-"+n.theme().primary+"-400"),c(),j(" ",n.isPlaying()?"[ PAUSE ]":"[ PLAY RECORDING ]"," "),c(),R("src",n.recordedAudioUrl(),ne)}}var Ln=class Ln{constructor(){this.theme=te.required();this.lyricsText=w("");this.isRecording=w(!1);this.isPlaying=w(!1);this.recordedAudioUrl=w(null);this.generationStatus=w(null);this.aiService=T(Ce);this.isAiAvailable=W(()=>this.aiService.isAiAvailable);this.mediaRecorder=null;this.audioChunks=[];this.audioPlayer=null;let t=localStorage.getItem("aura_notepad_lyrics");t&&this.lyricsText.set(t),re(()=>{localStorage.setItem("aura_notepad_lyrics",this.lyricsText())})}onTextInput(t){let n=t.target.value;this.lyricsText.set(n)}async generateLyrics(){if(!this.isAiAvailable()){this.generationStatus.set("AI unavailable.");return}let t=this.lyricsText();this.generationStatus.set("Generating lyrics...");try{let n=`You are a professional songwriter. Continue or improve the following lyrics/notes. Keep the style consistent. If it's empty, start a fresh verse in a Hip-Hop/R&B style.

Current Text:
${t}`,r=(await this.aiService.genAI.models.generateContent({model:"gemini-2.0-flash",contents:n})).text;this.lyricsText.set(t+(t?`

`:"")+r),this.generationStatus.set(null)}catch(n){console.error("Error generating lyrics:",n),this.generationStatus.set("Generation failed.")}}async startRecording(){try{let t=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(t),this.audioChunks=[],this.mediaRecorder.ondataavailable=n=>{this.audioChunks.push(n.data)},this.mediaRecorder.onstop=()=>{let n=new Blob(this.audioChunks,{type:"audio/wav"}),i=URL.createObjectURL(n);this.recordedAudioUrl.set(i),this.audioPlayer=new Audio(i),this.audioPlayer.onended=()=>this.isPlaying.set(!1)},this.mediaRecorder.start(),this.isRecording.set(!0)}catch(t){console.error("Error starting recording:",t)}}stopRecording(){this.mediaRecorder&&this.isRecording()&&(this.mediaRecorder.stop(),this.isRecording.set(!1),this.mediaRecorder.stream.getTracks().forEach(t=>t.stop()))}togglePlayback(){this.audioPlayer&&(this.isPlaying()?(this.audioPlayer.pause(),this.isPlaying.set(!1)):(this.audioPlayer.play(),this.isPlaying.set(!0)))}saveNote(){localStorage.setItem("aura_notepad_lyrics",this.lyricsText()),alert("Note saved to local storage!")}};Ln.\u0275fac=function(n){return new(n||Ln)},Ln.\u0275cmp=le({type:Ln,selectors:[["app-notepad"]],inputs:{theme:[1,"theme"]},decls:25,vars:26,consts:[[1,"w-full","h-full","p-4","flex","flex-col","gap-4"],[1,"flex","justify-between","items-center","border-b","pb-2"],[1,"text-xl","font-bold","tracking-wider"],[1,"flex","gap-2"],[1,"px-3","py-1","text-sm","border","hover:bg-white","hover:text-black","transition-colors",3,"click"],[1,"flex-grow","flex","flex-col","md:flex-row","gap-4","min-h-0"],[1,"flex-grow","flex","flex-col","relative"],["placeholder","Write your lyrics here...",1,"w-full","h-full","p-4","bg-black/50","border","focus:outline-none","font-mono","text-lg","resize-none",3,"input","value"],[1,"absolute","bottom-4","right-4","text-xs","px-2","py-1","bg-black","border",3,"class"],[1,"w-full","md:w-64","flex","flex-col","gap-4"],[1,"p-4","border","bg-black/30"],[1,"text-sm","mb-2"],[1,"w-full","py-2","border","text-center","hover:bg-white","hover:text-black","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"text-xs","mt-2","text-red-400"],[1,"p-4","border","bg-black/30","flex-grow","flex","flex-col"],[1,"flex-grow","flex","flex-col","justify-center","items-center","gap-4"],[1,"w-16","h-16","rounded-full","border-2","flex","items-center","justify-center","hover:bg-red-900/50","transition-colors",3,"class"],[1,"w-full","mt-4","pt-4","border-t",3,"class"],[1,"absolute","bottom-4","right-4","text-xs","px-2","py-1","bg-black","border"],[1,"w-16","h-16","rounded-full","border-2","flex","items-center","justify-center","hover:bg-red-900/50","transition-colors",3,"click"],[1,"w-16","h-16","rounded-full","border-2","flex","items-center","justify-center","animate-pulse","bg-red-900/80",3,"click"],[1,"text-xs","text-red-400","animate-pulse"],[1,"w-full","mt-4","pt-4","border-t"],[1,"w-full","py-2","border","text-center","hover:bg-white","hover:text-black","transition-colors","mb-2",3,"click"],["controls","",1,"w-full","h-8","opacity-50","hover:opacity-100",3,"src"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"div",1)(2,"h2",2),d(3,"// LYRIC PAD & RECORDER"),m(),h(4,"div",3)(5,"button",4),S("click",function(){return i.saveNote()}),d(6," [ SAVE ] "),m()()(),h(7,"div",5)(8,"div",6)(9,"textarea",7),S("input",function(o){return i.onTextInput(o)}),m(),I(10,Zv,2,3,"div",8),m(),h(11,"div",9)(12,"div",10)(13,"h3",11),d(14,"AI ASSISTANT"),m(),h(15,"button",12),S("click",function(){return i.generateLyrics()}),d(16," [ GENERATE / CONTINUE ] "),m(),I(17,Kv,2,0,"p",13),m(),h(18,"div",14)(19,"h3",11),d(20,"VOICE MEMO"),m(),h(21,"div",15),I(22,Jv,2,2,"button",16)(23,Xv,4,2),I(24,ey,4,6,"div",17),m()()()()()),n&2&&(f("bg-"+i.theme().primary+"-900/30"),c(),f("border-"+i.theme().primary+"-500/30"),c(),f("text-"+i.theme().primary+"-400"),c(3),f("text-"+i.theme().primary+"-400"),c(4),f("focus:border-"+i.theme().primary+"-400"),R("value",i.lyricsText()),c(),x(i.generationStatus()?10:-1),c(2),f("border-"+i.theme().primary+"-500/30"),c(),f("text-"+i.theme().primary+"-300"),c(2),f("text-"+i.theme().primary+"-400"),R("disabled",!i.isAiAvailable()),c(2),x(i.isAiAvailable()?-1:17),c(),f("border-"+i.theme().primary+"-500/30"),c(),f("text-"+i.theme().primary+"-300"),c(3),x(i.isRecording()?23:22),c(2),x(i.recordedAudioUrl()?24:-1))},dependencies:[fe],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:hidden}"],changeDetection:0});var yo=Ln;var ty=["audioPlayerA"],ny=["videoPlayerA"],iy=["audioPlayerB"],ry=["videoPlayerB"],oy=["fileInput"],nf=(e,t)=>t.title,sy=(e,t)=>t.audioSrc;function ay(e,t){e&1&&(v(0,"span"),d(1,"[ DJ ]"),y())}function ly(e,t){e&1&&(v(0,"span"),d(1,"[ PIANO EDITOR ]"),y())}function cy(e,t){e&1&&(v(0,"span"),d(1,"[ IMAGE EDITOR ]"),y())}function uy(e,t){e&1&&(v(0,"span"),d(1,"[ VIDEO EDITOR ]"),y())}function dy(e,t){e&1&&(v(0,"span"),d(1,"[ NETWORKING ]"),y())}function fy(e,t){e&1&&(v(0,"span"),d(1,"[ NOTEPAD ]"),y())}function py(e,t){e&1&&(v(0,"span"),d(1,"[ PLAYER ]"),y())}function my(e,t){e&1&&(v(0,"span"),d(1,"[ CLOSE CHATBOT ]"),y())}function hy(e,t){e&1&&(v(0,"span"),d(1,"[ CHATBOT ]"),y())}function gy(e,t){if(e&1){let n=B();v(0,"video",71,3),M("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))})("timeupdate",function(r){C(n);let o=g(2);return _(o.onTimeUpdate(r,"A"))})("loadedmetadata",function(r){C(n);let o=g(2);return _(o.onLoadedMetadata(r,"A"))})("ended",function(){C(n);let r=g(2);return _(r.onEnded("A"))}),y()}}function vy(e,t){if(e&1){let n=B();v(0,"div",72),M("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))}),de(1,"div",73)(2,"div",74),y()}if(e&2){let n=g(2);xe("transform",n.scratchRotationA()),se("spinning",n.deckA().isPlaying&&!n.isScratchingA()),c(),f("bg-"+n.currentTheme().accent+"-600"),c(),f(n.djBgStone900)}}function yy(e,t){e&1&&(v(0,"span"),d(1,"[ || ]"),y())}function Ey(e,t){e&1&&(v(0,"span"),d(1,"[ > ]"),y())}function Cy(e,t){if(e&1&&de(0,"div",75),e&2){let n=t.$index,i=g(2);se("green",n/12<i.vuLevelA()&&n<8)("yellow",n/12<i.vuLevelA()&&n>=8&&n<10)("red",n/12<i.vuLevelA()&&n>=10)}}function _y(e,t){if(e&1&&(v(0,"div",76),d(1,"[ SEARCHING... ]"),y()),e&2){let n=g(2);f("border-"+n.currentTheme().accent+"-500/50")}}function Dy(e,t){if(e&1){let n=B();v(0,"div",79)(1,"p",80),d(2),y(),v(3,"div",81)(4,"p",82),d(5),y(),v(6,"div",83)(7,"button",84),M("click",function(){let r=C(n).$implicit,o=g(3);return _(o.loadTrackToDeck(r,"A"))}),d(8,"->A"),y(),v(9,"button",84),M("click",function(){let r=C(n).$implicit,o=g(3);return _(o.loadTrackToDeck(r,"B"))}),d(10,"->B"),y()()()()}if(e&2){let n=t.$implicit,i=g(3);f("hover:bg-"+i.currentTheme().neutral+"-700/50"),c(2),j("> ",n.title),c(2),f(i.djTextNeutral400Class),c(),j("-- ",n.artist),c(2),f(i.djHoverBgClass),c(2),f(i.djHoverBgClass)}}function by(e,t){if(e&1&&(v(0,"div",77),J(1,Dy,11,10,"div",78,nf),y()),e&2){let n=g(2);f("border-"+n.currentTheme().accent+"-500/50"),c(),X(n.searchResults())}}function wy(e,t){if(e&1){let n=B();v(0,"button",87),M("click",function(){C(n);let r=g(3);return _(r.shareMix())}),d(1,"[ SHARE ]"),y()}if(e&2){let n=g(3);f(n.djHoverBgClass)}}function Iy(e,t){if(e&1&&(v(0,"div",63)(1,"a",85),d(2,"[ DOWNLOAD ]"),y(),I(3,wy,2,2,"button",86),y()),e&2){let n=g(2);c(),f(n.djHoverBgClass),V("href",t,ne),c(2),x(n.canShare()?3:-1)}}function xy(e,t){e&1&&(de(0,"span",88),v(1,"span",89),d(2,"[ ACTIVE ]"),y())}function My(e,t){if(e&1&&de(0,"div",75),e&2){let n=t.$index,i=g(3);se("green",n/12<i.vuLevelMic()&&n<8)("yellow",n/12<i.vuLevelMic()&&n>=8&&n<10)("red",n/12<i.vuLevelMic()&&n>=10)}}function Sy(e,t){if(e&1){let n=B();v(0,"div",65)(1,"div",90),J(2,My,1,6,"div",45,Ie),y(),v(4,"div",41)(5,"span",91),d(6,"VOL"),y(),v(7,"input",92),M("input",function(r){C(n);let o=g(2);return _(o.onMicVolumeChange(r))}),y()(),v(8,"div",41)(9,"span",91),d(10,"HI"),y(),v(11,"input",92),M("input",function(r){C(n);let o=g(2);return _(o.onMicEqChange(r,"High"))}),y()(),v(12,"div",41)(13,"span",91),d(14,"MID"),y(),v(15,"input",92),M("input",function(r){C(n);let o=g(2);return _(o.onMicEqChange(r,"Mid"))}),y()(),v(16,"div",41)(17,"span",91),d(18,"LOW"),y(),v(19,"input",92),M("input",function(r){C(n);let o=g(2);return _(o.onMicEqChange(r,"Low"))}),y()(),v(20,"div",41)(21,"span",91),d(22,"FX"),y(),v(23,"input",93),M("input",function(r){C(n);let o=g(2);return _(o.onMicFilterChange(r))}),y()()()}if(e&2){let n=g(2);c(),f(n.djBgStone800),c(),X(n.vuBars),c(5),V("value",n.micVolume()),c(4),V("value",n.micEqHigh()),c(4),V("value",n.micEqMid()),c(4),V("value",n.micEqLow()),c(4),V("value",n.getNormalizedFilterValue(n.micFilterFreq()))}}function Ay(e,t){if(e&1&&de(0,"div",75),e&2){let n=t.$index,i=g(2);se("green",n/12<i.vuLevelMaster()&&n<8)("yellow",n/12<i.vuLevelMaster()&&n>=8&&n<10)("red",n/12<i.vuLevelMaster()&&n>=10)}}function Ty(e,t){if(e&1){let n=B();v(0,"video",71,4),M("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))})("timeupdate",function(r){C(n);let o=g(2);return _(o.onTimeUpdate(r,"B"))})("loadedmetadata",function(r){C(n);let o=g(2);return _(o.onLoadedMetadata(r,"B"))})("ended",function(){C(n);let r=g(2);return _(r.onEnded("B"))}),y()}}function Ny(e,t){if(e&1){let n=B();v(0,"div",72),M("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))}),de(1,"div",94)(2,"div",74),y()}if(e&2){let n=g(2);xe("transform",n.scratchRotationB()),se("spinning",n.deckB().isPlaying&&!n.isScratchingB()),c(),f("bg-"+n.currentTheme().accent+"-600"),c(),f(n.djBgStone900)}}function Ry(e,t){e&1&&(v(0,"span"),d(1,"[ || ]"),y())}function ky(e,t){e&1&&(v(0,"span"),d(1,"[ > ]"),y())}function Py(e,t){if(e&1&&de(0,"div",75),e&2){let n=t.$index,i=g(2);se("green",n/12<i.vuLevelB()&&n<8)("yellow",n/12<i.vuLevelB()&&n>=8&&n<10)("red",n/12<i.vuLevelB()&&n>=10)}}function Fy(e,t){if(e&1){let n=B();v(0,"div",22)(1,"div",23)(2,"h2",24),d(3," [ DECK A ] "),y(),v(4,"div",25)(5,"div",26)(6,"div",27),I(7,gy,2,0,"video",28)(8,vy,3,8,"div",29),y(),v(9,"div",30)(10,"h3",31),d(11),y(),v(12,"p",32),d(13),y()(),v(14,"div",33)(15,"input",34),M("input",function(r){C(n);let o=g();return _(o.onProgressChange(r,"A"))}),y(),v(16,"div",35)(17,"span"),d(18),y(),v(19,"span"),d(20),y()()(),v(21,"div",36)(22,"button",37),M("click",function(){C(n);let r=g();return _(r.togglePlayPause("A"))}),I(23,yy,2,0,"span")(24,Ey,2,0,"span"),y(),v(25,"button",38),M("click",function(){C(n);let r=g();return _(r.toggleLoop("A"))}),v(26,"span"),d(27,"[ REPEAT ]"),y()()()(),v(28,"div",39)(29,"div",40)(30,"div",41)(31,"span"),d(32,"GAIN"),y(),v(33,"input",42),M("input",function(r){C(n);let o=g();return _(o.onGainChange(r,"A"))}),y()(),v(34,"div",41)(35,"span"),d(36,"HI"),y(),v(37,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"A","High"))}),y()(),v(38,"div",41)(39,"span"),d(40,"MID"),y(),v(41,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"A","Mid"))}),y()(),v(42,"div",41)(43,"span"),d(44,"LOW"),y(),v(45,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"A","Low"))}),y()(),v(46,"div",41)(47,"span"),d(48,"FX"),y(),v(49,"input",43),M("input",function(r){C(n);let o=g();return _(o.onFilterChange(r,"A"))}),y()()(),v(50,"div",44),J(51,Cy,1,6,"div",45,Ie),y(),v(53,"div",46)(54,"span",47),d(55,"PITCH"),y(),v(56,"input",48),M("input",function(r){C(n);let o=g();return _(o.onPitchChange(r,"A"))}),y()()()()(),v(57,"div",49)(58,"h2",50),d(59,"[ MIXER ]"),y(),v(60,"div",51)(61,"form",52),M("submit",function(r){C(n);let o=g();return _(o.performSearch(r))}),v(62,"div",53)(63,"input",54),M("input",function(r){C(n);let o=g();return _(o.onSearchQueryInput(r))}),y(),v(64,"button",55),d(65,"[SCN]"),y()()(),I(66,_y,2,2,"div",56),I(67,by,3,2,"div",57),y(),v(68,"div",58)(69,"h3",47),d(70,"[ RECORDING ]"),y(),v(71,"div",59)(72,"button",60),M("click",function(){C(n);let r=g();return _(r.toggleRecording())}),v(73,"span",9),de(74,"span",61),d(75),y()(),v(76,"span",62),d(77),y()(),I(78,Iy,4,4,"div",63),y(),v(79,"div",58)(80,"h3",64),d(81," [ MICROPHONE ] "),I(82,xy,3,0),y(),v(83,"div",59)(84,"button",60),M("click",function(){C(n);let r=g();return _(r.toggleMicrophone())}),d(85),y()(),I(86,Sy,24,7,"div",65),y(),v(87,"div",66)(88,"div",44),J(89,Ay,1,6,"div",45,Ie),y(),v(91,"input",67),M("input",function(r){C(n);let o=g();return _(o.onCrossfadeChange(r))}),y(),v(92,"input",68),M("input",function(r){C(n);let o=g();return _(o.onVolumeChange(r))}),y()(),v(93,"div",69)(94,"span"),d(95,"DECK A"),y(),v(96,"span"),d(97,"MASTER"),y(),v(98,"span"),d(99,"DECK B"),y()(),v(100,"button",70),M("click",function(){C(n);let r=g();return _(r.openFilePickerForDeck("B"))}),d(101,"[ LOAD FILE ]"),y()(),v(102,"div",23)(103,"h2",24),d(104," [ DECK B ] "),y(),v(105,"div",25)(106,"div",26)(107,"div",27),I(108,Ty,2,0,"video",28)(109,Ny,3,8,"div",29),y(),v(110,"div",30)(111,"h3",31),d(112),y(),v(113,"p",32),d(114),y()(),v(115,"div",33)(116,"input",34),M("input",function(r){C(n);let o=g();return _(o.onProgressChange(r,"B"))}),y(),v(117,"div",35)(118,"span"),d(119),y(),v(120,"span"),d(121),y()()(),v(122,"div",36)(123,"button",37),M("click",function(){C(n);let r=g();return _(r.togglePlayPause("B"))}),I(124,Ry,2,0,"span")(125,ky,2,0,"span"),y(),v(126,"button",38),M("click",function(){C(n);let r=g();return _(r.toggleLoop("B"))}),v(127,"span"),d(128,"[ REPEAT ]"),y()()()(),v(129,"div",39)(130,"div",40)(131,"div",41)(132,"span"),d(133,"GAIN"),y(),v(134,"input",42),M("input",function(r){C(n);let o=g();return _(o.onGainChange(r,"B"))}),y()(),v(135,"div",41)(136,"span"),d(137,"HI"),y(),v(138,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"B","High"))}),y()(),v(139,"div",41)(140,"span"),d(141,"MID"),y(),v(142,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"B","Mid"))}),y()(),v(143,"div",41)(144,"span"),d(145,"LOW"),y(),v(146,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"B","Low"))}),y()(),v(147,"div",41)(148,"span"),d(149,"FX"),y(),v(150,"input",43),M("input",function(r){C(n);let o=g();return _(o.onFilterChange(r,"B"))}),y()()(),v(151,"div",44),J(152,Py,1,6,"div",45,Ie),y(),v(154,"div",46)(155,"span",47),d(156,"PITCH"),y(),v(157,"input",48),M("input",function(r){C(n);let o=g();return _(o.onPitchChange(r,"B"))}),y()()()()()()}if(e&2){let n,i=g();f(i.djTextNeutral400Class),c(),f(i.djBorderClass),c(),f(i.djTextColorClass),c(5),x(i.deckA().track.videoSrc?7:8),c(3),f(i.mainTextColorClass()),V("title",i.deckA().track.title),c(),Z(i.deckA().track.title),c(),f(i.djTextNeutral400Class),V("title",i.deckA().track.artist),c(),j("-- ",i.deckA().track.artist," --"),c(2),V("max",i.deckA().duration)("value",i.deckA().progress),c(),f(i.djTextNeutral400Class),c(2),Z(i.formatTime(i.deckA().progress)),c(2),Z(i.formatTime(i.deckA().duration)),c(2),f(i.djHoverBgClass),c(),x(i.deckA().isPlaying?23:24),c(2),f(i.deckA().loop?"text-black":""),c(3),f("border-l-2 border-"+i.currentTheme().accent+"-500/20"),c(5),V("value",i.deckA().gain),c(4),V("value",i.deckA().eqHigh),c(4),V("value",i.deckA().eqMid),c(4),V("value",i.deckA().eqLow),c(4),V("value",i.getNormalizedFilterValue(i.deckA().filterFreq)),c(),f(i.djBgStone800),c(),X(i.vuBars),c(5),V("value",i.deckA().playbackRate),c(),f(i.djBorderClass),c(),f(i.djTextColorClass),c(5),f("focus:border-"+i.currentTheme().accent+"-500"),V("value",i.searchQuery()),c(),f(i.djHoverBgClass),c(2),x(i.isSearching()?66:-1),c(),x(i.searchResults().length>0?67:-1),c(),f(i.djBorderClass),c(4),f(i.djHoverBgClass),c(2),se("recording",i.isRecording()),c(),j(" ",i.isRecording()?"STOP":"REC"," "),c(2),Z(i.formatTime(i.recordingTime())),c(),x((n=i.recordedMixUrl())?78:-1,n),c(),f(i.djBorderClass),c(3),x(i.micEnabled()?82:-1),c(2),f(i.djHoverBgClass),c(),j(" ",i.micEnabled()?"DISABLE":"ENABLE"," "),c(),x(i.micEnabled()?86:-1),c(2),f(i.djBgStone800),c(),X(i.vuBars),c(2),V("value",i.crossfade()),c(),V("value",i.volume()),c(8),f(i.djHoverBgClass),c(2),f(i.djBorderClass),c(),f(i.djTextColorClass),c(5),x(i.deckB().track.videoSrc?108:109),c(3),f(i.mainTextColorClass()),V("title",i.deckB().track.title),c(),Z(i.deckB().track.title),c(),f(i.djTextNeutral400Class),V("title",i.deckB().track.artist),c(),j("-- ",i.deckB().track.artist," --"),c(2),V("max",i.deckB().duration)("value",i.deckB().progress),c(),f(i.djTextNeutral400Class),c(2),Z(i.formatTime(i.deckB().progress)),c(2),Z(i.formatTime(i.deckB().duration)),c(2),f(i.djHoverBgClass),c(),x(i.deckB().isPlaying?124:125),c(2),f(i.deckB().loop?"text-black":""),c(3),f("border-l-2 border-"+i.currentTheme().accent+"-500/20"),c(5),V("value",i.deckB().gain),c(4),V("value",i.deckB().eqHigh),c(4),V("value",i.deckB().eqMid),c(4),V("value",i.deckB().eqLow),c(4),V("value",i.getNormalizedFilterValue(i.deckB().filterFreq)),c(),f(i.djBgStone800),c(),X(i.vuBars),c(5),V("value",i.deckB().playbackRate)}}function Oy(e,t){if(e&1&&de(0,"app-piano-roll",13),e&2){let n=g();V("theme",n.currentTheme())}}function Ly(e,t){e&1&&de(0,"video",97,3)}function Vy(e,t){if(e&1&&de(0,"img",98),e&2){let n=g(2);V("src",n.deckA().track.albumArtUrl,ne)}}function By(e,t){e&1&&(v(0,"span"),d(1,"[ || ]"),y())}function jy(e,t){e&1&&(v(0,"span"),d(1,"[ > ]"),y())}function Hy(e,t){if(e&1&&(v(0,"div",76),d(1,"[ SEARCHING... ]"),y()),e&2){let n=g(2);f(n.mainBorderClass())}}function Uy(e,t){if(e&1){let n=B();v(0,"div",79)(1,"p",80),d(2),y(),v(3,"div",81)(4,"p",119),d(5),y(),v(6,"div",83)(7,"button",120),M("click",function(){let r=C(n).$implicit,o=g(3);return _(o.addTrackToPlaylist(r,!0))}),d(8,"[ PLAY ]"),y(),v(9,"button",120),M("click",function(){let r=C(n).$implicit,o=g(3);return _(o.addTrackToPlaylist(r,!1))}),d(10,"[ +QUEUE ]"),y()()()()}if(e&2){let n=t.$implicit,i=g(3);f("hover:bg-"+i.currentTheme().primary+"-900/50"),c(),f(i.mainTextColorClass()),c(),j("> ",n.title),c(3),j("-- ",n.artist),c(2),f(i.mainHoverBgClass()),c(2),f(i.mainHoverBgClass())}}function $y(e,t){if(e&1&&(v(0,"div",117)(1,"h3",118),d(2,"[ Search Results ]"),y(),J(3,Uy,11,10,"div",78,nf),y()),e&2){let n=g(2);f(n.mainBorderClass()),c(3),X(n.searchResults())}}function Gy(e,t){if(e&1){let n=B();v(0,"div",121),M("click",function(){let r=C(n).$index,o=g(2);return _(o.playTrackFromPlaylist(r))}),v(1,"p",80),d(2),y(),v(3,"p",119),d(4),y()()}if(e&2){let n=t.$implicit,i=t.$index,r=g(2);f(r.currentTrackIndex()===i?"bg-"+r.currentTheme().primary+"-900/50":""),c(),se("text-white",r.currentTrackIndex()===i),c(),j("> ",n.title),c(2),j("-- ",n.artist)}}function qy(e,t){e&1&&(v(0,"p",115),d(1,"[ Load a file or search to begin ]"),y())}function zy(e,t){if(e&1){let n=B();v(0,"div",14)(1,"div",95)(2,"div",96),I(3,Ly,2,0,"video",97)(4,Vy,1,1,"img",98),y(),de(5,"app-audio-visualizer",99),v(6,"div",30)(7,"h3",100),d(8),y(),v(9,"p",101),d(10),y()(),v(11,"div",33)(12,"input",34),M("input",function(r){C(n);let o=g();return _(o.onProgressChange(r,"A"))}),y(),v(13,"div",102)(14,"span"),d(15),y(),v(16,"span"),d(17),y()()(),v(18,"div",103)(19,"button",104),M("click",function(){C(n);let r=g();return _(r.playPrevious())}),d(20,"[ << ]"),y(),v(21,"button",105),M("click",function(){C(n);let r=g();return _(r.togglePlayPause("A"))}),I(22,By,2,0,"span")(23,jy,2,0,"span"),y(),v(24,"button",104),M("click",function(){C(n);let r=g();return _(r.playNext())}),d(25,"[ >> ]"),y()(),v(26,"div",65)(27,"span",47),d(28,"VOL:"),y(),v(29,"input",106),M("input",function(r){C(n);let o=g();return _(o.onVolumeChange(r))}),y(),v(30,"button",107),M("click",function(){C(n);let r=g();return _(r.toggleEqPanel())}),d(31,"[EQ]"),y()()(),v(32,"div",108)(33,"form",52),M("submit",function(r){C(n);let o=g();return _(o.performSearch(r))}),v(34,"div",53)(35,"input",109),M("input",function(r){C(n);let o=g();return _(o.onSearchQueryInput(r))}),y(),v(36,"button",110),d(37,"[SCN]"),y()()(),I(38,Hy,2,2,"div",56),I(39,$y,5,2,"div",111),v(40,"div",112)(41,"h3",113),d(42,"[ Playlist ]"),y(),J(43,Gy,5,6,"div",114,sy),I(45,qy,2,0,"p",115),y(),v(46,"button",116),M("click",function(){C(n);let r=g();return _(r.openFilePickerForDeck(null))}),d(47,"[LOAD FILE]"),y()()()}if(e&2){let n=g();c(2),f(n.mainBorderClass()),c(),x(n.deckA().track.videoSrc?3:4),c(2),V("analyserNode",n.getMasterAnalyser())("theme",n.currentTheme()),c(2),f(n.mainTextColorClass()),V("title",n.deckA().track.title),c(),Z(n.deckA().track.title),c(),V("title",n.deckA().track.artist),c(),j("-- ",n.deckA().track.artist," --"),c(2),V("max",n.deckA().duration)("value",n.deckA().progress),c(3),Z(n.formatTime(n.deckA().progress)),c(2),Z(n.formatTime(n.deckA().duration)),c(2),f(n.mainHoverBgClass()),c(2),f(n.mainHoverBgClass()),c(),x(n.deckA().isPlaying?22:23),c(2),f(n.mainHoverBgClass()),c(3),f(n.mainTextColorClass()),c(2),V("value",n.volume()),c(),f(n.mainHoverBgClass()),c(5),f("focus:border-"+n.currentTheme().primary+"-500"),V("value",n.searchQuery()),c(),f(n.mainHoverBgClass()),c(2),x(n.isSearching()?38:-1),c(),x(n.searchResults().length>0?39:-1),c(),f(n.mainBorderClass()),c(),f(n.mainTextColorClass()),c(2),X(n.playlist()),c(2),x(n.playlist().length===0?45:-1),c(),f(n.mainHoverBgClass())}}function Wy(e,t){if(e&1){let n=B();v(0,"app-image-editor",122),M("imageSelected",function(r){C(n);let o=g();return _(o.handleImageSelectedForAlbumArt(r))})("imageAnalysisRequest",function(r){C(n);let o=g();return o.imageToAnalyzeUrl.set(r),_(o.showChatbot.set(!0))}),y()}if(e&2){let n=g();V("initialPrompt",n.imageEditorInitialPrompt())("theme",n.currentTheme())}}function Qy(e,t){if(e&1&&de(0,"app-video-editor",16),e&2){let n=g();V("imageForVideoGeneration",n.lastImageEditorImageUrl())("initialPrompt",n.videoEditorInitialPrompt())("theme",n.currentTheme())}}function Yy(e,t){if(e&1&&de(0,"app-networking",17),e&2){let n=g();V("initialSearchQuery",n.networkingLocationQuery())("theme",n.currentTheme())}}function Zy(e,t){if(e&1&&de(0,"app-notepad",13),e&2){let n=g();V("theme",n.currentTheme())}}function Ky(e,t){if(e&1){let n=B();v(0,"app-eq-panel",123),M("close",function(){C(n);let r=g();return _(r.toggleEqPanel())})("eqChange",function(r){C(n);let o=g();return _(o.onMasterEqChange(r))})("enhancementsChange",function(r){C(n);let o=g();return _(o.onEnhancementsChange(r))}),y()}if(e&2){let n=g();V("eqSettings",n.eqSettings())("enhancements",n.enhancements())("theme",n.currentTheme())}}function Jy(e,t){if(e&1){let n=B();v(0,"app-chatbot",124),M("appCommand",function(r){C(n);let o=g();return _(o.handleChatbotCommand(r))})("close",function(){C(n);let r=g();return _(r.showChatbot.set(!1))})("imageAnalysisResult",function(r){C(n);let o=g();return o.imageAnalysisResult.set(r),_(o.imageToAnalyzeUrl.set(null))})("mapLocationResult",function(r){C(n);let o=g();return o.mapLocationResult.set(r),_(o.mapLocationQuery.set(null))}),y()}if(e&2){let n=g();V("theme",n.currentTheme())("imageToAnalyzeUrl",n.imageToAnalyzeUrl())("mapLocationQuery",n.mapLocationQuery())}}function Xy(e,t){if(e&1){let n=B();v(0,"div",125),M("click",function(){C(n);let r=g();return _(r.showApplyAlbumArtModal.set(!1))}),y(),v(1,"div",126)(2,"div",127)(3,"h2",62),d(4,"[[ Apply Album Art ]]"),y(),v(5,"button",128),M("click",function(){C(n);let r=g();return _(r.showApplyAlbumArtModal.set(!1))}),d(6," [X] "),y()(),v(7,"p",129),d(8,"Where do you want to apply this image?"),y(),v(9,"div",130)(10,"button",131),M("click",function(){C(n);let r=g();return _(r.applyImageAsAlbumArt("player"))}),d(11,"[ CURRENT PLAYER TRACK ]"),y(),v(12,"button",131),M("click",function(){C(n);let r=g();return _(r.applyImageAsAlbumArt("A"))}),d(13,"[ DECK A ]"),y(),v(14,"button",131),M("click",function(){C(n);let r=g();return _(r.applyImageAsAlbumArt("B"))}),d(15,"[ DECK B ]"),y()()()}if(e&2){let n=g();c(),f(n.mainTextColorClass()),c(4),f(n.mainHoverBgClass()),c(5),f(n.mainHoverBgClass()),c(2),f(n.mainHoverBgClass()),c(2),f(n.mainHoverBgClass())}}function eE(e,t){if(e&1&&(v(0,"div",133),de(1,"img",135),y()),e&2){let n=g(2);c(),f(n.mainBorderClass()),V("src",n.imageToAnalyzeUrl(),ne)}}function tE(e,t){if(e&1){let n=B();v(0,"div",125),M("click",function(){C(n);let r=g();return _(r.showImageAnalysisModal.set(!1))}),y(),v(1,"div",132)(2,"div",127)(3,"h2",62),d(4,"[[ Image Analysis Result ]]"),y(),v(5,"button",128),M("click",function(){C(n);let r=g();return r.showImageAnalysisModal.set(!1),r.imageAnalysisResult.set(null),_(r.imageToAnalyzeUrl.set(null))}),d(6," [X] "),y()(),I(7,eE,2,3,"div",133),v(8,"div",134)(9,"p"),d(10),y()()()}if(e&2){let n=g();c(),f(n.mainTextColorClass()),c(4),f(n.mainHoverBgClass()),c(2),x(n.imageToAnalyzeUrl()?7:-1),c(),f(n.mainBorderClass()),c(2),Z(n.imageAnalysisResult())}}function nE(e,t){if(e&1&&(v(0,"p",137),d(1),y()),e&2){let n=g(2);f(n.mainTextColorClass()),c(),j('Query: "',n.mapLocationQuery(),'"')}}function iE(e,t){if(e&1){let n=B();v(0,"div",125),M("click",function(){C(n);let r=g();return _(r.showMapResultsModal.set(!1))}),y(),v(1,"div",132)(2,"div",127)(3,"h2",62),d(4,"[[ Map Search Result ]]"),y(),v(5,"button",128),M("click",function(){C(n);let r=g();return r.showMapResultsModal.set(!1),r.mapLocationResult.set(null),_(r.mapLocationQuery.set(null))}),d(6," [X] "),y()(),I(7,nE,2,3,"p",136),v(8,"div",134)(9,"p"),d(10),y()()()}if(e&2){let n=g();c(),f(n.mainTextColorClass()),c(4),f(n.mainHoverBgClass()),c(2),x(n.mapLocationQuery()?7:-1),c(),f(n.mainBorderClass()),c(2),Z(n.mapLocationResult())}}var Eo={track:{title:"NO SIGNAL",artist:"Load a track into deck",albumArtUrl:"https://picsum.photos/seed/placeholder/500/500",audioSrc:""},isPlaying:!1,progress:0,duration:0,playbackRate:1,filterFreq:2e4,loop:!1,gain:50,eqHigh:50,eqMid:50,eqLow:50,wasPlayingBeforeScratch:!1},tf=[{name:"Green Vintage",primary:"green",accent:"amber",neutral:"neutral",purple:"purple",red:"red",blue:"blue"},{name:"Blue Retro",primary:"blue",accent:"fuchsia",neutral:"zinc",purple:"purple",red:"red",blue:"blue"},{name:"Red Glitch",primary:"red",accent:"cyan",neutral:"stone",purple:"purple",red:"red",blue:"blue"},{name:"Amber Glow",primary:"amber",accent:"green",neutral:"neutral",purple:"purple",red:"red",blue:"blue"},{name:"Purple Haze",primary:"purple",accent:"lime",neutral:"slate",purple:"purple",red:"red",blue:"blue"},{name:"Cyan Wave",primary:"cyan",accent:"violet",neutral:"gray",purple:"purple",red:"red",blue:"blue"},{name:"Yellow Neon",primary:"yellow",accent:"red",neutral:"stone",purple:"purple",red:"red",blue:"blue"}],Vn=class Vn{constructor(){this.audioPlayerARef=ye("audioPlayerA");this.videoPlayerARef=ye("videoPlayerA");this.audioPlayerBRef=ye("audioPlayerB");this.videoPlayerBRef=ye("videoPlayerB");this.fileInputRef=ye("fileInput");this.mainViewMode=w("player");this.showChatbot=w(!0);this.deckA=w(A({},Eo));this.deckB=w(A({},Eo));this.crossfade=w(0);this.loadingTargetDeck=w(null);this.isScratchingA=w(!1);this.isScratchingB=w(!1);this.scratchRotationA=w("");this.scratchRotationB=w("");this.scratchStateA={active:!1,lastAngle:0,platterElement:null};this.scratchStateB={active:!1,lastAngle:0,platterElement:null};this.SCRATCH_SENSITIVITY=2.5;this.playlist=w([]);this.currentTrackIndex=w(-1);this.currentPlayerTrack=W(()=>{let t=this.currentTrackIndex(),n=this.playlist();return t>=0&&t<n.length?n[t]:null});this.volume=w(.75);this.showEqPanel=w(!1);this.searchQuery=w("");this.isSearching=w(!1);this.searchResults=w([]);this.eqSettings=w([{label:"60Hz",value:50},{label:"310Hz",value:50},{label:"1KHz",value:50},{label:"6KHz",value:50},{label:"16KHz",value:50}]);this.enhancements=w({bassBoost:!1,surroundSound:!1});this.isRecording=w(!1);this.recordingTime=w(0);this.recordedMixUrl=w(null);this.recordedBlob=w(null);this.canShare=W(()=>!!(navigator.share&&this.recordedBlob()));this.vuLevelA=w(0);this.vuLevelB=w(0);this.vuLevelMaster=w(0);this.vuBars=Array(12).fill(0);this.micEnabled=w(!1);this.micVolume=w(50);this.micEqHigh=w(50);this.micEqMid=w(50);this.micEqLow=w(50);this.micFilterFreq=w(2e4);this.vuLevelMic=w(0);this.THEMES=tf;this.currentTheme=w(tf[0]);this.mainBorderClass=W(()=>`border-${this.currentTheme().primary}-400/50`);this.mainTextColorClass=W(()=>`text-${this.currentTheme().primary}-400`);this.mainHoverBgClass=W(()=>`hover:bg-${this.currentTheme().primary}-400 hover:text-black`);this.mainBg90050Class=W(()=>`bg-${this.currentTheme().primary}-900/50`);this.djBorderClass=W(()=>`border-${this.currentTheme().accent}-500/30`);this.djTextColorClass=W(()=>`text-${this.currentTheme().accent}-400`);this.djActiveBgClass=W(()=>`bg-${this.currentTheme().accent}-500`);this.djHoverBgClass=W(()=>`hover:bg-${this.currentTheme().accent}-500 hover:text-black`);this.djBg80050Class=W(()=>`bg-${this.currentTheme().neutral}-800/50`);this.djTextAccent300Class=W(()=>`text-${this.currentTheme().accent}-300`);this.djTextNeutral400Class=W(()=>`text-${this.currentTheme().neutral}-400`);this.djBgStone900=W(()=>`bg-${this.currentTheme().neutral}-900`);this.djBgStone700=W(()=>`bg-${this.currentTheme().neutral}-700`);this.eqNodesMaster=[];this.micSourceNode=null;this.micGainNode=null;this.micEqNodes=[];this.micFilterNode=null;this.micStream=null;this.mediaRecorder=null;this.recordedChunks=[];this.imageEditorInitialPrompt=w("");this.videoEditorInitialPrompt=w("");this.lastImageEditorImageUrl=w(null);this.showApplyAlbumArtModal=w(!1);this.imageToApplyAsAlbumArt=w(null);this.imageToAnalyzeUrl=w(null);this.imageAnalysisResult=w(null);this.showImageAnalysisModal=w(!1);this.mapLocationQuery=w(null);this.mapLocationResult=w(null);this.showMapResultsModal=w(!1);this.networkingLocationQuery=w(null);this.selectedArtistProfile=w(null);this.showArtistDetailModal=w(!1);this.aiService=T(Ce);this.activeFileInputDeck=null;this.activeFileInputTrackPlayer=!1;this.initAudioContext(),this.initVUAnalysis(),re(()=>{this.aiService.isAiAvailable||console.warn("AppComponent: AI services are not available.")}),re(()=>{this.imageAnalysisResult()&&this.showImageAnalysisModal.set(!0)}),re(()=>{this.mapLocationResult()&&this.showMapResultsModal.set(!0)}),re(()=>{this.selectedArtistProfile()&&this.showArtistDetailModal.set(!0)}),this.loadTrackToDeck(Eo.track,"A")}ngOnDestroy(){this.stopAllAudio(),this.audioContext&&this.audioContext.state!=="closed"&&this.audioContext.close().catch(t=>console.error("Error closing audio context:",t)),this.vuIntervalId&&clearInterval(this.vuIntervalId),this.stopMediaStream()}initAudioContext(){this.audioContext||(this.audioContext=new AudioContext,this.gainNodeMaster=this.audioContext.createGain(),this.crossfadeNode=this.audioContext.createGain(),this.analyserMaster=this.audioContext.createAnalyser(),this.analyserA=this.audioContext.createAnalyser(),this.analyserB=this.audioContext.createAnalyser(),this.analyserMic=this.audioContext.createAnalyser(),this.destinationNode=this.audioContext.createMediaStreamDestination(),this.crossfadeNode.connect(this.gainNodeMaster),this.setupMasterEq(this.gainNodeMaster),this.eqNodesMaster[this.eqNodesMaster.length-1].connect(this.analyserMaster),this.analyserMaster.connect(this.destinationNode),this.analyserMaster.connect(this.audioContext.destination),this.onCrossfadeChange({target:{value:this.crossfade()}}),this.onVolumeChange({target:{value:this.volume()}}),this.eqSettings().forEach((t,n)=>{this.onMasterEqChange(this.eqSettings())}))}setupMasterEq(t){this.eqNodesMaster=[];let n=[60,310,1e3,6e3,16e3];for(let i=0;i<n.length;i++){let r=this.audioContext.createBiquadFilter();r.type="peaking",r.frequency.value=n[i],r.Q.value=1,r.gain.value=0,this.eqNodesMaster.push(r)}if(this.eqNodesMaster.length>0){t.connect(this.eqNodesMaster[0]);for(let i=0;i<this.eqNodesMaster.length-1;i++)this.eqNodesMaster[i].connect(this.eqNodesMaster[i+1])}}initVUAnalysis(){this.vuIntervalId=window.setInterval(()=>{if(this.analyserA){let t=new Uint8Array(this.analyserA.fftSize);this.analyserA.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelA.set(n/255)}if(this.analyserB){let t=new Uint8Array(this.analyserB.fftSize);this.analyserB.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelB.set(n/255)}if(this.analyserMaster){let t=new Uint8Array(this.analyserMaster.fftSize);this.analyserMaster.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelMaster.set(n/255)}if(this.analyserMic&&this.micEnabled()){let t=new Uint8Array(this.analyserMic.fftSize);this.analyserMic.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelMic.set(n/255)}},100)}getMasterAnalyser(){return this.analyserMaster}openFilePickerForDeck(t){this.activeFileInputDeck=t,this.activeFileInputTrackPlayer=t===null,this.fileInputRef().nativeElement.click()}handleFileInput(t){let n=t.target.files?.[0];if(n){let i=URL.createObjectURL(n),r={title:n.name,artist:"Local File",albumArtUrl:"https://picsum.photos/seed/"+Math.random().toString(36).substring(7)+"/500/500",audioSrc:i,videoSrc:n.type.startsWith("video/")?i:void 0};this.activeFileInputDeck==="A"?this.loadTrackToDeck(r,"A"):this.activeFileInputDeck==="B"?this.loadTrackToDeck(r,"B"):this.activeFileInputTrackPlayer&&this.addTrackToPlaylist(r,!0)}this.fileInputRef()&&(this.fileInputRef().nativeElement.value=""),this.activeFileInputDeck=null,this.activeFileInputTrackPlayer=!1}loadTrackToDeck(t,n){let i=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),r=n==="A"?this.videoPlayerARef():this.videoPlayerBRef();if((n==="A"?this.deckA():this.deckB()).isPlaying&&(i?.nativeElement.pause(),r?.nativeElement&&r.nativeElement.pause()),!i){console.error(`Audio player reference for deck ${n} not found.`);return}this.loadingTargetDeck.set(n);let s=N(A({},Eo),{track:t,isPlaying:!1});n==="A"?(this.deckA.set(s),i.nativeElement.src=t.audioSrc,this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.src=t.videoSrc||"")):(this.deckB.set(s),i.nativeElement.src=t.audioSrc,this.videoPlayerBRef()?.nativeElement&&(this.videoPlayerBRef().nativeElement.src=t.videoSrc||""))}togglePlayPause(t="player"){let n=t==="A"?this.audioPlayerARef():t==="B"?this.audioPlayerBRef():this.audioPlayerARef(),i=t==="A"?this.videoPlayerARef():t==="B"?this.videoPlayerBRef():this.videoPlayerARef(),r=t==="A"?this.deckA():t==="B"?this.deckB():this.deckA();if(!n||!n.nativeElement.src){console.warn(`No track loaded for deck ${t}.`);return}this.audioContext.state==="suspended"&&this.audioContext.resume().catch(a=>console.error("Error resuming AudioContext:",a));let o=!r.isPlaying;if(o){let a=n.nativeElement.__sourceNode;a||(a=this.audioContext.createMediaElementSource(n.nativeElement),n.nativeElement.__sourceNode=a,t==="A"?(this.gainNodeA=this.audioContext.createGain(),a.connect(this.gainNodeA),this.gainNodeA.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode)):t==="B"?(this.gainNodeB=this.audioContext.createGain(),a.connect(this.gainNodeB),this.gainNodeB.connect(this.analyserB),this.analyserB.connect(this.crossfadeNode)):(this.gainNodeA=this.audioContext.createGain(),a.connect(this.gainNodeA),a.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode))),n.nativeElement.play().catch(l=>console.error(`Error playing deck ${t}:`,l)),i?.nativeElement&&i.nativeElement.play().catch(l=>console.error(`Error playing video for deck ${t}:`,l))}else n.nativeElement.pause(),i?.nativeElement&&i.nativeElement.pause();let s=a=>N(A({},a),{isPlaying:o});t==="A"||t==="player"?this.deckA.update(s):this.deckB.update(s)}onTimeUpdate(t,n){let i=t.target,r=o=>N(A({},o),{progress:i.currentTime});n==="A"?this.deckA.update(r):this.deckB.update(r)}onLoadedMetadata(t,n){let i=t.target,r=o=>N(A({},o),{duration:i.duration,progress:0});if(n==="A"){this.deckA.update(r),this.gainNodeA&&(this.gainNodeA.gain.value=this.mapSliderToGain(this.deckA().gain));let o=i.__sourceNode;o||(o=this.audioContext.createMediaElementSource(i),i.__sourceNode=o,this.gainNodeA=this.audioContext.createGain(),o.connect(this.gainNodeA),this.gainNodeA.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode)),this.onEqChange({target:{value:this.deckA().eqHigh}},"A","High"),this.onEqChange({target:{value:this.deckA().eqMid}},"A","Mid"),this.onEqChange({target:{value:this.deckA().eqLow}},"A","Low"),this.onFilterChange({target:{value:this.getNormalizedFilterValue(this.deckA().filterFreq)}},"A")}else{this.deckB.update(r),this.gainNodeB&&(this.gainNodeB.gain.value=this.mapSliderToGain(this.deckB().gain));let o=i.__sourceNode;o||(o=this.audioContext.createMediaElementSource(i),i.__sourceNode=o,this.gainNodeB=this.audioContext.createGain(),o.connect(this.gainNodeB),this.gainNodeB.connect(this.analyserB),this.analyserB.connect(this.crossfadeNode)),this.onEqChange({target:{value:this.deckB().eqHigh}},"B","High"),this.onEqChange({target:{value:this.deckB().eqMid}},"B","Mid"),this.onEqChange({target:{value:this.deckB().eqLow}},"B","Low"),this.onFilterChange({target:{value:this.getNormalizedFilterValue(this.deckB().filterFreq)}},"B")}this.loadingTargetDeck.set(null)}onEnded(t){let n=i=>N(A({},i),{isPlaying:!1,progress:0});t==="A"?(this.deckA.update(i=>i.loop?N(A({},i),{progress:0,isPlaying:!0}):n(i)),this.deckA().loop&&(this.audioPlayerARef().nativeElement.currentTime=0,this.audioPlayerARef().nativeElement.play(),this.videoPlayerARef()?.nativeElement.play())):(this.deckB.update(i=>i.loop?N(A({},i),{progress:0,isPlaying:!0}):n(i)),this.deckB().loop&&(this.audioPlayerBRef().nativeElement.currentTime=0,this.audioPlayerBRef().nativeElement.play(),this.videoPlayerBRef()?.nativeElement.play())),this.mainViewMode()==="player"&&t==="A"&&!this.deckA().loop&&this.playNext()}onProgressChange(t,n){let i=parseInt(t.target.value,10),r=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),o=n==="A"?this.videoPlayerARef():this.videoPlayerBRef();r?.nativeElement&&(r.nativeElement.currentTime=i,o?.nativeElement&&(o.nativeElement.currentTime=i));let s=a=>N(A({},a),{progress:i});n==="A"?this.deckA.update(s):this.deckB.update(s)}toggleLoop(t){let n=i=>N(A({},i),{loop:!i.loop});t==="A"?this.deckA.update(n):this.deckB.update(n)}addTrackToPlaylist(t,n=!1){if(this.playlist.update(i=>[...i,t]),this.searchResults.set([]),n){let i=this.playlist().length-1;this.playTrackFromPlaylist(i)}}playTrackFromPlaylist(t){let n=this.playlist();if(t>=0&&t<n.length){this.currentTrackIndex.set(t);let i=n[t];this.loadTrackToDeck(i,"A"),this.deckA().isPlaying||this.togglePlayPause("A")}}playNext(){let t=this.playlist();if(t.length===0)return;let n=(this.currentTrackIndex()+1)%t.length;this.playTrackFromPlaylist(n)}playPrevious(){let t=this.playlist();if(t.length===0)return;let n=this.currentTrackIndex()-1;n<0&&(n=t.length-1),this.playTrackFromPlaylist(n)}onVolumeChange(t){let n=parseFloat(t.target.value);this.volume.set(n),this.gainNodeMaster&&(this.gainNodeMaster.gain.value=n)}toggleEqPanel(){this.showEqPanel.update(t=>!t)}onMasterEqChange(t){this.eqSettings.set(t),t.forEach((n,i)=>{this.eqNodesMaster[i]&&(this.eqNodesMaster[i].gain.value=this.mapSliderToDb(n.value))})}onEnhancementsChange(t){this.enhancements.set(t),console.log("Enhancements updated:",t)}mapSliderToGain(t){return t/100}onGainChange(t,n){let i=parseInt(t.target.value,10),r=this.mapSliderToGain(i),o=s=>N(A({},s),{gain:i});n==="A"?(this.deckA.update(o),this.gainNodeA&&(this.gainNodeA.gain.value=r)):(this.deckB.update(o),this.gainNodeB&&(this.gainNodeB.gain.value=r))}mapSliderToDb(t){return(t-50)*.48}onEqChange(t,n,i){let r=parseInt(t.target.value,10),o=this.mapSliderToDb(r),s=a=>N(A({},a),{[`eq${i}`]:r});n==="A"?this.deckA.update(s):this.deckB.update(s)}getNormalizedFilterValue(t){return Math.log10(t/20)/Math.log10(1e3)}mapFilterSliderToFreq(t){let r=Math.log10(20),o=Math.log10(2e4),s=r+t*(o-r);return Math.pow(10,s)}onFilterChange(t,n){let i=parseFloat(t.target.value),r=this.mapFilterSliderToFreq(i),o=s=>N(A({},s),{filterFreq:r});n==="A"?this.deckA.update(o):this.deckB.update(o)}onPitchChange(t,n){let i=parseFloat(t.target.value),r=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),o=n==="A"?this.videoPlayerARef():this.videoPlayerBRef();r?.nativeElement&&(r.nativeElement.playbackRate=i,o?.nativeElement&&(o.nativeElement.playbackRate=i));let s=a=>N(A({},a),{playbackRate:i});n==="A"?this.deckA.update(s):this.deckB.update(s)}onCrossfadeChange(t){let n=parseFloat(t.target.value);this.crossfade.set(n);let i=Math.cos((n+1)/2*(Math.PI/2)),r=Math.cos((1-n)/2*(Math.PI/2));this.gainNodeA&&(this.gainNodeA.gain.value=i),this.gainNodeB&&(this.gainNodeB.gain.value=r)}getElementAngle(t,n,i){let r=t.getBoundingClientRect(),o=r.left+r.width/2,s=r.top+r.height/2;return Math.atan2(i-s,n-o)}onScratchStart(t,n){let i=t.currentTarget.querySelector(".vinyl-platter");if(!i)return;t.preventDefault();let r,o;t instanceof TouchEvent?(r=t.touches[0].clientX,o=t.touches[0].clientY):(r=t.clientX,o=t.clientY);let s=n==="A"?this.deckA():this.deckB(),a=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),l=n==="A"?this.videoPlayerARef():this.videoPlayerBRef(),u=n==="A"?this.scratchStateA:this.scratchStateB;u.active=!0,u.platterElement=i,u.lastAngle=this.getElementAngle(i,r,o),u.initialTouchX=r,u.initialTouchY=o,a?.nativeElement&&s.isPlaying?(a.nativeElement.pause(),l?.nativeElement&&l.nativeElement.pause(),n==="A"?this.deckA.update(p=>N(A({},p),{isPlaying:!1,wasPlayingBeforeScratch:!0})):this.deckB.update(p=>N(A({},p),{isPlaying:!1,wasPlayingBeforeScratch:!0}))):a?.nativeElement&&(n==="A"?this.deckA.update(p=>N(A({},p),{wasPlayingBeforeScratch:!1})):this.deckB.update(p=>N(A({},p),{wasPlayingBeforeScratch:!1}))),n==="A"?this.isScratchingA.set(!0):this.isScratchingB.set(!0)}onScratch(t){if(!this.scratchStateA.active&&!this.scratchStateB.active)return;t.preventDefault();let n,i;if(t instanceof TouchEvent){if(t.touches.length===0)return;n=t.touches[0].clientX,i=t.touches[0].clientY}else n=t.clientX,i=t.clientY;this.scratchStateA.active&&this.scratchStateA.platterElement&&this.applyScratch(this.scratchStateA,n,i,"A"),this.scratchStateB.active&&this.scratchStateB.platterElement&&this.applyScratch(this.scratchStateB,n,i,"B")}applyScratch(t,n,i,r){if(!t.platterElement)return;let o=r==="A"?this.audioPlayerARef():this.audioPlayerBRef(),s=r==="A"?this.videoPlayerARef():this.videoPlayerBRef(),a=this.getElementAngle(t.platterElement,n,i),l=a-t.lastAngle;l>Math.PI&&(l-=2*Math.PI),l<-Math.PI&&(l+=2*Math.PI);let p=parseInt(t.platterElement.style.transform.replace("rotate(","").replace("deg)","")||"0",10)+l*180/Math.PI;if((r==="A"?this.scratchRotationA:this.scratchRotationB).set(`rotate(${p}deg)`),o?.nativeElement?.src){let b=l*this.SCRATCH_SENSITIVITY;o.nativeElement.currentTime+=b,s?.nativeElement&&(s.nativeElement.currentTime+=b)}t.lastAngle=a}onScratchEnd(){this.isScratchingA()||this.isScratchingB(),this.scratchStateA.active&&(this.scratchStateA.active=!1,this.scratchStateA.platterElement=null,this.isScratchingA.set(!1),this.deckA().wasPlayingBeforeScratch&&this.audioPlayerARef()?.nativeElement&&!this.deckA().isPlaying&&this.togglePlayPause("A")),this.scratchStateB.active&&(this.scratchStateB.active=!1,this.scratchStateB.platterElement=null,this.isScratchingB.set(!1),this.deckB().wasPlayingBeforeScratch&&this.audioPlayerBRef()?.nativeElement&&!this.deckB().isPlaying&&this.togglePlayPause("B"))}toggleRecording(){this.isRecording()?this.stopMasterRecording():this.startMasterRecording()}startMasterRecording(){if(!this.audioContext||!this.destinationNode){console.error("AudioContext or MediaStreamAudioDestinationNode not initialized.");return}if(!this.isRecording()){this.recordedChunks=[],this.recordedMixUrl.set(null),this.recordedBlob.set(null),this.recordingTime.set(0);try{this.mediaRecorder=new MediaRecorder(this.destinationNode.stream,{mimeType:"audio/webm; codecs=opus"}),this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&this.recordedChunks.push(t.data)},this.mediaRecorder.onstop=()=>{let t=new Blob(this.recordedChunks,{type:"audio/webm"});this.recordedBlob.set(t),this.recordedMixUrl.set(URL.createObjectURL(t)),console.log("Master recording stopped. Blob created."),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.onerror=t=>{console.error("Master MediaRecorder error:",t.error),this.isRecording.set(!1),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.start(),this.isRecording.set(!0),this.recordingIntervalId=window.setInterval(()=>this.recordingTime.update(t=>t+1),1e3),console.log("Master recording started.")}catch(t){console.error("Error starting Master MediaRecorder:",t),this.isRecording.set(!1)}}}stopMasterRecording(){this.mediaRecorder&&this.isRecording()&&(this.mediaRecorder.stop(),this.isRecording.set(!1),console.log("Attempting to stop master recording..."))}async shareMix(){let t=this.recordedBlob();if(!t||!this.canShare()){console.warn("No recorded mix available or Web Share API not supported.");return}let n=new File([t],"aura-mix.webm",{type:t.type});try{await navigator.share({files:[n],title:"Aura Mix",text:"Check out my latest mix from Aura Music Player!"}),console.log("Mix shared successfully.")}catch(i){console.error("Error sharing mix:",i)}}async toggleMicrophone(){this.micEnabled()?this.stopMicrophone():await this.startMicrophone()}async startMicrophone(){if(!this.micEnabled())try{this.micStream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.micSourceNode=this.audioContext.createMediaStreamSource(this.micStream),this.micGainNode=this.audioContext.createGain(),this.micFilterNode=this.audioContext.createBiquadFilter(),this.micFilterNode.type="lowpass",this.micFilterNode.frequency.value=this.micFilterFreq();let t=[250,2500,1e4];this.micEqNodes=t.map(n=>{let i=this.audioContext.createBiquadFilter();return i.type="peaking",i.frequency.value=n,i.Q.value=1,i.gain.value=0,i}),this.micSourceNode.connect(this.micGainNode),this.micGainNode.connect(this.micEqNodes[0]),this.micEqNodes[0].connect(this.micEqNodes[1]),this.micEqNodes[1].connect(this.micEqNodes[2]),this.micEqNodes[2].connect(this.micFilterNode),this.micFilterNode.connect(this.analyserMic),this.analyserMic.connect(this.gainNodeMaster),this.onMicVolumeChange({target:{value:this.micVolume()}}),this.onMicEqChange({target:{value:this.micEqHigh()}},"High"),this.onMicEqChange({target:{value:this.micEqMid()}},"Mid"),this.onMicEqChange({target:{value:this.micEqLow()}},"Low"),this.onMicFilterChange({target:{value:this.getNormalizedFilterValue(this.micFilterFreq())}}),this.micEnabled.set(!0),console.log("Microphone enabled.")}catch(t){console.error("Error enabling microphone:",t),this.micEnabled.set(!1),alert("Failed to access microphone. Please ensure permissions are granted.")}}stopMicrophone(){this.micStream&&(this.micStream.getTracks().forEach(t=>t.stop()),this.micStream=null),this.micSourceNode&&this.micSourceNode.disconnect(),this.micGainNode&&this.micGainNode.disconnect(),this.micFilterNode&&this.micFilterNode.disconnect(),this.micEqNodes.forEach(t=>t.disconnect()),this.analyserMic&&this.analyserMic.disconnect(),this.micSourceNode=null,this.micGainNode=null,this.micFilterNode=null,this.micEqNodes=[],this.micEnabled.set(!1),this.vuLevelMic.set(0),console.log("Microphone disabled.")}onMicVolumeChange(t){let n=parseInt(t.target.value,10);this.micVolume.set(n),this.micGainNode&&(this.micGainNode.gain.value=this.mapSliderToGain(n))}onMicEqChange(t,n){let i=parseInt(t.target.value,10),r=this.mapSliderToDb(i);n==="High"&&this.micEqNodes[2]?(this.micEqHigh.set(i),this.micEqNodes[2].gain.value=r):n==="Mid"&&this.micEqNodes[1]?(this.micEqMid.set(i),this.micEqNodes[1].gain.value=r):n==="Low"&&this.micEqNodes[0]&&(this.micEqLow.set(i),this.micEqNodes[0].gain.value=r)}onMicFilterChange(t){let n=parseFloat(t.target.value),i=this.mapFilterSliderToFreq(n);this.micFilterFreq.set(i),this.micFilterNode&&(this.micFilterNode.frequency.value=i)}toggleMainViewMode(){let t=["player","dj","piano-roll","image-editor","video-editor","networking","notepad"],n=this.mainViewMode(),r=(t.indexOf(n)+1)%t.length;this.mainViewMode.set(t[r]),this.stopAllAudio(),t[r]!=="image-editor"&&this.imageEditorInitialPrompt.set(""),t[r]!=="video-editor"&&this.videoEditorInitialPrompt.set(""),t[r]!=="networking"&&(this.networkingLocationQuery.set(null),this.selectedArtistProfile.set(null)),this.lastImageEditorImageUrl.set(null),t[r]==="dj"&&(this.audioPlayerARef()?.nativeElement.load(),this.audioPlayerBRef()?.nativeElement.load(),this.deckA().isPlaying&&this.togglePlayPause("A"),this.deckB().isPlaying&&this.togglePlayPause("B"))}toggleChatbot(){this.showChatbot.update(t=>!t),this.showChatbot()||(this.imageToAnalyzeUrl.set(null),this.imageAnalysisResult.set(null),this.mapLocationQuery.set(null),this.mapLocationResult.set(null),this.showImageAnalysisModal.set(!1),this.showMapResultsModal.set(!1),this.networkingLocationQuery.set(null),this.selectedArtistProfile.set(null),this.showArtistDetailModal.set(!1))}handleChatbotCommand(t){console.log("AppComponent: Received chatbot command:",t);let{action:n,parameters:i,aiContext:r}=t;switch(n){case"SET_THEME":let o=i.theme,s=this.THEMES.find(a=>a.name.toLowerCase()===o.toLowerCase());s?(this.currentTheme.set(s),console.log(`Theme set to: ${s.name}`)):console.warn(`Theme "${o}" not found.`);break;case"PLAY_TRACK":if(i.title){let a=this.playlist().find(l=>l.title.toLowerCase().includes(i.title.toLowerCase()))||this.searchResults().find(l=>l.title.toLowerCase().includes(i.title.toLowerCase()));if(a){let l=this.playlist().indexOf(a);l!==-1?this.playTrackFromPlaylist(l):this.addTrackToPlaylist(a,!0)}else console.warn(`Track with title "${i.title}" not found.`)}break;case"PAUSE_TRACK":this.deckA().isPlaying&&this.togglePlayPause("A");break;case"STOP_TRACK":this.audioPlayerARef()?.nativeElement.pause(),this.audioPlayerARef()?.nativeElement&&(this.audioPlayerARef().nativeElement.currentTime=0),this.videoPlayerARef()?.nativeElement.pause(),this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.currentTime=0),this.deckA.update(a=>N(A({},a),{isPlaying:!1,progress:0}));break;case"NEXT_TRACK":this.playNext();break;case"PREVIOUS_TRACK":this.playPrevious();break;case"TOGGLE_LOOP":this.toggleLoop("A");break;case"LOAD_TRACK":console.warn("LOAD_TRACK command not fully implemented for chatbot direct loading.");break;case"GENERATE_IMAGE":i.prompt&&(this.imageEditorInitialPrompt.set(i.prompt),this.mainViewMode.set("image-editor"),this.showChatbot.set(!1));break;case"GENERATE_VIDEO":i.prompt&&(this.videoEditorInitialPrompt.set(i.prompt),this.mainViewMode.set("video-editor"),this.showChatbot.set(!1));break;case"ANALYZE_IMAGE":i.imageUrl&&(this.imageToAnalyzeUrl.set(i.imageUrl),this.showChatbot.set(!0));break;case"FIND_ON_MAP":i.query&&(this.mapLocationQuery.set(i.query),this.showChatbot.set(!0));break;case"FIND_ARTISTS":i.location&&(this.networkingLocationQuery.set(i.location),this.mainViewMode.set("networking"),this.showChatbot.set(!1));break;case"VIEW_ARTIST_PROFILE":if(i.name){let a=rt.filter(l=>l.name.toLowerCase()===i.name.toLowerCase()||i.genre&&l.genres.some(u=>u.toLowerCase().includes(i.genre.toLowerCase()))||i.location&&l.location.toLowerCase().includes(i.location.toLowerCase()));a.length>0?(this.selectedArtistProfile.set(a[0]),this.mainViewMode.set("networking"),this.showChatbot.set(!1)):console.warn(`Artist "${i.name}" not found in mock data or no matching criteria.`)}break;default:console.warn(`Unknown chatbot command: ${n}`);break}}handleImageSelectedForAlbumArt(t){this.imageToApplyAsAlbumArt.set(t),this.showApplyAlbumArtModal.set(!0),this.lastImageEditorImageUrl.set(t),this.showChatbot.set(!1)}applyImageAsAlbumArt(t){let n=this.imageToApplyAsAlbumArt();n&&(t==="player"&&this.currentPlayerTrack()?(this.playlist.update(i=>i.map((r,o)=>o===this.currentTrackIndex()?N(A({},r),{albumArtUrl:n}):r)),this.deckA.update(i=>N(A({},i),{track:N(A({},i.track),{albumArtUrl:n})}))):t==="A"?this.deckA.update(i=>N(A({},i),{track:N(A({},i.track),{albumArtUrl:n})})):t==="B"&&this.deckB.update(i=>N(A({},i),{track:N(A({},i.track),{albumArtUrl:n})})),this.showApplyAlbumArtModal.set(!1),this.imageToApplyAsAlbumArt.set(null))}stopAllAudio(){this.audioPlayerARef()?.nativeElement.pause(),this.audioPlayerARef()?.nativeElement&&(this.audioPlayerARef().nativeElement.currentTime=0),this.videoPlayerARef()?.nativeElement.pause(),this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.currentTime=0),this.deckA.update(t=>N(A({},t),{isPlaying:!1,progress:0})),this.audioPlayerBRef()?.nativeElement.pause(),this.audioPlayerBRef()?.nativeElement&&(this.audioPlayerBRef().nativeElement.currentTime=0),this.videoPlayerBRef()?.nativeElement.pause(),this.videoPlayerBRef()?.nativeElement&&(this.videoPlayerBRef().nativeElement.currentTime=0),this.deckB.update(t=>N(A({},t),{isPlaying:!1,progress:0})),this.stopMicrophone()}stopMediaStream(){this.micStream&&(this.micStream.getTracks().forEach(t=>t.stop()),this.micStream=null)}formatTime(t){if(isNaN(t)||t<0)return"00:00";let n=Math.floor(t/60),i=Math.floor(t%60);return`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}randomizeTheme(){let t=this.currentTheme();for(;t===this.currentTheme();)t=this.THEMES[Math.floor(Math.random()*this.THEMES.length)];this.currentTheme.set(t)}};Vn.\u0275fac=function(n){return new(n||Vn)},Vn.\u0275cmp=le({type:Vn,selectors:[["app-root"]],viewQuery:function(n,i){n&1&&(he(i.audioPlayerARef,ty,5),he(i.videoPlayerARef,ny,5),he(i.audioPlayerBRef,iy,5),he(i.videoPlayerBRef,ry,5),he(i.fileInputRef,oy,5)),n&2&&Pe(5)},hostBindings:function(n,i){n&1&&M("mousemove",function(o){return i.onScratch(o)},Mn)("touchmove",function(o){return i.onScratch(o)},Mn)("mouseup",function(){return i.onScratchEnd()},Mn)("touchend",function(){return i.onScratchEnd()},Mn)},decls:40,vars:20,consts:[["audioPlayerA",""],["audioPlayerB",""],["fileInput",""],["videoPlayerA",""],["videoPlayerB",""],[1,"bg-black","text-green-400","font-mono","min-h-screen","flex","items-center","justify-center","p-2","sm:p-4","relative","overflow-hidden"],[1,"w-full","max-w-7xl","border-2","bg-black/80","backdrop-blur-sm","z-10","flex","flex-col","transition-colors","duration-500"],[1,"flex","justify-between","items-center","p-2","sm:p-4","border-b-2","border-inherit"],[1,"text-xl","sm:text-2xl"],[1,"flex","items-center","gap-2"],[1,"p-2","border","border-inherit","hover:text-black","text-sm","transition-colors",3,"click"],[1,"p-2","sm:p-4"],[1,"flex","flex-col","lg:flex-row","gap-4",3,"class"],[3,"theme"],[1,"flex","flex-col","md:flex-row","gap-4"],[3,"initialPrompt","theme"],[3,"imageForVideoGeneration","initialPrompt","theme"],[3,"initialSearchQuery","theme"],[3,"eqSettings","enhancements","theme"],["preload","auto",3,"timeupdate","loadedmetadata","ended"],["type","file","accept","audio/*,video/*",1,"hidden",3,"change"],[3,"theme","imageToAnalyzeUrl","mapLocationQuery"],[1,"flex","flex-col","lg:flex-row","gap-4"],[1,"flex-1","p-2","space-y-3"],[1,"text-center","text-lg","flex","items-center","justify-center","gap-2"],[1,"flex","gap-4"],[1,"flex-1","space-y-3"],[1,"w-full","aspect-square","mx-auto","flex","items-center","justify-center","bg-black","relative"],["muted","","playsinline","","preload","auto",1,"w-full","h-full","object-cover"],[1,"vinyl-platter",3,"spinning","transform"],[1,"text-center"],[1,"text-base","truncate",3,"title"],[1,"text-xs","truncate",3,"title"],[1,"space-y-1"],["type","range","min","0",1,"w-full","h-1","aura-slider",3,"input","max","value"],[1,"flex","justify-between","text-xs"],[1,"flex","items-center","justify-around"],[1,"w-16","h-10","flex","items-center","justify-center","border-2",3,"click"],[1,"p-2","border","hover:text-black","text-xs",3,"click"],[1,"flex","items-center","gap-4","pl-4"],[1,"flex","flex-col","items-center","justify-between","h-full","space-y-2","text-sm"],[1,"flex","flex-col","items-center"],["type","range","min","0","max","100",1,"w-20","aura-slider",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"w-20","aura-slider",3,"input","value"],[1,"vu-meter"],[1,"vu-bar",3,"green","yellow","red"],[1,"flex","flex-col","items-center","justify-center","space-y-2"],[1,"text-sm"],["type","range","min","0.5","max","2","step","0.01",1,"aura-slider","vertical-slider",3,"input","value"],[1,"w-full","lg:w-[450px]","p-2","space-y-3","flex","flex-col","justify-between"],[1,"text-center","text-lg"],[1,"space-y-2"],[3,"submit"],[1,"flex","space-x-2"],["type","text","placeholder","Search online...",1,"flex-grow","border","text-neutral-200","p-1","text-sm","focus:ring-500",3,"input","value"],["type","submit",1,"p-2","border","hover:text-black","text-sm"],[1,"text-center","text-sm","p-2","border","border-dashed",3,"class"],[1,"border","p-1","space-y-1","max-h-40","overflow-y-auto",3,"class"],[1,"p-2","space-y-2","text-center"],[1,"flex","justify-center","items-center","gap-4"],[1,"px-3","py-1","border","hover:text-black",3,"click"],[1,"w-3","h-3","rounded-full","bg-red-800","rec-indicator"],[1,"text-lg"],[1,"flex","justify-center","gap-2","pt-2"],[1,"text-sm","flex","items-center","justify-center","gap-2"],[1,"flex","items-center","justify-center","gap-4","pt-2"],[1,"flex","items-center","gap-4"],["type","range","min","-1","max","1","step","0.01",1,"flex-grow","aura-slider",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"aura-slider","vertical-slider",3,"input","value"],[1,"flex","justify-between","items-center","text-xs"],[1,"w-full","p-2","border","hover:text-black","text-sm",3,"click"],["muted","","playsinline","","preload","auto",1,"w-full","h-full","object-cover",3,"mousedown","touchstart","timeupdate","loadedmetadata","ended"],[1,"vinyl-platter",3,"mousedown","touchstart"],[1,"label","deck-a"],[1,"spindle"],[1,"vu-bar"],[1,"text-center","text-sm","p-2","border","border-dashed"],[1,"border","p-1","space-y-1","max-h-40","overflow-y-auto"],[1,"text-sm","p-1",3,"class"],[1,"text-sm","p-1"],[1,"truncate"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-xs","truncate","pl-2"],[1,"flex","gap-1"],[1,"px-1","border","hover:text-black",3,"click"],["download","aura-mix.webm",1,"text-sm","p-1","border","hover:text-black",3,"href"],[1,"text-sm","p-1","border","hover:text-black",3,"class"],[1,"text-sm","p-1","border","hover:text-black",3,"click"],[1,"w-3","h-3","rounded-full","bg-green-500","rec-indicator","recording"],[1,"text-xs","text-green-500"],[1,"vu-meter","h-24"],[1,"text-xs"],["type","range","min","0","max","100",1,"w-20","aura-slider","vertical-slider","h-24",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"w-20","aura-slider","vertical-slider","h-24",3,"input","value"],[1,"label","deck-b"],[1,"flex-1","md:w-2/3","space-y-3"],[1,"w-full","aspect-video","mx-auto","border-2","p-1","media-container"],["muted","","playsinline","",1,"w-full","h-full","object-cover","media-element"],["alt","Album Art",1,"w-full","h-full","object-cover","media-element",3,"src"],[1,"w-full","h-24","mt-2",3,"analyserNode","theme"],[1,"text-xl","truncate",3,"title"],[1,"text-base","text-green-400/70","truncate",3,"title"],[1,"flex","justify-between","text-sm","text-green-400/70"],[1,"flex","items-center","justify-center","gap-4"],[1,"w-12","h-12","flex","items-center","justify-center","border-2","text-xl",3,"click"],[1,"w-20","h-20","flex","items-center","justify-center","border-2","text-3xl",3,"click"],["type","range","min","0","max","1","step","0.01",1,"w-1/2","aura-slider",3,"input","value"],[1,"p-2","border","text-sm",3,"click"],[1,"flex-1","md:w-1/3","space-y-3","flex","flex-col"],["type","text","placeholder","Search to add tracks...",1,"flex-grow","bg-black","border","text-sm","focus:ring-500",3,"input","value"],["type","submit",1,"p-2","border","text-sm"],[1,"border","p-1","space-y-1",3,"class"],[1,"flex-grow","border","p-2","space-y-2","overflow-y-auto","max-h-96"],[1,"text-center","text-base"],[1,"p-2","text-sm","cursor-pointer",3,"class"],[1,"text-center","text-sm","text-green-400/60","p-4"],[1,"w-full","p-2","border","text-sm",3,"click"],[1,"border","p-1","space-y-1"],[1,"text-center","text-base","py-1"],[1,"text-xs","text-green-400/70","truncate","pl-2"],[1,"px-1","border","text-black",3,"click"],[1,"p-2","text-sm","cursor-pointer",3,"click"],[3,"imageSelected","imageAnalysisRequest","initialPrompt","theme"],[3,"close","eqChange","enhancementsChange","eqSettings","enhancements","theme"],[3,"appCommand","close","imageAnalysisResult","mapLocationResult","theme","imageToAnalyzeUrl","mapLocationQuery"],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-sm","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"mb-4"],[1,"flex","flex-col","gap-2"],[1,"p-2","border","hover:text-black","text-sm",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-xl","h-2/3","flex","flex-col","z-50","animate-slide-up","font-mono"],[1,"flex-shrink-0","mb-4","overflow-hidden","flex","justify-center"],[1,"flex-grow","overflow-y-auto","pr-2","text-sm","border-t","pt-4"],["alt","Image being analyzed",1,"max-h-40","object-contain","border",3,"src"],[1,"mb-4","text-sm",3,"class"],[1,"mb-4","text-sm"]],template:function(n,i){if(n&1){let r=B();v(0,"main",5),de(1,"app-matrix-background"),v(2,"div",6)(3,"header",7)(4,"h1",8),d(5,"[ AURA ]"),y(),v(6,"div",9)(7,"button",10),M("click",function(){return C(r),_(i.randomizeTheme())}),v(8,"span"),d(9,"[ RANDOM THEME ]"),y()(),v(10,"button",10),M("click",function(){return C(r),_(i.toggleMainViewMode())}),I(11,ay,2,0,"span")(12,ly,2,0,"span")(13,cy,2,0,"span")(14,uy,2,0,"span")(15,dy,2,0,"span")(16,fy,2,0,"span")(17,py,2,0,"span"),y(),v(18,"button",10),M("click",function(){return C(r),_(i.toggleChatbot())}),I(19,my,2,0,"span")(20,hy,2,0,"span"),y()()(),v(21,"div",11),I(22,Fy,158,103,"div",12)(23,Oy,1,1,"app-piano-roll",13)(24,zy,48,41,"div",14)(25,Wy,1,2,"app-image-editor",15)(26,Qy,1,3,"app-video-editor",16)(27,Yy,1,2,"app-networking",17)(28,Zy,1,1,"app-notepad",13),y(),I(29,Ky,1,3,"app-eq-panel",18),v(30,"audio",19,0),M("timeupdate",function(s){return C(r),_(i.onTimeUpdate(s,"A"))})("loadedmetadata",function(s){return C(r),_(i.onLoadedMetadata(s,"A"))})("ended",function(){return C(r),_(i.onEnded("A"))}),y(),v(32,"audio",19,1),M("timeupdate",function(s){return C(r),_(i.onTimeUpdate(s,"B"))})("loadedmetadata",function(s){return C(r),_(i.onLoadedMetadata(s,"B"))})("ended",function(){return C(r),_(i.onEnded("B"))}),y(),v(34,"input",20,2),M("change",function(s){return C(r),_(i.handleFileInput(s))}),y()(),I(36,Jy,1,3,"app-chatbot",21),I(37,Xy,16,10),I(38,tE,11,8),I(39,iE,11,8),y()}if(n&2){let r;c(2),f(i.mainBorderClass()),se("dj-vintage-theme",i.mainViewMode()==="dj"),c(2),f(i.mainTextColorClass()),c(3),f(i.mainHoverBgClass()),c(3),f(i.mainHoverBgClass()),c(),x(i.mainViewMode()==="player"?11:i.mainViewMode()==="dj"?12:i.mainViewMode()==="piano-roll"?13:i.mainViewMode()==="image-editor"?14:i.mainViewMode()==="video-editor"?15:i.mainViewMode()==="networking"?16:i.mainViewMode()==="notepad"?17:-1),c(7),f(i.mainHoverBgClass()),c(),x(i.showChatbot()?19:20),c(3),x((r=i.mainViewMode())==="dj"?22:r==="piano-roll"?23:r==="player"?24:r==="image-editor"?25:r==="video-editor"?26:r==="networking"?27:r==="notepad"?28:-1),c(7),x(i.showEqPanel()?29:-1),c(7),x(i.showChatbot()?36:-1),c(),x(i.showApplyAlbumArtModal()?37:-1),c(),x(i.showImageAnalysisModal()&&i.imageAnalysisResult()?38:-1),c(),x(i.showMapResultsModal()&&i.mapLocationResult()?39:-1)}},dependencies:[fe,co,uo,po,mo,ho,go,vo,fo,yo],encapsulation:2,changeDetection:0});var Co=Vn;if(typeof window.process>"u"||window.process===null)window.process={env:{}},console.warn("index.tsx: Forcibly initialized window.process.");else if(typeof window.process.env!="object"||window.process.env===null||Object.isFrozen(window.process.env)||!Object.isExtensible(window.process.env)){let e=window.process.env;if(window.process.env={},e&&typeof e=="object")for(let t in e)t!=="API_KEY"&&Object.prototype.hasOwnProperty.call(e,t)&&(window.process.env[t]=e[t]);console.warn("index.tsx: Replaced/initialized window.process.env object to ensure mutability and extensibility.")}var el=window.process.env.API_KEY,Ti="",_o=(typeof el=="string"?el:"").trim();_o.toLowerCase()==="undefined"||_o===""||_o.length<30?(Ti="",console.warn(`index.tsx: Detected problematic API_KEY in window.process.env (original value: "${el}"). Setting to empty string.`)):(Ti=_o,console.log(`index.tsx: Valid API_KEY detected from window.process.env (length: ${Ti.length}).`));window.process.env.API_KEY=Ti;console.log(`index.tsx: window.process.env.API_KEY is now explicitly set to a sanitized value (length: ${window.process.env.API_KEY.length}).`);window.AURA_GEMINI_API_KEY=Ti;window.AURA_GEMINI_API_KEY===""?console.warn("index.tsx: Final AURA_GEMINI_API_KEY for application use is empty. AI features will be disabled."):console.log(`index.tsx: AURA_GEMINI_API_KEY is available for application use (length: ${window.AURA_GEMINI_API_KEY.length}).`);var rE=new $("GEMINI_API_KEY");Ja(Co,{providers:[Va(),Kd(),{provide:rE,useValue:window.AURA_GEMINI_API_KEY}]}).catch(e=>console.error(e));export{rE as API_KEY_TOKEN};

import{a as A,b as R}from"./chunk-2NFLSA4Y.js";var ge=null,hi=!1,ao=1,qd=null,ve=Symbol("SIGNAL");function T(e){let t=ge;return ge=e,t}function vi(){return ge}var Gt={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _n(e){if(hi)throw new Error("");if(ge===null)return;ge.consumerOnSignalRead(e);let t=ge.producersTail;if(t!==void 0&&t.producer===e)return;let n,i=ge.recomputing;if(i&&(n=t!==void 0?t.nextProducer:ge.producers,n!==void 0&&n.producer===e)){ge.producersTail=n,n.lastReadVersion=e.version;return}let r=e.consumersTail;if(r!==void 0&&r.consumer===ge&&(!i||Wd(r,ge)))return;let o=zt(ge),s={producer:e,consumer:ge,nextProducer:n,prevConsumer:r,lastReadVersion:e.version,nextConsumer:void 0};ge.producersTail=s,t!==void 0?t.nextProducer=s:ge.producers=s,o&&Ya(e,s)}function za(){ao++}function lo(e){if(!(zt(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ao)){if(!e.producerMustRecompute(e)&&!bn(e)){so(e);return}e.producerRecomputeValue(e),so(e)}}function co(e){if(e.consumers===void 0)return;let t=hi;hi=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let i=n.consumer;i.dirty||zd(i)}}finally{hi=t}}function uo(){return ge?.consumerAllowSignalWrites!==!1}function zd(e){e.dirty=!0,co(e),e.consumerMarkedDirty?.(e)}function so(e){e.dirty=!1,e.lastCleanEpoch=ao}function qt(e){return e&&Wa(e),T(e)}function Wa(e){e.producersTail=void 0,e.recomputing=!0}function Dn(e,t){T(t),e&&Qa(e)}function Qa(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(zt(e))do n=fo(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function bn(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,i=t.lastReadVersion;if(i!==n.version||(lo(n),i!==n.version))return!0}return!1}function Ct(e){if(zt(e)){let t=e.producers;for(;t!==void 0;)t=fo(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Ya(e,t){let n=e.consumersTail,i=zt(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!i)for(let r=e.producers;r!==void 0;r=r.nextProducer)Ya(r.producer,r)}function fo(e){let t=e.producer,n=e.nextProducer,i=e.nextConsumer,r=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:t.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(t.consumers=i,!zt(t)){let o=t.producers;for(;o!==void 0;)o=fo(o)}return n}function zt(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function po(e){qd?.(e)}function Wd(e,t){let n=t.producersTail;if(n!==void 0){let i=t.producers;do{if(i===e)return!0;if(i===n)break;i=i.nextProducer}while(i!==void 0)}return!1}function mo(e,t){return Object.is(e,t)}function In(e,t){let n=Object.create(Qd);n.computation=e,t!==void 0&&(n.equal=t);let i=()=>{if(lo(n),_n(n),n.value===gi)throw n.error;return n.value};return i[ve]=n,po(n),i}var ro=Symbol("UNSET"),oo=Symbol("COMPUTING"),gi=Symbol("ERRORED"),Qd=R(A({},Gt),{value:ro,dirty:!0,error:null,equal:mo,kind:"computed",producerMustRecompute(e){return e.value===ro||e.value===oo},producerRecomputeValue(e){if(e.value===oo)throw new Error("");let t=e.value;e.value=oo;let n=qt(e),i,r=!1;try{i=e.computation(),T(null),r=t!==ro&&t!==gi&&i!==gi&&e.equal(t,i)}catch(o){i=gi,e.error=o}finally{Dn(e,n)}if(r){e.value=t;return}e.value=i,e.version++}});function Yd(){throw new Error}var Za=Yd;function Ka(e){Za(e)}function ho(e){Za=e}var Zd=null;function go(e,t){let n=Object.create(yi);n.value=e,t!==void 0&&(n.equal=t);let i=()=>Ja(n);return i[ve]=n,po(n),[i,s=>wn(n,s),s=>Xa(n,s)]}function Ja(e){return _n(e),e.value}function wn(e,t){uo()||Ka(e),e.equal(e.value,t)||(e.value=t,Kd(e))}function Xa(e,t){uo()||Ka(e),wn(e,t(e.value))}var yi=R(A({},Gt),{equal:mo,value:void 0,kind:"signal"});function Kd(e){e.version++,za(),co(e),Zd?.(e)}var vo=R(A({},Gt),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function yo(e){if(e.dirty=!1,e.version>0&&!bn(e))return;e.version++;let t=qt(e);try{e.cleanup(),e.fn()}finally{Dn(e,t)}}function be(e){return typeof e=="function"}function Ei(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ci=Ei(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function xn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ye=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(be(i))try{i()}catch(o){t=o instanceof Ci?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{el(o)}catch(s){t=t??[],s instanceof Ci?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ci(t)}}add(t){var n;if(t&&t!==this)if(this.closed)el(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&xn(n,t)}remove(t){let{_finalizers:n}=this;n&&xn(n,t),t instanceof e&&t._removeParent(this)}};ye.EMPTY=(()=>{let e=new ye;return e.closed=!0,e})();var Eo=ye.EMPTY;function _i(e){return e instanceof ye||e&&"closed"in e&&be(e.remove)&&be(e.add)&&be(e.unsubscribe)}function el(e){be(e)?e():e.unsubscribe()}var Ve={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wt={setTimeout(e,t,...n){let{delegate:i}=Wt;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Wt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function tl(e){Wt.setTimeout(()=>{let{onUnhandledError:t}=Ve;if(t)t(e);else throw e})}function Co(){}var nl=_o("C",void 0,void 0);function il(e){return _o("E",void 0,e)}function rl(e){return _o("N",e,void 0)}function _o(e,t,n){return{kind:e,value:t,error:n}}var _t=null;function Qt(e){if(Ve.useDeprecatedSynchronousErrorHandling){let t=!_t;if(t&&(_t={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=_t;if(_t=null,n)throw i}}else e()}function ol(e){Ve.useDeprecatedSynchronousErrorHandling&&_t&&(_t.errorThrown=!0,_t.error=e)}var Dt=class extends ye{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,_i(t)&&t.add(this)):this.destination=ef}static create(t,n,i){return new Yt(t,n,i)}next(t){this.isStopped?bo(rl(t),this):this._next(t)}error(t){this.isStopped?bo(il(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?bo(nl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Jd=Function.prototype.bind;function Do(e,t){return Jd.call(e,t)}var Io=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Di(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Di(i)}else Di(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Di(n)}}},Yt=class extends Dt{constructor(t,n,i){super();let r;if(be(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Ve.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Do(t.next,o),error:t.error&&Do(t.error,o),complete:t.complete&&Do(t.complete,o)}):r=t}this.destination=new Io(r)}};function Di(e){Ve.useDeprecatedSynchronousErrorHandling?ol(e):tl(e)}function Xd(e){throw e}function bo(e,t){let{onStoppedNotification:n}=Ve;n&&Wt.setTimeout(()=>n(e,t))}var ef={closed:!0,next:Co,error:Xd,complete:Co};var sl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function al(e){return e}function ll(e){return e.length===0?al:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var Zt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=nf(n)?n:new Yt(n,i,r);return Qt(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=cl(i),new i((r,o)=>{let s=new Yt({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[sl](){return this}pipe(...n){return ll(n)(this)}toPromise(n){return n=cl(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function cl(e){var t;return(t=e??Ve.Promise)!==null&&t!==void 0?t:Promise}function tf(e){return e&&be(e.next)&&be(e.error)&&be(e.complete)}function nf(e){return e&&e instanceof Dt||tf(e)&&_i(e)}function rf(e){return be(e?.lift)}function ul(e){return t=>{if(rf(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function dl(e,t,n,i,r){return new wo(e,t,n,i,r)}var wo=class extends Dt{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var fl=Ei(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class e extends Zt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new bi(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new fl}next(n){Qt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Qt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Qt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Eo:(this.currentObservers=null,o.push(n),new ye(()=>{this.currentObservers=null,xn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new Zt;return n.source=this,n}}return e.create=(t,n)=>new bi(t,n),e})(),bi=class extends nt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Eo}};var Mn=class extends nt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};function xo(e,t){return ul((n,i)=>{let r=0;n.subscribe(dl(i,o=>{i.next(e.call(t,o,r++))}))})}var Mo;function Ii(){return Mo}function Qe(e){let t=Mo;return Mo=e,t}var pl=Symbol("NotFound");function Kt(e){return e===pl||e?.name==="\u0275NotFound"}var Ni="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(t,n){super(Pn(t,n)),this.code=t}};function sf(e){return`NG0${Math.abs(e)}`}function Pn(e,t){return`${sf(e)}${t?": "+t:""}`}function z(e){for(let t in e)if(e[t]===z)return t;throw Error("")}function dt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(dt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function Ri(e,t){return e?t?`${e} ${t}`:e:t||""}var af=z({__forward_ref__:z});function ki(e){return e.__forward_ref__=ki,e.toString=function(){return dt(this())},e}function Me(e){return yl(e)?e():e}function yl(e){return typeof e=="function"&&e.hasOwnProperty(af)&&e.__forward_ref__===ki}function X(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function On(e){return{providers:e.providers||[],imports:e.imports||[]}}function Pi(e){return lf(e,Oi)}function lf(e,t){return e.hasOwnProperty(t)&&e[t]||null}function cf(e){let t=e?.[Oi]??null;return t||null}function To(e){return e&&e.hasOwnProperty(xi)?e[xi]:null}var Oi=z({\u0275prov:z}),xi=z({\u0275inj:z}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ho(e){return e&&!!e.\u0275providers}var Uo=z({\u0275cmp:z}),$o=z({\u0275dir:z}),Go=z({\u0275pipe:z});var So=z({\u0275fac:z}),Mt=z({__NG_ELEMENT_ID__:z}),ml=z({__NG_ENV_ID__:z});function mt(e){return typeof e=="string"?e:e==null?"":String(e)}function El(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():mt(e)}var Cl=z({ngErrorCode:z}),uf=z({ngErrorMessage:z}),df=z({ngTokenPath:z});function qo(e,t){return _l("",-200,t)}function Fi(e,t){throw new H(-201,!1)}function _l(e,t,n){let i=new H(t,e);return i[Cl]=t,i[uf]=e,n&&(i[df]=n),i}function ff(e){return e[Cl]}var No;function Dl(){return No}function xe(e){let t=No;return No=e,t}function zo(e,t,n){let i=Pi(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&8)return null;if(t!==void 0)return t;Fi(e,"Injector")}var pf={},bt=pf,mf="__NG_DI_FLAG__",Ro=class{injector;constructor(t){this.injector=t}retrieve(t,n){let i=It(n)||0;try{return this.injector.get(t,i&8?null:bt,i)}catch(r){if(Kt(r))return r;throw r}}};function hf(e,t=0){let n=Ii();if(n===void 0)throw new H(-203,!1);if(n===null)return zo(e,void 0,t);{let i=gf(t),r=n.retrieve(e,i);if(Kt(r)){if(i.optional)return null;throw r}return r}}function q(e,t=0){return(Dl()||hf)(Me(e),t)}function L(e,t){return q(e,It(t))}function It(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function gf(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function ko(e){let t=[];for(let n=0;n<e.length;n++){let i=Me(e[n]);if(Array.isArray(i)){if(i.length===0)throw new H(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=vf(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(q(r,o))}else t.push(q(i))}return t}function vf(e){return e[mf]}function Xt(e,t){let n=e.hasOwnProperty(So);return n?e[So]:null}function bl(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function Il(e){return e.flat(Number.POSITIVE_INFINITY)}function Li(e,t){e.forEach(n=>Array.isArray(n)?Li(n,t):t(n))}function Wo(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function wl(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Vi(e,t,n){let i=en(e,t);return i>=0?e[i|1]=n:(i=~i,wl(e,i,t,n)),i}function Bi(e,t){let n=en(e,t);if(n>=0)return e[n|1]}function en(e,t){return yf(e,t,1)}function yf(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var At={},Ee=[],Ln=new G(""),Qo=new G("",-1),Yo=new G(""),Tn=class{get(t,n=bt){if(n===bt){let r=_l("",-201);throw r.name="\u0275NotFound",r}return n}};function Tt(e){return e[Uo]||null}function Zo(e){return e[$o]||null}function xl(e){return e[Go]||null}function Vn(e){return{\u0275providers:e}}function Ml(...e){return{\u0275providers:Ko(!0,e),\u0275fromNgModule:!0}}function Ko(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return Li(t,s=>{let a=s;Mi(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Al(r,o),n}function Al(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];Jo(r,o=>{t(o,i)})}}function Mi(e,t,n,i){if(e=Me(e),!e)return!1;let r=null,o=To(e),s=!o&&Tt(e);if(!o&&!s){let l=e.ngModule;if(o=To(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Mi(u,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{Li(o.imports,f=>{Mi(f,t,n,i)&&(u||=[],u.push(f))})}finally{}u!==void 0&&Al(u,t)}if(!a){let u=Xt(r)||(()=>new r);t({provide:r,useFactory:u,deps:Ee},r),t({provide:Yo,useValue:r,multi:!0},r),t({provide:Ln,useValue:()=>q(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=e;Jo(l,f=>{t(f,u)})}}else return!1;return r!==e&&e.providers!==void 0}function Jo(e,t){for(let n of e)Ho(n)&&(n=n.\u0275providers),Array.isArray(n)?Jo(n,t):t(n)}var Ef=z({provide:String,useValue:z});function Tl(e){return e!==null&&typeof e=="object"&&Ef in e}function Cf(e){return!!(e&&e.useExisting)}function _f(e){return!!(e&&e.useFactory)}function Ai(e){return typeof e=="function"}var Bn=new G(""),wi={},hl={},Ao;function jn(){return Ao===void 0&&(Ao=new Tn),Ao}var Be=class{},wt=class extends Be{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,Oo(t,s=>this.processProvider(s)),this.records.set(Qo,Jt(void 0,this)),r.has("environment")&&this.records.set(Be,Jt(void 0,this));let o=this.records.get(Bn);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Yo,Ee,{self:!0}))}retrieve(t,n){let i=It(n)||0;try{return this.get(t,bt,i)}catch(r){if(Kt(r))return r;throw r}}destroy(){An(this),this._destroyed=!0;let t=T(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),T(t)}}onDestroy(t){return An(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){An(this);let n=Qe(this),i=xe(void 0),r;try{return t()}finally{Qe(n),xe(i)}}get(t,n=bt,i){if(An(this),t.hasOwnProperty(ml))return t[ml](this);let r=It(i),o,s=Qe(this),a=xe(void 0);try{if(!(r&4)){let u=this.records.get(t);if(u===void 0){let f=xf(t)&&Pi(t);f&&this.injectableDefInScope(f)?u=Jt(Po(t),wi):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,r)}let l=r&2?jn():this.parent;return n=r&8&&n===bt?null:n,l.get(t,n)}catch(l){let u=ff(l);throw u===-200||u===-201?new H(u,null):l}finally{xe(a),Qe(s)}}resolveInjectorInitializers(){let t=T(null),n=Qe(this),i=xe(void 0),r;try{let o=this.get(Ln,Ee,{self:!0});for(let s of o)s()}finally{Qe(n),xe(i),T(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(dt(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Me(t);let n=Ai(t)?t:Me(t&&t.provide),i=bf(t);if(!Ai(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Jt(void 0,wi,!0),r.factory=()=>ko(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n,i){let r=T(null);try{if(n.value===hl)throw qo(dt(t));return n.value===wi&&(n.value=hl,n.value=n.factory(void 0,i)),typeof n.value=="object"&&n.value&&wf(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{T(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Me(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Po(e){let t=Pi(e),n=t!==null?t.factory:Xt(e);if(n!==null)return n;if(e instanceof G)throw new H(204,!1);if(e instanceof Function)return Df(e);throw new H(204,!1)}function Df(e){if(e.length>0)throw new H(204,!1);let n=cf(e);return n!==null?()=>n.factory(e):()=>new e}function bf(e){if(Tl(e))return Jt(void 0,e.useValue);{let t=Sl(e);return Jt(t,wi)}}function Sl(e,t,n){let i;if(Ai(e)){let r=Me(e);return Xt(r)||Po(r)}else if(Tl(e))i=()=>Me(e.useValue);else if(_f(e))i=()=>e.useFactory(...ko(e.deps||[]));else if(Cf(e))i=(r,o)=>q(Me(e.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Me(e&&(e.useClass||e.provide));if(If(e))i=()=>new r(...ko(e.deps));else return Xt(r)||Po(r)}return i}function An(e){if(e.destroyed)throw new H(205,!1)}function Jt(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function If(e){return!!e.deps}function wf(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function xf(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Oo(e,t){for(let n of e)Array.isArray(n)?Oo(n,t):n&&Ho(n)?Oo(n.\u0275providers,t):t(n)}function ji(e,t){let n;e instanceof wt?(An(e),n=e):n=new Ro(e);let i,r=Qe(n),o=xe(void 0);try{return t()}finally{Qe(r),xe(o)}}function Nl(){return Dl()!==void 0||Ii()!=null}var He=0,N=1,P=2,le=3,ke=4,Pe=5,tn=6,nn=7,se=8,st=9,Ye=10,ee=11,rn=12,Xo=13,St=14,Oe=15,ht=16,Nt=17,Ze=18,Hn=19,es=20,rt=21,Hi=22,ft=23,Ae=24,Ui=25,Rt=26,me=27,Rl=1,ts=6,gt=7,Un=8,kt=9,ne=10;function at(e){return Array.isArray(e)&&typeof e[Rl]=="object"}function Ue(e){return Array.isArray(e)&&e[Rl]===!0}function ns(e){return(e.flags&4)!==0}function Pt(e){return e.componentOffset>-1}function $i(e){return(e.flags&1)===1}function Ot(e){return!!e.template}function on(e){return(e[P]&512)!==0}function Ft(e){return(e[P]&256)===256}var is="svg",kl="math";function Fe(e){for(;Array.isArray(e);)e=e[He];return e}function rs(e,t){return Fe(t[e])}function $e(e,t){return Fe(t[e.index])}function $n(e,t){return e.data[t]}function Ke(e,t){let n=t[e];return at(n)?n:n[He]}function Gi(e){return(e[P]&128)===128}function Pl(e){return Ue(e[le])}function Je(e,t){return t==null?null:e[t]}function os(e){e[Nt]=0}function ss(e){e[P]&1024||(e[P]|=1024,Gi(e)&&sn(e))}function Ol(e,t){for(;e>0;)t=t[St],e--;return t}function Gn(e){return!!(e[P]&9216||e[Ae]?.dirty)}function qi(e){e[Ye].changeDetectionScheduler?.notify(8),e[P]&64&&(e[P]|=1024),Gn(e)&&sn(e)}function sn(e){e[Ye].changeDetectionScheduler?.notify(0);let t=pt(e);for(;t!==null&&!(t[P]&8192||(t[P]|=8192,!Gi(t)));)t=pt(t)}function as(e,t){if(Ft(e))throw new H(911,!1);e[rt]===null&&(e[rt]=[]),e[rt].push(t)}function Fl(e,t){if(e[rt]===null)return;let n=e[rt].indexOf(t);n!==-1&&e[rt].splice(n,1)}function pt(e){let t=e[le];return Ue(t)?t[le]:t}function ls(e){return e[nn]??=[]}function cs(e){return e.cleanup??=[]}function Ll(e,t,n,i){let r=ls(t);r.push(n),e.firstCreatePass&&cs(e).push(i,r.length-1)}var V={lFrame:Xl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Fo=!1;function Vl(){return V.lFrame.elementDepthCount}function Bl(){V.lFrame.elementDepthCount++}function us(){V.lFrame.elementDepthCount--}function jl(){return V.bindingsEnabled}function Hl(){return V.skipHydrationRootTNode!==null}function ds(e){return V.skipHydrationRootTNode===e}function fs(){V.skipHydrationRootTNode=null}function U(){return V.lFrame.lView}function Ce(){return V.lFrame.tView}function C(e){return V.lFrame.contextLView=e,e[se]}function _(e){return V.lFrame.contextLView=null,e}function Le(){let e=ps();for(;e!==null&&e.type===64;)e=e.parent;return e}function ps(){return V.lFrame.currentTNode}function Ul(){let e=V.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function an(e,t){let n=V.lFrame;n.currentTNode=e,n.isParent=t}function ms(){return V.lFrame.isParent}function $l(){V.lFrame.isParent=!1}function hs(){return Fo}function Sn(e){let t=Fo;return Fo=e,t}function Gl(){let e=V.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ql(){return V.lFrame.bindingIndex}function zl(e){return V.lFrame.bindingIndex=e}function vt(){return V.lFrame.bindingIndex++}function zi(e){let t=V.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Wl(){return V.lFrame.inI18n}function Ql(e,t){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=e,Wi(t)}function Yl(){return V.lFrame.currentDirectiveIndex}function Wi(e){V.lFrame.currentDirectiveIndex=e}function Zl(e){let t=V.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Kl(){return V.lFrame.currentQueryIndex}function Qi(e){V.lFrame.currentQueryIndex=e}function Mf(e){let t=e[N];return t.type===2?t.declTNode:t.type===1?e[Pe]:null}function gs(e,t,n){if(n&4){let r=t,o=e;for(;r=r.parent,r===null&&!(n&1);)if(r=Mf(o),r===null||(o=o[St],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=V.lFrame=Jl();return i.currentTNode=t,i.lView=e,!0}function Yi(e){let t=Jl(),n=e[N];V.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Jl(){let e=V.lFrame,t=e===null?null:e.child;return t===null?Xl(e):t}function Xl(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function ec(){let e=V.lFrame;return V.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var vs=ec;function Zi(){let e=ec();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function tc(e){return(V.lFrame.contextLView=Ol(e,V.lFrame.contextLView))[se]}function Xe(){return V.lFrame.selectedIndex}function yt(e){V.lFrame.selectedIndex=e}function Ki(){let e=V.lFrame;return $n(e.tView,e.selectedIndex)}function Lt(){V.lFrame.currentNamespace=is}function nc(){return V.lFrame.currentNamespace}var ic=!0;function Ji(){return ic}function Xi(e){ic=e}function Lo(e,t=null,n=null,i){let r=rc(e,t,n,i);return r.resolveInjectorInitializers(),r}function rc(e,t=null,n=null,i,r=new Set){let o=[n||Ee,Ml(e)];return i=i||(typeof e=="object"?void 0:dt(e)),new wt(o,t||jn(),i||null,r)}var ot=class e{static THROW_IF_NOT_FOUND=bt;static NULL=new Tn;static create(t,n){if(Array.isArray(t))return Lo({name:""},n,t,"");{let i=t.name??"";return Lo({name:i},t.parent,t.providers,i)}}static \u0275prov=X({token:e,providedIn:"any",factory:()=>q(Qo)});static __NG_ELEMENT_ID__=-1},lt=new G(""),Vt=(()=>{class e{static __NG_ELEMENT_ID__=Af;static __NG_ENV_ID__=n=>n}return e})(),Ti=class extends Vt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Ft(this._lView)}onDestroy(t){let n=this._lView;return as(n,t),()=>Fl(n,t)}};function Af(){return new Ti(U())}var oc=!1,ln=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Mn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Zt(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=X({token:e,providedIn:"root",factory:()=>new e})}return e})(),Vo=class extends nt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Nl()&&(this.destroyRef=L(Vt,{optional:!0})??void 0,this.pendingTasks=L(ln,{optional:!0})??void 0)}emit(t){let n=T(null);try{super.next(t)}finally{T(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof ye&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},it=Vo;function Nn(...e){}function ys(e){let t,n;function i(){e=Nn;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Es(e){return queueMicrotask(()=>e()),()=>{e=Nn}}var Cs="isAngularZone",Rn=Cs+"_ID",Tf=0,Re=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new it(!1);onMicrotaskEmpty=new it(!1);onStable=new it(!1);onError=new it(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=oc}=t;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,Rf(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cs)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new H(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,Sf,Nn,Nn);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},Sf={};function _s(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Nf(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){ys(()=>{e.callbackScheduled=!1,Bo(e),e.isCheckStableRunning=!0,_s(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Bo(e)}function Rf(e){let t=()=>{Nf(e)},n=Tf++;e._inner=e._inner.fork({name:"angular",properties:{[Cs]:!0,[Rn]:n,[Rn+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(kf(l))return i.invokeTask(o,s,a,l);try{return gl(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),vl(e)}},onInvoke:(i,r,o,s,a,l,u)=>{try{return gl(e),i.invoke(o,s,a,l,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Pf(l)&&t(),vl(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Bo(e),_s(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Bo(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function gl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vl(e){e._nesting--,_s(e)}var kn=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new it;onMicrotaskEmpty=new it;onStable=new it;onError=new it;run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function kf(e){return sc(e,"__ignore_ng_zone__")}function Pf(e){return sc(e,"__scheduler_tick__")}function sc(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var je=class{_console=console;handleError(t){this._console.error("ERROR",t)}},cn=new G("",{factory:()=>{let e=L(Re),t=L(Be),n;return i=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw i}):(n??=t.get(je),n.handleError(i))})}}}),ac={provide:Ln,useValue:()=>{let e=L(je,{optional:!0})},multi:!0};function I(e,t){let[n,i,r]=go(e,t?.equal),o=n,s=o[ve];return o.set=i,o.update=r,o.asReadonly=Ds.bind(o),o}function Ds(){let e=this[ve];if(e.readonlyFn===void 0){let t=()=>this();t[ve]=e,e.readonlyFn=t}return e.readonlyFn}var er=(()=>{class e{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=Of}return e})();function Of(){return new er(U(),Le())}var xt=class{},qn=new G("",{factory:()=>!0});var bs=new G("");var tr=(()=>{class e{static \u0275prov=X({token:e,providedIn:"root",factory:()=>new jo})}return e})(),jo=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,i=this.queues.get(n);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,i]of this.queues)n===null?t||=this.flushQueue(i):t||=n.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,n=!0,i.run());return n}},Si=class{[ve];constructor(t){this[ve]=t}destroy(){this[ve].destroy()}};function ae(e,t){let n=t?.injector??L(ot),i=t?.manualCleanup!==!0?n.get(Vt):null,r,o=n.get(er,null,{optional:!0}),s=n.get(xt);return o!==null?(r=Vf(o.view,s,e),i instanceof Ti&&i._lView===o.view&&(i=null)):r=Bf(e,n.get(tr),s),r.injector=n,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new Si(r)}var lc=R(A({},vo),{cleanupFns:void 0,zone:null,onDestroyFn:Nn,run(){let e=Sn(!1);try{yo(this)}finally{Sn(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=T(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],T(e)}}}),Ff=R(A({},lc),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Ct(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Lf=R(A({},lc),{consumerMarkedDirty(){this.view[P]|=8192,sn(this.view),this.notifier.notify(13)},destroy(){Ct(this),this.onDestroyFn(),this.cleanup(),this.view[ft]?.delete(this)}});function Vf(e,t,n){let i=Object.create(Lf);return i.view=e,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=cc(i,n),e[ft]??=new Set,e[ft].add(i),i.consumerMarkedDirty(i),i}function Bf(e,t,n){let i=Object.create(Ff);return i.fn=cc(i,e),i.scheduler=t,i.notifier=n,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function cc(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}function ra(e){return{toString:e}.toString()}function Yf(e){return typeof e=="function"}function Vc(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}var lr=class{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Zf(e){return e.type.prototype.ngOnChanges&&(e.setInput=Jf),Kf}function Kf(){let e=jc(this),t=e?.current;if(t){let n=e.previous;if(n===At)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Jf(e,t,n,i,r){let o=this.declaredInputs[i],s=jc(e)||Xf(e,{previous:At,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new lr(u&&u.currentValue,n,l===At),Vc(e,t,r,n)}var Bc="__ngSimpleChanges__";function jc(e){return e[Bc]||null}function Xf(e,t){return e[Bc]=t}var uc=[];var Q=function(e,t=null,n){for(let i=0;i<uc.length;i++){let r=uc[i];r(e,t,n)}};function ep(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=Zf(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function tp(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:f}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),f!=null&&(e.destroyHooks??=[]).push(n,f)}}function ir(e,t,n){Hc(e,t,3,n)}function rr(e,t,n,i){(e[P]&3)===n&&Hc(e,t,n,i)}function Is(e,t){let n=e[P];(n&3)===t&&(n&=16383,n+=1,e[P]=n)}function Hc(e,t,n,i){let r=i!==void 0?e[Nt]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[Nt]+=65536),(a<o||o==-1)&&(np(e,n,t,l),e[Nt]=(e[Nt]&4294901760)+l+2),l++}function dc(e,t){Q(4,e,t);let n=T(null);try{t.call(e)}finally{T(n),Q(5,e,t)}}function np(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[P]>>14<e[Nt]>>16&&(e[P]&3)===t&&(e[P]+=16384,dc(a,o)):dc(a,o)}var dn=-1,Qn=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i,r){this.factory=t,this.name=r,this.canSeeViewProviders=n,this.injectImpl=i}};function ip(e){return(e.flags&8)!==0}function rp(e){return(e.flags&16)!==0}function op(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];ap(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function sp(e){return e===3||e===4||e===6}function ap(e){return e.charCodeAt(0)===64}function Dr(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?fc(e,n,r,null,t[++i]):fc(e,n,r,null,null))}}return e}function fc(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r)}function Uc(e){return e!==dn}function cr(e){return e&32767}function lp(e){return e>>16}function ur(e,t){let n=lp(e),i=t;for(;n>0;)i=i[St],n--;return i}var Ns=!0;function pc(e){let t=Ns;return Ns=e,t}var cp=256,$c=cp-1,Gc=5,up=0,et={};function dp(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Mt)&&(i=n[Mt]),i==null&&(i=n[Mt]=up++);let r=i&$c,o=1<<r;t.data[e+(r>>Gc)]|=o}function qc(e,t){let n=zc(e,t);if(n!==-1)return n;let i=t[N];i.firstCreatePass&&(e.injectorIndex=t.length,ws(i.data,e),ws(t,null),ws(i.blueprint,null));let r=oa(e,t),o=e.injectorIndex;if(Uc(r)){let s=cr(r),a=ur(r,t),l=a[N].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=r,o}function ws(e,t){e.push(0,0,0,0,0,0,0,0,t)}function zc(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function oa(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=Kc(r),i===null)return dn;if(n++,r=r[St],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return dn}function fp(e,t,n){dp(e,t,n)}function Wc(e,t,n){if(n&8||e!==void 0)return e;Fi(t,"NodeInjector")}function Qc(e,t,n,i){if(n&8&&i===void 0&&(i=null),(n&3)===0){let r=e[st],o=xe(void 0);try{return r?r.get(t,i,n&8):zo(t,i,n&8)}finally{xe(o)}}return Wc(i,t,n)}function Yc(e,t,n,i=0,r){if(e!==null){if(t[P]&2048&&!(i&2)){let s=gp(e,t,n,i,et);if(s!==et)return s}let o=Zc(e,t,n,i,et);if(o!==et)return o}return Qc(t,n,i,r)}function Zc(e,t,n,i,r){let o=mp(n);if(typeof o=="function"){if(!gs(t,e,i))return i&1?Wc(r,n,i):Qc(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&8))Fi(n);else return s}finally{vs()}}else if(typeof o=="number"){let s=null,a=zc(e,t),l=dn,u=i&1?t[Oe][Pe]:null;for((a===-1||i&4)&&(l=a===-1?oa(e,t):t[a+8],l===dn||!hc(i,!1)?a=-1:(s=t[N],a=cr(l),t=ur(l,t)));a!==-1;){let f=t[N];if(mc(o,a,f.data)){let y=pp(a,t,n,s,i,u);if(y!==et)return y}l=t[a+8],l!==dn&&hc(i,t[N].data[a+8]===u)&&mc(o,a,t)?(s=f,a=cr(l),t=ur(l,t)):a=-1}}return r}function pp(e,t,n,i,r,o){let s=t[N],a=s.data[e+8],l=i==null?Pt(a)&&Ns:i!=s&&(a.type&3)!==0,u=r&1&&o===a,f=or(a,s,n,l,u);return f!==null?dr(t,s,f,a,r):et}function or(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,u=e.directiveEnd,f=o>>20,y=i?a:a+f,b=r?a+f:u;for(let D=y;D<b;D++){let S=s[D];if(D<l&&n===S||D>=l&&S.type===n)return D}if(r){let D=s[l];if(D&&Ot(D)&&D.type===n)return l}return null}function dr(e,t,n,i,r){let o=e[n],s=t.data;if(o instanceof Qn){let a=o;if(a.resolving){let D=El(s[n]);throw qo(D)}let l=pc(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],f,y=a.injectImpl?xe(a.injectImpl):null,b=gs(e,i,0);try{o=e[n]=a.factory(void 0,r,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&ep(n,s[n],t)}finally{y!==null&&xe(y),pc(l),a.resolving=!1,vs()}}return o}function mp(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Mt)?e[Mt]:void 0;return typeof t=="number"?t>=0?t&$c:hp:t}function mc(e,t,n){let i=1<<e;return!!(n[t+(e>>Gc)]&i)}function hc(e,t){return!(e&2)&&!(e&1&&t)}var Bt=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Yc(this._tNode,this._lView,t,It(i),n)}};function hp(){return new Bt(Le(),U())}function gp(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[P]&2048&&!on(s);){let a=Zc(o,s,n,i|2,et);if(a!==et)return a;let l=o.parent;if(!l){let u=s[es];if(u){let f=u.get(n,et,i);if(f!==et)return f}l=Kc(s),s=s[St]}o=l}return r}function Kc(e){let t=e[N],n=t.type;return n===2?t.declTNode:n===1?e[Pe]:null}function vp(){return gn(Le(),U())}function gn(e,t){return new vn($e(e,t))}var vn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=vp}return e})();function yp(e){return e instanceof vn?e.nativeElement:e}function Ep(){return this._results[Symbol.iterator]()}var fr=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new nt}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=Il(t);(this._changesDetected=!bl(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Ep};function Jc(e){return(e.flags&128)===128}var sa=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(sa||{}),Xc=new Map,Cp=0;function _p(){return Cp++}function Dp(e){Xc.set(e[Hn],e)}function Rs(e){Xc.delete(e[Hn])}var gc="__ngContext__";function fn(e,t){at(t)?(e[gc]=t[Hn],Dp(t)):e[gc]=t}function eu(e){return nu(e[rn])}function tu(e){return nu(e[ke])}function nu(e){for(;e!==null&&!Ue(e);)e=e[ke];return e}var ks;function aa(e){ks=e}function iu(){if(ks!==void 0)return ks;if(typeof document<"u")return document;throw new H(210,!1)}var br=new G("",{factory:()=>bp}),bp="ng";var Ir=new G(""),ti=new G("",{providedIn:"platform",factory:()=>"unknown"});var wr=new G("",{factory:()=>iu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ru="r";var ou="di";var su=!1,au=new G("",{factory:()=>su});var Ip=(e,t,n,i)=>{};function wp(e,t,n,i){Ip(e,t,n,i)}function la(e){return(e.flags&32)===32}var xp=()=>null;function lu(e,t,n=!1){return xp(e,t,n)}function cu(e,t){let n=e.contentQueries;if(n!==null){let i=T(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];Qi(o),a.contentQueries(2,t[s],s)}}}finally{T(i)}}}function Ps(e,t,n){Qi(0);let i=T(null);try{t(e,n)}finally{T(i)}}function uu(e,t,n){if(ns(t)){let i=T(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{T(i)}}}var ze=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(ze||{});var pr=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ni})`}};function xr(e){return e instanceof pr?e.changingThisBreaksApplicationSecurity:e}function du(e,t){let n=fu(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ni})`)}return n===t}function fu(e){return e instanceof pr&&e.getTypeName()||null}var Mp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pu(e){return e=String(e),e.match(Mp)?e:"unsafe:"+e}var ca=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(ca||{});function ie(e){let t=Ap();return t?t.sanitize(ca.URL,e)||"":du(e,"URL")?xr(e):pu(mt(e))}function Ap(){let e=U();return e&&e[Ye].sanitizer}function yn(e){return e.ownerDocument.defaultView}function Tp(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}var mu="ng-template";function Sp(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&Tp(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(ua(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ua(e){return e.type===4&&e.value!==mu}function Np(e,t,n){let i=e.type===4&&!n?mu:e.value;return t===i}function Rp(e,t,n){let i=4,r=e.attrs,o=r!==null?Op(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Ge(i)&&!Ge(l))return!1;if(s&&Ge(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Np(e,l,n)||l===""&&t.length===1){if(Ge(i))return!1;s=!0}}else if(i&8){if(r===null||!Sp(e,r,l,n)){if(Ge(i))return!1;s=!0}}else{let u=t[++a],f=kp(l,r,ua(e),n);if(f===-1){if(Ge(i))return!1;s=!0;continue}if(u!==""){let y;if(f>o?y="":y=r[f+1].toLowerCase(),i&2&&u!==y){if(Ge(i))return!1;s=!0}}}}return Ge(i)||s}function Ge(e){return(e&1)===0}function kp(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return Fp(t,e)}function Pp(e,t,n=!1){for(let i=0;i<t.length;i++)if(Rp(e,t[i],n))return!0;return!1}function Op(e){for(let t=0;t<e.length;t++){let n=e[t];if(sp(n))return t}return e.length}function Fp(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function vc(e,t){return e?":not("+t.trim()+")":t}function Lp(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Ge(s)&&(t+=vc(o,r),r=""),i=s,o=o||!Ge(i);n++}return r!==""&&(t+=vc(o,r)),t}function Vp(e){return e.map(Lp).join(",")}function Bp(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!Ge(r))break;r=o}i++}return n.length&&t.push(1,...n),t}var _e={};function jp(e,t){return e.createText(t)}function Hp(e,t,n){e.setValue(t,n)}function hu(e,t,n){return e.createElement(t,n)}function mr(e,t,n,i,r){e.insertBefore(t,n,i,r)}function gu(e,t,n){e.appendChild(t,n)}function yc(e,t,n,i,r){i!==null?mr(e,t,n,i,r):gu(e,t,n)}function vu(e,t,n,i){e.removeChild(null,t,n,i)}function Up(e,t,n){e.setAttribute(t,"style",n)}function $p(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function yu(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&op(e,t,i),r!==null&&$p(e,t,r),o!==null&&Up(e,t,o)}function da(e,t,n,i,r,o,s,a,l,u,f){let y=me+i,b=y+r,D=Gp(y,b),S=typeof u=="function"?u():u;return D[N]={type:e,blueprint:D,template:n,queries:null,viewQuery:a,declTNode:t,data:D.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:S,incompleteFirstPass:!1,ssrId:f}}function Gp(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:_e);return n}function qp(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=da(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function fa(e,t,n,i,r,o,s,a,l,u,f){let y=t.blueprint.slice();return y[He]=r,y[P]=i|4|128|8|64|1024,(u!==null||e&&e[P]&2048)&&(y[P]|=2048),os(y),y[le]=y[St]=e,y[se]=n,y[Ye]=s||e&&e[Ye],y[ee]=a||e&&e[ee],y[st]=l||e&&e[st]||null,y[Pe]=o,y[Hn]=_p(),y[tn]=f,y[es]=u,y[Oe]=t.type==2?e[Oe]:y,y}function zp(e,t,n){let i=$e(t,e),r=qp(n),o=e[Ye].rendererFactory,s=pa(e,fa(e,r,null,Eu(n),i,t,null,o.createRenderer(i,n),null,null,null));return e[t.index]=s}function Eu(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Cu(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function pa(e,t){return e[rn]?e[Xo][ke]=t:e[rn]=t,e[Xo]=t,t}function c(e=1){_u(Ce(),U(),Xe()+e,!1)}function _u(e,t,n,i){if(!i)if((t[P]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ir(t,o,n)}else{let o=e.preOrderHooks;o!==null&&rr(t,o,0,n)}yt(n)}var Mr=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Mr||{});function Os(e,t,n,i){let r=T(null);try{let[o,s,a]=e.inputs[n],l=null;(s&Mr.SignalBased)!==0&&(l=t[o][ve]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(t,i)),e.setInput!==null?e.setInput(t,l,i,n,o):Vc(t,l,o,i)}finally{T(r)}}var ct=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(ct||{}),Wp;function ma(e,t){return Wp(e,t)}var jt=new Set,ha=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(ha||{}),ni=new G(""),Ec=new Set;function $t(e){Ec.has(e)||(Ec.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Du=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=X({token:e,providedIn:"root",factory:()=>new e})}return e})();var bu=new G("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Iu(e,t,n){let i=e.get(bu);if(Array.isArray(t))for(let r of t)i.queue.add(r),n?.detachedLeaveAnimationFns?.push(r);else i.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(e)}function Qp(e,t){let n=e.get(bu);if(t.detachedLeaveAnimationFns){for(let i of t.detachedLeaveAnimationFns)n.queue.delete(i);t.detachedLeaveAnimationFns=void 0}}function Yp(e,t){for(let[n,i]of t)Iu(e,i.animateFns)}function Cc(e,t,n,i){let r=e?.[Rt]?.enter;t!==null&&r&&r.has(n.index)&&Yp(i,r)}function un(e,t,n,i,r,o,s,a){if(r!=null){let l,u=!1;Ue(r)?l=r:at(r)&&(u=!0,r=r[He]);let f=Fe(r);e===0&&i!==null?(Cc(a,i,o,n),s==null?gu(t,i,f):mr(t,i,f,s||null,!0)):e===1&&i!==null?(Cc(a,i,o,n),mr(t,i,f,s||null,!0)):e===2?_c(a,o,n,y=>{vu(t,f,u,y)}):e===3&&_c(a,o,n,()=>{t.destroyNode(f)}),l!=null&&lm(t,e,n,l,o,i,s)}}function Zp(e,t){wu(e,t),t[He]=null,t[Pe]=null}function Kp(e,t,n,i,r,o){i[He]=r,i[Pe]=t,Tr(e,i,n,1,r,o)}function wu(e,t){t[Ye].changeDetectionScheduler?.notify(9),Tr(e,t,t[ee],2,null,null)}function Jp(e){let t=e[rn];if(!t)return xs(e[N],e);for(;t;){let n=null;if(at(t))n=t[rn];else{let i=t[ne];i&&(n=i)}if(!n){for(;t&&!t[ke]&&t!==e;)at(t)&&xs(t[N],t),t=t[le];t===null&&(t=e),at(t)&&xs(t[N],t),n=t&&t[ke]}t=n}}function ga(e,t){let n=e[kt],i=n.indexOf(t);n.splice(i,1)}function Ar(e,t){if(Ft(t))return;let n=t[ee];n.destroyNode&&Tr(e,t,n,3,null,null),Jp(t)}function xs(e,t){if(Ft(t))return;let n=T(null);try{t[P]&=-129,t[P]|=256,t[Ae]&&Ct(t[Ae]),tm(e,t),em(e,t),t[N].type===1&&t[ee].destroy();let i=t[ht];if(i!==null&&Ue(t[le])){i!==t[le]&&ga(i,t);let r=t[Ze];r!==null&&r.detachView(e)}Rs(t)}finally{T(n)}}function _c(e,t,n,i){let r=e?.[Rt];if(r==null||r.leave==null||!r.leave.has(t.index))return i(!1);e&&jt.add(e),Iu(n,()=>{if(r.leave&&r.leave.has(t.index)){let s=r.leave.get(t.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let u=s.animateFns[l],{promise:f}=u();a.push(f)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),Xp(e,i)}else e&&jt.delete(e),i(!1)},r)}function Xp(e,t){let n=e[Rt]?.running;if(n){n.then(()=>{e[Rt].running=void 0,jt.delete(e),t(!0)});return}t(!1)}function em(e,t){let n=e.cleanup,i=t[nn];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(t[nn]=null);let r=t[rt];if(r!==null){t[rt]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=t[ft];if(o!==null){t[ft]=null;for(let s of o)s.destroy()}}function tm(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof Qn)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Q(4,a,l);try{l.call(a)}finally{Q(5,a,l)}}else{Q(4,r,o);try{o.call(r)}finally{Q(5,r,o)}}}}}function nm(e,t,n){return im(e,t.parent,n)}function im(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[He];if(Pt(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===ze.None||r===ze.Emulated)return null}return $e(i,n)}function rm(e,t,n){return sm(e,t,n)}function om(e,t,n){return e.type&40?$e(e,n):null}var sm=om,Dc;function va(e,t,n,i){let r=nm(e,i,t),o=t[ee],s=i.parent||t[Pe],a=rm(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)yc(o,r,n[l],a,!1);else yc(o,r,n,a,!1);Dc!==void 0&&Dc(o,i,t,n,r)}function zn(e,t){if(t!==null){let n=t.type;if(n&3)return $e(t,e);if(n&4)return Fs(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return zn(e,i);{let r=e[t.index];return Ue(r)?Fs(-1,r):Fe(r)}}else{if(n&128)return zn(e,t.next);if(n&32)return ma(t,e)()||Fe(e[t.index]);{let i=xu(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=pt(e[Oe]);return zn(r,i)}else return zn(e,t.next)}}}return null}function xu(e,t){if(t!==null){let i=e[Oe][Pe],r=t.projection;return i.projection[r]}return null}function Fs(e,t){let n=ne+e+1;if(n<t.length){let i=t[n],r=i[N].firstChild;if(r!==null)return zn(i,r)}return t[gt]}function ya(e,t,n,i,r,o,s){for(;n!=null;){let a=i[st];if(n.type===128){n=n.next;continue}let l=i[n.index],u=n.type;if(s&&t===0&&(l&&fn(Fe(l),i),n.flags|=2),!la(n))if(u&8)ya(e,t,n.child,i,r,o,!1),un(t,e,a,r,l,n,o,i);else if(u&32){let f=ma(n,i),y;for(;y=f();)un(t,e,a,r,y,n,o,i);un(t,e,a,r,l,n,o,i)}else u&16?am(e,t,i,n,r,o):un(t,e,a,r,l,n,o,i);n=s?n.projectionNext:n.next}}function Tr(e,t,n,i,r,o){ya(n,i,e.firstChild,t,r,o,!1)}function am(e,t,n,i,r,o){let s=n[Oe],l=s[Pe].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let f=l[u];un(t,e,n[st],r,f,i,o,n)}else{let u=l,f=s[le];Jc(i)&&(u.flags|=128),ya(e,t,u,f,r,o,!0)}}function lm(e,t,n,i,r,o,s){let a=i[gt],l=Fe(i);a!==l&&un(t,e,n,o,a,r,s);for(let u=ne;u<i.length;u++){let f=i[u];Tr(f[N],f,e,t,o,a)}}function cm(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:ct.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ct.Important),e.setStyle(n,i,r,o))}}function Mu(e,t,n,i,r){let o=Xe(),s=i&2;try{yt(-1),s&&t.length>me&&_u(e,t,me,!1),Q(s?2:0,r,n),n(i,r)}finally{yt(o),Q(s?3:1,r,n)}}function Au(e,t,n){gm(e,t,n),(n.flags&64)===64&&vm(e,t,n)}function Ea(e,t,n=$e){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function um(e,t,n,i){let o=i.get(au,su)||n===ze.ShadowDom||n===ze.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,o);return dm(s),s}function dm(e){fm(e)}var fm=()=>null;function pm(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function mm(e,t,n,i,r,o){let s=t[N];if(Ca(e,s,t,n,i)){Pt(e)&&hm(t,e.index);return}e.type&3&&(n=pm(n)),Tu(e,t,n,i,r,o)}function Tu(e,t,n,i,r,o){if(e.type&3){let s=$e(e,t);i=o!=null?o(i,e.value||"",n):i,r.setProperty(s,n,i)}else e.type&12}function hm(e,t){let n=Ke(t,e);n[P]&16||(n[P]|=64)}function gm(e,t,n){let i=n.directiveStart,r=n.directiveEnd;Pt(n)&&zp(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||qc(n,t);let o=n.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=dr(t,e,s,n);if(fn(l,t),o!==null&&Dm(t,s-i,l,a,n,o),Ot(a)){let u=Ke(n.index,t);u[se]=dr(t,e,s,n)}}}function vm(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Yl();try{yt(o);for(let a=i;a<r;a++){let l=e.data[a],u=t[a];Wi(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&ym(l,u)}}finally{yt(-1),Wi(s)}}function ym(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Em(e,t){let n=e.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];Pp(t,o.selectors,!1)&&(i??=[],Ot(o)?i.unshift(o):i.push(o))}return i}function Cm(e,t,n,i,r,o){let s=$e(e,t);_m(t[ee],s,o,e.value,n,i,r)}function _m(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?mt(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function Dm(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Os(i,n,l,u)}}function Su(e,t,n,i,r){let o=me+n,s=t[N],a=r(s,t,e,i,n);t[o]=a,an(e,!0);let l=e.type===2;return l?(yu(t[ee],a,e),(Vl()===0||$i(e))&&fn(a,t),Bl()):fn(a,t),Ji()&&(!l||!la(e))&&va(s,t,a,e),e}function Nu(e){let t=e;return ms()?$l():(t=t.parent,an(t,!1)),t}function bm(e,t){let n=e[st];if(!n)return;let i;try{i=n.get(cn,null)}catch{i=null}i?.(t)}function Ca(e,t,n,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],f=s[l+1],y=t.data[u];Os(y,n[u],f,r),a=!0}if(o)for(let l of o){let u=n[l],f=t.data[l];Os(f,u,i,r),a=!0}return a}function Im(e,t){let n=Ke(t,e),i=n[N];wm(i,n);let r=n[He];r!==null&&n[tn]===null&&(n[tn]=lu(r,n[st])),Q(18),_a(i,n,n[se]),Q(19,n[se])}function wm(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function _a(e,t,n){Yi(t);try{let i=e.viewQuery;i!==null&&Ps(1,i,n);let r=e.template;r!==null&&Mu(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ze]?.finishViewCreation(e),e.staticContentQueries&&cu(e,t),e.staticViewQueries&&Ps(2,e.viewQuery,n);let o=e.components;o!==null&&xm(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[P]&=-5,Zi()}}function xm(e,t){for(let n=0;n<t.length;n++)Im(e,t[n])}function Sr(e,t,n,i){let r=T(null);try{let o=t.tView,a=e[P]&4096?4096:16,l=fa(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=e[t.index];l[ht]=u;let f=e[Ze];return f!==null&&(l[Ze]=f.createEmbeddedView(o)),_a(o,l,n),l}finally{T(r)}}function Yn(e,t){return!t||t.firstChild===null||Jc(e)}function Zn(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(Fe(o)),Ue(o)&&Ru(o,i);let s=n.type;if(s&8)Zn(e,t,n.child,i);else if(s&32){let a=ma(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=xu(t,n);if(Array.isArray(a))i.push(...a);else{let l=pt(t[Oe]);Zn(l[N],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function Ru(e,t){for(let n=ne;n<e.length;n++){let i=e[n],r=i[N].firstChild;r!==null&&Zn(i[N],i,r,t)}e[gt]!==e[He]&&t.push(e[gt])}function ku(e){if(e[Ui]!==null){for(let t of e[Ui])t.impl.addSequence(t);e[Ui].length=0}}var Pu=[];function Mm(e){return e[Ae]??Am(e)}function Am(e){let t=Pu.pop()??Object.create(Sm);return t.lView=e,t}function Tm(e){e.lView[Ae]!==e&&(e.lView=null,Pu.push(e))}var Sm=R(A({},Gt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{sn(e.lView)},consumerOnSignalRead(){this.lView[Ae]=this}});function Nm(e){let t=e[Ae]??Object.create(Rm);return t.lView=e,t}var Rm=R(A({},Gt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=pt(e.lView);for(;t&&!Ou(t[N]);)t=pt(t);t&&ss(t)},consumerOnSignalRead(){this.lView[Ae]=this}});function Ou(e){return e.type!==2}function Fu(e){if(e[ft]===null)return;let t=!0;for(;t;){let n=!1;for(let i of e[ft])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(e[P]&8192)}}var km=100;function Lu(e,t=0){let i=e[Ye].rendererFactory,r=!1;r||i.begin?.();try{Pm(e,t)}finally{r||i.end?.()}}function Pm(e,t){let n=hs();try{Sn(!0),Ls(e,t);let i=0;for(;Gn(e);){if(i===km)throw new H(103,!1);i++,Ls(e,1)}}finally{Sn(n)}}function Om(e,t,n,i){if(Ft(t))return;let r=t[P],o=!1,s=!1;Yi(t);let a=!0,l=null,u=null;o||(Ou(e)?(u=Mm(t),l=qt(u)):vi()===null?(a=!1,u=Nm(t),l=qt(u)):t[Ae]&&(Ct(t[Ae]),t[Ae]=null));try{os(t),zl(e.bindingStartIndex),n!==null&&Mu(e,t,n,2,i);let f=(r&3)===3;if(!o)if(f){let D=e.preOrderCheckHooks;D!==null&&ir(t,D,null)}else{let D=e.preOrderHooks;D!==null&&rr(t,D,0,null),Is(t,0)}if(s||Fm(t),Fu(t),Vu(t,0),e.contentQueries!==null&&cu(e,t),!o)if(f){let D=e.contentCheckHooks;D!==null&&ir(t,D)}else{let D=e.contentHooks;D!==null&&rr(t,D,1),Is(t,1)}Vm(e,t);let y=e.components;y!==null&&ju(t,y,0);let b=e.viewQuery;if(b!==null&&Ps(2,b,i),!o)if(f){let D=e.viewCheckHooks;D!==null&&ir(t,D)}else{let D=e.viewHooks;D!==null&&rr(t,D,2),Is(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Hi]){for(let D of t[Hi])D();t[Hi]=null}o||(ku(t),t[P]&=-73)}catch(f){throw o||sn(t),f}finally{u!==null&&(Dn(u,l),a&&Tm(u)),Zi()}}function Vu(e,t){for(let n=eu(e);n!==null;n=tu(n))for(let i=ne;i<n.length;i++){let r=n[i];Bu(r,t)}}function Fm(e){for(let t=eu(e);t!==null;t=tu(t)){if(!(t[P]&2))continue;let n=t[kt];for(let i=0;i<n.length;i++){let r=n[i];ss(r)}}}function Lm(e,t,n){Q(18);let i=Ke(t,e);Bu(i,n),Q(19,i[se])}function Bu(e,t){Gi(e)&&Ls(e,t)}function Ls(e,t){let i=e[N],r=e[P],o=e[Ae],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&bn(o)),s||=!1,o&&(o.dirty=!1),e[P]&=-9217,s)Om(i,e,i.template,e[se]);else if(r&8192){let a=T(null);try{Fu(e),Vu(e,1);let l=i.components;l!==null&&ju(e,l,1),ku(e)}finally{T(a)}}}function ju(e,t,n){for(let i=0;i<t.length;i++)Lm(e,t[i],n)}function Vm(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)yt(~r);else{let o=r,s=n[++i],a=n[++i];Ql(s,o);let l=t[o];Q(24,l),a(2,l),Q(25,l)}}}finally{yt(-1)}}function Da(e,t){let n=hs()?64:1088;for(e[Ye].changeDetectionScheduler?.notify(t);e;){e[P]|=n;let i=pt(e);if(on(e)&&!i)return e;e=i}return null}function Hu(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function Uu(e,t){let n=ne+t;if(n<e.length)return e[n]}function Nr(e,t,n,i=!0){let r=t[N];if(Bm(r,t,e,n),i){let s=Fs(n,e),a=t[ee],l=a.parentNode(e[gt]);l!==null&&Kp(r,e[Pe],a,t,l,s)}let o=t[tn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $u(e,t){let n=Kn(e,t);return n!==void 0&&Ar(n[N],n),n}function Kn(e,t){if(e.length<=ne)return;let n=ne+t,i=e[n];if(i){let r=i[ht];r!==null&&r!==e&&ga(r,i),t>0&&(e[n-1][ke]=i[ke]);let o=Fn(e,ne+t);Zp(i[N],i);let s=o[Ze];s!==null&&s.detachView(o[N]),i[le]=null,i[ke]=null,i[P]&=-129}return i}function Bm(e,t,n,i){let r=ne+i,o=n.length;i>0&&(n[r-1][ke]=t),i<o-ne?(t[ke]=n[r],Wo(n,ne+i,t)):(n.push(t),t[ke]=null),t[le]=n;let s=t[ht];s!==null&&n!==s&&Gu(s,t);let a=t[Ze];a!==null&&a.insertView(e),qi(t),t[P]|=128}function Gu(e,t){let n=e[kt],i=t[le];if(at(i))e[P]|=2;else{let r=i[le][Oe];t[Oe]!==r&&(e[P]|=2)}n===null?e[kt]=[t]:n.push(t)}var pn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[N];return Zn(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[se]}set context(t){this._lView[se]=t}get destroyed(){return Ft(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[le];if(Ue(t)){let n=t[Un],i=n?n.indexOf(this):-1;i>-1&&(Kn(t,i),Fn(n,i))}this._attachedToViewContainer=!1}Ar(this._lView[N],this._lView)}onDestroy(t){as(this._lView,t)}markForCheck(){Da(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){qi(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,Lu(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=on(this._lView),n=this._lView[ht];n!==null&&!t&&ga(n,this._lView),wu(this._lView[N],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=t;let n=on(this._lView),i=this._lView[ht];i!==null&&!n&&Gu(i,this._lView),qi(this._lView)}};var mn=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=jm;constructor(n,i,r){this._declarationLView=n,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,r){let o=Sr(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:r});return new pn(o)}}return e})();function jm(){return ba(Le(),U())}function ba(e,t){return e.type&4?new mn(t,e,gn(e,t)):null}function Rr(e,t,n,i,r){let o=e.data[t];if(o===null)o=Hm(e,t,n,i,r),Wl()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=Ul();o.injectorIndex=s===null?-1:s.injectorIndex}return an(o,!0),o}function Hm(e,t,n,i,r){let o=ps(),s=ms(),a=s?o:o&&o.parent,l=e.data[t]=$m(e,a,n,t,i,r);return Um(e,l,o,s),l}function Um(e,t,n,i){e.firstChild===null&&(e.firstChild=t),n!==null&&(i?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function $m(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Hl()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Gm(e){let t=e[ts]??[],i=e[le][ee],r=[];for(let o of t)o.data[ou]!==void 0?r.push(o):qm(o,i);e[ts]=r}function qm(e,t){let n=0,i=e.firstChild;if(i){let r=e.data[ru];for(;n<r;){let o=i.nextSibling;vu(t,i,!1),i=o,n++}}}var zm=()=>null,Wm=()=>null;function Vs(e,t){return zm(e,t)}function qu(e,t,n){return Wm(e,t,n)}var zu=class{},kr=class{},Bs=class{resolveComponentFactory(t){throw new H(917,!1)}},Pr=class{static NULL=new Bs},Ht=class{};var Wu=(()=>{class e{static \u0275prov=X({token:e,providedIn:"root",factory:()=>null})}return e})();var sr={},js=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){let r=this.injector.get(t,sr,i);return r!==sr||n===sr?r:this.parentInjector.get(t,n,i)}};function hr(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=Ri(r,a);else if(o==2){let l=a,u=t[++s];i=Ri(i,l+": "+u+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function Ia(e,t=0){let n=U();if(n===null)return q(e,t);let i=Le();return Yc(i,n,Me(e),t)}function Qm(e,t,n,i,r){let o=i===null?null:{"":-1},s=r(e,n);if(s!==null){let a=s,l=null,u=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,l,u]=f.resolveHostDirectives(s);break}Km(e,t,n,a,o,l,u)}o!==null&&i!==null&&Ym(n,i,o)}function Ym(e,t,n){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new H(-301,!1);i.push(t[r],o)}}function Zm(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Km(e,t,n,i,r,o,s){let a=i.length,l=!1;for(let b=0;b<a;b++){let D=i[b];!l&&Ot(D)&&(l=!0,Zm(e,n,b)),fp(qc(n,t),e,D.type)}ih(n,e.data.length,a);for(let b=0;b<a;b++){let D=i[b];D.providersResolver&&D.providersResolver(D)}let u=!1,f=!1,y=Cu(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let b=0;b<a;b++){let D=i[b];if(n.mergedAttrs=Dr(n.mergedAttrs,D.hostAttrs),Xm(e,n,t,y,D),nh(y,D,r),s!==null&&s.has(D)){let[$,oe]=s.get(D);n.directiveToIndex.set(D.type,[y,$+n.directiveStart,oe+n.directiveStart])}else(o===null||!o.has(D))&&n.directiveToIndex.set(D.type,y);D.contentQueries!==null&&(n.flags|=4),(D.hostBindings!==null||D.hostAttrs!==null||D.hostVars!==0)&&(n.flags|=64);let S=D.type.prototype;!u&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),f=!0),y++}Jm(e,n,o)}function Jm(e,t,n){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=e.data[i];if(n===null||!n.has(r))bc(0,t,r,i),bc(1,t,r,i),wc(t,i,!1);else{let o=n.get(r);Ic(0,t,o,i),Ic(1,t,o,i),wc(t,i,!0)}}}function bc(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),Qu(t,o)}}function Ic(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),Qu(t,s)}}function Qu(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function wc(e,t,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!n&&r===null||n&&o===null||ua(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&r.hasOwnProperty(l)){let u=r[l];for(let f of u)if(f===t){s??=[],s.push(l,i[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let u=o[l];for(let f=0;f<u.length;f+=2)if(u[f]===t){s??=[],s.push(u[f+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function Xm(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=Xt(r.type,!0)),s=new Qn(o,Ot(r),Ia,null);e.blueprint[i]=s,n[i]=s,eh(e,t,i,Cu(e,n,r.hostVars,_e),r)}function eh(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;th(s)!=a&&s.push(a),s.push(n,i,o)}}function th(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function nh(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Ot(t)&&(n[""]=e)}}function ih(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Yu(e,t,n,i,r,o,s,a){let l=t[N],u=l.consts,f=Je(u,s),y=Rr(l,e,n,i,f);return o&&Qm(l,t,y,Je(u,a),r),y.mergedAttrs=Dr(y.mergedAttrs,y.attrs),y.attrs!==null&&hr(y,y.attrs,!1),y.mergedAttrs!==null&&hr(y,y.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,y),y}function Zu(e,t){tp(e,t),ns(t)&&e.queries.elementEnd(t)}function rh(e,t,n,i,r,o){let s=t.consts,a=Je(s,r),l=Rr(t,e,n,i,a);if(l.mergedAttrs=Dr(l.mergedAttrs,l.attrs),o!=null){let u=Je(s,o);l.localNames=[];for(let f=0;f<u.length;f+=2)l.localNames.push(u[f],-1)}return l.attrs!==null&&hr(l,l.attrs,!1),l.mergedAttrs!==null&&hr(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function oh(e,t,n){return e[t]=n}function sh(e,t){return e[t]}function We(e,t,n){if(n===_e)return!1;let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function ah(e,t,n,i){let r=We(e,t,n);return We(e,t+1,i)||r}function ar(e,t,n){return function i(r){let o=Pt(e)?Ke(e.index,t):t;Da(o,5);let s=t[se],a=xc(t,s,n,r),l=i.__ngNextListenerFn__;for(;l;)a=xc(t,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function xc(e,t,n,i){let r=T(null);try{return Q(6,t,n),n(i)!==!1}catch(o){return bm(e,o),!1}finally{Q(7,t,n),T(r)}}function Ku(e,t,n,i,r,o,s,a){let l=$i(e),u=!1,f=null;if(!i&&l&&(f=ch(t,n,o,e.index)),f!==null){let y=f.__ngLastListenerFn__||f;y.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,u=!0}else{let y=$e(e,n),b=i?i(y):y;wp(n,b,o,a);let D=r.listen(b,o,a);if(!lh(o)){let S=i?$=>i(Fe($[e.index])):e.index;Ju(S,t,n,o,a,D,!1)}}return u}function lh(e){return e.startsWith("animation")||e.startsWith("transition")}function ch(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[nn],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Ju(e,t,n,i,r,o,s){let a=t.firstCreatePass?cs(t):null,l=ls(n),u=l.length;l.push(r,o),a&&a.push(i,e,u,(u+1)*(s?-1:1))}function Mc(e,t,n,i,r,o){let s=t[n],a=t[N],u=a.data[n].outputs[i],y=s[u].subscribe(o);Ju(e.index,a,t,r,o,y,!0)}var Hs=Symbol("BINDING");var Us=class extends Pr{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Tt(t);return new Jn(n,this.ngModule)}};function uh(e){return Object.keys(e).map(t=>{let[n,i,r]=e[t],o={propName:n,templateName:t,isSignal:(i&Mr.SignalBased)!==0};return r&&(o.transform=r),o})}function dh(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function fh(e,t,n){let i=t instanceof Be?t:t?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new js(n,i):n}function ph(e){let t=e.get(Ht,null);if(t===null)throw new H(407,!1);let n=e.get(Wu,null),i=e.get(xt,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:i,ngReflect:!1}}function mh(e,t){let n=Xu(e);return hu(t,n,n==="svg"?is:n==="math"?kl:null)}function Xu(e){return(e.selectors[0][0]||"div").toLowerCase()}var Jn=class extends kr{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=uh(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=dh(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Vp(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,i,r,o,s){Q(22);let a=T(null);try{let l=this.componentDef,u=hh(i,l,s,o),f=fh(l,r||this.ngModule,t),y=ph(f),b=y.rendererFactory.createRenderer(null,l),D=i?um(b,i,l.encapsulation,f):mh(l,b),S=s?.some(Ac)||o?.some(de=>typeof de!="function"&&de.bindings.some(Ac)),$=fa(null,u,null,512|Eu(l),null,null,y,b,f,null,lu(D,f,!0));$[me]=D,Yi($);let oe=null;try{let de=Yu(me,$,2,"#host",()=>u.directiveRegistry,!0,0);yu(b,D,de),fn(D,$),Au(u,$,de),uu(u,de,$),Zu(u,de),n!==void 0&&vh(de,this.ngContentSelectors,n),oe=Ke(de.index,$),$[se]=oe[se],_a(u,$,null)}catch(de){throw oe!==null&&Rs(oe),Rs($),de}finally{Q(23),Zi()}return new gr(this.componentType,$,!!S)}finally{T(a)}}};function hh(e,t,n,i){let r=e?["ng-version","21.0.0"]:Bp(t.selectors[0]),o=null,s=null,a=0;if(n)for(let f of n)a+=f[Hs].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(i)for(let f=0;f<i.length;f++){let y=i[f];if(typeof y!="function")for(let b of y.bindings){a+=b[Hs].requiredVars;let D=f+1;b.create&&(b.targetIdx=D,(o??=[]).push(b)),b.update&&(b.targetIdx=D,(s??=[]).push(b))}}let l=[t];if(i)for(let f of i){let y=typeof f=="function"?f:f.type,b=Zo(y);l.push(b)}return da(0,null,gh(o,s),1,a,l,null,null,null,[r],null)}function gh(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let i of e)i.create();if(n&2&&t)for(let i of t)i.update()}}function Ac(e){let t=e[Hs].kind;return t==="input"||t==="twoWay"}var gr=class extends zu{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,i){super(),this._rootLView=n,this._hasInputBindings=i,this._tNode=$n(n[N],me),this.location=gn(this._tNode,n),this.instance=Ke(this._tNode.index,n)[se],this.hostView=this.changeDetectorRef=new pn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let r=this._rootLView,o=Ca(i,r[N],r,t,n);this.previousInputValues.set(t,n);let s=Ke(i.index,r);Da(s,1)}get injector(){return new Bt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function vh(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var ii=(()=>{class e{static __NG_ELEMENT_ID__=yh}return e})();function yh(){let e=Le();return td(e,U())}var Eh=ii,ed=class extends Eh{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return gn(this._hostTNode,this._hostLView)}get injector(){return new Bt(this._hostTNode,this._hostLView)}get parentInjector(){let t=oa(this._hostTNode,this._hostLView);if(Uc(t)){let n=ur(t,this._hostLView),i=cr(t),r=n[N].data[i+8];return new Bt(r,n)}else return new Bt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Tc(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ne}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Vs(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,Yn(this._hostTNode,s)),a}createComponent(t,n,i,r,o,s,a){let l=t&&!Yf(t),u;if(l)u=n;else{let oe=n||{};u=oe.index,i=oe.injector,r=oe.projectableNodes,o=oe.environmentInjector||oe.ngModuleRef,s=oe.directives,a=oe.bindings}let f=l?t:new Jn(Tt(t)),y=i||this.parentInjector;if(!o&&f.ngModule==null){let de=(l?y:this.parentInjector).get(Be,null);de&&(o=de)}let b=Tt(f.componentType??{}),D=Vs(this._lContainer,b?.id??null),S=D?.firstChild??null,$=f.create(y,r,S,o,s,a);return this.insertImpl($.hostView,u,Yn(this._hostTNode,D)),$}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(Pl(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[le],u=new ed(l,l[Pe],l[le]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Nr(s,r,o,i),t.attachToViewContainerRef(),Wo(Ms(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Tc(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=Kn(this._lContainer,n);i&&(Fn(Ms(this._lContainer),n),Ar(i[N],i))}detach(t){let n=this._adjustIndex(t,-1),i=Kn(this._lContainer,n);return i&&Fn(Ms(this._lContainer),n)!=null?new pn(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Tc(e){return e[Un]}function Ms(e){return e[Un]||(e[Un]=[])}function td(e,t){let n,i=t[e.index];return Ue(i)?n=i:(n=Hu(i,t,null,e),t[e.index]=n,pa(t,n)),_h(n,t,e,i),new ed(n,e,t)}function Ch(e,t){let n=e[ee],i=n.createComment(""),r=$e(t,e),o=n.parentNode(r);return mr(n,o,i,n.nextSibling(r),!1),i}var _h=Ih,Dh=()=>!1;function bh(e,t,n){return Dh(e,t,n)}function Ih(e,t,n,i){if(e[gt])return;let r;n.type&8?r=Fe(i):r=Ch(t,n),e[gt]=r}var $s=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Gs=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)rd(t,n).matches!==null&&this.queries[n].setDirty()}},qs=class{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=Nh(t):this.predicate=t}},zs=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Ws=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,wh(n,o)),this.matchTNodeWithReadOption(t,n,or(n,t,o,!1,!1))}else i===mn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,or(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===vn||r===ii||r===mn&&n.type&4)this.addMatch(n.index,-2);else{let o=or(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function wh(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function xh(e,t){return e.type&11?gn(e,t):e.type&4?ba(e,t):null}function Mh(e,t,n,i){return n===-1?xh(t,e):n===-2?Ah(e,t,i):dr(e,e[N],n,t)}function Ah(e,t,n){if(n===vn)return gn(t,e);if(n===mn)return ba(t,e);if(n===ii)return td(t,e)}function nd(e,t,n,i){let r=t[Ze].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let f=o[u];a.push(Mh(t,f,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function Qs(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=nd(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let u=o[a+1],f=t[-l];for(let y=ne;y<f.length;y++){let b=f[y];b[ht]===b[le]&&Qs(b[N],b,u,i)}if(f[kt]!==null){let y=f[kt];for(let b=0;b<y.length;b++){let D=y[b];Qs(D[N],D,u,i)}}}}}return i}function id(e,t){return e[Ze].queries[t].queryList}function Th(e,t,n){let i=new fr((n&4)===4);return Ll(e,t,i,i.destroy),(t[Ze]??=new Gs).queries.push(new $s(i))-1}function Sh(e,t,n){let i=Ce();return i.firstCreatePass&&(Rh(i,new qs(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),Th(i,U(),t)}function Nh(e){return e.split(",").map(t=>t.trim())}function Rh(e,t,n){e.queries===null&&(e.queries=new zs),e.queries.track(new Ws(t,n))}function rd(e,t){return e.queries.getByIndex(t)}function kh(e,t){let n=e[N],i=rd(n,t);return i.crossesNgTemplate?Qs(n,e,t,[]):nd(n,e,i,t)}function od(e,t,n){let i,r=In(()=>{i._dirtyCounter();let o=Oh(i,e);if(t&&o===void 0)throw new H(-951,!1);return o});return i=r[ve],i._dirtyCounter=I(0),i._flatValue=void 0,r}function sd(e){return od(!0,!1,e)}function ad(e){return od(!0,!0,e)}function Ph(e,t){let n=e[ve];n._lView=U(),n._queryIndex=t,n._queryList=id(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(i=>i+1))}function Oh(e,t){let n=e._lView,i=e._queryIndex;if(n===void 0||i===void 0||n[P]&4)return t?void 0:Ee;let r=id(n,i),o=kh(n,i);return r.reset(o,yp),t?r.first:r._changesDetected||e._flatValue===void 0?e._flatValue=r.toArray():e._flatValue}var vr=class{};var Xn=class extends vr{injector;componentFactoryResolver=new Us(this);instance=null;constructor(t){super();let n=new wt([...t.providers,{provide:vr,useValue:this},{provide:Pr,useValue:this.componentFactoryResolver}],t.parent||jn(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ld(e,t,n=null){return new Xn({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Fh=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Ko(!1,n.type),r=i.length>0?ld([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=X({token:e,providedIn:"environment",factory:()=>new e(q(Be))})}return e})();function ce(e){return ra(()=>{let t=jh(e),n=R(A({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===sa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(Fh).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ze.Emulated,styles:e.styles||Ee,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&$t("NgStandalone"),Hh(n);let i=e.dependencies;return n.directiveDefs=Sc(i,Lh),n.pipeDefs=Sc(i,xl),n.id=Uh(n),n})}function Lh(e){return Tt(e)||Zo(e)}function Or(e){return ra(()=>({type:e.type,bootstrap:e.bootstrap||Ee,declarations:e.declarations||Ee,imports:e.imports||Ee,exports:e.exports||Ee,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Vh(e,t){if(e==null)return At;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=Mr.None,l=null),n[o]=[i,a,l],t[o]=s}return n}function Bh(e){if(e==null)return At;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function jh(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||At,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ee,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Vh(e.inputs,t),outputs:Bh(e.outputs),debugInfo:null}}function Hh(e){e.features?.forEach(t=>t(e))}function Sc(e,t){return e?()=>{let n=typeof e=="function"?e():e,i=[];for(let r of n){let o=t(r);o!==null&&i.push(o)}return i}:null}function Uh(e){let t=0,n=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function $h(e,t,n,i,r,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Dr(e.mergedAttrs,e.attrs);let f=e.tView=da(2,e,r,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),f.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),an(e,!1);let l=Gh(n,t,e,i);Ji()&&va(n,t,l,e),fn(l,t);let u=Hu(l,t,l,e);t[i+me]=u,pa(t,u),bh(u,e,t)}function yr(e,t,n,i,r,o,s,a,l,u,f){let y=n+me,b;if(t.firstCreatePass){if(b=Rr(t,y,4,s||null,a||null),u!=null){let D=Je(t.consts,u);b.localNames=[];for(let S=0;S<D.length;S+=2)b.localNames.push(D[S],-1)}}else b=t.data[y];return $h(b,e,t,n,i,r,o,l),u!=null&&Ea(e,b,f),b}var Gh=qh;function qh(e,t,n,i){return Xi(!0),t[ee].createComment("")}var wa=new G("");function xa(e){return!!e&&typeof e.then=="function"}function cd(e){return!!e&&typeof e.subscribe=="function"}var ud=new G("");var Ma=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=L(ud,{optional:!0})??[];injector=L(ot);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=ji(this.injector,r);if(xa(o))n.push(o);else if(cd(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dd=new G("");function fd(){ho(()=>{let e="";throw new H(600,e)})}function pd(e){return e.isBoundToModule}var zh=10;var Fr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(cn);afterRenderManager=L(Du);zonelessEnabled=L(qn);rootEffectScheduler=L(tr);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new nt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=L(ln);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(xo(n=>!n))}constructor(){L(ni,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=L(Be);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,r=ot.NULL){return this._injector.get(Re).run(()=>{Q(10);let s=n instanceof kr;if(!this._injector.get(Ma).done){let S="";throw new H(405,S)}let l;s?l=n:l=this._injector.get(Pr).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let u=pd(l)?void 0:this._injector.get(vr),f=i||l.selector,y=l.create(r,[],f,u),b=y.location.nativeElement,D=y.injector.get(wa,null);return D?.registerApplication(b),y.onDestroy(()=>{this.detachView(y.hostView),Wn(this.components,y),D?.unregisterApplication(b)}),this._loadComponent(y),Q(11,y),y})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Q(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ha.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let n=T(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,T(n),this.afterTick.next(),Q(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ht,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<zh;)Q(14),this.synchronizeOnce(),Q(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!Gn(r))continue;let o=i&&!this.zonelessEnabled?0:1;Lu(r,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Gn(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Wn(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(dd,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Wn(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new H(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Wn(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Lr(e,t,n,i){let r=U(),o=vt();if(We(r,o,t)){let s=Ce(),a=Ki();Cm(a,r,e,t,n,i)}return Lr}var k_=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Ys=class{destroy(t){}updateValue(t,n){}swap(t,n){let i=Math.min(t,n),r=Math.max(t,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(t,n){this.attach(n,this.detach(t))}};function As(e,t,n,i,r){return e===n&&Object.is(t,i)?1:Object.is(r(e,t),r(n,i))?-1:0}function Wh(e,t,n,i){let r,o,s=0,a=e.length-1,l=void 0;if(Array.isArray(t)){T(i);let u=t.length-1;for(T(null);s<=a&&s<=u;){let f=e.at(s),y=t[s],b=As(s,f,s,y,n);if(b!==0){b<0&&e.updateValue(s,y),s++;continue}let D=e.at(a),S=t[u],$=As(a,D,u,S,n);if($!==0){$<0&&e.updateValue(a,S),a--,u--;continue}let oe=n(s,f),de=n(a,D),Cn=n(s,y);if(Object.is(Cn,de)){let io=n(u,S);Object.is(io,oe)?(e.swap(s,a),e.updateValue(a,S),u--,a--):e.move(a,s),e.updateValue(s,y),s++;continue}if(r??=new Er,o??=Rc(e,s,a,n),Zs(e,r,s,Cn))e.updateValue(s,y),s++,a++;else if(o.has(Cn))r.set(oe,e.detach(s)),a--;else{let io=e.create(s,t[s]);e.attach(s,io),s++,a++}}for(;s<=u;)Nc(e,r,n,s,t[s]),s++}else if(t!=null){T(i);let u=t[Symbol.iterator]();T(null);let f=u.next();for(;!f.done&&s<=a;){let y=e.at(s),b=f.value,D=As(s,y,s,b,n);if(D!==0)D<0&&e.updateValue(s,b),s++,f=u.next();else{r??=new Er,o??=Rc(e,s,a,n);let S=n(s,b);if(Zs(e,r,s,S))e.updateValue(s,b),s++,a++,f=u.next();else if(!o.has(S))e.attach(s,e.create(s,b)),s++,a++,f=u.next();else{let $=n(s,y);r.set($,e.detach(s)),a--}}}for(;!f.done;)Nc(e,r,n,e.length,f.value),f=u.next()}for(;s<=a;)e.destroy(e.detach(a--));r?.forEach(u=>{e.destroy(u)})}function Zs(e,t,n,i){return t!==void 0&&t.has(i)?(e.attach(n,t.get(i)),t.delete(i),!0):!1}function Nc(e,t,n,i,r){if(Zs(e,t,i,n(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function Rc(e,t,n,i){let r=new Set;for(let o=t;o<=n;o++)r.add(i(o,e.at(o)));return r}var Er=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,i]of this.kvMap)if(t(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,n)}}};function x(e,t,n,i,r,o,s,a){$t("NgControlFlow");let l=U(),u=Ce(),f=Je(u.consts,o);return yr(l,u,e,t,n,i,r,f,256,s,a),Aa}function Aa(e,t,n,i,r,o,s,a){$t("NgControlFlow");let l=U(),u=Ce(),f=Je(u.consts,o);return yr(l,u,e,t,n,i,r,f,512,s,a),Aa}function M(e,t){$t("NgControlFlow");let n=U(),i=vt(),r=n[i]!==_e?n[i]:-1,o=r!==-1?Cr(n,me+r):void 0,s=0;if(We(n,i,e)){let a=T(null);try{if(o!==void 0&&$u(o,s),e!==-1){let l=me+e,u=Cr(n,l),f=ea(n[N],l),y=qu(u,f,n),b=Sr(n,f,t,{dehydratedView:y});Nr(u,b,s,Yn(f,y))}}finally{T(a)}}else if(o!==void 0){let a=Uu(o,s);a!==void 0&&(a[se]=t)}}var Ks=class{lContainer;$implicit;$index;constructor(t,n,i){this.lContainer=t,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-ne}};function De(e){return e}function ri(e,t){return t}var Js=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,i){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=i}};function Z(e,t,n,i,r,o,s,a,l,u,f,y,b){$t("NgControlFlow");let D=U(),S=Ce(),$=l!==void 0,oe=U(),de=a?s.bind(oe[Oe][se]):s,Cn=new Js($,de);oe[me+e]=Cn,yr(D,S,e+1,t,n,i,r,Je(S.consts,o),256),$&&yr(D,S,e+2,l,u,f,y,Je(S.consts,b),512)}var Xs=class extends Ys{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,i){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-ne}at(t){return this.getLView(t)[se].$implicit}attach(t,n){let i=n[tn];this.needsIndexUpdate||=t!==this.length,Nr(this.lContainer,n,t,Yn(this.templateTNode,i)),Qh(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,Yh(this.lContainer,t),Zh(this.lContainer,t)}create(t,n){let i=Vs(this.lContainer,this.templateTNode.tView.ssrId),r=Sr(this.hostLView,this.templateTNode,new Ks(this.lContainer,n,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){Ar(t[N],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[se].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[se].$index=t}getLView(t){return Kh(this.lContainer,t)}};function K(e){let t=T(null),n=Xe();try{let i=U(),r=i[N],o=i[n],s=n+1,a=Cr(i,s);if(o.liveCollection===void 0){let u=ea(r,s);o.liveCollection=new Xs(a,i,u)}else o.liveCollection.reset();let l=o.liveCollection;if(Wh(l,e,o.trackByFn,t),l.updateIndexes(),o.hasEmptyBlock){let u=vt(),f=l.length===0;if(We(i,u,f)){let y=n+2,b=Cr(i,y);if(f){let D=ea(r,y),S=qu(b,D,i),$=Sr(i,D,void 0,{dehydratedView:S});Nr(b,$,0,Yn(D,S))}else r.firstUpdatePass&&Gm(b),$u(b,0)}}}finally{T(t)}}function Cr(e,t){return e[t]}function Qh(e,t){if(e.length<=ne)return;let n=ne+t,i=e[n],r=i?i[Rt]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[st];Qp(o,r),jt.delete(i),r.detachedLeaveAnimationFns=void 0}}function Yh(e,t){if(e.length<=ne)return;let n=ne+t,i=e[n],r=i?i[Rt]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function Zh(e,t){return Kn(e,t)}function Kh(e,t){return Uu(e,t)}function ea(e,t){return $n(e,t)}function F(e,t,n){let i=U(),r=vt();if(We(i,r,t)){let o=Ce(),s=Ki();mm(s,i,e,t,i[ee],n)}return F}function ta(e,t,n,i,r){Ca(t,e,n,r?"class":"style",i)}function v(e,t,n,i){let r=U(),o=r[N],s=e+me,a=o.firstCreatePass?Yu(s,r,2,t,Em,jl(),n,i):o.data[s];if(Su(a,r,e,t,md),$i(a)){let l=r[N];Au(l,r,a),uu(l,a,r)}return i!=null&&Ea(r,a),v}function E(){let e=Ce(),t=Le(),n=Nu(t);return e.firstCreatePass&&Zu(e,n),ds(n)&&fs(),us(),n.classesWithoutHost!=null&&ip(n)&&ta(e,n,U(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&rp(n)&&ta(e,n,U(),n.stylesWithoutHost,!1),E}function ue(e,t,n,i){return v(e,t,n,i),E(),ue}function h(e,t,n,i){let r=U(),o=r[N],s=e+me,a=o.firstCreatePass?rh(s,o,2,t,n,i):o.data[s];return Su(a,r,e,t,md),i!=null&&Ea(r,a),h}function m(){let e=Le(),t=Nu(e);return ds(t)&&fs(),us(),m}function J(e,t,n,i){return h(e,t,n,i),m(),J}var md=(e,t,n,i,r)=>(Xi(!0),hu(t[ee],i,nc()));function B(){return U()}function O(e,t,n){let i=U(),r=vt();if(We(i,r,t)){let o=Ce(),s=Ki();Tu(s,i,e,t,i[ee],n)}return O}var oi="en-US";var Jh=oi;function hd(e){typeof e=="string"&&(Jh=e.toLowerCase().replace(/_/g,"-"))}function w(e,t,n){let i=U(),r=Ce(),o=Le();return Xh(r,i,i[ee],o,e,t,n),w}function k(e,t,n){let i=U(),r=Ce(),o=Le();return(o.type&3||n)&&Ku(o,r,i,n,i[ee],e,t,ar(o,i,t)),k}function Xh(e,t,n,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=ar(i,t,o),Ku(i,e,t,s,n,r,o,l)&&(a=!1)),a){let u=i.outputs?.[r],f=i.hostDirectiveOutputs?.[r];if(f&&f.length)for(let y=0;y<f.length;y+=2){let b=f[y],D=f[y+1];l??=ar(i,t,o),Mc(i,t,b,D,r,l)}if(u&&u.length)for(let y of u)l??=ar(i,t,o),Mc(i,t,y,r,r,l)}}function g(e=1){return tc(e)}function fe(e,t,n,i){Ph(e,Sh(t,n,i))}function Te(e=1){Qi(Kl()+e)}function nr(e,t){return e<<17|t<<2}function Ut(e){return e>>17&32767}function eg(e){return(e&2)==2}function tg(e,t){return e&131071|t<<17}function na(e){return e|2}function hn(e){return(e&131068)>>2}function Ts(e,t){return e&-131069|t<<2}function ng(e){return(e&1)===1}function ia(e){return e|1}function ig(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ut(s),l=hn(s);e[i]=n;let u=!1,f;if(Array.isArray(n)){let y=n;f=y[1],(f===null||en(y,f)>0)&&(u=!0)}else f=n;if(r)if(l!==0){let b=Ut(e[a+1]);e[i+1]=nr(b,a),b!==0&&(e[b+1]=Ts(e[b+1],i)),e[a+1]=tg(e[a+1],i)}else e[i+1]=nr(a,0),a!==0&&(e[a+1]=Ts(e[a+1],i)),a=i;else e[i+1]=nr(l,0),a===0?a=i:e[l+1]=Ts(e[l+1],i),l=i;u&&(e[i+1]=na(e[i+1])),kc(e,f,i,!0),kc(e,f,i,!1),rg(t,f,e,i,o),s=nr(a,l),o?t.classBindings=s:t.styleBindings=s}function rg(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&en(o,t)>=0&&(n[i+1]=ia(n[i+1]))}function kc(e,t,n,i){let r=e[n+1],o=t===null,s=i?Ut(r):hn(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],u=e[s+1];og(l,t)&&(a=!0,e[s+1]=i?ia(u):na(u)),s=i?Ut(u):hn(u)}a&&(e[n+1]=i?na(r):ia(r))}function og(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?en(e,t)>=0:!1}var qe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sg(e){return e.substring(qe.key,qe.keyEnd)}function ag(e){return lg(e),gd(e,vd(e,0,qe.textEnd))}function gd(e,t){let n=qe.textEnd;return n===t?-1:(t=qe.keyEnd=cg(e,qe.key=t,n),vd(e,t,n))}function lg(e){qe.key=0,qe.keyEnd=0,qe.value=0,qe.valueEnd=0,qe.textEnd=e.length}function vd(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function cg(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Se(e,t,n){return yd(e,t,n,!1),Se}function re(e,t){return yd(e,t,null,!0),re}function p(e){dg(vg,ug,e,!0)}function ug(e,t){for(let n=ag(t);n>=0;n=gd(t,n))Vi(e,sg(t),!0)}function yd(e,t,n,i){let r=U(),o=Ce(),s=zi(2);if(o.firstUpdatePass&&Cd(o,e,s,i),t!==_e&&We(r,s,t)){let a=o.data[Xe()];_d(o,a,r,r[ee],e,r[s+1]=Eg(t,n),i,s)}}function dg(e,t,n,i){let r=Ce(),o=zi(2);r.firstUpdatePass&&Cd(r,null,o,i);let s=U();if(n!==_e&&We(s,o,n)){let a=r.data[Xe()];if(Dd(a,i)&&!Ed(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Ri(l,n||"")),ta(r,a,s,n,i)}else yg(r,a,s,s[ee],s[o+1],s[o+1]=gg(e,t,n),i,o)}}function Ed(e,t){return t>=e.expandoStartIndex}function Cd(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[Xe()],s=Ed(e,n);Dd(o,i)&&t===null&&!s&&(t=!1),t=fg(r,o,t,i),ig(r,o,t,n,s,i)}}function fg(e,t,n,i){let r=Zl(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Ss(null,e,t,n,i),n=ei(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=Ss(r,e,t,n,i),o===null){let l=pg(e,t,i);l!==void 0&&Array.isArray(l)&&(l=Ss(null,e,t,l[1],i),l=ei(l,t.attrs,i),mg(e,t,i,l))}else o=hg(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function pg(e,t,n){let i=n?t.classBindings:t.styleBindings;if(hn(i)!==0)return e[Ut(i)]}function mg(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Ut(r)]=i}function hg(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=ei(i,s,n)}return ei(i,t.attrs,n)}function Ss(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=ei(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function ei(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Vi(e,s,n?!0:t[++o]))}return e===void 0?null:e}function gg(e,t,n){if(n==null||n==="")return Ee;let i=[],r=xr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function vg(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Vi(e,i,n)}function yg(e,t,n,i,r,o,s,a){r===_e&&(r=Ee);let l=0,u=0,f=0<r.length?r[0]:null,y=0<o.length?o[0]:null;for(;f!==null||y!==null;){let b=l<r.length?r[l+1]:void 0,D=u<o.length?o[u+1]:void 0,S=null,$;f===y?(l+=2,u+=2,b!==D&&(S=y,$=D)):y===null||f!==null&&f<y?(l+=2,S=f):(u+=2,S=y,$=D),S!==null&&_d(e,t,n,i,S,$,s,a),f=l<r.length?r[l]:null,y=u<o.length?o[u]:null}}function _d(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,u=l[a+1],f=ng(u)?Pc(l,t,n,r,hn(u),s):void 0;if(!_r(f)){_r(o)||eg(u)&&(o=Pc(l,null,n,r,a,s));let y=rs(Xe(),n);cm(i,s,y,r,o)}}function Pc(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],u=Array.isArray(l),f=u?l[1]:l,y=f===null,b=n[r+1];b===_e&&(b=y?Ee:void 0);let D=y?Bi(b,i):f===i?b:void 0;if(u&&!_r(D)&&(D=Bi(l,i)),_r(D)&&(a=D,s))return a;let S=e[r+1];r=s?Ut(S):hn(S)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Bi(l,i))}return a}function _r(e){return e!==void 0}function Eg(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=dt(xr(e)))),e}function Dd(e,t){return(e.flags&(t?8:16))!==0}function d(e,t=""){let n=U(),i=Ce(),r=e+me,o=i.firstCreatePass?Rr(i,r,1,t,null):i.data[r],s=Cg(i,n,o,t,e);n[r]=s,Ji()&&va(i,n,s,o),an(o,!1)}var Cg=(e,t,n,i,r)=>(Xi(!0),jp(t[ee],i));function _g(e,t,n,i=""){return We(e,vt(),n)?t+mt(n)+i:_e}function Dg(e,t,n,i,r,o=""){let s=ql(),a=ah(e,s,n,r);return zi(2),a?t+mt(n)+i+mt(r)+o:_e}function W(e){return j("",e),W}function j(e,t,n){let i=U(),r=_g(i,e,t,n);return r!==_e&&bd(i,Xe(),r),j}function En(e,t,n,i,r){let o=U(),s=Dg(o,e,t,n,i,r);return s!==_e&&bd(o,Xe(),s),En}function bd(e,t,n){let i=rs(t,e);Hp(e[ee],i,n)}function Vr(e){return We(U(),vt(),e)?mt(e):_e}function Et(e,t,n){let i=Gl()+e,r=U();return r[i]===_e?oh(r,i,n?t.call(n):t()):sh(r,i)}var Id=(()=>{class e{applicationErrorHandler=L(cn);appRef=L(Fr);taskService=L(ln);ngZone=L(Re);zonelessEnabled=L(qn);tracing=L(ni,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ye;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Rn):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(bs,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Es:ys;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Rn+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(n),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Es(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ta(){return $t("NgZoneless"),Vn([...Sa(),[]])}function Sa(){return[{provide:xt,useExisting:Id},{provide:Re,useClass:kn},{provide:qn,useValue:!0}]}function bg(){return typeof $localize<"u"&&$localize.locale||oi}var Na=new G("",{factory:()=>L(Na,{optional:!0,skipSelf:!0})||bg()});var Br=class{destroyed=!1;listeners=null;errorHandler=L(je,{optional:!0});destroyRef=L(Vt);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new H(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let n=this.listeners?.indexOf(t);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed){console.warn(Pn(953,!1));return}if(this.listeners===null)return;let n=T(null);try{for(let i of this.listeners)try{i(t)}catch(r){this.errorHandler?.handleError(r)}}finally{T(n)}}};function Y(e,t){return In(e,t?.equal)}var Md=Symbol("InputSignalNode#UNSET"),kg=R(A({},yi),{transformFn:void 0,applyValueToInputSignal(e,t){wn(e,t)}});function Ad(e,t){let n=Object.create(kg);n.value=e,n.transformFn=t?.transform;function i(){if(_n(n),n.value===Md){let r=null;throw new H(-950,r)}return n.value}return i[ve]=n,i}function Ie(e){return new Br}function wd(e,t){return Ad(e,t)}function Pg(e){return Ad(Md,e)}var te=(wd.required=Pg,wd);function xd(e,t){return sd(t)}function Og(e,t){return ad(t)}var he=(xd.required=Og,xd);var Ra=new G(""),Fg=new G("");function si(e){return!e.moduleRef}function Lg(e){let t=si(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Re);return n.run(()=>{si(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(cn),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:i})}),si(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Ra);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ra);s.add(o),e.moduleRef.onDestroy(()=>{Wn(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return Bg(i,n,()=>{let o=t.get(ln),s=o.add(),a=t.get(Ma);return a.runInitializers(),a.donePromise.then(()=>{let l=t.get(Na,oi);if(hd(l||oi),!t.get(Fg,!0))return si(e)?t.get(Fr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(si(e)){let f=t.get(Fr);return e.rootComponent!==void 0&&f.bootstrap(e.rootComponent),f}else return Vg?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var Vg;function Bg(e,t,n){try{let i=n();return xa(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e(i)),i}}var jr=null;function jg(e=[],t){return ot.create({name:t,providers:[{provide:Bn,useValue:"platform"},{provide:Ra,useValue:new Set([()=>jr=null])},...e]})}function Hg(e=[]){if(jr)return jr;let t=jg(e);return jr=t,fd(),Ug(t),t}function Ug(e){let t=e.get(Ir,null);ji(e,()=>{t?.forEach(n=>n())})}function Td(e){let{rootComponent:t,appProviders:n,platformProviders:i,platformRef:r}=e;Q(8);try{let o=r?.injector??Hg(i),s=[Sa(),ac,...n||[]],a=new Xn({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Lg({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{Q(9)}}var Sd=null;function li(){return Sd}function ka(e){Sd??=e}var ai=class{};var pe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Or({type:e});static \u0275inj=On({})}return e})();function Pa(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var ci=class{};var Nd="browser";var ui=class{_doc;constructor(t){this._doc=t}manager},Hr=(()=>{class e extends ui{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(q(lt))};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})(),Gr=new G(""),Va=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(s=>{s.manager=this});let r=n.filter(s=>!(s instanceof Hr));this._plugins=r.slice().reverse();let o=n.find(s=>s instanceof Hr);o&&this._plugins.push(o)}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||e)(q(Gr),q(Re))};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})(),Oa="ng-app-id";function Rd(e){for(let t of e)t.remove()}function kd(e,t){let n=t.createElement("style");return n.textContent=e,n}function Gg(e,t,n,i){let r=e.head?.querySelectorAll(`style[${Oa}="${t}"],link[${Oa}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Oa),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function La(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Ba=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,Gg(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,kd);i?.forEach(r=>this.addUsage(r,this.external,La))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(Rd(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Rd(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,kd(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,La(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),n.appendChild(i)}static \u0275fac=function(i){return new(i||e)(q(lt),q(br),q(wr,8),q(ti))};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})(),Fa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ja=/%COMP%/g;var Od="%COMP%",qg=`_nghost-${Od}`,zg=`_ngcontent-${Od}`,Wg=!0,Qg=new G("",{factory:()=>Wg});function Yg(e){return zg.replace(ja,e)}function Zg(e){return qg.replace(ja,e)}function Fd(e,t){return t.map(n=>n.replace(ja,e))}var Ha=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,l=null,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new di(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,i);return r instanceof $r?r.applyToHost(n):r instanceof fi&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,y=this.platformIsServer,b=this.tracingService;switch(i.encapsulation){case ze.Emulated:o=new $r(l,u,i,this.appId,f,s,a,y,b);break;case ze.ShadowDom:return new Ur(l,n,i,s,a,this.nonce,y,b,u);case ze.ExperimentalIsolatedShadowDom:return new Ur(l,n,i,s,a,this.nonce,y,b);default:o=new fi(l,u,i,f,s,a,y,b);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||e)(q(Va),q(Ba),q(br),q(Qg),q(lt),q(Re),q(wr),q(ni,8))};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})(),di=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,i,r,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Fa[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Pd(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(Pd(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new H(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=Fa[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=Fa[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(ct.DashCase|ct.Important)?t.style.setProperty(n,i,r&ct.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&ct.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i,r){if(typeof t=="string"&&(t=li().getGlobalEventTarget(this.doc,t),!t))throw new H(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,r)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Pd(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ur=class extends di{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,i,r,o,s,a,l,u){super(t,r,o,a,l),this.hostEl=n,this.sharedStylesHost=u,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=Fd(i.id,f);for(let b of f){let D=document.createElement("style");s&&D.setAttribute("nonce",s),D.textContent=b,this.shadowRoot.appendChild(D)}let y=i.getExternalStyles?.();if(y)for(let b of y){let D=La(b,r);s&&D.setAttribute("nonce",s),this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},fi=class extends di{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,i,r,o,s,a,l,u){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let f=i.styles;this.styles=u?Fd(u,f):f,this.styleUrls=i.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&jt.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},$r=class extends fi{contentAttr;hostAttr;constructor(t,n,i,r,o,s,a,l,u){let f=r+"-"+i.id;super(t,n,i,o,s,a,l,u,f),this.contentAttr=Yg(f),this.hostAttr=Zg(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}};var qr=class e extends ai{supportsDOMEvents=!0;static makeCurrent(){ka(new e)}onAndCancel(t,n,i,r){return t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=Kg();return n==null?null:Jg(n)}resetBaseElement(){pi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Pa(document.cookie,t)}},pi=null;function Kg(){return pi=pi||document.head.querySelector("base"),pi?pi.getAttribute("href"):null}function Jg(e){return new URL(e,document.baseURI).pathname}var Xg=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})(),Ld=["alt","control","meta","shift"],ev={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tv={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Vd=(()=>{class e extends ui{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>li().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Ld.forEach(u=>{let f=i.indexOf(u);f>-1&&(i.splice(f,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=ev[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Ld.forEach(s=>{if(s!==r){let a=tv[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||e)(q(lt))};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})();function Ua(e,t,n){let i=A({rootComponent:e,platformRef:n?.platformRef},nv(t));return Td(i)}function nv(e){return{appProviders:[...av,...e?.providers??[]],platformProviders:sv}}function iv(){qr.makeCurrent()}function rv(){return new je}function ov(){return aa(document),document}var sv=[{provide:ti,useValue:Nd},{provide:Ir,useValue:iv,multi:!0},{provide:lt,useFactory:ov}];var av=[{provide:Bn,useValue:"root"},{provide:je,useFactory:rv},{provide:Gr,useClass:Hr,multi:!0},{provide:Gr,useClass:Vd,multi:!0},Ha,Ba,Va,{provide:Ht,useExisting:Ha},{provide:ci,useClass:Xg},[]];function lv(e,t){if(e&1){let n=B();h(0,"div",8)(1,"input",16),k("input",function(r){let o=C(n).$index,s=g();return _(s.onEqBandChange(o,r))}),m(),h(2,"span",17),d(3),m()()}if(e&2){let n=t.$implicit,i=g();c(),Se("--thumb-bg","var(--color-"+i.theme().primary+"-400)")("--track-bg","var(--color-"+i.theme().primary+"-950)")("--thumb-border","var(--color-"+i.theme().primary+"-900)"),O("value",n.value),c(2),W(n.label)}}var zr=class e{constructor(){this.eqSettings=te.required();this.enhancements=te.required();this.theme=te.required();this.close=Ie();this.eqChange=Ie();this.enhancementsChange=Ie()}onEqBandChange(t,n){let i=parseInt(n.target.value,10),r=this.eqSettings().map((o,s)=>s===t?R(A({},o),{value:i}):o);this.eqChange.emit(r)}onEnhancementToggle(t,n){let i=n.target.checked,r=R(A({},this.enhancements()),{[t]:i});this.enhancementsChange.emit(r)}onClose(){this.close.emit()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ce({type:e,selectors:[["app-eq-panel"]],inputs:{eqSettings:[1,"eqSettings"],enhancements:[1,"enhancements"],theme:[1,"theme"]},outputs:{close:"close",eqChange:"eqChange",enhancementsChange:"enhancementsChange"},decls:37,vars:16,consts:[[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-4","w-auto","max-w-md","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"mb-4"],[1,"text-sm","mb-2"],[1,"flex","justify-around","items-end","h-48","bg-black/50","p-4"],[1,"flex","flex-col","items-center"],[1,"space-y-2"],[1,"flex","items-center","justify-between","p-2","bg-black/50","cursor-pointer"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"change","checked"],[1,"w-9","h-5","border","flex","items-center","justify-center","text-xs","peer-checked:text-black"],[1,"peer-checked:hidden"],[1,"hidden","peer-checked:inline"],["type","range","min","0","max","100",1,"slider","vertical-slider",3,"input","value"],[1,"text-xs","text-green-400/60","mt-2"]],template:function(n,i){n&1&&(h(0,"div",0),k("click",function(){return i.onClose()}),m(),h(1,"div",1)(2,"div",2)(3,"h2",3),d(4,"[[ Equalizer & Enhancements ]]"),m(),h(5,"button",4),k("click",function(){return i.onClose()}),d(6," [X] "),m()(),h(7,"div",5)(8,"h3",6),d(9,"// Graphic EQ"),m(),h(10,"div",7),Z(11,lv,4,8,"div",8,De),m()(),h(13,"div")(14,"h3",6),d(15,"// Enhancements"),m(),h(16,"div",9)(17,"label",10)(18,"span"),d(19,"Bass Boost"),m(),h(20,"div",11)(21,"input",12),k("change",function(o){return i.onEnhancementToggle("bassBoost",o)}),m(),h(22,"div",13)(23,"span",14),d(24,"[\xA0\xA0]"),m(),h(25,"span",15),d(26,"[X]"),m()()()(),h(27,"label",10)(28,"span"),d(29,"Surround Sound (UI Only)"),m(),h(30,"div",11)(31,"input",12),k("change",function(o){return i.onEnhancementToggle("surroundSound",o)}),m(),h(32,"div",13)(33,"span",14),d(34,"[\xA0\xA0]"),m(),h(35,"span",15),d(36,"[X]"),m()()()()()()()),n&2&&(c(),p("text-"+i.theme().primary+"-400"),c(4),p("hover:bg-"+i.theme().primary+"-400"),c(5),p("border border-"+i.theme().primary+"-400/30"),c(),K(i.eqSettings()),c(6),p("border border-"+i.theme().primary+"-400/30"),c(4),O("checked",i.enhancements().bassBoost),c(),p("peer-checked:bg-"+i.theme().primary+"-400"),c(5),p("border border-"+i.theme().primary+"-400/30"),c(4),O("checked",i.enhancements().surroundSound),c(),p("peer-checked:bg-"+i.theme().primary+"-400"))},dependencies:[pe],styles:["input[type=range].vertical-slider[_ngcontent-%COMP%]{writing-mode:bt-lr;-webkit-appearance:slider-vertical;width:8px;height:120px;padding:0 5px;background-color:transparent}input[type=range].vertical-slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:var(--track-bg);width:4px;border-radius:0}input[type=range].vertical-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:8px;background:var(--thumb-bg);cursor:pointer;border:1px solid var(--thumb-border)}input[type=range].vertical-slider[_ngcontent-%COMP%]::-moz-range-track{background:var(--track-bg);width:4px;border-radius:0}input[type=range].vertical-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:8px;background:var(--thumb-bg);cursor:pointer;border:1px solid var(--thumb-border);border-radius:0}"]})}};var cv=["matrixCanvas"],Wr=class e{constructor(){this.canvasRef=he.required("matrixCanvas");this.FRAME_RATE_INTERVAL=250}ngAfterViewInit(){let t=this.canvasRef().nativeElement,n=t.getContext("2d");if(!n){console.error("Could not get 2D context");return}this.ctx=n,t.width=window.innerWidth,t.height=window.innerHeight;let i="SmuveJeffPresents",r=16,o=t.width/r,s=[];for(let u=0;u<o;u++)s[u]=1;let a=0,l=u=>{if(u-a>this.FRAME_RATE_INTERVAL){this.ctx.fillStyle="rgba(0, 0, 0, 0.05)",this.ctx.fillRect(0,0,t.width,t.height),this.ctx.fillStyle="#0F0",this.ctx.font=r+"px monospace";for(let f=0;f<s.length;f++){let y=i.charAt(Math.floor(Math.random()*i.length));this.ctx.fillText(y,f*r,s[f]*r),s[f]*r>t.height&&Math.random()>.975&&(s[f]=0),s[f]++}a=u}this.animationFrameId=requestAnimationFrame(l)};this.animationFrameId=requestAnimationFrame(l)}ngOnDestroy(){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ce({type:e,selectors:[["app-matrix-background"]],viewQuery:function(n,i){n&1&&fe(i.canvasRef,cv,5),n&2&&Te()},decls:2,vars:0,consts:[["matrixCanvas",""],[1,"absolute","top-0","left-0","w-full","h-full"]],template:function(n,i){n&1&&J(0,"canvas",1,0)},styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}"]})}};var we=class e{constructor(){this._apiKey=L($a);this._genAI=I(void 0);this._chatInstance=I(void 0);this._isAiAvailable=Y(()=>!!this._genAI());this.initializeGenAI()}get genAI(){return this._genAI()}get chatInstance(){return this._chatInstance()}get isAiAvailable(){return this._isAiAvailable()}getApiKey(){return this._apiKey}async initializeGenAI(){if(!this._apiKey||this._apiKey.length<30){console.error("AiService: AI features disabled. Invalid or missing API key injected via token."),this._genAI.set(void 0),this._chatInstance.set(void 0);return}try{let t=await import("./chunk-GUGQRGJ7.js"),n=new t.GoogleGenAI({apiKey:this._apiKey});this._genAI.set(n);let i=n.chats.create({model:"gemini-3-pro-preview",config:{systemInstruction:`You are S.M.U.V.E, an expert AI music manager toolkit. You specialize in genres such as Southern Rap, Hip-Hop, R&B, and Trap music, and possess advanced management and marketing skills. Provide concise, helpful, and culturally relevant responses tailored for independent music artists.

You can manage music, generate images/videos, analyze content, and search the web for up-to-date information.

Use COMMAND:::ACTION:::PARAMETER_KEY='value' format for app commands (e.g., COMMAND:::SET_THEME:::theme='blue'). Available commands:
- SET_THEME: Apply a visual theme (e.g., theme='blue').
- PLAY_TRACK: Play a track (e.g., title='My Song').
- PAUSE_TRACK: Pause current track.
- STOP_TRACK: Stop current track.
- LOAD_TRACK: (Requires more parameters like URL or search query, use cautiously).
- NEXT_TRACK: Play next track in playlist.
- PREVIOUS_TRACK: Play previous track in playlist.
- TOGGLE_LOOP: Toggle loop for current track.
- GENERATE_IMAGE: Create an image (e.g., prompt='album cover concept').
- GENERATE_VIDEO: Create a video (e.g., prompt='music video visualizer').
- ANALYZE_IMAGE: Describe an image (e.g., imageUrl='base64data').
- FIND_ON_MAP: Search for a location (e.g., query='recording studios in Atlanta').
- FIND_ARTISTS: Search for collaborators (e.g., location='Nashville', filter='producer').
- VIEW_ARTIST_PROFILE: Display an artist's detailed profile (e.g., name='BeatMaster Flex', genre='Hip-Hop', location='Atlanta').

When VIEW_ARTIST_PROFILE is used, expect a command containing an artist's name (and optional genre/location for disambiguation). Query your knowledge base (and implicitly, the MOCK_ARTISTS data provided in the app context) to provide an adaptive, detailed insight into their profile. This should include:
- Strengths (musicality, production, stage presence, lyrical ability etc.)
- Specific collaboration potential (e.g., "collaborate with a Memphis trap producer for a new single," "feature on an T_R&B singer's track").
- Career advice (e.g., "focus on building a strong presence on TikTok," "consider licensing your beats for video games").
- Marketing insights (e.g., "target college radio stations in the Southeast," "run Instagram ad campaigns geotargeted to your city").

If you need to search for up-to-date info, use the googleSearch tool. Adapt insights based on their genre, location, influences, and collaboration interests. Your responses should be direct and highly actionable, reflecting deep expertise in these specific music genres and industry practices.`}});this._chatInstance.set(i),console.log("AiService: GoogleGenAI client initialized and chat instance created.")}catch(t){console.error("AiService: Error initializing GoogleGenAI client:",t),this._genAI.set(void 0),this._chatInstance.set(void 0)}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}},Bd=()=>Vn([{provide:we,useClass:we}]);var uv=(e,t)=>t.id,dv=(e,t)=>t.url;function fv(e,t){if(e&1&&(h(0,"div",2),d(1),m()),e&2){let n=g();c(),j(" ",n.errorMessage()," ")}}function pv(e,t){e&1&&(h(0,"div",3),d(1," AI services are disabled. Networking search features might be limited. "),m())}function mv(e,t){e&1&&(h(0,"span"),d(1,"[ SEARCHING... ]"),m())}function hv(e,t){e&1&&(h(0,"span"),d(1,"[ FIND ARTISTS ]"),m())}function gv(e,t){if(e&1){let n=B();h(0,"div",31),k("click",function(){let r=C(n).$implicit,o=g();return _(o.viewArtistDetail(r))}),J(1,"img",32),h(2,"div",33)(3,"h4",34),d(4),m(),h(5,"p",35),d(6),m(),h(7,"p",36),d(8),m(),h(9,"p",36),d(10),m()(),Lt(),h(11,"svg",37),J(12,"path",38),m()()}if(e&2){let n=t.$implicit,i=g();p("hover:bg-"+i.theme().blue+"-800/70"),c(),p("border-"+i.theme().neutral+"-600"),O("alt",Vr(n.name))("src",n.imageUrl,ie),c(2),p("text-"+i.theme().blue+"-300"),c(),W(n.name),c(),p("text-"+i.theme().neutral+"-400"),c(),En("",n.genre," - ",n.location),c(2),j("",n.bio.substring(0,70),"..."),c(),p("text-"+i.theme().blue+"-500"),c(),j("Interest: ",n.collaborationInterest.join(", ")),c(),p("text-"+i.theme().blue+"-400")}}function vv(e,t){if(e&1&&(h(0,"p",39),d(1,"No artists found. Adjust your search or clear filters."),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-500")}}function yv(e,t){if(e&1&&(h(0,"p",35)(1,"strong"),d(2,"Specialties:"),m(),d(3),m()),e&2){let n=g(2);p("text-"+n.theme().neutral+"-400"),c(3),j(" ",n.selectedArtistProfile().specialties.join(", "))}}function Ev(e,t){if(e&1&&(h(0,"p",35)(1,"strong"),d(2,"Target Audience:"),m(),d(3),m()),e&2){let n=g(2);p("text-"+n.theme().neutral+"-400"),c(3),j(" ",n.selectedArtistProfile().targetAudience)}}function Cv(e,t){if(e&1&&(h(0,"p",35)(1,"strong"),d(2,"Career Goals:"),m(),d(3),m()),e&2){let n=g(2);p("text-"+n.theme().neutral+"-400"),c(3),j(" ",n.selectedArtistProfile().careerGoals)}}function _v(e,t){if(e&1&&(h(0,"a",55),d(1),m()),e&2){let n=t.$implicit,i=g(2);p("hover:text-"+i.theme().blue+"-300"),O("href",n.url,ie),c(),En(" ",n.type.toUpperCase(),": ",n.url," ")}}function Dv(e,t){if(e&1&&(h(0,"p",54),d(1,"No links available."),m()),e&2){let n=g(2);p("text-"+n.theme().neutral+"-500")}}function bv(e,t){if(e&1){let n=B();h(0,"div",40),k("click",function(){C(n);let r=g();return _(r.closeArtistDetailModal())}),m(),h(1,"div",41)(2,"div",42)(3,"h2",34),d(4),m(),h(5,"button",43),k("click",function(){C(n);let r=g();return _(r.closeArtistDetailModal())}),d(6," [X] "),m()(),h(7,"div",44),J(8,"img",45),h(9,"div",46)(10,"p",35)(11,"strong"),d(12,"Genre:"),m(),d(13),m(),h(14,"p",35)(15,"strong"),d(16,"Location:"),m(),d(17),m(),h(18,"p",35)(19,"strong"),d(20,"Collaboration Interest:"),m(),d(21),m(),h(22,"p",35)(23,"strong"),d(24,"Influences:"),m(),d(25),m(),x(26,yv,4,3,"p",47),x(27,Ev,4,3,"p",47),x(28,Cv,4,3,"p",47),m()(),h(29,"div",48)(30,"p",49),d(31),m(),h(32,"h3",35),d(33,"// LINKS:"),m(),h(34,"div",50),Z(35,_v,2,5,"a",51,dv,!1,Dv,2,2,"p",52),m(),h(38,"h3",53),d(39,"// CONTACT:"),m(),h(40,"p",54),d(41),m()()()}if(e&2){let n=g();c(),p("text-"+n.theme().blue+"-400"),c(3),j("[[ ARTIST PROFILE: ",n.selectedArtistProfile().name," ]]"),c(),p("hover:bg-"+n.theme().blue+"-400"),c(3),p("border-"+n.theme().neutral+"-600"),O("alt",Vr(n.selectedArtistProfile().name))("src",n.selectedArtistProfile().imageUrl,ie),c(2),p("text-"+n.theme().neutral+"-400"),c(3),En(" ",n.selectedArtistProfile().genre," (",n.selectedArtistProfile().genres.join(", "),")"),c(),p("text-"+n.theme().neutral+"-400"),c(3),j(" ",n.selectedArtistProfile().location),c(),p("text-"+n.theme().blue+"-500"),c(3),j(" ",n.selectedArtistProfile().collaborationInterest.join(", ")),c(),p("text-"+n.theme().neutral+"-500"),c(3),j(" ",n.selectedArtistProfile().influences.join(", ")),c(),M(n.selectedArtistProfile().specialties?26:-1),c(),M(n.selectedArtistProfile().targetAudience?27:-1),c(),M(n.selectedArtistProfile().careerGoals?28:-1),c(),p("border-"+n.theme().blue+"-500/30"),c(2),W(n.selectedArtistProfile().bio),c(),p("text-"+n.theme().blue+"-300"),c(3),K(n.selectedArtistProfile().links),c(3),p("text-"+n.theme().blue+"-300"),c(2),p("text-"+n.theme().neutral+"-400"),c(),W(n.selectedArtistProfile().contact)}}var tt=[{id:"flex101",name:"BeatMaster Flex",genre:"Hip-Hop Producer",location:"Brooklyn, NY",locationLatLon:{lat:40.6782,lon:-73.9442},bio:"Award-winning producer with a knack for soulful beats and hard-hitting drums. Always looking for fresh vocalists and lyricists to elevate tracks. Specializing in old-school boom-bap and modern trap sounds.",contact:"flexbeats@email.com",imageUrl:"https://picsum.photos/seed/flex/150/150",collaborationInterest:["Vocalist","Lyricist","Rapper","Mixing Engineer"],genres:["Hip-Hop","Boom-Bap","Trap","Southern Rap"],influences:["J Dilla","DJ Premier","Madlib","Metro Boomin"],links:[{type:"soundcloud",url:"https://soundcloud.com/beatmasterflex"}],specialties:["Sampling","Drum Programming","Arrangement"],targetAudience:"Underground Hip-Hop, Trap, and R&B fans",careerGoals:"Produce a platinum album, mentor new artists"},{id:"mae202",name:"Melody Mae",genre:"Indie Pop Vocalist",location:"Los Angeles, CA",locationLatLon:{lat:34.0522,lon:-118.2437},bio:"Ethereal vocals with a dreamy vibe. Seeking producers for new tracks and live musicians for touring. Inspired by nature and introspection.",contact:"melodymae@email.com",imageUrl:"https://picsum.photos/seed/mae/150/150",collaborationInterest:["Producer","Guitarist","Songwriter","Keyboardist"],genres:["Indie Pop","Dream Pop","Alternative","R&B"],influences:["Fiona Apple","Lana Del Rey","Mazzy Star","SZA"],links:[{type:"spotify",url:"https://open.spotify.com/artist/melodymae"},{type:"instagram",url:"https://instagram.com/melodymae"}],specialties:["Vocal Harmony","Lyric Writing","Live Performance"],targetAudience:"Indie Pop, Dream Pop, and soulful R&B listeners",careerGoals:"Release a critically acclaimed album, headline festivals"},{id:"sammy303",name:"Synthwave Sammy",genre:"Electronic / Synthwave",location:"Miami, FL",locationLatLon:{lat:25.7617,lon:-80.1918},bio:"Master of retro synths and driving basslines, creating nostalgic soundscapes. Open to scoring short films, collaborating with vocalists, or DJing events.",contact:"sammywave@email.com",imageUrl:"https://picsum.photos/seed/sammy/150/150",collaborationInterest:["Vocalist","Filmmaker","DJ","Sound Designer"],genres:["Synthwave","Electronic","Vaporwave"],influences:["Com Truise","Kavinsky","Daft Punk"],links:[{type:"soundcloud",url:"https://soundcloud.com/synthwavesammy"},{type:"website",url:"https://synthwavesammy.com"}]},{id:"jake404",name:"Jazz Fusion Jake",genre:"Jazz / Fusion Guitarist",location:"New Orleans, LA",locationLatLon:{lat:29.9511,lon:-90.0715},bio:"Complex harmonies and intricate solos define my style. Looking for drummers, bassists, and horn players for a new progressive jazz project.",contact:"jakejazz@email.com",imageUrl:"https://picsum.photos/seed/jake/150/150",collaborationInterest:["Drummer","Bassist","Saxophonist","Keyboardist"],genres:["Jazz Fusion","Progressive Jazz","Funk"],influences:["Pat Metheny","John Scofield","Frank Gambale"],links:[{type:"spotify",url:"https://open.spotify.com/artist/jazzfusionjake"}]},{id:"rina505",name:"Rhythm Queen Rina",genre:"Afrobeat Drummer",location:"London, UK",locationLatLon:{lat:51.5074,lon:.1278},bio:"High-energy percussionist bringing vibrant global rhythms to any track. Collaborations in world music, hip-hop, or pop welcome. Specializing in intricate polyrhythms.",contact:"rina.drums@email.com",imageUrl:"https://picsum.photos/seed/rina/150/150",collaborationInterest:["Producer","Bassist","Vocalist","Guitarist"],genres:["Afrobeat","World Music","Funk","Hip-Hop"],influences:["Tony Allen","Fela Kuti","Ginger Baker"],links:[{type:"instagram",url:"https://instagram.com/rhythmqueenrina"}]},{id:"keys606",name:"Electro Keys Eva",genre:"Electronic Keyboardist",location:"Berlin, DE",locationLatLon:{lat:52.52,lon:13.405},bio:"Versatile keyboardist exploring ambient, techno, and house. Seeking DJs, producers, and experimental vocalists for live and studio projects.",contact:"eva.keys@email.com",imageUrl:"https://picsum.photos/seed/eva/150/150",collaborationInterest:["Producer","DJ","Vocalist","Sound Designer"],genres:["Techno","House","Ambient","Electronic"],influences:["Kraftwerk","Aphex Twin","Four Tet"],links:[{type:"soundcloud",url:"https://soundcloud.com/electrokeys"}]},{id:"rhyme707",name:"Poetic Rhyme Rex",genre:"Spoken Word / Hip-Hop",location:"Chicago, IL",locationLatLon:{lat:41.8781,lon:-87.6298},bio:"Lyricist and spoken word artist with a powerful message. Collaborations with producers across genres, from jazz to trap.",contact:"rexrhymes@email.com",imageUrl:"https://picsum.photos/seed/rex/150/150",collaborationInterest:["Producer","Vocalist","Jazz Musician"],genres:["Spoken Word","Hip-Hop","Poetry","Trap"],influences:["Gil Scott-Heron","Kendrick Lamar","Saul Williams","J. Cole"],links:[{type:"instagram",url:"https://instagram.com/poeticrex"}],specialties:["Freestyle","Storytelling","Performance Art"],targetAudience:"Conscious Hip-Hop and Spoken Word enthusiasts",careerGoals:"Release a conceptual album, perform at major poetry slams"},{id:"south808",name:"Southern Siren Sia",genre:"R&B / Trap Soul Vocalist",location:"Atlanta, GA",locationLatLon:{lat:33.7488,lon:-84.3877},bio:"Sultry vocals blending R&B smoothness with trap grit. Collaborating with producers for new EPs and visual artists for music videos. Deeply inspired by Atlanta's vibrant music scene.",contact:"siasounds@email.com",imageUrl:"https://picsum.photos/seed/sia/150/150",collaborationInterest:["Producer","Beatmaker","Video Director","Songwriter"],genres:["R&B","Trap Soul","Neo-Soul","Southern Rap"],influences:["Summer Walker","SZA","Future","Jhen\xE9 Aiko"],links:[{type:"instagram",url:"https://instagram.com/southernsirensia"},{type:"spotify",url:"https://open.spotify.com/artist/southernsirensia"}],specialties:["Vocal production","Ad-libs","Melody creation"],targetAudience:"R&B and Trap music listeners, especially in the South",careerGoals:"Build a strong brand, perform at A3C, release a full-length album"},{id:"beatrix909",name:"Beatrix B",genre:"Trap Producer",location:"Houston, TX",locationLatLon:{lat:29.7604,lon:-95.3698},bio:"Hard-hitting trap beats with cinematic undertones. Always on the lookout for new vocalists, especially those in Southern Rap and R&B, for joint projects. Ready to drop bangers.",contact:"beatrixb@email.com",imageUrl:"https://picsum.photos/seed/beatrix/150/150",collaborationInterest:["Vocalist","Rapper","Mixing Engineer","Songwriter"],genres:["Trap","Southern Rap","Hip-Hop"],influences:["Zaytoven","Cardo","Tay Keith"],links:[{type:"soundcloud",url:"https://soundcloud.com/beatrixb"}],specialties:["Beatmaking","Sound Design","Mixing"],targetAudience:"Trap and Southern Hip-Hop fans",careerGoals:"Secure major placements, build a production team"},{id:"soulful1010",name:"Soulful Sam",genre:"Neo-Soul / R&B Producer",location:"New Orleans, LA",locationLatLon:{lat:29.9511,lon:-90.0715},bio:"Crafting lush, soulful soundscapes with a modern twist. Seeking R&B and Neo-Soul vocalists, instrumentalists (especially horns and strings), for studio and live collaborations.",contact:"soulfulsam@email.com",imageUrl:"https://picsum.photos/seed/sam/150/150",collaborationInterest:["Vocalist","Instrumentalist","Songwriter","Mixing Engineer"],genres:["Neo-Soul","R&B","Jazz","Funk"],influences:["D'Angelo","Erykah Badu","Robert Glasper"],links:[{type:"spotify",url:"https://open.spotify.com/artist/soulfulsam"}],specialties:["Arrangement","Keys","Live instrumentation recording"],targetAudience:"Neo-Soul, R&B, and Jazz fusion listeners",careerGoals:"Release collaborative EPs, perform at jazz/soul festivals"}],Qr=class e{constructor(){this.theme=te.required();this.initialSearchQuery=te(null);this.searchLocation=I("");this.collaborationFilter=I("");this.displayedArtists=I([]);this.isLoading=I(!1);this.errorMessage=I(null);this.selectedArtistProfile=I(null);this.showArtistDetailModal=I(!1);this.aiService=L(we);this.isAiAvailable=Y(()=>this.aiService.isAiAvailable);this.artistProfileSelected=Ie();ae(()=>{let t=this.initialSearchQuery();t&&t!==this.searchLocation()&&(this.searchLocation.set(t),this.searchArtists())}),this.displayedArtists.set(tt),ae(()=>{this.selectedArtistProfile()?this.showArtistDetailModal.set(!0):this.showArtistDetailModal.set(!1)})}onSearchLocationInput(t){this.searchLocation.set(t.target.value)}onCollaborationFilterInput(t){this.collaborationFilter.set(t.target.value)}async searchArtists(){let t=this.searchLocation().trim(),n=this.collaborationFilter().trim();if(this.isLoading.set(!0),this.errorMessage.set(null),this.displayedArtists.set([]),!this.aiService.isAiAvailable){console.warn("AI services unavailable for networking search enhancement. Falling back to basic filter.");let i=tt.filter(r=>{let o=!t||r.location.toLowerCase().includes(t.toLowerCase()),s=!n||r.collaborationInterest.some(a=>a.toLowerCase().includes(n.toLowerCase()));return o&&s});this.displayedArtists.set(i),i.length===0&&this.errorMessage.set("No artists found matching your criteria with basic filter."),this.isLoading.set(!1);return}try{let i=`You are an expert music industry scout specializing in Southern Rap, Hip-Hop, R&B, and Trap music genres, with advanced management and marketing skills. Given the following artists' profiles (as JSON array):

${JSON.stringify(tt)}

Find artists who match the location "${t}" (if provided, prioritize this) and are interested in collaborations that include "${n}" (if provided, prioritize this). Consider their primary genre, influences, and bio for a holistic match. Provide the IDs of the top matching artists in a JSON array: {"matchingArtistIds": ["id1", "id2"]}. If no artists match, return an empty array.`,r=await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:"OBJECT",properties:{matchingArtistIds:{type:"ARRAY",items:{type:"STRING"}}},propertyOrdering:["matchingArtistIds"]}}}),s=JSON.parse(r.text).matchingArtistIds||[],a=tt.filter(l=>s.includes(l.id));this.displayedArtists.set(a),a.length===0&&this.errorMessage.set("AI found no artists matching your criteria. Try different terms.")}catch(i){console.error("AI failed to enhance networking search:",i),this.errorMessage.set("AI search enhancement failed. Falling back to basic filter.");let r=tt.filter(o=>{let s=!t||o.location.toLowerCase().includes(t.toLowerCase()),a=!n||o.collaborationInterest.some(l=>l.toLowerCase().includes(n.toLowerCase()));return s&&a});this.displayedArtists.set(r),r.length===0&&this.errorMessage.set("No artists found matching your criteria with basic filter.")}finally{this.isLoading.set(!1)}}clearSearch(){this.searchLocation.set(""),this.collaborationFilter.set(""),this.displayedArtists.set(tt),this.errorMessage.set(null)}viewArtistDetail(t){this.selectedArtistProfile.set(t),this.artistProfileSelected.emit(t)}closeArtistDetailModal(){this.selectedArtistProfile.set(null)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ce({type:e,selectors:[["app-networking"]],inputs:{theme:[1,"theme"],initialSearchQuery:[1,"initialSearchQuery"]},outputs:{artistProfileSelected:"artistProfileSelected"},decls:55,vars:40,consts:[[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"bg-red-900/50","text-red-300","p-3","text-center","border","border-red-500","animate-fade-in"],[1,"bg-amber-900/50","text-amber-300","p-3","text-center","border","border-amber-500","animate-fade-in"],[1,"p-4","flex","flex-col","sm:flex-row","gap-4"],[1,"flex-grow","flex","flex-col","gap-2"],["for","location-search",1,"block","text-sm"],["id","location-search","type","text","placeholder","e.g., 'Los Angeles, CA' or 'London, UK'",1,"w-full","p-2","text-sm","focus:ring-500",3,"input","value","disabled"],["for","collaboration-filter",1,"block","text-sm"],["id","collaboration-filter",1,"w-full","p-2","text-sm","focus:ring-500",3,"change","value","disabled"],["value",""],["value","Vocalist"],["value","Producer"],["value","Lyricist"],["value","Guitarist"],["value","Drummer"],["value","Bassist"],["value","DJ"],["value","Songwriter"],["value","Filmmaker"],["value","Mixing Engineer"],["value","Keyboardist"],["value","Saxophonist"],["value","Sound Designer"],[1,"flex","gap-2","justify-center"],[1,"flex-grow","px-4","py-2","border-2","text-lg","max-w-sm",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg","max-w-sm",3,"click"],[1,"text-base","mt-4"],[1,"flex-grow","overflow-y-auto","pr-2","space-y-4","p-2"],[1,"flex","items-center","gap-4","p-4","cursor-pointer","transition-colors","duration-200",3,"class"],[1,"text-center","text-sm","p-4",3,"class"],[1,"flex","items-center","gap-4","p-4","cursor-pointer","transition-colors","duration-200",3,"click"],[1,"w-20","h-20","object-cover","border",3,"src","alt"],[1,"flex-grow"],[1,"text-lg"],[1,"text-sm"],[1,"text-xs","mt-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"text-center","text-sm","p-4"],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-lg","flex","flex-col","z-50","animate-slide-up","font-mono","max-h-[90vh]","overflow-hidden"],[1,"flex","justify-between","items-center","mb-4"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"flex","flex-col","sm:flex-row","gap-4","mb-4","flex-shrink-0"],[1,"w-32","h-32","object-cover","border","flex-shrink-0",3,"src","alt"],[1,"flex-grow","space-y-1"],[1,"text-sm",3,"class"],[1,"flex-grow","overflow-y-auto","pr-2","text-sm","border-t","pt-4"],[1,"mb-4"],[1,"space-y-1"],["target","_blank","rel","noopener noreferrer",1,"block","text-xs","underline",3,"href","class"],[1,"text-xs",3,"class"],[1,"text-sm","mt-4"],[1,"text-xs"],["target","_blank","rel","noopener noreferrer",1,"block","text-xs","underline",3,"href"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"h2",1),d(2,"[ AURA NETWORKING HUB ]"),m(),x(3,fv,2,1,"div",2),x(4,pv,2,0,"div",3),h(5,"div",4)(6,"div",5)(7,"label",6),d(8,"SEARCH LOCATION:"),m(),h(9,"input",7),k("input",function(o){return i.onSearchLocationInput(o)}),m()(),h(10,"div",5)(11,"label",8),d(12,"COLLABORATION INTEREST:"),m(),h(13,"select",9),k("change",function(o){return i.onCollaborationFilterInput(o)}),h(14,"option",10),d(15,"Any"),m(),h(16,"option",11),d(17,"Vocalist"),m(),h(18,"option",12),d(19,"Producer"),m(),h(20,"option",13),d(21,"Lyricist"),m(),h(22,"option",14),d(23,"Guitarist"),m(),h(24,"option",15),d(25,"Drummer"),m(),h(26,"option",16),d(27,"Bassist"),m(),h(28,"option",17),d(29,"DJ"),m(),h(30,"option",18),d(31,"Songwriter"),m(),h(32,"option",19),d(33,"Filmmaker"),m(),h(34,"option",20),d(35,"Mixing Engineer"),m(),h(36,"option",21),d(37,"Keyboardist"),m(),h(38,"option",22),d(39,"Saxophonist"),m(),h(40,"option",23),d(41,"Sound Designer"),m()()()(),h(42,"div",24)(43,"button",25),k("click",function(){return i.searchArtists()}),x(44,mv,2,0,"span")(45,hv,2,0,"span"),m(),h(46,"button",26),k("click",function(){return i.clearSearch()}),d(47," [ CLEAR ] "),m()(),h(48,"h3",27),d(49,"// COLLABORATORS FOUND:"),m(),h(50,"div",28),Z(51,gv,13,20,"div",29,uv,!1,vv,2,2,"p",30),m()(),x(54,bv,42,37)),n&2&&(p("border border-"+i.theme().blue+"-500/30"),c(),p("text-"+i.theme().blue+"-400"),c(2),M(i.errorMessage()?3:-1),c(),M(i.isAiAvailable()?-1:4),c(),p("border border-"+i.theme().blue+"-500/20"),c(2),p("text-"+i.theme().blue+"-300"),c(2),p("focus:border-"+i.theme().blue+"-500"),O("value",i.searchLocation())("disabled",i.isLoading()),c(2),p("text-"+i.theme().blue+"-300"),c(2),p("focus:border-"+i.theme().blue+"-500"),O("value",i.collaborationFilter())("disabled",i.isLoading()),c(30),p("hover:text-black"),O("disabled",i.isLoading()),c(),M(i.isLoading()?44:45),c(2),p("hover:text-black"),c(2),p("text-"+i.theme().blue+"-300"),c(2),p("border border-"+i.theme().blue+"-500/20"),Se("--chat-history-track-bg","var(--color-"+i.theme().blue+"-950)")("--chat-history-thumb-bg","var(--color-"+i.theme().blue+"-400)")("--chat-history-thumb-border","var(--color-"+i.theme().blue+"-900)")("--chat-history-thumb-hover-bg","var(--color-"+i.theme().blue+"-300)"),c(),K(i.displayedArtists()),c(3),M(i.selectedArtistProfile()&&i.showArtistDetailModal()?54:-1))},dependencies:[pe],styles:["[_nghost-%COMP%]{display:contents}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--chat-history-track-bg)}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--chat-history-thumb-bg);border:1px solid var(--chat-history-thumb-border)}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--chat-history-thumb-hover-bg)}"],changeDetection:0})}};var Iv=["chatHistory"],wv=(e,t)=>t.uri;function xv(e,t){if(e&1&&(h(0,"a",26),d(1),m()),e&2){let n=t.$implicit,i=g(3);p("hover:text-"+i.theme().primary+"-300"),O("href",n.uri,ie),c(),j(" ",n.title||n.uri," ")}}function Mv(e,t){if(e&1&&(h(0,"div",23)(1,"p",24),d(2,"Sources:"),m(),Z(3,xv,2,4,"a",25,wv),m()),e&2){let n=g().$implicit,i=g();p("border-"+i.theme().primary+"-500/30"),c(3),K(n.urls)}}function Av(e,t){if(e&1&&(h(0,"div",27),J(1,"img",28),h(2,"p",29),d(3,"Image analyzed:"),m()()),e&2){let n=g().$implicit,i=g();p("border-"+i.theme().primary+"-500/30"),c(),O("src",n.imageUrl,ie),c(),p("text-"+i.theme().primary+"-500")}}function Tv(e,t){if(e&1&&(h(0,"div")(1,"div",19)(2,"span",20),d(3),m(),h(4,"span"),d(5),m(),x(6,Mv,5,2,"div",21),x(7,Av,4,5,"div",22),m()()),e&2){let n=t.$implicit,i=g();re("text-right",n.role==="user")("text-left",n.role==="model"),c(),p(n.role==="user"?"bg-"+i.theme().primary+"-700/50":"bg-"+i.theme().primary+"-900/50"),c(),p("text-"+i.theme().primary+"-300"),c(),W(n.role==="user"?"YOU:":"S.M.U.V.E:"),c(2),W(n.content),c(),M(n.urls&&n.urls.length>0?6:-1),c(),M(n.imageUrl?7:-1)}}function Sv(e,t){if(e&1&&(h(0,"div",8)(1,"div",19)(2,"span",20),d(3,"S.M.U.V.E:"),m(),h(4,"span"),d(5,"Thinking..."),m()()()),e&2){let n=g();c(),p("bg-"+n.theme().primary+"-900/50"),c(),p("text-"+n.theme().primary+"-300")}}function Nv(e,t){if(e&1&&(h(0,"div",8)(1,"div",30)(2,"span",20),d(3,"S.M.U.V.E:"),m(),h(4,"span"),d(5,"Speaking..."),m()()()),e&2){let n=g();c(),p("bg-"+n.theme().primary+"-900/50"),c(),p("text-"+n.theme().primary+"-300")}}function Rv(e,t){if(e&1&&(h(0,"div",31),d(1," Hi! I'm S.M.U.V.E. How can I help you with your music today? "),m()),e&2){let n=g();p("text-"+n.theme().primary+"-400/70")}}function kv(e,t){e&1&&(h(0,"div",10),d(1," AI features are currently disabled. Please check the API key configuration. "),m())}function Pv(e,t){e&1&&(h(0,"span"),d(1,"[ DEEP QUERY ACTIVE (GEMINI 3 PRO) ]"),m())}function Ov(e,t){e&1&&(h(0,"span"),d(1,"[ DEEP QUERY (GEMINI 3 PRO) ]"),m())}function Fv(e,t){e&1&&(Lt(),h(0,"svg",15),J(1,"path",32)(2,"path",33),m())}function Lv(e,t){e&1&&(Lt(),h(0,"svg",16),J(1,"path",32)(2,"path",34)(3,"path",35),m())}var Yr=class e{constructor(){this.close=Ie();this.appCommand=Ie();this.theme=te.required();this.imageToAnalyzeUrl=te(null);this.imageAnalysisResult=Ie();this.mapLocationQuery=te(null);this.mapLocationResult=Ie();this.messages=I([]);this.userMessage=I("");this.isLoading=I(!1);this.isVoiceInputActive=I(!1);this.isSpeaking=I(!1);this.isDeepQueryActive=I(!1);this.aiService=L(we);this.isAiAvailable=Y(()=>this.aiService.isAiAvailable);this.chatHistoryRef=he("chatHistory");this.speechRecognition=null;this.speechUtterance=null;this.aiService.isAiAvailable||this.messages.update(t=>[...t,{role:"model",content:"AI services are currently unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."}]),"SpeechRecognition"in window||"webkitSpeechRecognition"in window?(this.speechRecognition=new(window.SpeechRecognition||window.webkitSpeechRecognition),this.speechRecognition.continuous=!1,this.speechRecognition.interimResults=!1,this.speechRecognition.lang="en-US",this.speechRecognition.onresult=t=>{let n=t.results[0][0].transcript;this.userMessage.set(n),this.sendMessage(),this.stopVoiceInput()},this.speechRecognition.onerror=t=>{console.error("Speech recognition error:",t.error),t.error==="no-speech"||this.messages.update(n=>[...n,{role:"model",content:`Voice input error: ${t.error}. Please try again.`}]),this.stopVoiceInput()},this.speechRecognition.onend=()=>{this.isVoiceInputActive.set(!1)}):console.warn("Speech Recognition API not supported in this browser."),ae(()=>{let t=this.imageToAnalyzeUrl();t&&!this.isLoading()&&(this.messages.update(n=>[...n,{role:"user",content:"Please analyze this image.",imageUrl:t}]),this.analyzeImage(t,"Describe this image in detail. Focus on elements relevant for an album cover or music video concept."))}),ae(()=>{let t=this.mapLocationQuery();t&&!this.isLoading()&&(this.messages.update(n=>[...n,{role:"user",content:`Find on map: ${t}`}]),this.sendGoogleMapsQuery(t))})}async sendMessage(){if(!this.aiService.isAiAvailable||!this.aiService.chatInstance)return;let t=this.userMessage().trim();if(t){if(this.messages.update(n=>[...n,{role:"user",content:t}]),this.userMessage.set(""),this.isLoading.set(!0),this.stopSpeaking(),this.isDeepQueryActive())await this.sendDeepQuery(t),this.isDeepQueryActive.set(!1);else if(t.toLowerCase().startsWith("search google for")||t.toLowerCase().startsWith("google for")){let n=t.toLowerCase().startsWith("google for")?t.substring(10).trim():t.substring(17).trim();await this.sendGoogleSearchQuery(n)}else if(t.toLowerCase().startsWith("find on map")||t.toLowerCase().startsWith("map for")){let n=t.toLowerCase().startsWith("map for")?t.substring(7).trim():t.substring(11).trim();await this.sendGoogleMapsQuery(n)}else if(t.toLowerCase().startsWith("view artist profile")){let n=t.substring(19).trim();if(n){let i=tt.find(r=>r.name.toLowerCase()===n.toLowerCase());if(i)await this.getArtistInsight(i),this.appCommand.emit({action:"VIEW_ARTIST_PROFILE",parameters:{name:n}});else{let r=`S.M.U.V.E doesn't have data for "${n}". Please try searching for artists first.`;this.messages.update(o=>[...o,{role:"model",content:r}]),this.speakResponse(r)}}else{let i="Please specify an artist name to view their profile.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}else try{let i=(await this.aiService.chatInstance.sendMessage({message:t})).text;if(typeof i!="string"||i.trim()===""){console.warn("Gemini API returned empty or non-string response:",i);let s="S.M.U.V.E received an empty response. Please try rephrasing.";this.messages.update(a=>[...a,{role:"model",content:s}]),this.speakResponse(s),this.isLoading.set(!1),this.scrollToBottom();return}let r=i.trim(),o=r.split(":::");if(o.length>=2&&o[0]==="CHAT"){let s=o.slice(1).join(":::");this.messages.update(a=>[...a,{role:"model",content:s}]),this.speakResponse(s)}else if(o.length>=2&&o[0]==="COMMAND"){let s=o[1].trim(),a=(o[2]||"").trim();try{let l={};if(a){let f=/(\w+)\s*=\s*'([^']*)'|(\w+)\s*=\s*(\d+)/g,y;for(;(y=f.exec(a))!==null;){let b=y[1]||y[3],D=y[2]!==void 0?y[2]:y[4];l[b]=D}}this.appCommand.emit({action:s,parameters:l});let u=`Executing command: ${s}`;this.messages.update(f=>[...f,{role:"model",content:u}]),this.speakResponse(u)}catch(l){console.error("Failed to parse command parameters:",l,"from string:",a);let u="S.M.U.V.E sent a command I couldn't understand. Please try again.";this.messages.update(f=>[...f,{role:"model",content:u}]),this.speakResponse(u)}}else console.warn("AI response did not match expected CHAT/COMMAND format:",r),this.messages.update(s=>[...s,{role:"model",content:r}]),this.speakResponse(r)}catch(n){console.error("Error sending message to Gemini API:",n);let i="Oops! Something went wrong. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}this.isLoading.set(!1),this.scrollToBottom()}}async sendGoogleSearchQuery(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let n=await this.aiService.genAI.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{tools:[{googleSearch:{}}]}}),i=n.text,r=n.candidates?.[0]?.groundingMetadata?.groundingChunks,o=[];if(r)for(let a of r)a.web&&a.web.uri&&o.push({uri:a.web.uri,title:a.web.title});let s={role:"model",content:i,urls:o.length>0?o:void 0};this.messages.update(a=>[...a,s]),this.speakResponse(i)}catch(n){console.error("Error sending Google Search query to Gemini API:",n);let i="Oops! Failed to perform Google Search. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async sendGoogleMapsQuery(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let n=await this.aiService.genAI.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{tools:[{googleSearch:{}}]}}),i=n.text,r=n.candidates?.[0]?.groundingMetadata?.groundingChunks,o=[];if(r)for(let a of r)a.web&&a.web.uri&&o.push({uri:a.web.uri,title:a.web.title});let s={role:"model",content:i,urls:o.length>0?o:void 0};this.messages.update(a=>[...a,s]),this.speakResponse(i),this.mapLocationResult.emit(i)}catch(n){console.error("Error sending Google Maps query to Gemini API:",n);let i="Oops! Failed to find location on map. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async sendDeepQuery(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let i=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:t,config:{systemInstruction:this.aiService.chatInstance.config.systemInstruction,topK:64,topP:.95,temperature:1,seed:42}})).text;this.messages.update(r=>[...r,{role:"model",content:`[DEEP QUERY RESPONSE]: ${i}`}]),this.speakResponse(i)}catch(n){console.error("Error sending deep query to Gemini API:",n);let i="Oops! Deep query failed. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async analyzeImage(t,n="Describe this image in detail. Focus on elements relevant for an album cover or music video concept."){if(!this.aiService.isAiAvailable||!this.aiService.genAI){let i="AI services are unavailable to analyze image. Please check API key.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i);return}this.isLoading.set(!0);try{let i=t.split(";")[0].split(":")[1],r=t.split(",")[1],o={inlineData:{mimeType:i,data:r}},s={text:n},l=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:[o,s]})).text,u={role:"model",content:`IMAGE ANALYSIS: ${l}`,imageUrl:t};this.messages.update(f=>[...f,u]),this.speakResponse(`Image analysis complete. ${l}`),this.imageAnalysisResult.emit(l)}catch(i){console.error("Error analyzing image with Gemini API:",i);let r="Oops! Failed to analyze image. Please try again.";this.messages.update(o=>[...o,{role:"model",content:r}]),this.speakResponse(r)}finally{this.isLoading.set(!1),this.scrollToBottom()}}async getArtistInsight(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI)){this.isLoading.set(!0);try{let n=`You are S.M.U.V.E, an expert AI music manager toolkit specialized in Southern Rap, Hip-Hop, R&B, and Trap music, with advanced management and marketing skills. Provide an adaptive, detailed insight into the following independent music artist's profile. Your insights should be highly specific to their genre(s) and location, and offer actionable advice. Include:
      - Strengths (musicality, production, stage presence, lyrical ability etc.)
      - Specific collaboration potential (e.g., "collaborate with a Memphis trap producer for a new single," "feature on an Atlanta R&B singer's track").
      - Career advice (e.g., "focus on building a strong presence on TikTok," "consider licensing your beats for video games").
      - Marketing insights (e.g., "target college radio stations in the Southeast," "run Instagram ad campaigns geotargeted to your city").

Artist Profile:
Name: ${t.name}
Genre(s): ${t.genres.join(", ")}
Location: ${t.location}
Bio: ${t.bio}
Collaboration Interests: ${t.collaborationInterest.join(", ")}
Influences: ${t.influences.join(", ")}
Contact: ${t.contact}
Links: ${t.links.map(o=>`${o.type}: ${o.url}`).join(", ")}
Specialties: ${t.specialties?t.specialties.join(", "):"N/A"}
Target Audience: ${t.targetAudience||"N/A"}
Career Goals: ${t.careerGoals||"N/A"}

Provide insights relevant to their profile and the independent music scene, focusing on growth, networking, and strategic moves within their specified genres. Be specific to Southern Rap, Hip-Hop, R&B, and Trap where appropriate.`,r=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:n,config:{systemInstruction:this.aiService.chatInstance.config.systemInstruction,topK:64,topP:.95,temperature:1,seed:42}})).text;this.messages.update(o=>[...o,{role:"model",content:`[INSIGHT for ${t.name}]: ${r}`}]),this.speakResponse(`Here's an insight for ${t.name}. ${r}`)}catch(n){console.error("Error getting artist insight:",n);let i=`S.M.U.V.E failed to provide insight for ${t.name}.`;this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}finally{this.isLoading.set(!1),this.scrollToBottom()}}}toggleVoiceInput(){if(!this.speechRecognition){alert("Speech Recognition is not supported in this browser.");return}this.isVoiceInputActive()?this.stopVoiceInput():this.startVoiceInput()}startVoiceInput(){this.speechRecognition&&(this.stopSpeaking(),this.isVoiceInputActive.set(!0),this.speechRecognition.start(),this.messages.update(t=>[...t,{role:"model",content:"Listening for voice input..."}]))}stopVoiceInput(){this.speechRecognition&&(this.speechRecognition.stop(),this.isVoiceInputActive.set(!1))}speakResponse(t){"speechSynthesis"in window?(this.stopSpeaking(),this.speechUtterance=new SpeechSynthesisUtterance(t),this.speechUtterance.onstart=()=>this.isSpeaking.set(!0),this.speechUtterance.onend=()=>this.isSpeaking.set(!1),this.speechUtterance.onerror=n=>{console.error("Speech synthesis error:",n),this.isSpeaking.set(!1)},window.speechSynthesis.speak(this.speechUtterance)):console.warn("Speech Synthesis API not supported in this browser.")}stopSpeaking(){this.speechUtterance&&(window.speechSynthesis.cancel(),this.isSpeaking.set(!1))}scrollToBottom(){requestAnimationFrame(()=>{if(this.chatHistoryRef()){let t=this.chatHistoryRef().nativeElement;t.scrollTop=t.scrollHeight}})}toggleDeepQuery(){this.isDeepQueryActive.update(t=>!t),this.isDeepQueryActive()?(this.messages.update(t=>[...t,{role:"model",content:"Deep Query mode activated. I will use Gemini 3 Pro for more complex reasoning. Please ask your question."}]),this.speakResponse("Deep Query mode activated. Please ask your question.")):(this.messages.update(t=>[...t,{role:"model",content:"Deep Query mode deactivated."}]),this.speakResponse("Deep Query mode deactivated."))}onClose(){this.stopVoiceInput(),this.stopSpeaking(),this.close.emit()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ce({type:e,selectors:[["app-chatbot"]],viewQuery:function(n,i){n&1&&fe(i.chatHistoryRef,Iv,5),n&2&&Te()},inputs:{theme:[1,"theme"],imageToAnalyzeUrl:[1,"imageToAnalyzeUrl"],mapLocationQuery:[1,"mapLocationQuery"]},outputs:{close:"close",appCommand:"appCommand",imageAnalysisResult:"imageAnalysisResult",mapLocationResult:"mapLocationResult"},decls:26,vars:41,consts:[["chatHistory",""],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:right-4","sm:bottom-4","border-2","bg-black/90","backdrop-blur-lg","p-4","w-full","max-w-sm","h-[70vh]","flex","flex-col","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"flex-grow","overflow-y-auto","pr-2","mb-4","border-b","pb-2","space-y-3","chat-history"],[3,"text-right","text-left"],[1,"text-left"],[1,"text-center","py-4",3,"class"],[1,"text-center","py-4","text-red-400"],[1,"flex","gap-2","mb-2"],["type","button",1,"flex-grow","p-2","border","hover:text-black","text-sm","transition-colors",3,"click","disabled"],[1,"flex","gap-2",3,"submit"],["type","button",1,"p-2","border","hover:text-black","text-sm","transition-colors","flex","items-center","justify-center","w-10","h-10",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5","animate-pulse"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["type","text","placeholder","Type your message...",1,"flex-grow","bg-black","border","px-2","py-1","text-sm","focus:ring-500",3,"input","value","disabled"],["type","submit",1,"p-2","border","hover:text-black","text-sm",3,"disabled"],[1,"inline-block","p-2","rounded-lg","max-w-[85%]"],[1,"text-xs","mr-2"],[1,"text-xs","mt-2","border-t","pt-1",3,"class"],[1,"mt-2","p-1","border",3,"class"],[1,"text-xs","mt-2","border-t","pt-1"],[1,"font-bold"],["target","_blank","rel","noopener noreferrer",1,"block","underline",3,"href","class"],["target","_blank","rel","noopener noreferrer",1,"block","underline",3,"href"],[1,"mt-2","p-1","border"],["alt","Image for analysis",1,"max-w-full","h-auto","object-contain",3,"src"],[1,"text-xs","mt-1"],[1,"inline-block","p-2","rounded-lg","max-w-[85%]","animate-pulse"],[1,"text-center","py-4"],["d","M8.25 4.5a3.75 3.75 0 1 1 7.5 0v8.25a3.75 3.75 0 1 1-7.5 0V4.5Z"],["d","M6 10.5a.75.75 0 0 1 .75.75v1.5a5.25 5.25 0 1 0 10.5 0v-1.5a.75.75 0 0 1 1.5 0v1.5a6.75 6.75 0 1 1-13.5 0v-1.5a.75.75 0 0 1 .75-.75Z"],["d","M12 21a2.25 2.25 0 0 0 2.25-2.25V15a.75.75 0 0 0-1.5 0v3.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75V15a.75.75 0 0 0-1.5 0v3.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75V15a.75.75 0 0 0-1.5 0v3.75A2.25 2.25 0 0 0 12 21Z"],["d","M18.75 10.5a.75.75 0 0 0-1.5 0v1.5a6.75 6.75 0 0 1-13.5 0v-1.5a.75.75 0 0 0-1.5 0v1.5a8.25 8.25 0 1 0 16.5 0v-1.5A.75.75 0 0 0 18.75 10.5Z"]],template:function(n,i){if(n&1){let r=B();h(0,"div",1),k("click",function(){return C(r),_(i.onClose())}),m(),h(1,"div",2)(2,"div",3)(3,"h2",4),d(4,"[[ S.M.U.V.E ]]"),m(),h(5,"button",5),k("click",function(){return C(r),_(i.onClose())}),d(6," [X] "),m()(),h(7,"div",6,0),Z(9,Tv,8,12,"div",7,De),x(11,Sv,6,4,"div",8)(12,Nv,6,4,"div",8),x(13,Rv,2,2,"div",9)(14,kv,2,0,"div",10),m(),h(15,"div",11)(16,"button",12),k("click",function(){return C(r),_(i.toggleDeepQuery())}),x(17,Pv,2,0,"span")(18,Ov,2,0,"span"),m()(),h(19,"form",13),k("submit",function(){return C(r),_(i.sendMessage())}),h(20,"button",14),k("click",function(){return C(r),_(i.toggleVoiceInput())}),x(21,Fv,3,0,":svg:svg",15)(22,Lv,4,0,":svg:svg",16),m(),h(23,"input",17),k("input",function(s){return C(r),_(i.userMessage.set(s.target.value))}),m(),h(24,"button",18),d(25," [ SEND ] "),m()()()}n&2&&(c(),p("text-"+i.theme().primary+"-400"),c(4),p("hover:bg-"+i.theme().primary+"-400"),c(2),p("border-"+i.theme().primary+"-400/30"),Se("--chat-history-track-bg","var(--color-"+i.theme().primary+"-950)")("--chat-history-thumb-bg","var(--color-"+i.theme().primary+"-400)")("--chat-history-thumb-border","var(--color-"+i.theme().primary+"-900)")("--chat-history-thumb-hover-bg","var(--color-"+i.theme().primary+"-300)"),c(2),K(i.messages()),c(2),M(i.isLoading()?11:i.isSpeaking()?12:-1),c(2),M(i.messages().length===0&&!i.isLoading()&&!i.isSpeaking()&&i.isAiAvailable()?13:i.isAiAvailable()?-1:14),c(3),p("hover:bg-"+i.theme().primary+"-400"),re("bg-green-500",i.isDeepQueryActive())("text-black",i.isDeepQueryActive()),O("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()),c(),M(i.isDeepQueryActive()?17:18),c(2),re("opacity-50",!i.isAiAvailable()),c(),p("hover:bg-"+i.theme().primary+"-400"),re("bg-green-500",i.isVoiceInputActive())("text-black",i.isVoiceInputActive()),O("disabled",i.isLoading()||i.isDeepQueryActive()||!i.isAiAvailable()),c(),M(i.isVoiceInputActive()?21:22),c(2),p("focus:border-"+i.theme().primary+"-500"),O("value",i.userMessage())("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()),c(),p("hover:bg-"+i.theme().primary+"-400"),O("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()))},dependencies:[pe],styles:[".chat-history[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--chat-history-track-bg)}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--chat-history-thumb-bg);border:1px solid var(--chat-history-thumb-border)}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--chat-history-thumb-hover-bg)}"],changeDetection:0})}};var Vv=["fileInput"],Bv=()=>["1:1","4:3","3:4","16:9","9:16"];function jv(e,t){if(e&1&&J(0,"img",7),e&2){let n=g();O("src",n.originalImageUrl(),ie)}}function Hv(e,t){if(e&1&&(h(0,"span",23),d(1,"[ Upload an image for reference or leave empty ]"),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-500")}}function Uv(e,t){if(e&1){let n=B();h(0,"button",24),k("click",function(){let r=C(n).$implicit,o=g();return _(o.aspectRatio.set(r))}),d(1),m()}if(e&2){let n=t.$implicit,i=g();p(i.aspectRatio()===n?"bg-"+i.theme().purple+"-500 text-black":"hover:bg-"+i.theme().purple+"-700/50"),O("disabled",i.isLoading()||!i.isAiAvailable()),c(),j(" ",n," ")}}function $v(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATING... ]"),m())}function Gv(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATE ]"),m())}function qv(e,t){if(e&1&&(h(0,"p",19),d(1),m()),e&2){let n=g();c(),W(n.errorMessage())}}function zv(e,t){e&1&&(h(0,"p",19),d(1,"AI features are disabled due to an invalid API key."),m())}function Wv(e,t){if(e&1&&J(0,"img",25),e&2){let n=t.$implicit;O("src",n,ie)}}function Qv(e,t){if(e&1&&Z(0,Wv,1,1,"img",25,De),e&2){let n=g();K(n.generatedImageUrls())}}function Yv(e,t){if(e&1&&(h(0,"span",26),d(1,"[ Generating image... ]"),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-500")}}function Zv(e,t){if(e&1&&(h(0,"span",23),d(1,"[ No image generated yet ]"),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-500")}}function Kv(e,t){if(e&1){let n=B();h(0,"button",27),k("click",function(){C(n);let r=g();return _(r.useAsAlbumArt())}),d(1," [ USE AS ALBUM ART ] "),m()}if(e&2){let n=g();p("hover:bg-"+n.theme().purple+"-500"),O("disabled",!n.isAiAvailable())}}function Jv(e,t){if(e&1){let n=B();h(0,"button",27),k("click",function(){C(n);let r=g();return _(r.requestImageAnalysis())}),d(1," [ ANALYZE IMAGE ] "),m()}if(e&2){let n=g();p("hover:bg-"+n.theme().purple+"-500"),O("disabled",!n.isAiAvailable())}}function Xv(e,t){if(e&1&&(h(0,"a",28),d(1," [ DOWNLOAD ] "),m()),e&2){let n=g();p("hover:bg-"+n.theme().purple+"-500"),re("opacity-50",!n.isAiAvailable()),O("href",n.generatedImageUrls()[0],ie),Lr("disabled",n.isAiAvailable()?null:!0)}}var Zr=class e{constructor(){this.initialPrompt=te(null);this.theme=te.required();this.originalImageUrl=I(null);this.editPrompt=I("");this.generatedImageUrls=I([]);this.isLoading=I(!1);this.errorMessage=I(null);this.aspectRatio=I("1:1");this.aiService=L(we);this.isAiAvailable=Y(()=>this.aiService.isAiAvailable);this.fileInputRef=he("fileInput");this.imageSelected=Ie();this.imageAnalysisRequest=Ie();this.genAI=void 0;this.aiService.isAiAvailable?this.genAI=this.aiService.genAI:this.errorMessage.set("AI features are unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."),ae(()=>{let t=this.initialPrompt();t&&t!==this.editPrompt()&&this.editPrompt.set(t)})}handleImageUpload(t){let n=t.target.files?.[0];if(n){this.errorMessage.set(null),this.generatedImageUrls.set([]);let i=new FileReader;i.onload=r=>{this.originalImageUrl.set(r.target?.result)},i.onerror=()=>{this.errorMessage.set("Failed to read file.")},i.readAsDataURL(n)}else this.originalImageUrl.set(null),this.generatedImageUrls.set([])}async generateImage(){if(!this.isAiAvailable()||!this.genAI){this.errorMessage.set("AI features are unavailable. Please check your configuration (window.AURA_GEMINI_API_KEY).");return}let t=this.editPrompt().trim();if(!t){this.errorMessage.set("Please enter an edit prompt.");return}this.isLoading.set(!0),this.errorMessage.set(null),this.generatedImageUrls.set([]);try{let i=(await this.genAI.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:this.aspectRatio()}})).generatedImages[0]?.image?.imageBytes;i?this.generatedImageUrls.set([`data:image/png;base64,${i}`]):this.errorMessage.set("No image generated. Please try a different prompt.")}catch(n){console.error("Error generating image:",n),this.errorMessage.set(`Image generation failed: ${n.message||"Unknown error"}.`)}finally{this.isLoading.set(!1)}}clearImage(){this.originalImageUrl.set(null),this.generatedImageUrls.set([]),this.editPrompt.set(""),this.errorMessage.set(null),this.fileInputRef()&&(this.fileInputRef().nativeElement.value="")}useAsAlbumArt(){let t=this.generatedImageUrls().length>0?this.generatedImageUrls()[0]:this.originalImageUrl();t?this.imageSelected.emit(t):this.errorMessage.set("No image to use as album art.")}requestImageAnalysis(){let t=this.generatedImageUrls().length>0?this.generatedImageUrls()[0]:this.originalImageUrl();t?(this.imageAnalysisRequest.emit(t),alert("Image analysis requested. Check chatbot for results!")):this.errorMessage.set("No image available to analyze.")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ce({type:e,selectors:[["app-image-editor"]],viewQuery:function(n,i){n&1&&fe(i.fileInputRef,Vv,5),n&2&&Te()},inputs:{initialPrompt:[1,"initialPrompt"],theme:[1,"theme"]},outputs:{imageSelected:"imageSelected",imageAnalysisRequest:"imageAnalysisRequest"},decls:40,vars:40,consts:[["fileInput",""],[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","flex-grow"],[1,"flex","flex-col","gap-4","p-4"],[1,"text-base"],[1,"flex-grow","flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden"],["alt","Uploaded Image",1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"text-sm",3,"class"],[1,"w-full","text-center","block","p-2","border","hover:text-black","cursor-pointer","text-sm"],["type","file","accept","image/*",1,"hidden",3,"change"],["for","edit-prompt",1,"block","text-sm"],["id","edit-prompt","placeholder","e.g., 'A retro-futuristic album cover with glowing elements', 'A sci-fi landscape art with vibrant colors'","rows","4",1,"w-full","p-2","text-sm","focus:ring-500","resize-y",3,"input","value","disabled"],[1,"block","text-sm","mt-2"],[1,"flex","flex-wrap","gap-2","text-sm"],["type","button",1,"px-3","py-1","border",3,"class","disabled"],[1,"flex","gap-2","mt-4"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg",3,"click"],[1,"text-red-500","text-sm","mt-2","text-center"],[1,"text-sm","animate-pulse",3,"class"],[1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg","mb-2",3,"class","disabled"],["download","aura-edited-image.png",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href","class","opacity-50"],[1,"text-sm"],["type","button",1,"px-3","py-1","border",3,"click","disabled"],["alt","Generated Image",1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"text-sm","animate-pulse"],[1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg","mb-2",3,"click","disabled"],["download","aura-edited-image.png",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"]],template:function(n,i){if(n&1){let r=B();h(0,"div",1)(1,"h2",2),d(2,"[ AURA IMAGE LAB ]"),m(),h(3,"div",3)(4,"div",4)(5,"h3",5),d(6,"// ORIGINAL IMAGE (FOR CONTEXT)"),m(),h(7,"div",6),x(8,jv,1,1,"img",7)(9,Hv,2,2,"span",8),m(),h(10,"label",9),d(11," [ UPLOAD IMAGE ] "),h(12,"input",10,0),k("change",function(s){return C(r),_(i.handleImageUpload(s))}),m()(),h(14,"label",11),d(15,"GENERATION PROMPT:"),m(),h(16,"textarea",12),k("input",function(s){return C(r),_(i.editPrompt.set(s.target.value))}),m(),h(17,"label",13),d(18,"ASPECT RATIO:"),m(),h(19,"div",14),Z(20,Uv,2,4,"button",15,ri),m(),h(22,"div",16)(23,"button",17),k("click",function(){return C(r),_(i.generateImage())}),x(24,$v,2,0,"span")(25,Gv,2,0,"span"),m(),h(26,"button",18),k("click",function(){return C(r),_(i.clearImage())}),d(27," [ CLEAR ] "),m()(),x(28,qv,2,1,"p",19),x(29,zv,2,0,"p",19),m(),h(30,"div",4)(31,"h3",5),d(32,"// GENERATED IMAGE"),m(),h(33,"div",6),x(34,Qv,2,0)(35,Yv,2,2,"span",20)(36,Zv,2,2,"span",8),m(),x(37,Kv,2,3,"button",21),x(38,Jv,2,3,"button",21),x(39,Xv,2,6,"a",22),m()()()}n&2&&(p("border border-"+i.theme().purple+"-500/30"),c(),p("text-"+i.theme().purple+"-400"),c(3),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),p("border-"+i.theme().purple+"-700/50"),c(),M(i.originalImageUrl()?8:9),c(2),p("hover:bg-"+i.theme().purple+"-500"),c(4),p("text-"+i.theme().purple+"-300"),c(2),p("focus:border-"+i.theme().purple+"-500"),O("value",i.editPrompt())("disabled",i.isLoading()||!i.isAiAvailable()),c(),p("text-"+i.theme().purple+"-300"),c(3),K(Et(39,Bv)),c(3),p("hover:text-black"),O("disabled",!i.editPrompt()||i.isLoading()||!i.isAiAvailable()),c(),M(i.isLoading()?24:25),c(2),p("hover:text-black"),c(2),M(i.errorMessage()?28:-1),c(),M(i.isAiAvailable()?-1:29),c(),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),p("border-"+i.theme().purple+"-700/50"),c(),M(i.generatedImageUrls().length>0?34:i.isLoading()?35:36),c(3),M(i.generatedImageUrls().length>0?37:-1),c(),M(i.generatedImageUrls().length>0?38:-1),c(),M(i.generatedImageUrls().length>0?39:-1))},dependencies:[pe],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}};var e0=["liveVideoPreview"],t0=["recordedVideoPlayer"],n0=()=>["1:1","4:3","3:4","16:9","9:16"];function i0(e,t){if(e&1&&(h(0,"div",4),d(1),m()),e&2){let n=g();c(),j(" ",n.error()," ")}}function r0(e,t){if(e&1&&(h(0,"span",26),d(1,"[ Camera Off ]"),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-500")}}function o0(e,t){if(e&1&&(h(0,"span",11),J(1,"span",27),d(2),m()),e&2){let n=g();c(2),j(" REC: ",n.formatTime(n.recordingTime())," ")}}function s0(e,t){e&1&&(h(0,"span"),d(1,"[ DISABLE CAMERA ]"),m())}function a0(e,t){e&1&&(h(0,"span"),d(1,"[ ENABLE CAMERA ]"),m())}function l0(e,t){e&1&&(h(0,"span"),d(1,"[ RECORDING... ]"),m())}function c0(e,t){e&1&&(h(0,"span"),d(1,"[ START RECORDING ]"),m())}function u0(e,t){if(e&1&&(h(0,"h3",28),d(1,"// RECORDED VIDEO"),m(),h(2,"div",29),J(3,"video",30,1),m(),h(5,"a",31),d(6," [ DOWNLOAD RECORDED VIDEO ] "),m()),e&2){let n=g();p("text-"+n.theme().purple+"-300"),c(2),p("border-"+n.theme().purple+"-700/50"),c(),O("src",n.recordedVideoUrl(),ie),c(2),p("hover:bg-"+n.theme().purple+"-500"),O("href",n.recordedVideoUrl(),ie)}}function d0(e,t){if(e&1&&(h(0,"div",15)(1,"h4",32),d(2,"// IMAGE INPUT FROM EDITOR"),m(),J(3,"img",33),m()),e&2){let n=g();c(),p("text-"+n.theme().neutral+"-400"),c(2),p("border-"+n.theme().neutral+"-600"),O("src",n.imageForVideoGeneration(),ie)}}function f0(e,t){if(e&1){let n=B();h(0,"button",34),k("click",function(){let r=C(n).$implicit,o=g();return _(o.aspectRatio.set(r))}),d(1),m()}if(e&2){let n=t.$implicit,i=g();p(i.aspectRatio()===n?"bg-"+i.theme().purple+"-500 text-black":"hover:bg-"+i.theme().purple+"-700/50"),O("disabled",i.isGeneratingVideo()||!i.isAiAvailable()),c(),j(" ",n," ")}}function p0(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATING... ]"),m())}function m0(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATE FROM PROMPT ]"),m())}function h0(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATING... ]"),m())}function g0(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATE FROM IMAGE + PROMPT ]"),m())}function v0(e,t){if(e&1){let n=B();h(0,"button",13),k("click",function(){C(n);let r=g();return _(r.generateVideo(!0))}),x(1,h0,2,0,"span")(2,g0,2,0,"span"),m()}if(e&2){let n=g();p("hover:text-black"),O("disabled",!n.videoPrompt()||n.isGeneratingVideo()||!n.isAiAvailable()),c(),M(n.isGeneratingVideo()?1:2)}}function y0(e,t){if(e&1&&(h(0,"p",35),d(1),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-400"),c(),W(n.generationProgressMessage())}}function E0(e,t){if(e&1&&(h(0,"h3",28),d(1,"// GENERATED AI VIDEO"),m(),h(2,"div",29),J(3,"video",36),m(),h(4,"a",37),d(5," [ DOWNLOAD AI VIDEO ] "),m()),e&2){let n=g();p("text-"+n.theme().purple+"-300"),c(2),p("border-"+n.theme().purple+"-700/50"),c(),O("src",n.generatedVideoUrl(),ie),c(),p("hover:bg-"+n.theme().purple+"-500"),O("href",n.generatedVideoUrl(),ie)}}var Kr=class e{constructor(){this.imageForVideoGeneration=te(null);this.initialPrompt=te(null);this.theme=te.required();this.mediaStream=I(null);this.isRecording=I(!1);this.recordedVideoBlob=I(null);this.recordedVideoUrl=I(null);this.recordingTime=I(0);this.cameraEnabled=I(!1);this.isCameraActive=I(!1);this.videoPrompt=I("");this.generatedVideoUrl=I(null);this.isGeneratingVideo=I(!1);this.generationProgressMessage=I(null);this.aspectRatio=I("16:9");this.aiService=L(we);this.isAiAvailable=Y(()=>this.aiService.isAiAvailable);this.error=I(null);this.liveVideoPreviewRef=he("liveVideoPreview");this.recordedVideoPlayerRef=he("recordedVideoPlayer");this.mediaRecorder=null;this.recordedChunks=[];this.genAI=void 0;this.aiService.isAiAvailable?this.genAI=this.aiService.genAI:this.error.set("AI features are unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."),ae(()=>{let t=this.initialPrompt();t&&t!==this.videoPrompt()&&this.videoPrompt.set(t)})}ngOnDestroy(){this.stopMediaStream()}async requestMediaPermissions(){this.error.set(null),this.mediaStream()&&this.stopMediaStream();try{let t=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});this.mediaStream.set(t),this.cameraEnabled.set(!0),this.isCameraActive.set(!0),this.liveVideoPreviewRef()&&(this.liveVideoPreviewRef().nativeElement.srcObject=t,await this.liveVideoPreviewRef().nativeElement.play()),console.log("Camera and microphone access granted.")}catch(t){console.error("Error accessing media devices:",t),this.error.set(`Failed to access camera/microphone: ${t.name||t.message}. Please check permissions.`),this.cameraEnabled.set(!1),this.isCameraActive.set(!1)}}stopMediaStream(){this.mediaStream()?.getTracks().forEach(t=>t.stop()),this.mediaStream.set(null),this.isCameraActive.set(!1),this.liveVideoPreviewRef()&&(this.liveVideoPreviewRef().nativeElement.srcObject=null),console.log("Media stream stopped.")}toggleCamera(){this.isCameraActive()?(this.stopMediaStream(),this.cameraEnabled.set(!1)):this.requestMediaPermissions()}startRecording(){if(!this.mediaStream()||!this.isCameraActive()){this.error.set("Camera is not active. Please enable camera first.");return}if(!this.isRecording()){this.recordedChunks=[],this.recordedVideoBlob.set(null),this.recordedVideoUrl.set(null),this.recordingTime.set(0),this.error.set(null);try{this.mediaRecorder=new MediaRecorder(this.mediaStream(),{mimeType:"video/webm; codecs=vp8,opus"}),this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&this.recordedChunks.push(t.data)},this.mediaRecorder.onstop=()=>{let t=new Blob(this.recordedChunks,{type:"video/webm"});this.recordedVideoBlob.set(t),this.recordedVideoUrl.set(URL.createObjectURL(t)),console.log("Recording stopped. Blob created."),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.onerror=t=>{console.error("MediaRecorder error:",t.error),this.error.set(`Recording error: ${t.error.name||t.error.message}`),this.isRecording.set(!1),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.start(),this.isRecording.set(!0),this.recordingIntervalId=window.setInterval(()=>this.recordingTime.update(t=>t+1),1e3),console.log("Recording started.")}catch(t){console.error("Error starting MediaRecorder:",t),this.error.set(`Failed to start recording: ${t.message}`),this.isRecording.set(!1)}}}stopRecording(){this.mediaRecorder&&this.isRecording()&&(this.mediaRecorder.stop(),this.isRecording.set(!1),console.log("Attempting to stop recording..."))}playRecordedVideo(){this.recordedVideoUrl()&&this.recordedVideoPlayerRef()&&(this.recordedVideoPlayerRef().nativeElement.load(),this.recordedVideoPlayerRef().nativeElement.play().catch(t=>console.error("Error playing recorded video:",t)))}async generateVideo(t){if(!this.isAiAvailable()||!this.genAI){this.error.set("AI features are unavailable. Please check your configuration (window.AURA_GEMINI_API_KEY).");return}let n=this.videoPrompt().trim();if(!n){this.error.set("Please enter a prompt for video generation.");return}if(t&&!this.imageForVideoGeneration()){this.error.set('Please select an image first or clear "Generate from image" option.');return}this.isGeneratingVideo.set(!0),this.error.set(null),this.generatedVideoUrl.set(null),this.generationProgressMessage.set("Starting video generation...");try{let i,r={numberOfVideos:1,aspectRatio:this.aspectRatio()};if(t&&this.imageForVideoGeneration()){let s=this.imageForVideoGeneration().split(";")[0].split(":")[1],a=this.imageForVideoGeneration().split(",")[1];i=await this.genAI.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:n,image:{imageBytes:a,mimeType:s},config:r})}else i=await this.genAI.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:n,config:r});for(this.generationProgressMessage.set("Video generation in progress. This may take a few minutes...");!i.done;)await new Promise(s=>setTimeout(s,1e4)),this.generationProgressMessage.set(`Still generating... Current status: ${i.metadata?.state||"processing"}`),i=await this.genAI.operations.getVideosOperation({operation:i});let o=i.response?.generatedVideos?.[0]?.video?.uri;o?(this.generatedVideoUrl.set(`${o}&key=${this.aiService.getApiKey()}`),this.generationProgressMessage.set("Video generation complete!")):(this.error.set("Video generation failed: No download link in response."),this.generationProgressMessage.set(null))}catch(i){console.error("Error generating video:",i),this.error.set(`Video generation failed: ${i.message||"Unknown error"}.`),this.generationProgressMessage.set(null)}finally{this.isGeneratingVideo.set(!1)}}formatTime(t){if(isNaN(t)||t<0)return"00:00";let n=Math.floor(t/60),i=Math.floor(t%60);return`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}clearAll(){this.stopMediaStream(),this.isRecording.set(!1),this.recordedVideoBlob.set(null),this.recordedVideoUrl.set(null),this.recordingTime.set(0),this.videoPrompt.set(""),this.generatedVideoUrl.set(null),this.isGeneratingVideo.set(!1),this.generationProgressMessage.set(null),this.aspectRatio.set("16:9"),this.error.set(null)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ce({type:e,selectors:[["app-video-editor"]],viewQuery:function(n,i){n&1&&(fe(i.liveVideoPreviewRef,e0,5),fe(i.recordedVideoPlayerRef,t0,5)),n&2&&Te(2)},inputs:{imageForVideoGeneration:[1,"imageForVideoGeneration"],initialPrompt:[1,"initialPrompt"],theme:[1,"theme"]},decls:46,vars:48,consts:[["liveVideoPreview",""],["recordedVideoPlayer",""],[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"bg-red-900/50","text-red-300","p-3","text-center","border","border-red-500","animate-fade-in"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","flex-grow"],[1,"flex","flex-col","gap-4","p-4"],[1,"text-base"],[1,"flex-grow","flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden","bg-black","relative"],["autoplay","","muted","","playsinline","",1,"max-w-full","max-h-full","object-contain"],[1,"absolute","text-sm",3,"class"],[1,"absolute","top-2","left-2","text-red-500","animate-pulse","text-sm","flex","items-center","gap-1"],[1,"flex","gap-2"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"flex","flex-col","items-center","gap-2"],["for","video-prompt",1,"block","text-sm"],["id","video-prompt","placeholder","e.g., 'A neon hologram of a cat driving at top speed', 'A futuristic city at sunset with flying cars and towering skyscrapers.'","rows","4",1,"w-full","p-2","text-sm","focus:ring-500","resize-y",3,"input","value","disabled"],[1,"block","text-sm","mt-2"],[1,"flex","flex-wrap","gap-2","text-sm"],["type","button",1,"px-3","py-1","border",3,"class","disabled"],[1,"flex","flex-col","gap-2","mt-4"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"class","disabled"],[1,"text-sm","mt-2","text-center","animate-pulse",3,"class"],[1,"flex","justify-center","mt-4"],[1,"px-6","py-2","border-2","text-lg",3,"click"],[1,"absolute","text-sm"],[1,"w-2","h-2","rounded-full","bg-red-500"],[1,"text-base","mt-4"],[1,"flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden","bg-black"],["controls","",1,"max-w-full","max-h-full","object-contain",3,"src"],["download","aura-recorded-video.webm",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"],[1,"text-sm"],["alt","Image from editor",1,"w-24","h-24","object-cover","border",3,"src"],["type","button",1,"px-3","py-1","border",3,"click","disabled"],[1,"text-sm","mt-2","text-center","animate-pulse"],["controls","","autoplay","","loop","","muted","","playsinline","",1,"max-w-full","max-h-full","object-contain",3,"src"],["download","aura-ai-generated-video.mp4",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"]],template:function(n,i){if(n&1){let r=B();h(0,"div",2)(1,"h2",3),d(2,"[ AURA VIDEO LAB ]"),m(),x(3,i0,2,1,"div",4),h(4,"div",5)(5,"div",6)(6,"h3",7),d(7,"// CAMERA & RECORDING"),m(),h(8,"div",8),J(9,"video",9,0),x(11,r0,2,2,"span",10),x(12,o0,3,1,"span",11),m(),h(13,"div",12)(14,"button",13),k("click",function(){return C(r),_(i.toggleCamera())}),x(15,s0,2,0,"span")(16,a0,2,0,"span"),m()(),h(17,"div",12)(18,"button",13),k("click",function(){return C(r),_(i.startRecording())}),x(19,l0,2,0,"span")(20,c0,2,0,"span"),m(),h(21,"button",14),k("click",function(){return C(r),_(i.stopRecording())}),d(22," [ STOP ] "),m()(),x(23,u0,7,8),m(),h(24,"div",6)(25,"h3",7),d(26,"// AI VIDEO GENERATION"),m(),x(27,d0,4,5,"div",15),h(28,"label",16),d(29,"VIDEO PROMPT:"),m(),h(30,"textarea",17),k("input",function(s){return C(r),_(i.videoPrompt.set(s.target.value))}),m(),h(31,"label",18),d(32,"ASPECT RATIO:"),m(),h(33,"div",19),Z(34,f0,2,4,"button",20,ri),m(),h(36,"div",21)(37,"button",13),k("click",function(){return C(r),_(i.generateVideo(!1))}),x(38,p0,2,0,"span")(39,m0,2,0,"span"),m(),x(40,v0,3,4,"button",22),m(),x(41,y0,2,3,"p",23),x(42,E0,6,8),m()(),h(43,"div",24)(44,"button",25),k("click",function(){return C(r),_(i.clearAll())}),d(45," [ CLEAR ALL ] "),m()()()}n&2&&(p("border border-"+i.theme().purple+"-500/30"),c(),p("text-"+i.theme().purple+"-400"),c(2),M(i.error()?3:-1),c(2),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),p("border-"+i.theme().purple+"-700/50"),c(3),M(i.isCameraActive()?-1:11),c(),M(i.isRecording()?12:-1),c(2),p("hover:text-black"),O("disabled",i.isRecording()),c(),M(i.isCameraActive()?15:16),c(3),p("hover:text-black"),O("disabled",i.isRecording()||!i.isCameraActive()),c(),M(i.isRecording()?19:20),c(2),p("hover:text-black"),O("disabled",!i.isRecording()),c(2),M(i.recordedVideoUrl()?23:-1),c(),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),M(i.imageForVideoGeneration()?27:-1),c(),p("text-"+i.theme().purple+"-300"),c(2),p("focus:border-"+i.theme().purple+"-500"),O("value",i.videoPrompt())("disabled",i.isGeneratingVideo()||!i.isAiAvailable()),c(),p("text-"+i.theme().purple+"-300"),c(3),K(Et(47,n0)),c(3),p("hover:text-black"),O("disabled",!i.videoPrompt()||i.isGeneratingVideo()||!i.isAiAvailable()),c(),M(i.isGeneratingVideo()?38:39),c(2),M(i.imageForVideoGeneration()?40:-1),c(),M(i.generationProgressMessage()?41:-1),c(),M(i.generatedVideoUrl()?42:-1),c(2),p("hover:text-black"))},dependencies:[pe],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}};var C0=["visualizerCanvas"],Jr=class e{constructor(){this.analyserNode=te(void 0);this.canvasRef=he.required("visualizerCanvas");this.theme=te.required();ae(()=>{let t=this.analyserNode(),n=this.theme();t?(t.fftSize=256,this.dataArray=new Uint8Array(t.frequencyBinCount),this.startVisualizer()):this.stopVisualizer()})}ngAfterViewInit(){let t=this.canvasRef().nativeElement,n=t.getContext("2d");n?(this.ctx=n,t.width=t.offsetWidth,t.height=t.offsetHeight):console.error("Failed to get 2D rendering context for visualizer canvas.")}ngOnDestroy(){this.stopVisualizer()}startVisualizer(){if(this.stopVisualizer(),!this.ctx||!this.analyserNode()||!this.dataArray)return;let t=this.canvasRef().nativeElement;t.width=t.offsetWidth,t.height=t.offsetHeight,this.animationFrameId=requestAnimationFrame(this.draw.bind(this))}stopVisualizer(){if(this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0),this.ctx){let t=this.canvasRef().nativeElement;this.ctx.clearRect(0,0,t.width,t.height)}}draw(){let t=this.analyserNode(),n=this.canvasRef().nativeElement,i=this.ctx;if(!t||!i||!this.dataArray){this.stopVisualizer();return}t.getByteFrequencyData(this.dataArray),i.clearRect(0,0,n.width,n.height);let r=t.frequencyBinCount,o=n.width/r*.9,s=0;for(let a=0;a<r;a++){let l=this.dataArray[a]/255*n.height,u=a*(360/r);i.fillStyle=`hsl(${u}, 80%, 60%)`,i.fillRect(s,n.height-l,o,l),s+=o+n.width/r*.1}this.animationFrameId=requestAnimationFrame(this.draw.bind(this))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ce({type:e,selectors:[["app-audio-visualizer"]],viewQuery:function(n,i){n&1&&fe(i.canvasRef,C0,5),n&2&&Te()},inputs:{analyserNode:[1,"analyserNode"],theme:[1,"theme"]},decls:3,vars:2,consts:[["visualizerCanvas",""],[1,"visualizer-container"]],template:function(n,i){n&1&&(h(0,"div",1),J(1,"canvas",null,0),m()),n&2&&Se("--primary-color","var(--color-"+i.theme().primary+"-700)")},dependencies:[pe],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.visualizer-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:transparent;overflow:hidden;border:1px solid var(--primary-color)}canvas[_ngcontent-%COMP%]{display:block;width:100%;height:100%}"],changeDetection:0})}};var Ud=()=>[],_0=(e,t)=>t.midi;function D0(e,t){e&1&&(h(0,"span"),d(1,"[ STOP ]"),m())}function b0(e,t){e&1&&(h(0,"span"),d(1,"[ PLAY ]"),m())}function I0(e,t){if(e&1&&(h(0,"div",14),d(1),m()),e&2){let n=t.$index,i=g();p(i.currentStep()===n?"text-"+i.theme().primary+"-300":"text-"+i.theme().neutral+"-400"),re("font-bold",i.currentStep()===n),c(),j(" ",n+1," ")}}function w0(e,t){if(e&1){let n=B();h(0,"div",17),k("click",function(){let r=C(n).$index,o=g().$implicit,s=g();return _(s.toggleNote(o.midi,r))}),m()}if(e&2){let n=t.$implicit,i=t.$index,r=g(2);p(n&&r.currentStep()===i?"bg-"+r.theme().primary+"-400":"")}}function x0(e,t){if(e&1&&(h(0,"div",15),d(1),m(),Z(2,w0,1,2,"div",16,De)),e&2){let n=t.$implicit,i=g();p(n.name.includes("#")?"text-"+i.theme().primary+"-400/70":"text-"+i.theme().primary+"-400"),re("font-bold",n.name.includes("#")),c(),j(" ",i.getNoteDisplay(n)," "),c(),K(i.sequence().get(n.midi)||Et(5,Ud))}}var jd=3,M0=12,A0=2,Hd=16,Ga=[],T0=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];for(let e=jd;e<jd+A0;e++)for(let t=0;t<M0;t++)Ga.push({midi:60+(e-4)*12+t,name:T0[t],octave:e});Ga.reverse();var Xr=class e{constructor(){this.theme=te.required();this.allNotes=Ga;this.bpm=I(120);this.isPlaying=I(!1);this.currentStep=I(-1);this.sequence=I(new Map);this.audioContext=null;this.initializeEmptySequence(),ae(()=>{this.initializeEmptySequence()})}ngAfterViewInit(){}ngOnDestroy(){this.stop(),this.audioContext?.close().catch(t=>console.error("Error closing AudioContext:",t))}initializeEmptySequence(){let t=new Map;this.allNotes.forEach(n=>{t.set(n.midi,Array(Hd).fill(!1))}),this.sequence.set(t)}async initAudio(){this.audioContext&&this.audioContext.state==="running"||(this.audioContext||(this.audioContext=new AudioContext,this.masterGainNode=this.audioContext.createGain(),this.masterGainNode.gain.value=.5,this.masterGainNode.connect(this.audioContext.destination)),this.audioContext.state==="suspended"&&await this.audioContext.resume())}async togglePlay(){await this.initAudio(),this.isPlaying()?this.stop():this.start()}start(){this.isPlaying()||(this.isPlaying.set(!0),this.currentStep.set(this.currentStep()===-1?0:this.currentStep()),this.scheduleNextStep())}stop(){this.isPlaying.set(!1),this.timerId&&(clearTimeout(this.timerId),this.timerId=void 0)}resetSequence(){this.stop(),this.currentStep.set(-1),this.initializeEmptySequence()}scheduleNextStep(){if(!this.isPlaying()||!this.audioContext)return;let n=60/this.bpm()/4;this.timerId=window.setTimeout(()=>{let i=this.currentStep();this.playStep(i),this.currentStep.update(r=>(r+1)%Hd),this.scheduleNextStep()},n*1e3)}playStep(t){!this.audioContext||!this.masterGainNode||this.sequence().forEach((n,i)=>{n[t]&&this.playNote(i,this.audioContext.currentTime)})}playNote(t,n){if(!this.audioContext||!this.masterGainNode)return;let i=440*Math.pow(2,(t-69)/12),r=this.audioContext.createOscillator(),o=this.audioContext.createGain();r.type="sine",r.frequency.setValueAtTime(i,n),o.gain.setValueAtTime(.3,n),o.gain.exponentialRampToValueAtTime(1e-4,n+.5),r.connect(o),o.connect(this.masterGainNode),r.start(n),r.stop(n+.5)}toggleNote(t,n){this.sequence.update(i=>{let r=i.get(t);return r&&(r[n]=!r[n]),new Map(i)})}onBpmChange(t){let n=parseInt(t.target.value,10);!isNaN(n)&&n>=60&&n<=240&&(this.bpm.set(n),this.isPlaying()&&(this.stop(),this.start()))}getNoteDisplay(t){return`${t.name}${t.octave}`}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ce({type:e,selectors:[["app-piano-roll"]],inputs:{theme:[1,"theme"]},decls:22,vars:18,consts:[[1,"w-full","p-4","flex","flex-col","gap-4","relative"],[1,"text-center","text-lg"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-4","p-2"],[1,"flex","items-center","gap-4"],[1,"w-24","px-4","py-2","border-2","text-lg",3,"click"],[1,"px-3","py-2","border-2","text-lg",3,"click"],[1,"flex","items-center","gap-2"],["for","bpm",1,"text-sm"],["id","bpm-slider","type","range","min","60","max","240",1,"w-24","aura-slider",3,"input","value"],["id","bpm-text","type","number","min","60","max","240",1,"p-1","text-sm","w-16","text-center",3,"input","value"],[1,"w-full","overflow-x-auto"],[1,"piano-roll-grid","grid","gap-0.5","p-2"],[1,"sequencer-header","text-neutral-400","text-xs","text-right","pr-2"],[1,"step-header","text-xs","text-center","p-1",3,"class","font-bold"],[1,"step-header","text-xs","text-center","p-1"],[1,"note-name","text-xs","text-right","pr-2","py-1"],[1,"note-step","w-6","h-6","border","cursor-pointer","transition-all","duration-75",3,"class"],[1,"note-step","w-6","h-6","border","cursor-pointer","transition-all","duration-75",3,"click"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"h2",1),d(2,"[ AURA PIANO ROLL ]"),m(),h(3,"div",2)(4,"div",3)(5,"button",4),k("click",function(){return i.togglePlay()}),x(6,D0,2,0,"span")(7,b0,2,0,"span"),m(),h(8,"button",5),k("click",function(){return i.resetSequence()}),d(9," [ RESET ] "),m(),h(10,"div",6)(11,"label",7),d(12,"BPM:"),m(),h(13,"input",8),k("input",function(o){return i.onBpmChange(o)}),m(),h(14,"input",9),k("input",function(o){return i.onBpmChange(o)}),m()()()(),h(15,"div",10)(16,"div",11),J(17,"div",12),Z(18,I0,2,5,"div",13,De),Z(20,x0,4,6,null,null,_0),m()()()),n&2&&(p("border border-"+i.theme().primary+"-500/30"),c(),p("text-"+i.theme().primary+"-400"),c(2),p("border border-"+i.theme().primary+"-500/20"),c(2),p("hover:text-black"),c(),M(i.isPlaying()?6:7),c(2),p("hover:text-black"),c(5),O("value",i.bpm()),c(),p("focus:border-"+i.theme().primary+"-500"),O("value",i.bpm()),c(2),p("border border-"+i.theme().primary+"-500/20"),c(2),K(Et(17,Ud).constructor(16)),c(2),K(i.allNotes))},dependencies:[pe],styles:[".piano-roll-grid[_ngcontent-%COMP%]{grid-template-columns:80px repeat(16,1fr);grid-auto-rows:24px;width:max-content}.sequencer-header[_ngcontent-%COMP%], .note-name[_ngcontent-%COMP%], .note-step[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.aura-slider[_ngcontent-%COMP%]{-webkit-appearance:none;height:4px;border-radius:2px;background:var(--color-amber-900);outline:none;opacity:.7;transition:opacity .2s}.aura-slider[_ngcontent-%COMP%]:hover{opacity:1}.aura-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:12px;height:12px;border-radius:50%;background:var(--color-amber-400);cursor:pointer;border:1px solid var(--color-amber-900)}.aura-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:12px;height:12px;border-radius:50%;background:var(--color-amber-400);cursor:pointer;border:1px solid var(--color-amber-900)}div[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-neutral-800)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--color-primary-400);border-radius:4px;border:1px solid var(--color-primary-700)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--color-primary-300)}"],changeDetection:0})}};var S0=["audioPlayerA"],N0=["videoPlayerA"],R0=["audioPlayerB"],k0=["videoPlayerB"],P0=["fileInput"],Gd=(e,t)=>t.title,O0=(e,t)=>t.audioSrc;function F0(e,t){e&1&&(v(0,"span"),d(1,"[ DJ ]"),E())}function L0(e,t){e&1&&(v(0,"span"),d(1,"[ PIANO EDITOR ]"),E())}function V0(e,t){e&1&&(v(0,"span"),d(1,"[ IMAGE EDITOR ]"),E())}function B0(e,t){e&1&&(v(0,"span"),d(1,"[ VIDEO EDITOR ]"),E())}function j0(e,t){e&1&&(v(0,"span"),d(1,"[ NETWORKING ]"),E())}function H0(e,t){e&1&&(v(0,"span"),d(1,"[ PLAYER ]"),E())}function U0(e,t){e&1&&(v(0,"span"),d(1,"[ CLOSE CHATBOT ]"),E())}function $0(e,t){e&1&&(v(0,"span"),d(1,"[ CHATBOT ]"),E())}function G0(e,t){if(e&1){let n=B();v(0,"video",71,3),w("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))})("timeupdate",function(r){C(n);let o=g(2);return _(o.onTimeUpdate(r,"A"))})("loadedmetadata",function(r){C(n);let o=g(2);return _(o.onLoadedMetadata(r,"A"))})("ended",function(){C(n);let r=g(2);return _(r.onEnded("A"))}),E()}}function q0(e,t){if(e&1){let n=B();v(0,"div",72),w("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))}),ue(1,"div",73)(2,"div",74),E()}if(e&2){let n=g(2);Se("transform",n.scratchRotationA()),re("spinning",n.deckA().isPlaying&&!n.isScratchingA()),c(),p("bg-"+n.currentTheme().accent+"-600"),c(),p(n.djBgStone900)}}function z0(e,t){e&1&&(v(0,"span"),d(1,"[ || ]"),E())}function W0(e,t){e&1&&(v(0,"span"),d(1,"[ > ]"),E())}function Q0(e,t){if(e&1&&ue(0,"div",75),e&2){let n=t.$index,i=g(2);re("green",n/12<i.vuLevelA()&&n<8)("yellow",n/12<i.vuLevelA()&&n>=8&&n<10)("red",n/12<i.vuLevelA()&&n>=10)}}function Y0(e,t){if(e&1&&(v(0,"div",76),d(1,"[ SEARCHING... ]"),E()),e&2){let n=g(2);p("border-"+n.currentTheme().accent+"-500/50")}}function Z0(e,t){if(e&1){let n=B();v(0,"div",79)(1,"p",80),d(2),E(),v(3,"div",81)(4,"p",82),d(5),E(),v(6,"div",83)(7,"button",84),w("click",function(){let r=C(n).$implicit,o=g(3);return _(o.loadTrackToDeck(r,"A"))}),d(8,"->A"),E(),v(9,"button",84),w("click",function(){let r=C(n).$implicit,o=g(3);return _(o.loadTrackToDeck(r,"B"))}),d(10,"->B"),E()()()()}if(e&2){let n=t.$implicit,i=g(3);p("hover:bg-"+i.currentTheme().neutral+"-700/50"),c(2),j("> ",n.title),c(2),p(i.djTextNeutral400Class),c(),j("-- ",n.artist),c(2),p(i.djHoverBgClass),c(2),p(i.djHoverBgClass)}}function K0(e,t){if(e&1&&(v(0,"div",77),Z(1,Z0,11,10,"div",78,Gd),E()),e&2){let n=g(2);p("border-"+n.currentTheme().accent+"-500/50"),c(),K(n.searchResults())}}function J0(e,t){if(e&1){let n=B();v(0,"button",87),w("click",function(){C(n);let r=g(3);return _(r.shareMix())}),d(1,"[ SHARE ]"),E()}if(e&2){let n=g(3);p(n.djHoverBgClass)}}function X0(e,t){if(e&1&&(v(0,"div",63)(1,"a",85),d(2,"[ DOWNLOAD ]"),E(),x(3,J0,2,2,"button",86),E()),e&2){let n=g(2);c(),p(n.djHoverBgClass),F("href",t,ie),c(2),M(n.canShare()?3:-1)}}function ey(e,t){e&1&&(ue(0,"span",88),v(1,"span",89),d(2,"[ ACTIVE ]"),E())}function ty(e,t){if(e&1&&ue(0,"div",75),e&2){let n=t.$index,i=g(3);re("green",n/12<i.vuLevelMic()&&n<8)("yellow",n/12<i.vuLevelMic()&&n>=8&&n<10)("red",n/12<i.vuLevelMic()&&n>=10)}}function ny(e,t){if(e&1){let n=B();v(0,"div",65)(1,"div",90),Z(2,ty,1,6,"div",45,De),E(),v(4,"div",41)(5,"span",91),d(6,"VOL"),E(),v(7,"input",92),w("input",function(r){C(n);let o=g(2);return _(o.onMicVolumeChange(r))}),E()(),v(8,"div",41)(9,"span",91),d(10,"HI"),E(),v(11,"input",92),w("input",function(r){C(n);let o=g(2);return _(o.onMicEqChange(r,"High"))}),E()(),v(12,"div",41)(13,"span",91),d(14,"MID"),E(),v(15,"input",92),w("input",function(r){C(n);let o=g(2);return _(o.onMicEqChange(r,"Mid"))}),E()(),v(16,"div",41)(17,"span",91),d(18,"LOW"),E(),v(19,"input",92),w("input",function(r){C(n);let o=g(2);return _(o.onMicEqChange(r,"Low"))}),E()(),v(20,"div",41)(21,"span",91),d(22,"FX"),E(),v(23,"input",93),w("input",function(r){C(n);let o=g(2);return _(o.onMicFilterChange(r))}),E()()()}if(e&2){let n=g(2);c(),p(n.djBgStone800),c(),K(n.vuBars),c(5),F("value",n.micVolume()),c(4),F("value",n.micEqHigh()),c(4),F("value",n.micEqMid()),c(4),F("value",n.micEqLow()),c(4),F("value",n.getNormalizedFilterValue(n.micFilterFreq()))}}function iy(e,t){if(e&1&&ue(0,"div",75),e&2){let n=t.$index,i=g(2);re("green",n/12<i.vuLevelMaster()&&n<8)("yellow",n/12<i.vuLevelMaster()&&n>=8&&n<10)("red",n/12<i.vuLevelMaster()&&n>=10)}}function ry(e,t){if(e&1){let n=B();v(0,"video",71,4),w("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))})("timeupdate",function(r){C(n);let o=g(2);return _(o.onTimeUpdate(r,"B"))})("loadedmetadata",function(r){C(n);let o=g(2);return _(o.onLoadedMetadata(r,"B"))})("ended",function(){C(n);let r=g(2);return _(r.onEnded("B"))}),E()}}function oy(e,t){if(e&1){let n=B();v(0,"div",72),w("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))}),ue(1,"div",94)(2,"div",74),E()}if(e&2){let n=g(2);Se("transform",n.scratchRotationB()),re("spinning",n.deckB().isPlaying&&!n.isScratchingB()),c(),p("bg-"+n.currentTheme().accent+"-600"),c(),p(n.djBgStone900)}}function sy(e,t){e&1&&(v(0,"span"),d(1,"[ || ]"),E())}function ay(e,t){e&1&&(v(0,"span"),d(1,"[ > ]"),E())}function ly(e,t){if(e&1&&ue(0,"div",75),e&2){let n=t.$index,i=g(2);re("green",n/12<i.vuLevelB()&&n<8)("yellow",n/12<i.vuLevelB()&&n>=8&&n<10)("red",n/12<i.vuLevelB()&&n>=10)}}function cy(e,t){if(e&1){let n=B();v(0,"div",22)(1,"div",23)(2,"h2",24),d(3," [ DECK A ] "),E(),v(4,"div",25)(5,"div",26)(6,"div",27),x(7,G0,2,0,"video",28)(8,q0,3,8,"div",29),E(),v(9,"div",30)(10,"h3",31),d(11),E(),v(12,"p",32),d(13),E()(),v(14,"div",33)(15,"input",34),w("input",function(r){C(n);let o=g();return _(o.onProgressChange(r,"A"))}),E(),v(16,"div",35)(17,"span"),d(18),E(),v(19,"span"),d(20),E()()(),v(21,"div",36)(22,"button",37),w("click",function(){C(n);let r=g();return _(r.togglePlayPause("A"))}),x(23,z0,2,0,"span")(24,W0,2,0,"span"),E(),v(25,"button",38),w("click",function(){C(n);let r=g();return _(r.toggleLoop("A"))}),v(26,"span"),d(27,"[ REPEAT ]"),E()()()(),v(28,"div",39)(29,"div",40)(30,"div",41)(31,"span"),d(32,"GAIN"),E(),v(33,"input",42),w("input",function(r){C(n);let o=g();return _(o.onGainChange(r,"A"))}),E()(),v(34,"div",41)(35,"span"),d(36,"HI"),E(),v(37,"input",42),w("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"A","High"))}),E()(),v(38,"div",41)(39,"span"),d(40,"MID"),E(),v(41,"input",42),w("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"A","Mid"))}),E()(),v(42,"div",41)(43,"span"),d(44,"LOW"),E(),v(45,"input",42),w("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"A","Low"))}),E()(),v(46,"div",41)(47,"span"),d(48,"FX"),E(),v(49,"input",43),w("input",function(r){C(n);let o=g();return _(o.onFilterChange(r,"A"))}),E()()(),v(50,"div",44),Z(51,Q0,1,6,"div",45,De),E(),v(53,"div",46)(54,"span",47),d(55,"PITCH"),E(),v(56,"input",48),w("input",function(r){C(n);let o=g();return _(o.onPitchChange(r,"A"))}),E()()()()(),v(57,"div",49)(58,"h2",50),d(59,"[ MIXER ]"),E(),v(60,"div",51)(61,"form",52),w("submit",function(r){C(n);let o=g();return _(o.performSearch(r))}),v(62,"div",53)(63,"input",54),w("input",function(r){C(n);let o=g();return _(o.onSearchQueryInput(r))}),E(),v(64,"button",55),d(65,"[SCN]"),E()()(),x(66,Y0,2,2,"div",56),x(67,K0,3,2,"div",57),E(),v(68,"div",58)(69,"h3",47),d(70,"[ RECORDING ]"),E(),v(71,"div",59)(72,"button",60),w("click",function(){C(n);let r=g();return _(r.toggleRecording())}),v(73,"span",9),ue(74,"span",61),d(75),E()(),v(76,"span",62),d(77),E()(),x(78,X0,4,4,"div",63),E(),v(79,"div",58)(80,"h3",64),d(81," [ MICROPHONE ] "),x(82,ey,3,0),E(),v(83,"div",59)(84,"button",60),w("click",function(){C(n);let r=g();return _(r.toggleMicrophone())}),d(85),E()(),x(86,ny,24,7,"div",65),E(),v(87,"div",66)(88,"div",44),Z(89,iy,1,6,"div",45,De),E(),v(91,"input",67),w("input",function(r){C(n);let o=g();return _(o.onCrossfadeChange(r))}),E(),v(92,"input",68),w("input",function(r){C(n);let o=g();return _(o.onVolumeChange(r))}),E()(),v(93,"div",69)(94,"span"),d(95,"DECK A"),E(),v(96,"span"),d(97,"MASTER"),E(),v(98,"span"),d(99,"DECK B"),E()(),v(100,"button",70),w("click",function(){C(n);let r=g();return _(r.openFilePickerForDeck("B"))}),d(101,"[ LOAD FILE ]"),E()(),v(102,"div",23)(103,"h2",24),d(104," [ DECK B ] "),E(),v(105,"div",25)(106,"div",26)(107,"div",27),x(108,ry,2,0,"video",28)(109,oy,3,8,"div",29),E(),v(110,"div",30)(111,"h3",31),d(112),E(),v(113,"p",32),d(114),E()(),v(115,"div",33)(116,"input",34),w("input",function(r){C(n);let o=g();return _(o.onProgressChange(r,"B"))}),E(),v(117,"div",35)(118,"span"),d(119),E(),v(120,"span"),d(121),E()()(),v(122,"div",36)(123,"button",37),w("click",function(){C(n);let r=g();return _(r.togglePlayPause("B"))}),x(124,sy,2,0,"span")(125,ay,2,0,"span"),E(),v(126,"button",38),w("click",function(){C(n);let r=g();return _(r.toggleLoop("B"))}),v(127,"span"),d(128,"[ REPEAT ]"),E()()()(),v(129,"div",39)(130,"div",40)(131,"div",41)(132,"span"),d(133,"GAIN"),E(),v(134,"input",42),w("input",function(r){C(n);let o=g();return _(o.onGainChange(r,"B"))}),E()(),v(135,"div",41)(136,"span"),d(137,"HI"),E(),v(138,"input",42),w("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"B","High"))}),E()(),v(139,"div",41)(140,"span"),d(141,"MID"),E(),v(142,"input",42),w("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"B","Mid"))}),E()(),v(143,"div",41)(144,"span"),d(145,"LOW"),E(),v(146,"input",42),w("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"B","Low"))}),E()(),v(147,"div",41)(148,"span"),d(149,"FX"),E(),v(150,"input",43),w("input",function(r){C(n);let o=g();return _(o.onFilterChange(r,"B"))}),E()()(),v(151,"div",44),Z(152,ly,1,6,"div",45,De),E(),v(154,"div",46)(155,"span",47),d(156,"PITCH"),E(),v(157,"input",48),w("input",function(r){C(n);let o=g();return _(o.onPitchChange(r,"B"))}),E()()()()()()}if(e&2){let n,i=g();p(i.djTextNeutral400Class),c(),p(i.djBorderClass),c(),p(i.djTextColorClass),c(5),M(i.deckA().track.videoSrc?7:8),c(3),p(i.mainTextColorClass()),F("title",i.deckA().track.title),c(),W(i.deckA().track.title),c(),p(i.djTextNeutral400Class),F("title",i.deckA().track.artist),c(),j("-- ",i.deckA().track.artist," --"),c(2),F("max",i.deckA().duration)("value",i.deckA().progress),c(),p(i.djTextNeutral400Class),c(2),W(i.formatTime(i.deckA().progress)),c(2),W(i.formatTime(i.deckA().duration)),c(2),p(i.djHoverBgClass),c(),M(i.deckA().isPlaying?23:24),c(2),p(i.deckA().loop?"text-black":""),c(3),p("border-l-2 border-"+i.currentTheme().accent+"-500/20"),c(5),F("value",i.deckA().gain),c(4),F("value",i.deckA().eqHigh),c(4),F("value",i.deckA().eqMid),c(4),F("value",i.deckA().eqLow),c(4),F("value",i.getNormalizedFilterValue(i.deckA().filterFreq)),c(),p(i.djBgStone800),c(),K(i.vuBars),c(5),F("value",i.deckA().playbackRate),c(),p(i.djBorderClass),c(),p(i.djTextColorClass),c(5),p("focus:border-"+i.currentTheme().accent+"-500"),F("value",i.searchQuery()),c(),p(i.djHoverBgClass),c(2),M(i.isSearching()?66:-1),c(),M(i.searchResults().length>0?67:-1),c(),p(i.djBorderClass),c(4),p(i.djHoverBgClass),c(2),re("recording",i.isRecording()),c(),j(" ",i.isRecording()?"STOP":"REC"," "),c(2),W(i.formatTime(i.recordingTime())),c(),M((n=i.recordedMixUrl())?78:-1,n),c(),p(i.djBorderClass),c(3),M(i.micEnabled()?82:-1),c(2),p(i.djHoverBgClass),c(),j(" ",i.micEnabled()?"DISABLE":"ENABLE"," "),c(),M(i.micEnabled()?86:-1),c(2),p(i.djBgStone800),c(),K(i.vuBars),c(2),F("value",i.crossfade()),c(),F("value",i.volume()),c(8),p(i.djHoverBgClass),c(2),p(i.djBorderClass),c(),p(i.djTextColorClass),c(5),M(i.deckB().track.videoSrc?108:109),c(3),p(i.mainTextColorClass()),F("title",i.deckB().track.title),c(),W(i.deckB().track.title),c(),p(i.djTextNeutral400Class),F("title",i.deckB().track.artist),c(),j("-- ",i.deckB().track.artist," --"),c(2),F("max",i.deckB().duration)("value",i.deckB().progress),c(),p(i.djTextNeutral400Class),c(2),W(i.formatTime(i.deckB().progress)),c(2),W(i.formatTime(i.deckB().duration)),c(2),p(i.djHoverBgClass),c(),M(i.deckB().isPlaying?124:125),c(2),p(i.deckB().loop?"text-black":""),c(3),p("border-l-2 border-"+i.currentTheme().accent+"-500/20"),c(5),F("value",i.deckB().gain),c(4),F("value",i.deckB().eqHigh),c(4),F("value",i.deckB().eqMid),c(4),F("value",i.deckB().eqLow),c(4),F("value",i.getNormalizedFilterValue(i.deckB().filterFreq)),c(),p(i.djBgStone800),c(),K(i.vuBars),c(5),F("value",i.deckB().playbackRate)}}function uy(e,t){if(e&1&&ue(0,"app-piano-roll",13),e&2){let n=g();F("theme",n.currentTheme())}}function dy(e,t){e&1&&ue(0,"video",97,3)}function fy(e,t){if(e&1&&ue(0,"img",98),e&2){let n=g(2);F("src",n.deckA().track.albumArtUrl,ie)}}function py(e,t){e&1&&(v(0,"span"),d(1,"[ || ]"),E())}function my(e,t){e&1&&(v(0,"span"),d(1,"[ > ]"),E())}function hy(e,t){if(e&1&&(v(0,"div",76),d(1,"[ SEARCHING... ]"),E()),e&2){let n=g(2);p(n.mainBorderClass())}}function gy(e,t){if(e&1){let n=B();v(0,"div",79)(1,"p",80),d(2),E(),v(3,"div",81)(4,"p",119),d(5),E(),v(6,"div",83)(7,"button",120),w("click",function(){let r=C(n).$implicit,o=g(3);return _(o.addTrackToPlaylist(r,!0))}),d(8,"[ PLAY ]"),E(),v(9,"button",120),w("click",function(){let r=C(n).$implicit,o=g(3);return _(o.addTrackToPlaylist(r,!1))}),d(10,"[ +QUEUE ]"),E()()()()}if(e&2){let n=t.$implicit,i=g(3);p("hover:bg-"+i.currentTheme().primary+"-900/50"),c(),p(i.mainTextColorClass()),c(),j("> ",n.title),c(3),j("-- ",n.artist),c(2),p(i.mainHoverBgClass()),c(2),p(i.mainHoverBgClass())}}function vy(e,t){if(e&1&&(v(0,"div",117)(1,"h3",118),d(2,"[ Search Results ]"),E(),Z(3,gy,11,10,"div",78,Gd),E()),e&2){let n=g(2);p(n.mainBorderClass()),c(3),K(n.searchResults())}}function yy(e,t){if(e&1){let n=B();v(0,"div",121),w("click",function(){let r=C(n).$index,o=g(2);return _(o.playTrackFromPlaylist(r))}),v(1,"p",80),d(2),E(),v(3,"p",119),d(4),E()()}if(e&2){let n=t.$implicit,i=t.$index,r=g(2);p(r.currentTrackIndex()===i?"bg-"+r.currentTheme().primary+"-900/50":""),c(),re("text-white",r.currentTrackIndex()===i),c(),j("> ",n.title),c(2),j("-- ",n.artist)}}function Ey(e,t){e&1&&(v(0,"p",115),d(1,"[ Load a file or search to begin ]"),E())}function Cy(e,t){if(e&1){let n=B();v(0,"div",14)(1,"div",95)(2,"div",96),x(3,dy,2,0,"video",97)(4,fy,1,1,"img",98),E(),ue(5,"app-audio-visualizer",99),v(6,"div",30)(7,"h3",100),d(8),E(),v(9,"p",101),d(10),E()(),v(11,"div",33)(12,"input",34),w("input",function(r){C(n);let o=g();return _(o.onProgressChange(r,"A"))}),E(),v(13,"div",102)(14,"span"),d(15),E(),v(16,"span"),d(17),E()()(),v(18,"div",103)(19,"button",104),w("click",function(){C(n);let r=g();return _(r.playPrevious())}),d(20,"[ << ]"),E(),v(21,"button",105),w("click",function(){C(n);let r=g();return _(r.togglePlayPause("A"))}),x(22,py,2,0,"span")(23,my,2,0,"span"),E(),v(24,"button",104),w("click",function(){C(n);let r=g();return _(r.playNext())}),d(25,"[ >> ]"),E()(),v(26,"div",65)(27,"span",47),d(28,"VOL:"),E(),v(29,"input",106),w("input",function(r){C(n);let o=g();return _(o.onVolumeChange(r))}),E(),v(30,"button",107),w("click",function(){C(n);let r=g();return _(r.toggleEqPanel())}),d(31,"[EQ]"),E()()(),v(32,"div",108)(33,"form",52),w("submit",function(r){C(n);let o=g();return _(o.performSearch(r))}),v(34,"div",53)(35,"input",109),w("input",function(r){C(n);let o=g();return _(o.onSearchQueryInput(r))}),E(),v(36,"button",110),d(37,"[SCN]"),E()()(),x(38,hy,2,2,"div",56),x(39,vy,5,2,"div",111),v(40,"div",112)(41,"h3",113),d(42,"[ Playlist ]"),E(),Z(43,yy,5,6,"div",114,O0),x(45,Ey,2,0,"p",115),E(),v(46,"button",116),w("click",function(){C(n);let r=g();return _(r.openFilePickerForDeck(null))}),d(47,"[LOAD FILE]"),E()()()}if(e&2){let n=g();c(2),p(n.mainBorderClass()),c(),M(n.deckA().track.videoSrc?3:4),c(2),F("analyserNode",n.getMasterAnalyser())("theme",n.currentTheme()),c(2),p(n.mainTextColorClass()),F("title",n.deckA().track.title),c(),W(n.deckA().track.title),c(),F("title",n.deckA().track.artist),c(),j("-- ",n.deckA().track.artist," --"),c(2),F("max",n.deckA().duration)("value",n.deckA().progress),c(3),W(n.formatTime(n.deckA().progress)),c(2),W(n.formatTime(n.deckA().duration)),c(2),p(n.mainHoverBgClass()),c(2),p(n.mainHoverBgClass()),c(),M(n.deckA().isPlaying?22:23),c(2),p(n.mainHoverBgClass()),c(3),p(n.mainTextColorClass()),c(2),F("value",n.volume()),c(),p(n.mainHoverBgClass()),c(5),p("focus:border-"+n.currentTheme().primary+"-500"),F("value",n.searchQuery()),c(),p(n.mainHoverBgClass()),c(2),M(n.isSearching()?38:-1),c(),M(n.searchResults().length>0?39:-1),c(),p(n.mainBorderClass()),c(),p(n.mainTextColorClass()),c(2),K(n.playlist()),c(2),M(n.playlist().length===0?45:-1),c(),p(n.mainHoverBgClass())}}function _y(e,t){if(e&1){let n=B();v(0,"app-image-editor",122),w("imageSelected",function(r){C(n);let o=g();return _(o.handleImageSelectedForAlbumArt(r))})("imageAnalysisRequest",function(r){C(n);let o=g();return o.imageToAnalyzeUrl.set(r),_(o.showChatbot.set(!0))}),E()}if(e&2){let n=g();F("initialPrompt",n.imageEditorInitialPrompt())("theme",n.currentTheme())}}function Dy(e,t){if(e&1&&ue(0,"app-video-editor",16),e&2){let n=g();F("imageForVideoGeneration",n.lastImageEditorImageUrl())("initialPrompt",n.videoEditorInitialPrompt())("theme",n.currentTheme())}}function by(e,t){if(e&1&&ue(0,"app-networking",17),e&2){let n=g();F("initialSearchQuery",n.networkingLocationQuery())("theme",n.currentTheme())}}function Iy(e,t){if(e&1){let n=B();v(0,"app-eq-panel",123),w("close",function(){C(n);let r=g();return _(r.toggleEqPanel())})("eqChange",function(r){C(n);let o=g();return _(o.onMasterEqChange(r))})("enhancementsChange",function(r){C(n);let o=g();return _(o.onEnhancementsChange(r))}),E()}if(e&2){let n=g();F("eqSettings",n.eqSettings())("enhancements",n.enhancements())("theme",n.currentTheme())}}function wy(e,t){if(e&1){let n=B();v(0,"app-chatbot",124),w("appCommand",function(r){C(n);let o=g();return _(o.handleChatbotCommand(r))})("close",function(){C(n);let r=g();return _(r.showChatbot.set(!1))})("imageAnalysisResult",function(r){C(n);let o=g();return o.imageAnalysisResult.set(r),_(o.imageToAnalyzeUrl.set(null))})("mapLocationResult",function(r){C(n);let o=g();return o.mapLocationResult.set(r),_(o.mapLocationQuery.set(null))}),E()}if(e&2){let n=g();F("theme",n.currentTheme())("imageToAnalyzeUrl",n.imageToAnalyzeUrl())("mapLocationQuery",n.mapLocationQuery())}}function xy(e,t){if(e&1){let n=B();v(0,"div",125),w("click",function(){C(n);let r=g();return _(r.showApplyAlbumArtModal.set(!1))}),E(),v(1,"div",126)(2,"div",127)(3,"h2",62),d(4,"[[ Apply Album Art ]]"),E(),v(5,"button",128),w("click",function(){C(n);let r=g();return _(r.showApplyAlbumArtModal.set(!1))}),d(6," [X] "),E()(),v(7,"p",129),d(8,"Where do you want to apply this image?"),E(),v(9,"div",130)(10,"button",131),w("click",function(){C(n);let r=g();return _(r.applyImageAsAlbumArt("player"))}),d(11,"[ CURRENT PLAYER TRACK ]"),E(),v(12,"button",131),w("click",function(){C(n);let r=g();return _(r.applyImageAsAlbumArt("A"))}),d(13,"[ DECK A ]"),E(),v(14,"button",131),w("click",function(){C(n);let r=g();return _(r.applyImageAsAlbumArt("B"))}),d(15,"[ DECK B ]"),E()()()}if(e&2){let n=g();c(),p(n.mainTextColorClass()),c(4),p(n.mainHoverBgClass()),c(5),p(n.mainHoverBgClass()),c(2),p(n.mainHoverBgClass()),c(2),p(n.mainHoverBgClass())}}function My(e,t){if(e&1&&(v(0,"div",133),ue(1,"img",135),E()),e&2){let n=g(2);c(),p(n.mainBorderClass()),F("src",n.imageToAnalyzeUrl(),ie)}}function Ay(e,t){if(e&1){let n=B();v(0,"div",125),w("click",function(){C(n);let r=g();return _(r.showImageAnalysisModal.set(!1))}),E(),v(1,"div",132)(2,"div",127)(3,"h2",62),d(4,"[[ Image Analysis Result ]]"),E(),v(5,"button",128),w("click",function(){C(n);let r=g();return r.showImageAnalysisModal.set(!1),r.imageAnalysisResult.set(null),_(r.imageToAnalyzeUrl.set(null))}),d(6," [X] "),E()(),x(7,My,2,3,"div",133),v(8,"div",134)(9,"p"),d(10),E()()()}if(e&2){let n=g();c(),p(n.mainTextColorClass()),c(4),p(n.mainHoverBgClass()),c(2),M(n.imageToAnalyzeUrl()?7:-1),c(),p(n.mainBorderClass()),c(2),W(n.imageAnalysisResult())}}function Ty(e,t){if(e&1&&(v(0,"p",137),d(1),E()),e&2){let n=g(2);p(n.mainTextColorClass()),c(),j('Query: "',n.mapLocationQuery(),'"')}}function Sy(e,t){if(e&1){let n=B();v(0,"div",125),w("click",function(){C(n);let r=g();return _(r.showMapResultsModal.set(!1))}),E(),v(1,"div",132)(2,"div",127)(3,"h2",62),d(4,"[[ Map Search Result ]]"),E(),v(5,"button",128),w("click",function(){C(n);let r=g();return r.showMapResultsModal.set(!1),r.mapLocationResult.set(null),_(r.mapLocationQuery.set(null))}),d(6," [X] "),E()(),x(7,Ty,2,3,"p",136),v(8,"div",134)(9,"p"),d(10),E()()()}if(e&2){let n=g();c(),p(n.mainTextColorClass()),c(4),p(n.mainHoverBgClass()),c(2),M(n.mapLocationQuery()?7:-1),c(),p(n.mainBorderClass()),c(2),W(n.mapLocationResult())}}var eo={track:{title:"NO SIGNAL",artist:"Load a track into deck",albumArtUrl:"https://picsum.photos/seed/placeholder/500/500",audioSrc:""},isPlaying:!1,progress:0,duration:0,playbackRate:1,filterFreq:2e4,loop:!1,gain:50,eqHigh:50,eqMid:50,eqLow:50,wasPlayingBeforeScratch:!1},$d=[{name:"Green Vintage",primary:"green",accent:"amber",neutral:"neutral",purple:"purple",red:"red",blue:"blue"},{name:"Blue Retro",primary:"blue",accent:"fuchsia",neutral:"zinc",purple:"purple",red:"red",blue:"blue"},{name:"Red Glitch",primary:"red",accent:"cyan",neutral:"stone",purple:"purple",red:"red",blue:"blue"},{name:"Amber Glow",primary:"amber",accent:"green",neutral:"neutral",purple:"purple",red:"red",blue:"blue"},{name:"Purple Haze",primary:"purple",accent:"lime",neutral:"slate",purple:"purple",red:"red",blue:"blue"},{name:"Cyan Wave",primary:"cyan",accent:"violet",neutral:"gray",purple:"purple",red:"red",blue:"blue"},{name:"Yellow Neon",primary:"yellow",accent:"red",neutral:"stone",purple:"purple",red:"red",blue:"blue"}],to=class e{constructor(){this.audioPlayerARef=he("audioPlayerA");this.videoPlayerARef=he("videoPlayerA");this.audioPlayerBRef=he("audioPlayerB");this.videoPlayerBRef=he("videoPlayerB");this.fileInputRef=he("fileInput");this.mainViewMode=I("player");this.showChatbot=I(!0);this.deckA=I(A({},eo));this.deckB=I(A({},eo));this.crossfade=I(0);this.loadingTargetDeck=I(null);this.isScratchingA=I(!1);this.isScratchingB=I(!1);this.scratchRotationA=I("");this.scratchRotationB=I("");this.scratchStateA={active:!1,lastAngle:0,platterElement:null};this.scratchStateB={active:!1,lastAngle:0,platterElement:null};this.SCRATCH_SENSITIVITY=2.5;this.playlist=I([]);this.currentTrackIndex=I(-1);this.currentPlayerTrack=Y(()=>{let t=this.currentTrackIndex(),n=this.playlist();return t>=0&&t<n.length?n[t]:null});this.volume=I(.75);this.showEqPanel=I(!1);this.searchQuery=I("");this.isSearching=I(!1);this.searchResults=I([]);this.eqSettings=I([{label:"60Hz",value:50},{label:"310Hz",value:50},{label:"1KHz",value:50},{label:"6KHz",value:50},{label:"16KHz",value:50}]);this.enhancements=I({bassBoost:!1,surroundSound:!1});this.isRecording=I(!1);this.recordingTime=I(0);this.recordedMixUrl=I(null);this.recordedBlob=I(null);this.canShare=Y(()=>!!(navigator.share&&this.recordedBlob()));this.vuLevelA=I(0);this.vuLevelB=I(0);this.vuLevelMaster=I(0);this.vuBars=Array(12).fill(0);this.micEnabled=I(!1);this.micVolume=I(50);this.micEqHigh=I(50);this.micEqMid=I(50);this.micEqLow=I(50);this.micFilterFreq=I(2e4);this.vuLevelMic=I(0);this.THEMES=$d;this.currentTheme=I($d[0]);this.mainBorderClass=Y(()=>`border-${this.currentTheme().primary}-400/50`);this.mainTextColorClass=Y(()=>`text-${this.currentTheme().primary}-400`);this.mainHoverBgClass=Y(()=>`hover:bg-${this.currentTheme().primary}-400 hover:text-black`);this.mainBg90050Class=Y(()=>`bg-${this.currentTheme().primary}-900/50`);this.djBorderClass=Y(()=>`border-${this.currentTheme().accent}-500/30`);this.djTextColorClass=Y(()=>`text-${this.currentTheme().accent}-400`);this.djActiveBgClass=Y(()=>`bg-${this.currentTheme().accent}-500`);this.djHoverBgClass=Y(()=>`hover:bg-${this.currentTheme().accent}-500 hover:text-black`);this.djBg80050Class=Y(()=>`bg-${this.currentTheme().neutral}-800/50`);this.djTextAccent300Class=Y(()=>`text-${this.currentTheme().accent}-300`);this.djTextNeutral400Class=Y(()=>`text-${this.currentTheme().neutral}-400`);this.djBgStone900=Y(()=>`bg-${this.currentTheme().neutral}-900`);this.djBgStone700=Y(()=>`bg-${this.currentTheme().neutral}-700`);this.eqNodesMaster=[];this.micSourceNode=null;this.micGainNode=null;this.micEqNodes=[];this.micFilterNode=null;this.micStream=null;this.mediaRecorder=null;this.recordedChunks=[];this.imageEditorInitialPrompt=I("");this.videoEditorInitialPrompt=I("");this.lastImageEditorImageUrl=I(null);this.showApplyAlbumArtModal=I(!1);this.imageToApplyAsAlbumArt=I(null);this.imageToAnalyzeUrl=I(null);this.imageAnalysisResult=I(null);this.showImageAnalysisModal=I(!1);this.mapLocationQuery=I(null);this.mapLocationResult=I(null);this.showMapResultsModal=I(!1);this.networkingLocationQuery=I(null);this.selectedArtistProfile=I(null);this.showArtistDetailModal=I(!1);this.aiService=L(we);this.activeFileInputDeck=null;this.activeFileInputTrackPlayer=!1;this.initAudioContext(),this.initVUAnalysis(),ae(()=>{this.aiService.isAiAvailable||console.warn("AppComponent: AI services are not available.")}),ae(()=>{this.imageAnalysisResult()&&this.showImageAnalysisModal.set(!0)}),ae(()=>{this.mapLocationResult()&&this.showMapResultsModal.set(!0)}),ae(()=>{this.selectedArtistProfile()&&this.showArtistDetailModal.set(!0)}),this.loadTrackToDeck(eo.track,"A")}ngOnDestroy(){this.stopAllAudio(),this.audioContext&&this.audioContext.state!=="closed"&&this.audioContext.close().catch(t=>console.error("Error closing audio context:",t)),this.vuIntervalId&&clearInterval(this.vuIntervalId),this.stopMediaStream()}initAudioContext(){this.audioContext||(this.audioContext=new AudioContext,this.gainNodeMaster=this.audioContext.createGain(),this.crossfadeNode=this.audioContext.createGain(),this.analyserMaster=this.audioContext.createAnalyser(),this.analyserA=this.audioContext.createAnalyser(),this.analyserB=this.audioContext.createAnalyser(),this.analyserMic=this.audioContext.createAnalyser(),this.destinationNode=this.audioContext.createMediaStreamDestination(),this.crossfadeNode.connect(this.gainNodeMaster),this.setupMasterEq(this.gainNodeMaster),this.eqNodesMaster[this.eqNodesMaster.length-1].connect(this.analyserMaster),this.analyserMaster.connect(this.destinationNode),this.analyserMaster.connect(this.audioContext.destination),this.onCrossfadeChange({target:{value:this.crossfade()}}),this.onVolumeChange({target:{value:this.volume()}}),this.eqSettings().forEach((t,n)=>{this.onMasterEqChange(this.eqSettings())}))}setupMasterEq(t){this.eqNodesMaster=[];let n=[60,310,1e3,6e3,16e3];for(let i=0;i<n.length;i++){let r=this.audioContext.createBiquadFilter();r.type="peaking",r.frequency.value=n[i],r.Q.value=1,r.gain.value=0,this.eqNodesMaster.push(r)}if(this.eqNodesMaster.length>0){t.connect(this.eqNodesMaster[0]);for(let i=0;i<this.eqNodesMaster.length-1;i++)this.eqNodesMaster[i].connect(this.eqNodesMaster[i+1])}}initVUAnalysis(){this.vuIntervalId=window.setInterval(()=>{if(this.analyserA){let t=new Uint8Array(this.analyserA.fftSize);this.analyserA.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelA.set(n/255)}if(this.analyserB){let t=new Uint8Array(this.analyserB.fftSize);this.analyserB.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelB.set(n/255)}if(this.analyserMaster){let t=new Uint8Array(this.analyserMaster.fftSize);this.analyserMaster.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelMaster.set(n/255)}if(this.analyserMic&&this.micEnabled()){let t=new Uint8Array(this.analyserMic.fftSize);this.analyserMic.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelMic.set(n/255)}},100)}getMasterAnalyser(){return this.analyserMaster}openFilePickerForDeck(t){this.activeFileInputDeck=t,this.activeFileInputTrackPlayer=t===null,this.fileInputRef().nativeElement.click()}handleFileInput(t){let n=t.target.files?.[0];if(n){let i=URL.createObjectURL(n),r={title:n.name,artist:"Local File",albumArtUrl:"https://picsum.photos/seed/"+Math.random().toString(36).substring(7)+"/500/500",audioSrc:i,videoSrc:n.type.startsWith("video/")?i:void 0};this.activeFileInputDeck==="A"?this.loadTrackToDeck(r,"A"):this.activeFileInputDeck==="B"?this.loadTrackToDeck(r,"B"):this.activeFileInputTrackPlayer&&this.addTrackToPlaylist(r,!0)}this.fileInputRef()&&(this.fileInputRef().nativeElement.value=""),this.activeFileInputDeck=null,this.activeFileInputTrackPlayer=!1}loadTrackToDeck(t,n){let i=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),r=n==="A"?this.videoPlayerARef():this.videoPlayerBRef();if((n==="A"?this.deckA():this.deckB()).isPlaying&&(i?.nativeElement.pause(),r?.nativeElement&&r.nativeElement.pause()),!i){console.error(`Audio player reference for deck ${n} not found.`);return}this.loadingTargetDeck.set(n);let s=R(A({},eo),{track:t,isPlaying:!1});n==="A"?(this.deckA.set(s),i.nativeElement.src=t.audioSrc,this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.src=t.videoSrc||"")):(this.deckB.set(s),i.nativeElement.src=t.audioSrc,this.videoPlayerBRef()?.nativeElement&&(this.videoPlayerBRef().nativeElement.src=t.videoSrc||""))}togglePlayPause(t="player"){let n=t==="A"?this.audioPlayerARef():t==="B"?this.audioPlayerBRef():this.audioPlayerARef(),i=t==="A"?this.videoPlayerARef():t==="B"?this.videoPlayerBRef():this.videoPlayerARef(),r=t==="A"?this.deckA():t==="B"?this.deckB():this.deckA();if(!n||!n.nativeElement.src){console.warn(`No track loaded for deck ${t}.`);return}this.audioContext.state==="suspended"&&this.audioContext.resume().catch(a=>console.error("Error resuming AudioContext:",a));let o=!r.isPlaying;if(o){let a=n.nativeElement.__sourceNode;a||(a=this.audioContext.createMediaElementSource(n.nativeElement),n.nativeElement.__sourceNode=a,t==="A"?(this.gainNodeA=this.audioContext.createGain(),a.connect(this.gainNodeA),this.gainNodeA.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode)):t==="B"?(this.gainNodeB=this.audioContext.createGain(),a.connect(this.gainNodeB),this.gainNodeB.connect(this.analyserB),this.analyserB.connect(this.crossfadeNode)):(this.gainNodeA=this.audioContext.createGain(),a.connect(this.gainNodeA),a.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode))),n.nativeElement.play().catch(l=>console.error(`Error playing deck ${t}:`,l)),i?.nativeElement&&i.nativeElement.play().catch(l=>console.error(`Error playing video for deck ${t}:`,l))}else n.nativeElement.pause(),i?.nativeElement&&i.nativeElement.pause();let s=a=>R(A({},a),{isPlaying:o});t==="A"||t==="player"?this.deckA.update(s):this.deckB.update(s)}onTimeUpdate(t,n){let i=t.target,r=o=>R(A({},o),{progress:i.currentTime});n==="A"?this.deckA.update(r):this.deckB.update(r)}onLoadedMetadata(t,n){let i=t.target,r=o=>R(A({},o),{duration:i.duration,progress:0});if(n==="A"){this.deckA.update(r),this.gainNodeA&&(this.gainNodeA.gain.value=this.mapSliderToGain(this.deckA().gain));let o=i.__sourceNode;o||(o=this.audioContext.createMediaElementSource(i),i.__sourceNode=o,this.gainNodeA=this.audioContext.createGain(),o.connect(this.gainNodeA),this.gainNodeA.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode)),this.onEqChange({target:{value:this.deckA().eqHigh}},"A","High"),this.onEqChange({target:{value:this.deckA().eqMid}},"A","Mid"),this.onEqChange({target:{value:this.deckA().eqLow}},"A","Low"),this.onFilterChange({target:{value:this.getNormalizedFilterValue(this.deckA().filterFreq)}},"A")}else{this.deckB.update(r),this.gainNodeB&&(this.gainNodeB.gain.value=this.mapSliderToGain(this.deckB().gain));let o=i.__sourceNode;o||(o=this.audioContext.createMediaElementSource(i),i.__sourceNode=o,this.gainNodeB=this.audioContext.createGain(),o.connect(this.gainNodeB),this.gainNodeB.connect(this.analyserB),this.analyserB.connect(this.crossfadeNode)),this.onEqChange({target:{value:this.deckB().eqHigh}},"B","High"),this.onEqChange({target:{value:this.deckB().eqMid}},"B","Mid"),this.onEqChange({target:{value:this.deckB().eqLow}},"B","Low"),this.onFilterChange({target:{value:this.getNormalizedFilterValue(this.deckB().filterFreq)}},"B")}this.loadingTargetDeck.set(null)}onEnded(t){let n=i=>R(A({},i),{isPlaying:!1,progress:0});t==="A"?(this.deckA.update(i=>i.loop?R(A({},i),{progress:0,isPlaying:!0}):n(i)),this.deckA().loop&&(this.audioPlayerARef().nativeElement.currentTime=0,this.audioPlayerARef().nativeElement.play(),this.videoPlayerARef()?.nativeElement.play())):(this.deckB.update(i=>i.loop?R(A({},i),{progress:0,isPlaying:!0}):n(i)),this.deckB().loop&&(this.audioPlayerBRef().nativeElement.currentTime=0,this.audioPlayerBRef().nativeElement.play(),this.videoPlayerBRef()?.nativeElement.play())),this.mainViewMode()==="player"&&t==="A"&&!this.deckA().loop&&this.playNext()}onProgressChange(t,n){let i=parseInt(t.target.value,10),r=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),o=n==="A"?this.videoPlayerARef():this.videoPlayerBRef();r?.nativeElement&&(r.nativeElement.currentTime=i,o?.nativeElement&&(o.nativeElement.currentTime=i));let s=a=>R(A({},a),{progress:i});n==="A"?this.deckA.update(s):this.deckB.update(s)}toggleLoop(t){let n=i=>R(A({},i),{loop:!i.loop});t==="A"?this.deckA.update(n):this.deckB.update(n)}addTrackToPlaylist(t,n=!1){if(this.playlist.update(i=>[...i,t]),this.searchResults.set([]),n){let i=this.playlist().length-1;this.playTrackFromPlaylist(i)}}playTrackFromPlaylist(t){let n=this.playlist();if(t>=0&&t<n.length){this.currentTrackIndex.set(t);let i=n[t];this.loadTrackToDeck(i,"A"),this.deckA().isPlaying||this.togglePlayPause("A")}}playNext(){let t=this.playlist();if(t.length===0)return;let n=(this.currentTrackIndex()+1)%t.length;this.playTrackFromPlaylist(n)}playPrevious(){let t=this.playlist();if(t.length===0)return;let n=this.currentTrackIndex()-1;n<0&&(n=t.length-1),this.playTrackFromPlaylist(n)}onVolumeChange(t){let n=parseFloat(t.target.value);this.volume.set(n),this.gainNodeMaster&&(this.gainNodeMaster.gain.value=n)}toggleEqPanel(){this.showEqPanel.update(t=>!t)}onMasterEqChange(t){this.eqSettings.set(t),t.forEach((n,i)=>{this.eqNodesMaster[i]&&(this.eqNodesMaster[i].gain.value=this.mapSliderToDb(n.value))})}onEnhancementsChange(t){this.enhancements.set(t),console.log("Enhancements updated:",t)}mapSliderToGain(t){return t/100}onGainChange(t,n){let i=parseInt(t.target.value,10),r=this.mapSliderToGain(i),o=s=>R(A({},s),{gain:i});n==="A"?(this.deckA.update(o),this.gainNodeA&&(this.gainNodeA.gain.value=r)):(this.deckB.update(o),this.gainNodeB&&(this.gainNodeB.gain.value=r))}mapSliderToDb(t){return(t-50)*.48}onEqChange(t,n,i){let r=parseInt(t.target.value,10),o=this.mapSliderToDb(r),s=a=>R(A({},a),{[`eq${i}`]:r});n==="A"?this.deckA.update(s):this.deckB.update(s)}getNormalizedFilterValue(t){return Math.log10(t/20)/Math.log10(1e3)}mapFilterSliderToFreq(t){let r=Math.log10(20),o=Math.log10(2e4),s=r+t*(o-r);return Math.pow(10,s)}onFilterChange(t,n){let i=parseFloat(t.target.value),r=this.mapFilterSliderToFreq(i),o=s=>R(A({},s),{filterFreq:r});n==="A"?this.deckA.update(o):this.deckB.update(o)}onPitchChange(t,n){let i=parseFloat(t.target.value),r=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),o=n==="A"?this.videoPlayerARef():this.videoPlayerBRef();r?.nativeElement&&(r.nativeElement.playbackRate=i,o?.nativeElement&&(o.nativeElement.playbackRate=i));let s=a=>R(A({},a),{playbackRate:i});n==="A"?this.deckA.update(s):this.deckB.update(s)}onCrossfadeChange(t){let n=parseFloat(t.target.value);this.crossfade.set(n);let i=Math.cos((n+1)/2*(Math.PI/2)),r=Math.cos((1-n)/2*(Math.PI/2));this.gainNodeA&&(this.gainNodeA.gain.value=i),this.gainNodeB&&(this.gainNodeB.gain.value=r)}getElementAngle(t,n,i){let r=t.getBoundingClientRect(),o=r.left+r.width/2,s=r.top+r.height/2;return Math.atan2(i-s,n-o)}onScratchStart(t,n){let i=t.currentTarget.querySelector(".vinyl-platter");if(!i)return;t.preventDefault();let r,o;t instanceof TouchEvent?(r=t.touches[0].clientX,o=t.touches[0].clientY):(r=t.clientX,o=t.clientY);let s=n==="A"?this.deckA():this.deckB(),a=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),l=n==="A"?this.videoPlayerARef():this.videoPlayerBRef(),u=n==="A"?this.scratchStateA:this.scratchStateB;u.active=!0,u.platterElement=i,u.lastAngle=this.getElementAngle(i,r,o),u.initialTouchX=r,u.initialTouchY=o,a?.nativeElement&&s.isPlaying?(a.nativeElement.pause(),l?.nativeElement&&l.nativeElement.pause(),n==="A"?this.deckA.update(f=>R(A({},f),{isPlaying:!1,wasPlayingBeforeScratch:!0})):this.deckB.update(f=>R(A({},f),{isPlaying:!1,wasPlayingBeforeScratch:!0}))):a?.nativeElement&&(n==="A"?this.deckA.update(f=>R(A({},f),{wasPlayingBeforeScratch:!1})):this.deckB.update(f=>R(A({},f),{wasPlayingBeforeScratch:!1}))),n==="A"?this.isScratchingA.set(!0):this.isScratchingB.set(!0)}onScratch(t){if(!this.scratchStateA.active&&!this.scratchStateB.active)return;t.preventDefault();let n,i;if(t instanceof TouchEvent){if(t.touches.length===0)return;n=t.touches[0].clientX,i=t.touches[0].clientY}else n=t.clientX,i=t.clientY;this.scratchStateA.active&&this.scratchStateA.platterElement&&this.applyScratch(this.scratchStateA,n,i,"A"),this.scratchStateB.active&&this.scratchStateB.platterElement&&this.applyScratch(this.scratchStateB,n,i,"B")}applyScratch(t,n,i,r){if(!t.platterElement)return;let o=r==="A"?this.audioPlayerARef():this.audioPlayerBRef(),s=r==="A"?this.videoPlayerARef():this.videoPlayerBRef(),a=this.getElementAngle(t.platterElement,n,i),l=a-t.lastAngle;l>Math.PI&&(l-=2*Math.PI),l<-Math.PI&&(l+=2*Math.PI);let f=parseInt(t.platterElement.style.transform.replace("rotate(","").replace("deg)","")||"0",10)+l*180/Math.PI;if((r==="A"?this.scratchRotationA:this.scratchRotationB).set(`rotate(${f}deg)`),o?.nativeElement?.src){let b=l*this.SCRATCH_SENSITIVITY;o.nativeElement.currentTime+=b,s?.nativeElement&&(s.nativeElement.currentTime+=b)}t.lastAngle=a}onScratchEnd(){this.isScratchingA()||this.isScratchingB(),this.scratchStateA.active&&(this.scratchStateA.active=!1,this.scratchStateA.platterElement=null,this.isScratchingA.set(!1),this.deckA().wasPlayingBeforeScratch&&this.audioPlayerARef()?.nativeElement&&!this.deckA().isPlaying&&this.togglePlayPause("A")),this.scratchStateB.active&&(this.scratchStateB.active=!1,this.scratchStateB.platterElement=null,this.isScratchingB.set(!1),this.deckB().wasPlayingBeforeScratch&&this.audioPlayerBRef()?.nativeElement&&!this.deckB().isPlaying&&this.togglePlayPause("B"))}toggleRecording(){this.isRecording()?this.stopMasterRecording():this.startMasterRecording()}startMasterRecording(){if(!this.audioContext||!this.destinationNode){console.error("AudioContext or MediaStreamAudioDestinationNode not initialized.");return}if(!this.isRecording()){this.recordedChunks=[],this.recordedMixUrl.set(null),this.recordedBlob.set(null),this.recordingTime.set(0);try{this.mediaRecorder=new MediaRecorder(this.destinationNode.stream,{mimeType:"audio/webm; codecs=opus"}),this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&this.recordedChunks.push(t.data)},this.mediaRecorder.onstop=()=>{let t=new Blob(this.recordedChunks,{type:"audio/webm"});this.recordedBlob.set(t),this.recordedMixUrl.set(URL.createObjectURL(t)),console.log("Master recording stopped. Blob created."),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.onerror=t=>{console.error("Master MediaRecorder error:",t.error),this.isRecording.set(!1),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.start(),this.isRecording.set(!0),this.recordingIntervalId=window.setInterval(()=>this.recordingTime.update(t=>t+1),1e3),console.log("Master recording started.")}catch(t){console.error("Error starting Master MediaRecorder:",t),this.isRecording.set(!1)}}}stopMasterRecording(){this.mediaRecorder&&this.isRecording()&&(this.mediaRecorder.stop(),this.isRecording.set(!1),console.log("Attempting to stop master recording..."))}async shareMix(){let t=this.recordedBlob();if(!t||!this.canShare()){console.warn("No recorded mix available or Web Share API not supported.");return}let n=new File([t],"aura-mix.webm",{type:t.type});try{await navigator.share({files:[n],title:"Aura Mix",text:"Check out my latest mix from Aura Music Player!"}),console.log("Mix shared successfully.")}catch(i){console.error("Error sharing mix:",i)}}async toggleMicrophone(){this.micEnabled()?this.stopMicrophone():await this.startMicrophone()}async startMicrophone(){if(!this.micEnabled())try{this.micStream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.micSourceNode=this.audioContext.createMediaStreamSource(this.micStream),this.micGainNode=this.audioContext.createGain(),this.micFilterNode=this.audioContext.createBiquadFilter(),this.micFilterNode.type="lowpass",this.micFilterNode.frequency.value=this.micFilterFreq();let t=[250,2500,1e4];this.micEqNodes=t.map(n=>{let i=this.audioContext.createBiquadFilter();return i.type="peaking",i.frequency.value=n,i.Q.value=1,i.gain.value=0,i}),this.micSourceNode.connect(this.micGainNode),this.micGainNode.connect(this.micEqNodes[0]),this.micEqNodes[0].connect(this.micEqNodes[1]),this.micEqNodes[1].connect(this.micEqNodes[2]),this.micEqNodes[2].connect(this.micFilterNode),this.micFilterNode.connect(this.analyserMic),this.analyserMic.connect(this.gainNodeMaster),this.onMicVolumeChange({target:{value:this.micVolume()}}),this.onMicEqChange({target:{value:this.micEqHigh()}},"High"),this.onMicEqChange({target:{value:this.micEqMid()}},"Mid"),this.onMicEqChange({target:{value:this.micEqLow()}},"Low"),this.onMicFilterChange({target:{value:this.getNormalizedFilterValue(this.micFilterFreq())}}),this.micEnabled.set(!0),console.log("Microphone enabled.")}catch(t){console.error("Error enabling microphone:",t),this.micEnabled.set(!1),alert("Failed to access microphone. Please ensure permissions are granted.")}}stopMicrophone(){this.micStream&&(this.micStream.getTracks().forEach(t=>t.stop()),this.micStream=null),this.micSourceNode&&this.micSourceNode.disconnect(),this.micGainNode&&this.micGainNode.disconnect(),this.micFilterNode&&this.micFilterNode.disconnect(),this.micEqNodes.forEach(t=>t.disconnect()),this.analyserMic&&this.analyserMic.disconnect(),this.micSourceNode=null,this.micGainNode=null,this.micFilterNode=null,this.micEqNodes=[],this.micEnabled.set(!1),this.vuLevelMic.set(0),console.log("Microphone disabled.")}onMicVolumeChange(t){let n=parseInt(t.target.value,10);this.micVolume.set(n),this.micGainNode&&(this.micGainNode.gain.value=this.mapSliderToGain(n))}onMicEqChange(t,n){let i=parseInt(t.target.value,10),r=this.mapSliderToDb(i);n==="High"&&this.micEqNodes[2]?(this.micEqHigh.set(i),this.micEqNodes[2].gain.value=r):n==="Mid"&&this.micEqNodes[1]?(this.micEqMid.set(i),this.micEqNodes[1].gain.value=r):n==="Low"&&this.micEqNodes[0]&&(this.micEqLow.set(i),this.micEqNodes[0].gain.value=r)}onMicFilterChange(t){let n=parseFloat(t.target.value),i=this.mapFilterSliderToFreq(n);this.micFilterFreq.set(i),this.micFilterNode&&(this.micFilterNode.frequency.value=i)}toggleMainViewMode(){let t=["player","dj","piano-roll","image-editor","video-editor","networking"],n=this.mainViewMode(),r=(t.indexOf(n)+1)%t.length;this.mainViewMode.set(t[r]),this.stopAllAudio(),t[r]!=="image-editor"&&this.imageEditorInitialPrompt.set(""),t[r]!=="video-editor"&&this.videoEditorInitialPrompt.set(""),t[r]!=="networking"&&(this.networkingLocationQuery.set(null),this.selectedArtistProfile.set(null)),this.lastImageEditorImageUrl.set(null),t[r]==="dj"&&(this.audioPlayerARef()?.nativeElement.load(),this.audioPlayerBRef()?.nativeElement.load(),this.deckA().isPlaying&&this.togglePlayPause("A"),this.deckB().isPlaying&&this.togglePlayPause("B"))}toggleChatbot(){this.showChatbot.update(t=>!t),this.showChatbot()||(this.imageToAnalyzeUrl.set(null),this.imageAnalysisResult.set(null),this.mapLocationQuery.set(null),this.mapLocationResult.set(null),this.showImageAnalysisModal.set(!1),this.showMapResultsModal.set(!1),this.networkingLocationQuery.set(null),this.selectedArtistProfile.set(null),this.showArtistDetailModal.set(!1))}handleChatbotCommand(t){console.log("AppComponent: Received chatbot command:",t);let{action:n,parameters:i,aiContext:r}=t;switch(n){case"SET_THEME":let o=i.theme,s=this.THEMES.find(a=>a.name.toLowerCase()===o.toLowerCase());s?(this.currentTheme.set(s),console.log(`Theme set to: ${s.name}`)):console.warn(`Theme "${o}" not found.`);break;case"PLAY_TRACK":if(i.title){let a=this.playlist().find(l=>l.title.toLowerCase().includes(i.title.toLowerCase()))||this.searchResults().find(l=>l.title.toLowerCase().includes(i.title.toLowerCase()));if(a){let l=this.playlist().indexOf(a);l!==-1?this.playTrackFromPlaylist(l):this.addTrackToPlaylist(a,!0)}else console.warn(`Track with title "${i.title}" not found.`)}break;case"PAUSE_TRACK":this.deckA().isPlaying&&this.togglePlayPause("A");break;case"STOP_TRACK":this.audioPlayerARef()?.nativeElement.pause(),this.audioPlayerARef()?.nativeElement&&(this.audioPlayerARef().nativeElement.currentTime=0),this.videoPlayerARef()?.nativeElement.pause(),this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.currentTime=0),this.deckA.update(a=>R(A({},a),{isPlaying:!1,progress:0}));break;case"NEXT_TRACK":this.playNext();break;case"PREVIOUS_TRACK":this.playPrevious();break;case"TOGGLE_LOOP":this.toggleLoop("A");break;case"LOAD_TRACK":console.warn("LOAD_TRACK command not fully implemented for chatbot direct loading.");break;case"GENERATE_IMAGE":i.prompt&&(this.imageEditorInitialPrompt.set(i.prompt),this.mainViewMode.set("image-editor"),this.showChatbot.set(!1));break;case"GENERATE_VIDEO":i.prompt&&(this.videoEditorInitialPrompt.set(i.prompt),this.mainViewMode.set("video-editor"),this.showChatbot.set(!1));break;case"ANALYZE_IMAGE":i.imageUrl&&(this.imageToAnalyzeUrl.set(i.imageUrl),this.showChatbot.set(!0));break;case"FIND_ON_MAP":i.query&&(this.mapLocationQuery.set(i.query),this.showChatbot.set(!0));break;case"FIND_ARTISTS":i.location&&(this.networkingLocationQuery.set(i.location),this.mainViewMode.set("networking"),this.showChatbot.set(!1));break;case"VIEW_ARTIST_PROFILE":if(i.name){let a=tt.filter(l=>l.name.toLowerCase()===i.name.toLowerCase()||i.genre&&l.genres.some(u=>u.toLowerCase().includes(i.genre.toLowerCase()))||i.location&&l.location.toLowerCase().includes(i.location.toLowerCase()));a.length>0?(this.selectedArtistProfile.set(a[0]),this.mainViewMode.set("networking"),this.showChatbot.set(!1)):console.warn(`Artist "${i.name}" not found in mock data or no matching criteria.`)}break;default:console.warn(`Unknown chatbot command: ${n}`);break}}handleImageSelectedForAlbumArt(t){this.imageToApplyAsAlbumArt.set(t),this.showApplyAlbumArtModal.set(!0),this.lastImageEditorImageUrl.set(t),this.showChatbot.set(!1)}applyImageAsAlbumArt(t){let n=this.imageToApplyAsAlbumArt();n&&(t==="player"&&this.currentPlayerTrack()?(this.playlist.update(i=>i.map((r,o)=>o===this.currentTrackIndex()?R(A({},r),{albumArtUrl:n}):r)),this.deckA.update(i=>R(A({},i),{track:R(A({},i.track),{albumArtUrl:n})}))):t==="A"?this.deckA.update(i=>R(A({},i),{track:R(A({},i.track),{albumArtUrl:n})})):t==="B"&&this.deckB.update(i=>R(A({},i),{track:R(A({},i.track),{albumArtUrl:n})})),this.showApplyAlbumArtModal.set(!1),this.imageToApplyAsAlbumArt.set(null))}stopAllAudio(){this.audioPlayerARef()?.nativeElement.pause(),this.audioPlayerARef()?.nativeElement&&(this.audioPlayerARef().nativeElement.currentTime=0),this.videoPlayerARef()?.nativeElement.pause(),this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.currentTime=0),this.deckA.update(t=>R(A({},t),{isPlaying:!1,progress:0})),this.audioPlayerBRef()?.nativeElement.pause(),this.audioPlayerBRef()?.nativeElement&&(this.audioPlayerBRef().nativeElement.currentTime=0),this.videoPlayerBRef()?.nativeElement.pause(),this.videoPlayerBRef()?.nativeElement&&(this.videoPlayerBRef().nativeElement.currentTime=0),this.deckB.update(t=>R(A({},t),{isPlaying:!1,progress:0})),this.stopMicrophone()}stopMediaStream(){this.micStream&&(this.micStream.getTracks().forEach(t=>t.stop()),this.micStream=null)}formatTime(t){if(isNaN(t)||t<0)return"00:00";let n=Math.floor(t/60),i=Math.floor(t%60);return`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}randomizeTheme(){let t=this.currentTheme();for(;t===this.currentTheme();)t=this.THEMES[Math.floor(Math.random()*this.THEMES.length)];this.currentTheme.set(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=ce({type:e,selectors:[["app-root"]],viewQuery:function(n,i){n&1&&(fe(i.audioPlayerARef,S0,5),fe(i.videoPlayerARef,N0,5),fe(i.audioPlayerBRef,R0,5),fe(i.videoPlayerBRef,k0,5),fe(i.fileInputRef,P0,5)),n&2&&Te(5)},hostBindings:function(n,i){n&1&&w("mousemove",function(o){return i.onScratch(o)},yn)("touchmove",function(o){return i.onScratch(o)},yn)("mouseup",function(){return i.onScratchEnd()},yn)("touchend",function(){return i.onScratchEnd()},yn)},decls:38,vars:20,consts:[["audioPlayerA",""],["audioPlayerB",""],["fileInput",""],["videoPlayerA",""],["videoPlayerB",""],[1,"bg-black","text-green-400","font-mono","min-h-screen","flex","items-center","justify-center","p-2","sm:p-4","relative","overflow-hidden"],[1,"w-full","max-w-7xl","border-2","bg-black/80","backdrop-blur-sm","z-10","flex","flex-col","transition-colors","duration-500"],[1,"flex","justify-between","items-center","p-2","sm:p-4","border-b-2","border-inherit"],[1,"text-xl","sm:text-2xl"],[1,"flex","items-center","gap-2"],[1,"p-2","border","border-inherit","hover:text-black","text-sm","transition-colors",3,"click"],[1,"p-2","sm:p-4"],[1,"flex","flex-col","lg:flex-row","gap-4",3,"class"],[3,"theme"],[1,"flex","flex-col","md:flex-row","gap-4"],[3,"initialPrompt","theme"],[3,"imageForVideoGeneration","initialPrompt","theme"],[3,"initialSearchQuery","theme"],[3,"eqSettings","enhancements","theme"],["preload","auto",3,"timeupdate","loadedmetadata","ended"],["type","file","accept","audio/*,video/*",1,"hidden",3,"change"],[3,"theme","imageToAnalyzeUrl","mapLocationQuery"],[1,"flex","flex-col","lg:flex-row","gap-4"],[1,"flex-1","p-2","space-y-3"],[1,"text-center","text-lg","flex","items-center","justify-center","gap-2"],[1,"flex","gap-4"],[1,"flex-1","space-y-3"],[1,"w-full","aspect-square","mx-auto","flex","items-center","justify-center","bg-black","relative"],["muted","","playsinline","","preload","auto",1,"w-full","h-full","object-cover"],[1,"vinyl-platter",3,"spinning","transform"],[1,"text-center"],[1,"text-base","truncate",3,"title"],[1,"text-xs","truncate",3,"title"],[1,"space-y-1"],["type","range","min","0",1,"w-full","h-1","aura-slider",3,"input","max","value"],[1,"flex","justify-between","text-xs"],[1,"flex","items-center","justify-around"],[1,"w-16","h-10","flex","items-center","justify-center","border-2",3,"click"],[1,"p-2","border","hover:text-black","text-xs",3,"click"],[1,"flex","items-center","gap-4","pl-4"],[1,"flex","flex-col","items-center","justify-between","h-full","space-y-2","text-sm"],[1,"flex","flex-col","items-center"],["type","range","min","0","max","100",1,"w-20","aura-slider",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"w-20","aura-slider",3,"input","value"],[1,"vu-meter"],[1,"vu-bar",3,"green","yellow","red"],[1,"flex","flex-col","items-center","justify-center","space-y-2"],[1,"text-sm"],["type","range","min","0.5","max","2","step","0.01",1,"aura-slider","vertical-slider",3,"input","value"],[1,"w-full","lg:w-[450px]","p-2","space-y-3","flex","flex-col","justify-between"],[1,"text-center","text-lg"],[1,"space-y-2"],[3,"submit"],[1,"flex","space-x-2"],["type","text","placeholder","Search online...",1,"flex-grow","border","text-neutral-200","p-1","text-sm","focus:ring-500",3,"input","value"],["type","submit",1,"p-2","border","hover:text-black","text-sm"],[1,"text-center","text-sm","p-2","border","border-dashed",3,"class"],[1,"border","p-1","space-y-1","max-h-40","overflow-y-auto",3,"class"],[1,"p-2","space-y-2","text-center"],[1,"flex","justify-center","items-center","gap-4"],[1,"px-3","py-1","border","hover:text-black",3,"click"],[1,"w-3","h-3","rounded-full","bg-red-800","rec-indicator"],[1,"text-lg"],[1,"flex","justify-center","gap-2","pt-2"],[1,"text-sm","flex","items-center","justify-center","gap-2"],[1,"flex","items-center","justify-center","gap-4","pt-2"],[1,"flex","items-center","gap-4"],["type","range","min","-1","max","1","step","0.01",1,"flex-grow","aura-slider",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"aura-slider","vertical-slider",3,"input","value"],[1,"flex","justify-between","items-center","text-xs"],[1,"w-full","p-2","border","hover:text-black","text-sm",3,"click"],["muted","","playsinline","","preload","auto",1,"w-full","h-full","object-cover",3,"mousedown","touchstart","timeupdate","loadedmetadata","ended"],[1,"vinyl-platter",3,"mousedown","touchstart"],[1,"label","deck-a"],[1,"spindle"],[1,"vu-bar"],[1,"text-center","text-sm","p-2","border","border-dashed"],[1,"border","p-1","space-y-1","max-h-40","overflow-y-auto"],[1,"text-sm","p-1",3,"class"],[1,"text-sm","p-1"],[1,"truncate"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-xs","truncate","pl-2"],[1,"flex","gap-1"],[1,"px-1","border","hover:text-black",3,"click"],["download","aura-mix.webm",1,"text-sm","p-1","border","hover:text-black",3,"href"],[1,"text-sm","p-1","border","hover:text-black",3,"class"],[1,"text-sm","p-1","border","hover:text-black",3,"click"],[1,"w-3","h-3","rounded-full","bg-green-500","rec-indicator","recording"],[1,"text-xs","text-green-500"],[1,"vu-meter","h-24"],[1,"text-xs"],["type","range","min","0","max","100",1,"w-20","aura-slider","vertical-slider","h-24",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"w-20","aura-slider","vertical-slider","h-24",3,"input","value"],[1,"label","deck-b"],[1,"flex-1","md:w-2/3","space-y-3"],[1,"w-full","aspect-video","mx-auto","border-2","p-1","media-container"],["muted","","playsinline","",1,"w-full","h-full","object-cover","media-element"],["alt","Album Art",1,"w-full","h-full","object-cover","media-element",3,"src"],[1,"w-full","h-24","mt-2",3,"analyserNode","theme"],[1,"text-xl","truncate",3,"title"],[1,"text-base","text-green-400/70","truncate",3,"title"],[1,"flex","justify-between","text-sm","text-green-400/70"],[1,"flex","items-center","justify-center","gap-4"],[1,"w-12","h-12","flex","items-center","justify-center","border-2","text-xl",3,"click"],[1,"w-20","h-20","flex","items-center","justify-center","border-2","text-3xl",3,"click"],["type","range","min","0","max","1","step","0.01",1,"w-1/2","aura-slider",3,"input","value"],[1,"p-2","border","text-sm",3,"click"],[1,"flex-1","md:w-1/3","space-y-3","flex","flex-col"],["type","text","placeholder","Search to add tracks...",1,"flex-grow","bg-black","border","text-sm","focus:ring-500",3,"input","value"],["type","submit",1,"p-2","border","text-sm"],[1,"border","p-1","space-y-1",3,"class"],[1,"flex-grow","border","p-2","space-y-2","overflow-y-auto","max-h-96"],[1,"text-center","text-base"],[1,"p-2","text-sm","cursor-pointer",3,"class"],[1,"text-center","text-sm","text-green-400/60","p-4"],[1,"w-full","p-2","border","text-sm",3,"click"],[1,"border","p-1","space-y-1"],[1,"text-center","text-base","py-1"],[1,"text-xs","text-green-400/70","truncate","pl-2"],[1,"px-1","border","text-black",3,"click"],[1,"p-2","text-sm","cursor-pointer",3,"click"],[3,"imageSelected","imageAnalysisRequest","initialPrompt","theme"],[3,"close","eqChange","enhancementsChange","eqSettings","enhancements","theme"],[3,"appCommand","close","imageAnalysisResult","mapLocationResult","theme","imageToAnalyzeUrl","mapLocationQuery"],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-sm","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"mb-4"],[1,"flex","flex-col","gap-2"],[1,"p-2","border","hover:text-black","text-sm",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-xl","h-2/3","flex","flex-col","z-50","animate-slide-up","font-mono"],[1,"flex-shrink-0","mb-4","overflow-hidden","flex","justify-center"],[1,"flex-grow","overflow-y-auto","pr-2","text-sm","border-t","pt-4"],["alt","Image being analyzed",1,"max-h-40","object-contain","border",3,"src"],[1,"mb-4","text-sm",3,"class"],[1,"mb-4","text-sm"]],template:function(n,i){if(n&1){let r=B();v(0,"main",5),ue(1,"app-matrix-background"),v(2,"div",6)(3,"header",7)(4,"h1",8),d(5,"[ AURA ]"),E(),v(6,"div",9)(7,"button",10),w("click",function(){return C(r),_(i.randomizeTheme())}),v(8,"span"),d(9,"[ RANDOM THEME ]"),E()(),v(10,"button",10),w("click",function(){return C(r),_(i.toggleMainViewMode())}),x(11,F0,2,0,"span")(12,L0,2,0,"span")(13,V0,2,0,"span")(14,B0,2,0,"span")(15,j0,2,0,"span")(16,H0,2,0,"span"),E(),v(17,"button",10),w("click",function(){return C(r),_(i.toggleChatbot())}),x(18,U0,2,0,"span")(19,$0,2,0,"span"),E()()(),v(20,"div",11),x(21,cy,158,103,"div",12)(22,uy,1,1,"app-piano-roll",13)(23,Cy,48,41,"div",14)(24,_y,1,2,"app-image-editor",15)(25,Dy,1,3,"app-video-editor",16)(26,by,1,2,"app-networking",17),E(),x(27,Iy,1,3,"app-eq-panel",18),v(28,"audio",19,0),w("timeupdate",function(s){return C(r),_(i.onTimeUpdate(s,"A"))})("loadedmetadata",function(s){return C(r),_(i.onLoadedMetadata(s,"A"))})("ended",function(){return C(r),_(i.onEnded("A"))}),E(),v(30,"audio",19,1),w("timeupdate",function(s){return C(r),_(i.onTimeUpdate(s,"B"))})("loadedmetadata",function(s){return C(r),_(i.onLoadedMetadata(s,"B"))})("ended",function(){return C(r),_(i.onEnded("B"))}),E(),v(32,"input",20,2),w("change",function(s){return C(r),_(i.handleFileInput(s))}),E()(),x(34,wy,1,3,"app-chatbot",21),x(35,xy,16,10),x(36,Ay,11,8),x(37,Sy,11,8),E()}if(n&2){let r;c(2),p(i.mainBorderClass()),re("dj-vintage-theme",i.mainViewMode()==="dj"),c(2),p(i.mainTextColorClass()),c(3),p(i.mainHoverBgClass()),c(3),p(i.mainHoverBgClass()),c(),M(i.mainViewMode()==="player"?11:i.mainViewMode()==="dj"?12:i.mainViewMode()==="piano-roll"?13:i.mainViewMode()==="image-editor"?14:i.mainViewMode()==="video-editor"?15:i.mainViewMode()==="networking"?16:-1),c(6),p(i.mainHoverBgClass()),c(),M(i.showChatbot()?18:19),c(3),M((r=i.mainViewMode())==="dj"?21:r==="piano-roll"?22:r==="player"?23:r==="image-editor"?24:r==="video-editor"?25:r==="networking"?26:-1),c(6),M(i.showEqPanel()?27:-1),c(7),M(i.showChatbot()?34:-1),c(),M(i.showApplyAlbumArtModal()?35:-1),c(),M(i.showImageAnalysisModal()&&i.imageAnalysisResult()?36:-1),c(),M(i.showMapResultsModal()&&i.mapLocationResult()?37:-1)}},dependencies:[pe,zr,Wr,Yr,Zr,Kr,Jr,Xr,Qr],encapsulation:2,changeDetection:0})}};if(typeof window.process>"u"||window.process===null)window.process={env:{}},console.warn("index.tsx: Forcibly initialized window.process.");else if(typeof window.process.env!="object"||window.process.env===null||Object.isFrozen(window.process.env)||!Object.isExtensible(window.process.env)){let e=window.process.env;if(window.process.env={},e&&typeof e=="object")for(let t in e)t!=="API_KEY"&&Object.prototype.hasOwnProperty.call(e,t)&&(window.process.env[t]=e[t]);console.warn("index.tsx: Replaced/initialized window.process.env object to ensure mutability and extensibility.")}var qa=window.process.env.API_KEY,mi="",no=(typeof qa=="string"?qa:"").trim();no.toLowerCase()==="undefined"||no===""||no.length<30?(mi="",console.warn(`index.tsx: Detected problematic API_KEY in window.process.env (original value: "${qa}"). Setting to empty string.`)):(mi=no,console.log(`index.tsx: Valid API_KEY detected from window.process.env (length: ${mi.length}).`));window.process.env.API_KEY=mi;console.log(`index.tsx: window.process.env.API_KEY is now explicitly set to a sanitized value (length: ${window.process.env.API_KEY.length}).`);window.AURA_GEMINI_API_KEY=mi;window.AURA_GEMINI_API_KEY===""?console.warn("index.tsx: Final AURA_GEMINI_API_KEY for application use is empty. AI features will be disabled."):console.log(`index.tsx: AURA_GEMINI_API_KEY is available for application use (length: ${window.AURA_GEMINI_API_KEY.length}).`);var $a=new G("GEMINI_API_KEY");Ua(to,{providers:[Ta(),Bd(),{provide:$a,useValue:window.AURA_GEMINI_API_KEY}]}).catch(e=>console.error(e));export{$a as API_KEY_TOKEN};

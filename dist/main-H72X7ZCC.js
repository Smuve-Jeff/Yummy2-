import{a as T,b as R}from"./chunk-2NFLSA4Y.js";var Do;function Ai(){return Do}function Qe(e){let t=Do;return Do=e,t}var tl=Symbol("NotFound");function Jt(e){return e===tl||e?.name==="\u0275NotFound"}var ye=null,Ni=!1,bo=1,rf=null,ge=Symbol("SIGNAL");function P(e){let t=ye;return ye=e,t}function Fi(){return ye}var Dt={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xt(e){if(Ni)throw new Error("");if(ye===null)return;ye.consumerOnSignalRead(e);let t=ye.producersTail;if(t!==void 0&&t.producer===e)return;let n,i=ye.recomputing;if(i&&(n=t!==void 0?t.nextProducer:ye.producers,n!==void 0&&n.producer===e)){ye.producersTail=n,n.lastReadVersion=e.version;return}let r=e.consumersTail;if(r!==void 0&&r.consumer===ye&&(!i||sf(r,ye)))return;let o=nn(ye),s={producer:e,consumer:ye,nextProducer:n,prevConsumer:r,lastReadVersion:e.version,nextConsumer:void 0};ye.producersTail=s,t!==void 0?t.nextProducer=s:ye.producers=s,o&&ol(e,s)}function nl(){bo++}function Oi(e){if(!(nn(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===bo)){if(!e.producerMustRecompute(e)&&!tn(e)){Pi(e);return}e.producerRecomputeValue(e),Pi(e)}}function wo(e){if(e.consumers===void 0)return;let t=Ni;Ni=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let i=n.consumer;i.dirty||of(i)}}finally{Ni=t}}function Io(){return ye?.consumerAllowSignalWrites!==!1}function of(e){e.dirty=!0,wo(e),e.consumerMarkedDirty?.(e)}function Pi(e){e.dirty=!1,e.lastCleanEpoch=bo}function bt(e){return e&&il(e),P(e)}function il(e){e.producersTail=void 0,e.recomputing=!0}function en(e,t){P(t),e&&rl(e)}function rl(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(nn(e))do n=xo(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function tn(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,i=t.lastReadVersion;if(i!==n.version||(Oi(n),i!==n.version))return!0}return!1}function wt(e){if(nn(e)){let t=e.producers;for(;t!==void 0;)t=xo(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function ol(e,t){let n=e.consumersTail,i=nn(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!i)for(let r=e.producers;r!==void 0;r=r.nextProducer)ol(r.producer,r)}function xo(e){let t=e.producer,n=e.nextProducer,i=e.nextConsumer,r=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:t.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(t.consumers=i,!nn(t)){let o=t.producers;for(;o!==void 0;)o=xo(o)}return n}function nn(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Li(e){rf?.(e)}function sf(e,t){let n=t.producersTail;if(n!==void 0){let i=t.producers;do{if(i===e)return!0;if(i===n)break;i=i.nextProducer}while(i!==void 0)}return!1}function Vi(e,t){return Object.is(e,t)}function jn(e,t){let n=Object.create(af);n.computation=e,t!==void 0&&(n.equal=t);let i=()=>{if(Oi(n),Xt(n),n.value===Bn)throw n.error;return n.value};return i[ge]=n,Li(n),i}var Ri=Symbol("UNSET"),ki=Symbol("COMPUTING"),Bn=Symbol("ERRORED"),af=R(T({},Dt),{value:Ri,dirty:!0,error:null,equal:Vi,kind:"computed",producerMustRecompute(e){return e.value===Ri||e.value===ki},producerRecomputeValue(e){if(e.value===ki)throw new Error("");let t=e.value;e.value=ki;let n=bt(e),i,r=!1;try{i=e.computation(),P(null),r=t!==Ri&&t!==Bn&&i!==Bn&&e.equal(t,i)}catch(o){i=Bn,e.error=o}finally{en(e,n)}if(r){e.value=t;return}e.value=i,e.version++}});function lf(){throw new Error}var sl=lf;function al(e){sl(e)}function Mo(e){sl=e}var cf=null;function To(e,t){let n=Object.create(Bi);n.value=e,t!==void 0&&(n.equal=t);let i=()=>ll(n);return i[ge]=n,Li(n),[i,s=>rn(n,s),s=>So(n,s)]}function ll(e){return Xt(e),e.value}function rn(e,t){Io()||al(e),e.equal(e.value,t)||(e.value=t,uf(e))}function So(e,t){Io()||al(e),rn(e,t(e.value))}var Bi=R(T({},Dt),{equal:Vi,value:void 0,kind:"signal"});function uf(e){e.version++,nl(),wo(e),cf?.(e)}function Ie(e){return typeof e=="function"}function ji(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Hi=ji(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Hn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ce=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(Ie(i))try{i()}catch(o){t=o instanceof Hi?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{cl(o)}catch(s){t=t??[],s instanceof Hi?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Hi(t)}}add(t){var n;if(t&&t!==this)if(this.closed)cl(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Hn(n,t)}remove(t){let{_finalizers:n}=this;n&&Hn(n,t),t instanceof e&&t._removeParent(this)}};Ce.EMPTY=(()=>{let e=new Ce;return e.closed=!0,e})();var Ao=Ce.EMPTY;function Ui(e){return e instanceof Ce||e&&"closed"in e&&Ie(e.remove)&&Ie(e.add)&&Ie(e.unsubscribe)}function cl(e){Ie(e)?e():e.unsubscribe()}var je={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var on={setTimeout(e,t,...n){let{delegate:i}=on;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=on;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ul(e){on.setTimeout(()=>{let{onUnhandledError:t}=je;if(t)t(e);else throw e})}function No(){}var dl=Ro("C",void 0,void 0);function fl(e){return Ro("E",void 0,e)}function pl(e){return Ro("N",e,void 0)}function Ro(e,t,n){return{kind:e,value:t,error:n}}var It=null;function sn(e){if(je.useDeprecatedSynchronousErrorHandling){let t=!It;if(t&&(It={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=It;if(It=null,n)throw i}}else e()}function ml(e){je.useDeprecatedSynchronousErrorHandling&&It&&(It.errorThrown=!0,It.error=e)}var xt=class extends Ce{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ui(t)&&t.add(this)):this.destination=pf}static create(t,n,i){return new an(t,n,i)}next(t){this.isStopped?Po(pl(t),this):this._next(t)}error(t){this.isStopped?Po(fl(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Po(dl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},df=Function.prototype.bind;function ko(e,t){return df.call(e,t)}var Fo=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){$i(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){$i(i)}else $i(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){$i(n)}}},an=class extends xt{constructor(t,n,i){super();let r;if(Ie(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&je.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&ko(t.next,o),error:t.error&&ko(t.error,o),complete:t.complete&&ko(t.complete,o)}):r=t}this.destination=new Fo(r)}};function $i(e){je.useDeprecatedSynchronousErrorHandling?ml(e):ul(e)}function ff(e){throw e}function Po(e,t){let{onStoppedNotification:n}=je;n&&on.setTimeout(()=>n(e,t))}var pf={closed:!0,next:No,error:ff,complete:No};var hl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gl(e){return e}function vl(e){return e.length===0?gl:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var ln=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=hf(n)?n:new an(n,i,r);return sn(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=yl(i),new i((r,o)=>{let s=new an({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[hl](){return this}pipe(...n){return vl(n)(this)}toPromise(n){return n=yl(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function yl(e){var t;return(t=e??je.Promise)!==null&&t!==void 0?t:Promise}function mf(e){return e&&Ie(e.next)&&Ie(e.error)&&Ie(e.complete)}function hf(e){return e&&e instanceof xt||mf(e)&&Ui(e)}function gf(e){return Ie(e?.lift)}function El(e){return t=>{if(gf(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Cl(e,t,n,i,r){return new Oo(e,t,n,i,r)}var Oo=class extends xt{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var _l=ji(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ft=(()=>{class e extends ln{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Gi(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new _l}next(n){sn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){sn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){sn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Ao:(this.currentObservers=null,o.push(n),new Ce(()=>{this.currentObservers=null,Hn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new ln;return n.source=this,n}}return e.create=(t,n)=>new Gi(t,n),e})(),Gi=class extends ft{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Ao}};var Un=class extends ft{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};function Lo(e,t){return El((n,i)=>{let r=0;n.subscribe(Cl(i,o=>{i.next(e.call(t,o,r++))}))})}var Dl=R(T({},Dt),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function bl(e){if(e.dirty=!1,e.version>0&&!tn(e))return;e.version++;let t=bt(e);try{e.cleanup(),e.fn()}finally{en(e,t)}}var Yi="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(t,n){super(zn(t,n)),this.code=t}};function vf(e){return`NG0${Math.abs(e)}`}function zn(e,t){return`${vf(e)}${t?": "+t:""}`}function W(e){for(let t in e)if(e[t]===W)return t;throw Error("")}function pt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(pt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function Zi(e,t){return e?t?`${e} ${t}`:e:t||""}var yf=W({__forward_ref__:W});function Ki(e){return e.__forward_ref__=Ki,e.toString=function(){return pt(this())},e}function Se(e){return xl(e)?e():e}function xl(e){return typeof e=="function"&&e.hasOwnProperty(yf)&&e.__forward_ref__===Ki}function X(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Wn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ji(e){return Ef(e,Xi)}function Ef(e,t){return e.hasOwnProperty(t)&&e[t]||null}function Cf(e){let t=e?.[Xi]??null;return t||null}function Bo(e){return e&&e.hasOwnProperty(zi)?e[zi]:null}var Xi=W({\u0275prov:W}),zi=W({\u0275inj:W}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yo(e){return e&&!!e.\u0275providers}var Zo=W({\u0275cmp:W}),Ko=W({\u0275dir:W}),Jo=W({\u0275pipe:W});var jo=W({\u0275fac:W}),At=W({__NG_ELEMENT_ID__:W}),wl=W({__NG_ENV_ID__:W});function ht(e){return typeof e=="string"?e:e==null?"":String(e)}function Ml(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ht(e)}var Tl=W({ngErrorCode:W}),_f=W({ngErrorMessage:W}),Df=W({ngTokenPath:W});function Xo(e,t){return Sl("",-200,t)}function er(e,t){throw new B(-201,!1)}function Sl(e,t,n){let i=new B(t,e);return i[Tl]=t,i[_f]=e,n&&(i[Df]=n),i}function bf(e){return e[Tl]}var Ho;function Al(){return Ho}function Te(e){let t=Ho;return Ho=e,t}function es(e,t,n){let i=Ji(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&8)return null;if(t!==void 0)return t;er(e,"Injector")}var wf={},Mt=wf,If="__NG_DI_FLAG__",Uo=class{injector;constructor(t){this.injector=t}retrieve(t,n){let i=Tt(n)||0;try{return this.injector.get(t,i&8?null:Mt,i)}catch(r){if(Jt(r))return r;throw r}}};function xf(e,t=0){let n=Ai();if(n===void 0)throw new B(-203,!1);if(n===null)return es(e,void 0,t);{let i=Mf(t),r=n.retrieve(e,i);if(Jt(r)){if(i.optional)return null;throw r}return r}}function z(e,t=0){return(Al()||xf)(Se(e),t)}function A(e,t){return z(e,Tt(t))}function Tt(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Mf(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function $o(e){let t=[];for(let n=0;n<e.length;n++){let i=Se(e[n]);if(Array.isArray(i)){if(i.length===0)throw new B(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=Tf(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(z(r,o))}else t.push(z(i))}return t}function Tf(e){return e[If]}function un(e,t){let n=e.hasOwnProperty(jo);return n?e[jo]:null}function Nl(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function Rl(e){return e.flat(Number.POSITIVE_INFINITY)}function tr(e,t){e.forEach(n=>Array.isArray(n)?tr(n,t):t(n))}function ts(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Qn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function kl(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function nr(e,t,n){let i=dn(e,t);return i>=0?e[i|1]=n:(i=~i,kl(e,i,t,n)),i}function ir(e,t){let n=dn(e,t);if(n>=0)return e[n|1]}function dn(e,t){return Sf(e,t,1)}function Sf(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var Nt={},_e=[],Rt=new $(""),ns=new $("",-1),is=new $(""),Gn=class{get(t,n=Mt){if(n===Mt){let r=Sl("",-201);throw r.name="\u0275NotFound",r}return n}};function kt(e){return e[Zo]||null}function rs(e){return e[Ko]||null}function Pl(e){return e[Jo]||null}function Yn(e){return{\u0275providers:e}}function Fl(...e){return{\u0275providers:os(!0,e),\u0275fromNgModule:!0}}function os(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return tr(t,s=>{let a=s;Wi(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Ol(r,o),n}function Ol(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];ss(r,o=>{t(o,i)})}}function Wi(e,t,n,i){if(e=Se(e),!e)return!1;let r=null,o=Bo(e),s=!o&&kt(e);if(!o&&!s){let l=e.ngModule;if(o=Bo(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Wi(u,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{tr(o.imports,f=>{Wi(f,t,n,i)&&(u||=[],u.push(f))})}finally{}u!==void 0&&Ol(u,t)}if(!a){let u=un(r)||(()=>new r);t({provide:r,useFactory:u,deps:_e},r),t({provide:is,useValue:r,multi:!0},r),t({provide:Rt,useValue:()=>z(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=e;ss(l,f=>{t(f,u)})}}else return!1;return r!==e&&e.providers!==void 0}function ss(e,t){for(let n of e)Yo(n)&&(n=n.\u0275providers),Array.isArray(n)?ss(n,t):t(n)}var Af=W({provide:String,useValue:W});function Ll(e){return e!==null&&typeof e=="object"&&Af in e}function Nf(e){return!!(e&&e.useExisting)}function Rf(e){return!!(e&&e.useFactory)}function Qi(e){return typeof e=="function"}var Zn=new $(""),qi={},Il={},Vo;function Kn(){return Vo===void 0&&(Vo=new Gn),Vo}var Pe=class{},St=class extends Pe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,qo(t,s=>this.processProvider(s)),this.records.set(ns,cn(void 0,this)),r.has("environment")&&this.records.set(Pe,cn(void 0,this));let o=this.records.get(Zn);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(is,_e,{self:!0}))}retrieve(t,n){let i=Tt(n)||0;try{return this.get(t,Mt,i)}catch(r){if(Jt(r))return r;throw r}}destroy(){$n(this),this._destroyed=!0;let t=P(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(t)}}onDestroy(t){return $n(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){$n(this);let n=Qe(this),i=Te(void 0),r;try{return t()}finally{Qe(n),Te(i)}}get(t,n=Mt,i){if($n(this),t.hasOwnProperty(wl))return t[wl](this);let r=Tt(i),o,s=Qe(this),a=Te(void 0);try{if(!(r&4)){let u=this.records.get(t);if(u===void 0){let f=Lf(t)&&Ji(t);f&&this.injectableDefInScope(f)?u=cn(Go(t),qi):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,r)}let l=r&2?Kn():this.parent;return n=r&8&&n===Mt?null:n,l.get(t,n)}catch(l){let u=bf(l);throw u===-200||u===-201?new B(u,null):l}finally{Te(a),Qe(s)}}resolveInjectorInitializers(){let t=P(null),n=Qe(this),i=Te(void 0),r;try{let o=this.get(Rt,_e,{self:!0});for(let s of o)s()}finally{Qe(n),Te(i),P(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(pt(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Se(t);let n=Qi(t)?t:Se(t&&t.provide),i=Pf(t);if(!Qi(t)&&t.multi===!0){let r=this.records.get(n);r||(r=cn(void 0,qi,!0),r.factory=()=>$o(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n,i){let r=P(null);try{if(n.value===Il)throw Xo(pt(t));return n.value===qi&&(n.value=Il,n.value=n.factory(void 0,i)),typeof n.value=="object"&&n.value&&Of(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{P(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Se(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Go(e){let t=Ji(e),n=t!==null?t.factory:un(e);if(n!==null)return n;if(e instanceof $)throw new B(204,!1);if(e instanceof Function)return kf(e);throw new B(204,!1)}function kf(e){if(e.length>0)throw new B(204,!1);let n=Cf(e);return n!==null?()=>n.factory(e):()=>new e}function Pf(e){if(Ll(e))return cn(void 0,e.useValue);{let t=Vl(e);return cn(t,qi)}}function Vl(e,t,n){let i;if(Qi(e)){let r=Se(e);return un(r)||Go(r)}else if(Ll(e))i=()=>Se(e.useValue);else if(Rf(e))i=()=>e.useFactory(...$o(e.deps||[]));else if(Nf(e))i=(r,o)=>z(Se(e.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Se(e&&(e.useClass||e.provide));if(Ff(e))i=()=>new r(...$o(e.deps));else return un(r)||Go(r)}return i}function $n(e){if(e.destroyed)throw new B(205,!1)}function cn(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ff(e){return!!e.deps}function Of(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Lf(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function qo(e,t){for(let n of e)Array.isArray(n)?qo(n,t):n&&Yo(n)?qo(n.\u0275providers,t):t(n)}function rr(e,t){let n;e instanceof St?($n(e),n=e):n=new Uo(e);let i,r=Qe(n),o=Te(void 0);try{return t()}finally{Qe(r),Te(o)}}function Bl(){return Al()!==void 0||Ai()!=null}var He=0,k=1,O=2,fe=3,Oe=4,Le=5,fn=6,pn=7,oe=8,st=9,Ze=10,ne=11,mn=12,as=13,Pt=14,Ve=15,gt=16,Ft=17,Ke=18,Jn=19,ls=20,rt=21,or=22,at=23,Ae=24,sr=25,Ot=26,ve=27,jl=1,cs=6,vt=7,Xn=8,Lt=9,re=10;function lt(e){return Array.isArray(e)&&typeof e[jl]=="object"}function Ue(e){return Array.isArray(e)&&e[jl]===!0}function us(e){return(e.flags&4)!==0}function Vt(e){return e.componentOffset>-1}function ar(e){return(e.flags&1)===1}function Bt(e){return!!e.template}function hn(e){return(e[O]&512)!==0}function jt(e){return(e[O]&256)===256}var ds="svg",Hl="math";function Be(e){for(;Array.isArray(e);)e=e[He];return e}function fs(e,t){return Be(t[e])}function $e(e,t){return Be(t[e.index])}function ei(e,t){return e.data[t]}function Je(e,t){let n=t[e];return lt(n)?n:n[He]}function lr(e){return(e[O]&128)===128}function Ul(e){return Ue(e[fe])}function Xe(e,t){return t==null?null:e[t]}function ps(e){e[Ft]=0}function ms(e){e[O]&1024||(e[O]|=1024,lr(e)&&Ht(e))}function $l(e,t){for(;e>0;)t=t[Pt],e--;return t}function ti(e){return!!(e[O]&9216||e[Ae]?.dirty)}function cr(e){e[Ze].changeDetectionScheduler?.notify(8),e[O]&64&&(e[O]|=1024),ti(e)&&Ht(e)}function Ht(e){e[Ze].changeDetectionScheduler?.notify(0);let t=mt(e);for(;t!==null&&!(t[O]&8192||(t[O]|=8192,!lr(t)));)t=mt(t)}function hs(e,t){if(jt(e))throw new B(911,!1);e[rt]===null&&(e[rt]=[]),e[rt].push(t)}function Gl(e,t){if(e[rt]===null)return;let n=e[rt].indexOf(t);n!==-1&&e[rt].splice(n,1)}function mt(e){let t=e[fe];return Ue(t)?t[fe]:t}function gs(e){return e[pn]??=[]}function vs(e){return e.cleanup??=[]}function ql(e,t,n,i){let r=gs(t);r.push(n),e.firstCreatePass&&vs(e).push(i,r.length-1)}var V={lFrame:ac(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var zo=!1;function zl(){return V.lFrame.elementDepthCount}function Wl(){V.lFrame.elementDepthCount++}function ys(){V.lFrame.elementDepthCount--}function Ql(){return V.bindingsEnabled}function Yl(){return V.skipHydrationRootTNode!==null}function Es(e){return V.skipHydrationRootTNode===e}function Cs(){V.skipHydrationRootTNode=null}function U(){return V.lFrame.lView}function De(){return V.lFrame.tView}function C(e){return V.lFrame.contextLView=e,e[oe]}function _(e){return V.lFrame.contextLView=null,e}function Ne(){let e=_s();for(;e!==null&&e.type===64;)e=e.parent;return e}function _s(){return V.lFrame.currentTNode}function Zl(){let e=V.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function gn(e,t){let n=V.lFrame;n.currentTNode=e,n.isParent=t}function Ds(){return V.lFrame.isParent}function Kl(){V.lFrame.isParent=!1}function bs(){return zo}function vn(e){let t=zo;return zo=e,t}function Jl(){let e=V.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Xl(){return V.lFrame.bindingIndex}function ec(e){return V.lFrame.bindingIndex=e}function yt(){return V.lFrame.bindingIndex++}function ur(e){let t=V.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function tc(){return V.lFrame.inI18n}function nc(e,t){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=e,dr(t)}function ic(){return V.lFrame.currentDirectiveIndex}function dr(e){V.lFrame.currentDirectiveIndex=e}function rc(e){let t=V.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function oc(){return V.lFrame.currentQueryIndex}function fr(e){V.lFrame.currentQueryIndex=e}function Vf(e){let t=e[k];return t.type===2?t.declTNode:t.type===1?e[Le]:null}function ws(e,t,n){if(n&4){let r=t,o=e;for(;r=r.parent,r===null&&!(n&1);)if(r=Vf(o),r===null||(o=o[Pt],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=V.lFrame=sc();return i.currentTNode=t,i.lView=e,!0}function pr(e){let t=sc(),n=e[k];V.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function sc(){let e=V.lFrame,t=e===null?null:e.child;return t===null?ac(e):t}function ac(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function lc(){let e=V.lFrame;return V.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Is=lc;function mr(){let e=lc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function cc(e){return(V.lFrame.contextLView=$l(e,V.lFrame.contextLView))[oe]}function et(){return V.lFrame.selectedIndex}function Et(e){V.lFrame.selectedIndex=e}function hr(){let e=V.lFrame;return ei(e.tView,e.selectedIndex)}function Ut(){V.lFrame.currentNamespace=ds}function uc(){return V.lFrame.currentNamespace}var dc=!0;function gr(){return dc}function vr(e){dc=e}function Wo(e,t=null,n=null,i){let r=fc(e,t,n,i);return r.resolveInjectorInitializers(),r}function fc(e,t=null,n=null,i,r=new Set){let o=[n||_e,Fl(e)];return i=i||(typeof e=="object"?void 0:pt(e)),new St(o,t||Kn(),i||null,r)}var ot=class e{static THROW_IF_NOT_FOUND=Mt;static NULL=new Gn;static create(t,n){if(Array.isArray(t))return Wo({name:""},n,t,"");{let i=t.name??"";return Wo({name:i},t.parent,t.providers,i)}}static \u0275prov=X({token:e,providedIn:"any",factory:()=>z(ns)});static __NG_ELEMENT_ID__=-1},Ge=new $(""),$t=(()=>{class e{static __NG_ELEMENT_ID__=Bf;static __NG_ENV_ID__=n=>n}return e})(),qn=class extends $t{_lView;constructor(t){super(),this._lView=t}get destroyed(){return jt(this._lView)}onDestroy(t){let n=this._lView;return hs(n,t),()=>Gl(n,t)}};function Bf(){return new qn(U())}var Fe=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Ct=new $("",{providedIn:"root",factory:()=>{let e=A(Pe),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Fe),t.handleError(n))}}}),pc={provide:Rt,useValue:()=>void A(Fe),multi:!0};function b(e,t){let[n,i,r]=To(e,t?.equal),o=n,s=o[ge];return o.set=i,o.update=r,o.asReadonly=xs.bind(o),o}function xs(){let e=this[ge];if(e.readonlyFn===void 0){let t=()=>this();t[ge]=e,e.readonlyFn=t}return e.readonlyFn}var ni=(()=>{class e{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=jf}return e})();function jf(){return new ni(U(),Ne())}var Ye=class{},ii=new $("",{providedIn:"root",factory:()=>!1});var Ms=new $(""),yr=new $(""),Gt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Un(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ln(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=X({token:e,providedIn:"root",factory:()=>new e})}return e})();function qt(...e){}var ri=(()=>{class e{static \u0275prov=X({token:e,providedIn:"root",factory:()=>new Qo})}return e})(),Qo=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,i=this.queues.get(n);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,i]of this.queues)n===null?t||=this.flushQueue(i):t||=n.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,n=!0,i.run());return n}};function ua(e){return{toString:e}.toString()}function Kf(e){return typeof e=="function"}var Ir=class{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Gc(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function Jf(e){return e.type.prototype.ngOnChanges&&(e.setInput=ep),Xf}function Xf(){let e=zc(this),t=e?.current;if(t){let n=e.previous;if(n===Nt)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function ep(e,t,n,i,r){let o=this.declaredInputs[i],s=zc(e)||tp(e,{previous:Nt,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Ir(u&&u.currentValue,n,l===Nt),Gc(e,t,r,n)}var qc="__ngSimpleChanges__";function zc(e){return e[qc]||null}function tp(e,t){return e[qc]=t}var mc=[];var Y=function(e,t=null,n){for(let i=0;i<mc.length;i++){let r=mc[i];r(e,t,n)}};function np(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=Jf(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function ip(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:f}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),f!=null&&(e.destroyHooks??=[]).push(n,f)}}function Cr(e,t,n){Wc(e,t,3,n)}function _r(e,t,n,i){(e[O]&3)===n&&Wc(e,t,n,i)}function Ts(e,t){let n=e[O];(n&3)===t&&(n&=16383,n+=1,e[O]=n)}function Wc(e,t,n,i){let r=i!==void 0?e[Ft]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[Ft]+=65536),(a<o||o==-1)&&(rp(e,n,t,l),e[Ft]=(e[Ft]&4294901760)+l+2),l++}function hc(e,t){Y(4,e,t);let n=P(null);try{t.call(e)}finally{P(n),Y(5,e,t)}}function rp(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[O]>>14<e[Ft]>>16&&(e[O]&3)===t&&(e[O]+=16384,hc(a,o)):hc(a,o)}var En=-1,ai=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i,r){this.factory=t,this.name=r,this.canSeeViewProviders=n,this.injectImpl=i}};function op(e){return(e.flags&8)!==0}function sp(e){return(e.flags&16)!==0}function ap(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];cp(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function lp(e){return e===3||e===4||e===6}function cp(e){return e.charCodeAt(0)===64}function jr(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?gc(e,n,r,null,t[++i]):gc(e,n,r,null,null))}}return e}function gc(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r)}function Qc(e){return e!==En}function xr(e){return e&32767}function up(e){return e>>16}function Mr(e,t){let n=up(e),i=t;for(;n>0;)i=i[Pt],n--;return i}var Fs=!0;function vc(e){let t=Fs;return Fs=e,t}var dp=256,Yc=dp-1,Zc=5,fp=0,tt={};function pp(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(At)&&(i=n[At]),i==null&&(i=n[At]=fp++);let r=i&Yc,o=1<<r;t.data[e+(r>>Zc)]|=o}function Kc(e,t){let n=Jc(e,t);if(n!==-1)return n;let i=t[k];i.firstCreatePass&&(e.injectorIndex=t.length,Ss(i.data,e),Ss(t,null),Ss(i.blueprint,null));let r=da(e,t),o=e.injectorIndex;if(Qc(r)){let s=xr(r),a=Mr(r,t),l=a[k].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=r,o}function Ss(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jc(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function da(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=iu(r),i===null)return En;if(n++,r=r[Pt],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return En}function mp(e,t,n){pp(e,t,n)}function Xc(e,t,n){if(n&8||e!==void 0)return e;er(t,"NodeInjector")}function eu(e,t,n,i){if(n&8&&i===void 0&&(i=null),(n&3)===0){let r=e[st],o=Te(void 0);try{return r?r.get(t,i,n&8):es(t,i,n&8)}finally{Te(o)}}return Xc(i,t,n)}function tu(e,t,n,i=0,r){if(e!==null){if(t[O]&2048&&!(i&2)){let s=yp(e,t,n,i,tt);if(s!==tt)return s}let o=nu(e,t,n,i,tt);if(o!==tt)return o}return eu(t,n,i,r)}function nu(e,t,n,i,r){let o=gp(n);if(typeof o=="function"){if(!ws(t,e,i))return i&1?Xc(r,n,i):eu(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&8))er(n);else return s}finally{Is()}}else if(typeof o=="number"){let s=null,a=Jc(e,t),l=En,u=i&1?t[Ve][Le]:null;for((a===-1||i&4)&&(l=a===-1?da(e,t):t[a+8],l===En||!Ec(i,!1)?a=-1:(s=t[k],a=xr(l),t=Mr(l,t)));a!==-1;){let f=t[k];if(yc(o,a,f.data)){let E=hp(a,t,n,s,i,u);if(E!==tt)return E}l=t[a+8],l!==En&&Ec(i,t[k].data[a+8]===u)&&yc(o,a,t)?(s=f,a=xr(l),t=Mr(l,t)):a=-1}}return r}function hp(e,t,n,i,r,o){let s=t[k],a=s.data[e+8],l=i==null?Vt(a)&&Fs:i!=s&&(a.type&3)!==0,u=r&1&&o===a,f=Dr(a,s,n,l,u);return f!==null?Tr(t,s,f,a,r):tt}function Dr(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,u=e.directiveEnd,f=o>>20,E=i?a:a+f,w=r?a+f:u;for(let D=E;D<w;D++){let F=s[D];if(D<l&&n===F||D>=l&&F.type===n)return D}if(r){let D=s[l];if(D&&Bt(D)&&D.type===n)return l}return null}function Tr(e,t,n,i,r){let o=e[n],s=t.data;if(o instanceof ai){let a=o;if(a.resolving){let D=Ml(s[n]);throw Xo(D)}let l=vc(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],f,E=a.injectImpl?Te(a.injectImpl):null,w=ws(e,i,0);try{o=e[n]=a.factory(void 0,r,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&np(n,s[n],t)}finally{E!==null&&Te(E),vc(l),a.resolving=!1,Is()}}return o}function gp(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(At)?e[At]:void 0;return typeof t=="number"?t>=0?t&Yc:vp:t}function yc(e,t,n){let i=1<<e;return!!(n[t+(e>>Zc)]&i)}function Ec(e,t){return!(e&2)&&!(e&1&&t)}var zt=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return tu(this._tNode,this._lView,t,Tt(i),n)}};function vp(){return new zt(Ne(),U())}function yp(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[O]&2048&&!hn(s);){let a=nu(o,s,n,i|2,tt);if(a!==tt)return a;let l=o.parent;if(!l){let u=s[ls];if(u){let f=u.get(n,tt,i);if(f!==tt)return f}l=iu(s),s=s[Pt]}o=l}return r}function iu(e){let t=e[k],n=t.type;return n===2?t.declTNode:n===1?e[Le]:null}function Ep(){return wn(Ne(),U())}function wn(e,t){return new In($e(e,t))}var In=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Ep}return e})();function Cp(e){return e instanceof In?e.nativeElement:e}function _p(){return this._results[Symbol.iterator]()}var Sr=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ft}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=Rl(t);(this._changesDetected=!Nl(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=_p};function ru(e){return(e.flags&128)===128}var fa=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(fa||{}),ou=new Map,Dp=0;function bp(){return Dp++}function wp(e){ou.set(e[Jn],e)}function Os(e){ou.delete(e[Jn])}var Cc="__ngContext__";function Cn(e,t){lt(t)?(e[Cc]=t[Jn],wp(t)):e[Cc]=t}function su(e){return lu(e[mn])}function au(e){return lu(e[Oe])}function lu(e){for(;e!==null&&!Ue(e);)e=e[Oe];return e}var Ls;function pa(e){Ls=e}function cu(){if(Ls!==void 0)return Ls;if(typeof document<"u")return document;throw new B(210,!1)}var Hr=new $("",{providedIn:"root",factory:()=>Ip}),Ip="ng",Ur=new $(""),hi=new $("",{providedIn:"platform",factory:()=>"unknown"});var $r=new $("",{providedIn:"root",factory:()=>cu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var xp="h",Mp="b";var uu="r";var du="di";var fu=!1,pu=new $("",{providedIn:"root",factory:()=>fu});var Tp=(e,t,n,i)=>{};function Sp(e,t,n,i){Tp(e,t,n,i)}function ma(e){return(e.flags&32)===32}var Ap=()=>null;function mu(e,t,n=!1){return Ap(e,t,n)}function hu(e,t){let n=e.contentQueries;if(n!==null){let i=P(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];fr(o),a.contentQueries(2,t[s],s)}}}finally{P(i)}}}function Vs(e,t,n){fr(0);let i=P(null);try{t(e,n)}finally{P(i)}}function gu(e,t,n){if(us(t)){let i=P(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{P(i)}}}var ut=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(ut||{});var Ar=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yi})`}};function Gr(e){return e instanceof Ar?e.changingThisBreaksApplicationSecurity:e}function vu(e,t){let n=yu(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Yi})`)}return n===t}function yu(e){return e instanceof Ar&&e.getTypeName()||null}var Np=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Eu(e){return e=String(e),e.match(Np)?e:"unsafe:"+e}var ha=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(ha||{});function ee(e){let t=Rp();return t?t.sanitize(ha.URL,e)||"":vu(e,"URL")?Gr(e):Eu(ht(e))}function Rp(){let e=U();return e&&e[Ze].sanitizer}function xn(e){return e.ownerDocument.defaultView}function kp(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}var Cu="ng-template";function Pp(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&kp(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(ga(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ga(e){return e.type===4&&e.value!==Cu}function Fp(e,t,n){let i=e.type===4&&!n?Cu:e.value;return t===i}function Op(e,t,n){let i=4,r=e.attrs,o=r!==null?Bp(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!qe(i)&&!qe(l))return!1;if(s&&qe(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Fp(e,l,n)||l===""&&t.length===1){if(qe(i))return!1;s=!0}}else if(i&8){if(r===null||!Pp(e,r,l,n)){if(qe(i))return!1;s=!0}}else{let u=t[++a],f=Lp(l,r,ga(e),n);if(f===-1){if(qe(i))return!1;s=!0;continue}if(u!==""){let E;if(f>o?E="":E=r[f+1].toLowerCase(),i&2&&u!==E){if(qe(i))return!1;s=!0}}}}return qe(i)||s}function qe(e){return(e&1)===0}function Lp(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return jp(t,e)}function Vp(e,t,n=!1){for(let i=0;i<t.length;i++)if(Op(e,t[i],n))return!0;return!1}function Bp(e){for(let t=0;t<e.length;t++){let n=e[t];if(lp(n))return t}return e.length}function jp(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function _c(e,t){return e?":not("+t.trim()+")":t}function Hp(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!qe(s)&&(t+=_c(o,r),r=""),i=s,o=o||!qe(i);n++}return r!==""&&(t+=_c(o,r)),t}function Up(e){return e.map(Hp).join(",")}function $p(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!qe(r))break;r=o}i++}return n.length&&t.push(1,...n),t}var be={};function Gp(e,t){return e.createText(t)}function qp(e,t,n){e.setValue(t,n)}function _u(e,t,n){return e.createElement(t,n)}function Nr(e,t,n,i,r){e.insertBefore(t,n,i,r)}function Du(e,t,n){e.appendChild(t,n)}function Dc(e,t,n,i,r){i!==null?Nr(e,t,n,i,r):Du(e,t,n)}function bu(e,t,n,i){e.removeChild(null,t,n,i)}function zp(e,t,n){e.setAttribute(t,"style",n)}function Wp(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function wu(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&ap(e,t,i),r!==null&&Wp(e,t,r),o!==null&&zp(e,t,o)}function va(e,t,n,i,r,o,s,a,l,u,f){let E=ve+i,w=E+r,D=Qp(E,w),F=typeof u=="function"?u():u;return D[k]={type:e,blueprint:D,template:n,queries:null,viewQuery:a,declTNode:t,data:D.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:F,incompleteFirstPass:!1,ssrId:f}}function Qp(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:be);return n}function Yp(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=va(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ya(e,t,n,i,r,o,s,a,l,u,f){let E=t.blueprint.slice();return E[He]=r,E[O]=i|4|128|8|64|1024,(u!==null||e&&e[O]&2048)&&(E[O]|=2048),ps(E),E[fe]=E[Pt]=e,E[oe]=n,E[Ze]=s||e&&e[Ze],E[ne]=a||e&&e[ne],E[st]=l||e&&e[st]||null,E[Le]=o,E[Jn]=bp(),E[fn]=f,E[ls]=u,E[Ve]=t.type==2?e[Ve]:E,E}function Zp(e,t,n){let i=$e(t,e),r=Yp(n),o=e[Ze].rendererFactory,s=Ea(e,ya(e,r,null,Iu(n),i,t,null,o.createRenderer(i,n),null,null,null));return e[t.index]=s}function Iu(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function xu(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Ea(e,t){return e[mn]?e[as][Oe]=t:e[mn]=t,e[as]=t,t}function c(e=1){Mu(De(),U(),et()+e,!1)}function Mu(e,t,n,i){if(!i)if((t[O]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Cr(t,o,n)}else{let o=e.preOrderHooks;o!==null&&_r(t,o,0,n)}Et(n)}var qr=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(qr||{});function Bs(e,t,n,i){let r=P(null);try{let[o,s,a]=e.inputs[n],l=null;(s&qr.SignalBased)!==0&&(l=t[o][ge]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(t,i)),e.setInput!==null?e.setInput(t,l,i,n,o):Gc(t,l,o,i)}finally{P(r)}}var dt=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(dt||{}),Kp;function Ca(e,t){return Kp(e,t)}var Wt=new Set,_a=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(_a||{}),gi=new $(""),bc=new Set;function Zt(e){bc.has(e)||(bc.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Tu=!1,js=class extends ft{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Bl()&&(this.destroyRef=A($t,{optional:!0})??void 0,this.pendingTasks=A(Gt,{optional:!0})??void 0)}emit(t){let n=P(null);try{super.next(t)}finally{P(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof Ce&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ct=js;function Su(e){let t,n;function i(){e=qt;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function wc(e){return queueMicrotask(()=>e()),()=>{e=qt}}var Da="isAngularZone",Rr=Da+"_ID",Jp=0,me=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ct(!1);onMicrotaskEmpty=new ct(!1);onStable=new ct(!1);onError=new ct(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Tu}=t;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,tm(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Da)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new B(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,Xp,qt,qt);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},Xp={};function ba(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function em(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Su(()=>{e.callbackScheduled=!1,Hs(e),e.isCheckStableRunning=!0,ba(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Hs(e)}function tm(e){let t=()=>{em(e)},n=Jp++;e._inner=e._inner.fork({name:"angular",properties:{[Da]:!0,[Rr]:n,[Rr+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(nm(l))return i.invokeTask(o,s,a,l);try{return Ic(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),xc(e)}},onInvoke:(i,r,o,s,a,l,u)=>{try{return Ic(e),i.invoke(o,s,a,l,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!im(l)&&t(),xc(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Hs(e),ba(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Hs(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Ic(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xc(e){e._nesting--,ba(e)}var li=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ct;onMicrotaskEmpty=new ct;onStable=new ct;onError=new ct;run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function nm(e){return Au(e,"__ignore_ng_zone__")}function im(e){return Au(e,"__scheduler_tick__")}function Au(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Nu=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=X({token:e,providedIn:"root",factory:()=>new e})}return e})();var Ru=new $("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function ku(e,t,n){let i=e.get(Ru);if(Array.isArray(t))for(let r of t)i.queue.add(r),n?.detachedLeaveAnimationFns?.push(r);else i.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(e)}function rm(e,t){let n=e.get(Ru);if(t.detachedLeaveAnimationFns){for(let i of t.detachedLeaveAnimationFns)n.queue.delete(i);t.detachedLeaveAnimationFns=void 0}}function om(e,t){for(let[n,i]of t)ku(e,i.animateFns)}function Mc(e,t,n,i){let r=e?.[Ot]?.enter;t!==null&&r&&r.has(n.index)&&om(i,r)}function yn(e,t,n,i,r,o,s,a){if(r!=null){let l,u=!1;Ue(r)?l=r:lt(r)&&(u=!0,r=r[He]);let f=Be(r);e===0&&i!==null?(Mc(a,i,o,n),s==null?Du(t,i,f):Nr(t,i,f,s||null,!0)):e===1&&i!==null?(Mc(a,i,o,n),Nr(t,i,f,s||null,!0)):e===2?Tc(a,o,n,E=>{bu(t,f,u,E)}):e===3&&Tc(a,o,n,()=>{t.destroyNode(f)}),l!=null&&ym(t,e,n,l,o,i,s)}}function sm(e,t){Pu(e,t),t[He]=null,t[Le]=null}function am(e,t,n,i,r,o){i[He]=r,i[Le]=t,Wr(e,i,n,1,r,o)}function Pu(e,t){t[Ze].changeDetectionScheduler?.notify(9),Wr(e,t,t[ne],2,null,null)}function lm(e){let t=e[mn];if(!t)return As(e[k],e);for(;t;){let n=null;if(lt(t))n=t[mn];else{let i=t[re];i&&(n=i)}if(!n){for(;t&&!t[Oe]&&t!==e;)lt(t)&&As(t[k],t),t=t[fe];t===null&&(t=e),lt(t)&&As(t[k],t),n=t&&t[Oe]}t=n}}function wa(e,t){let n=e[Lt],i=n.indexOf(t);n.splice(i,1)}function zr(e,t){if(jt(t))return;let n=t[ne];n.destroyNode&&Wr(e,t,n,3,null,null),lm(t)}function As(e,t){if(jt(t))return;let n=P(null);try{t[O]&=-129,t[O]|=256,t[Ae]&&wt(t[Ae]),dm(e,t),um(e,t),t[k].type===1&&t[ne].destroy();let i=t[gt];if(i!==null&&Ue(t[fe])){i!==t[fe]&&wa(i,t);let r=t[Ke];r!==null&&r.detachView(e)}Os(t)}finally{P(n)}}function Tc(e,t,n,i){let r=e?.[Ot];if(r==null||r.leave==null||!r.leave.has(t.index))return i(!1);e&&Wt.add(e),ku(n,()=>{if(r.leave&&r.leave.has(t.index)){let s=r.leave.get(t.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let u=s.animateFns[l],{promise:f}=u();a.push(f)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),cm(e,i)}else e&&Wt.delete(e),i(!1)},r)}function cm(e,t){let n=e[Ot]?.running;if(n){n.then(()=>{e[Ot].running=void 0,Wt.delete(e),t(!0)});return}t(!1)}function um(e,t){let n=e.cleanup,i=t[pn];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(t[pn]=null);let r=t[rt];if(r!==null){t[rt]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=t[at];if(o!==null){t[at]=null;for(let s of o)s.destroy()}}function dm(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof ai)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Y(4,a,l);try{l.call(a)}finally{Y(5,a,l)}}else{Y(4,r,o);try{o.call(r)}finally{Y(5,r,o)}}}}}function fm(e,t,n){return pm(e,t.parent,n)}function pm(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[He];if(Vt(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===ut.None||r===ut.Emulated)return null}return $e(i,n)}function mm(e,t,n){return gm(e,t,n)}function hm(e,t,n){return e.type&40?$e(e,n):null}var gm=hm,Sc;function Ia(e,t,n,i){let r=fm(e,i,t),o=t[ne],s=i.parent||t[Le],a=mm(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Dc(o,r,n[l],a,!1);else Dc(o,r,n,a,!1);Sc!==void 0&&Sc(o,i,t,n,r)}function oi(e,t){if(t!==null){let n=t.type;if(n&3)return $e(t,e);if(n&4)return Us(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return oi(e,i);{let r=e[t.index];return Ue(r)?Us(-1,r):Be(r)}}else{if(n&128)return oi(e,t.next);if(n&32)return Ca(t,e)()||Be(e[t.index]);{let i=Fu(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=mt(e[Ve]);return oi(r,i)}else return oi(e,t.next)}}}return null}function Fu(e,t){if(t!==null){let i=e[Ve][Le],r=t.projection;return i.projection[r]}return null}function Us(e,t){let n=re+e+1;if(n<t.length){let i=t[n],r=i[k].firstChild;if(r!==null)return oi(i,r)}return t[vt]}function xa(e,t,n,i,r,o,s){for(;n!=null;){let a=i[st];if(n.type===128){n=n.next;continue}let l=i[n.index],u=n.type;if(s&&t===0&&(l&&Cn(Be(l),i),n.flags|=2),!ma(n))if(u&8)xa(e,t,n.child,i,r,o,!1),yn(t,e,a,r,l,n,o,i);else if(u&32){let f=Ca(n,i),E;for(;E=f();)yn(t,e,a,r,E,n,o,i);yn(t,e,a,r,l,n,o,i)}else u&16?vm(e,t,i,n,r,o):yn(t,e,a,r,l,n,o,i);n=s?n.projectionNext:n.next}}function Wr(e,t,n,i,r,o){xa(n,i,e.firstChild,t,r,o,!1)}function vm(e,t,n,i,r,o){let s=n[Ve],l=s[Le].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let f=l[u];yn(t,e,n[st],r,f,i,o,n)}else{let u=l,f=s[fe];ru(i)&&(u.flags|=128),xa(e,t,u,f,r,o,!0)}}function ym(e,t,n,i,r,o,s){let a=i[vt],l=Be(i);a!==l&&yn(t,e,n,o,a,r,s);for(let u=re;u<i.length;u++){let f=i[u];Wr(f[k],f,e,t,o,a)}}function Em(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:dt.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=dt.Important),e.setStyle(n,i,r,o))}}function Ou(e,t,n,i,r){let o=et(),s=i&2;try{Et(-1),s&&t.length>ve&&Mu(e,t,ve,!1),Y(s?2:0,r,n),n(i,r)}finally{Et(o),Y(s?3:1,r,n)}}function Lu(e,t,n){xm(e,t,n),(n.flags&64)===64&&Mm(e,t,n)}function Ma(e,t,n=$e){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function Cm(e,t,n,i){let o=i.get(pu,fu)||n===ut.ShadowDom,s=e.selectRootElement(t,o);return _m(s),s}function _m(e){Dm(e)}var Dm=()=>null;function bm(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function wm(e,t,n,i,r,o){let s=t[k];if(Ta(e,s,t,n,i)){Vt(e)&&Im(t,e.index);return}e.type&3&&(n=bm(n)),Vu(e,t,n,i,r,o)}function Vu(e,t,n,i,r,o){if(e.type&3){let s=$e(e,t);i=o!=null?o(i,e.value||"",n):i,r.setProperty(s,n,i)}else e.type&12}function Im(e,t){let n=Je(t,e);n[O]&16||(n[O]|=64)}function xm(e,t,n){let i=n.directiveStart,r=n.directiveEnd;Vt(n)&&Zp(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Kc(n,t);let o=n.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=Tr(t,e,s,n);if(Cn(l,t),o!==null&&Rm(t,s-i,l,a,n,o),Bt(a)){let u=Je(n.index,t);u[oe]=Tr(t,e,s,n)}}}function Mm(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=ic();try{Et(o);for(let a=i;a<r;a++){let l=e.data[a],u=t[a];dr(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Tm(l,u)}}finally{Et(-1),dr(s)}}function Tm(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Sm(e,t){let n=e.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];Vp(t,o.selectors,!1)&&(i??=[],Bt(o)?i.unshift(o):i.push(o))}return i}function Am(e,t,n,i,r,o){let s=$e(e,t);Nm(t[ne],s,o,e.value,n,i,r)}function Nm(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?ht(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function Rm(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Bs(i,n,l,u)}}function Bu(e,t,n,i,r){let o=ve+n,s=t[k],a=r(s,t,e,i,n);t[o]=a,gn(e,!0);let l=e.type===2;return l?(wu(t[ne],a,e),(zl()===0||ar(e))&&Cn(a,t),Wl()):Cn(a,t),gr()&&(!l||!ma(e))&&Ia(s,t,a,e),e}function ju(e){let t=e;return Ds()?Kl():(t=t.parent,gn(t,!1)),t}function km(e,t){let n=e[st];if(!n)return;let i;try{i=n.get(Ct,null)}catch{i=null}i?.(t)}function Ta(e,t,n,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],f=s[l+1],E=t.data[u];Bs(E,n[u],f,r),a=!0}if(o)for(let l of o){let u=n[l],f=t.data[l];Bs(f,u,i,r),a=!0}return a}function Pm(e,t){let n=Je(t,e),i=n[k];Fm(i,n);let r=n[He];r!==null&&n[fn]===null&&(n[fn]=mu(r,n[st])),Y(18),Sa(i,n,n[oe]),Y(19,n[oe])}function Fm(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Sa(e,t,n){pr(t);try{let i=e.viewQuery;i!==null&&Vs(1,i,n);let r=e.template;r!==null&&Ou(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ke]?.finishViewCreation(e),e.staticContentQueries&&hu(e,t),e.staticViewQueries&&Vs(2,e.viewQuery,n);let o=e.components;o!==null&&Om(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[O]&=-5,mr()}}function Om(e,t){for(let n=0;n<t.length;n++)Pm(e,t[n])}function Qr(e,t,n,i){let r=P(null);try{let o=t.tView,a=e[O]&4096?4096:16,l=ya(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=e[t.index];l[gt]=u;let f=e[Ke];return f!==null&&(l[Ke]=f.createEmbeddedView(o)),Sa(o,l,n),l}finally{P(r)}}function ci(e,t){return!t||t.firstChild===null||ru(e)}function ui(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(Be(o)),Ue(o)&&Hu(o,i);let s=n.type;if(s&8)ui(e,t,n.child,i);else if(s&32){let a=Ca(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=Fu(t,n);if(Array.isArray(a))i.push(...a);else{let l=mt(t[Ve]);ui(l[k],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function Hu(e,t){for(let n=re;n<e.length;n++){let i=e[n],r=i[k].firstChild;r!==null&&ui(i[k],i,r,t)}e[vt]!==e[He]&&t.push(e[vt])}function Uu(e){if(e[sr]!==null){for(let t of e[sr])t.impl.addSequence(t);e[sr].length=0}}var $u=[];function Lm(e){return e[Ae]??Vm(e)}function Vm(e){let t=$u.pop()??Object.create(jm);return t.lView=e,t}function Bm(e){e.lView[Ae]!==e&&(e.lView=null,$u.push(e))}var jm=R(T({},Dt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ht(e.lView)},consumerOnSignalRead(){this.lView[Ae]=this}});function Hm(e){let t=e[Ae]??Object.create(Um);return t.lView=e,t}var Um=R(T({},Dt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=mt(e.lView);for(;t&&!Gu(t[k]);)t=mt(t);t&&ms(t)},consumerOnSignalRead(){this.lView[Ae]=this}});function Gu(e){return e.type!==2}function qu(e){if(e[at]===null)return;let t=!0;for(;t;){let n=!1;for(let i of e[at])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(e[O]&8192)}}var $m=100;function zu(e,t=0){let i=e[Ze].rendererFactory,r=!1;r||i.begin?.();try{Gm(e,t)}finally{r||i.end?.()}}function Gm(e,t){let n=bs();try{vn(!0),$s(e,t);let i=0;for(;ti(e);){if(i===$m)throw new B(103,!1);i++,$s(e,1)}}finally{vn(n)}}function qm(e,t,n,i){if(jt(t))return;let r=t[O],o=!1,s=!1;pr(t);let a=!0,l=null,u=null;o||(Gu(e)?(u=Lm(t),l=bt(u)):Fi()===null?(a=!1,u=Hm(t),l=bt(u)):t[Ae]&&(wt(t[Ae]),t[Ae]=null));try{ps(t),ec(e.bindingStartIndex),n!==null&&Ou(e,t,n,2,i);let f=(r&3)===3;if(!o)if(f){let D=e.preOrderCheckHooks;D!==null&&Cr(t,D,null)}else{let D=e.preOrderHooks;D!==null&&_r(t,D,0,null),Ts(t,0)}if(s||zm(t),qu(t),Wu(t,0),e.contentQueries!==null&&hu(e,t),!o)if(f){let D=e.contentCheckHooks;D!==null&&Cr(t,D)}else{let D=e.contentHooks;D!==null&&_r(t,D,1),Ts(t,1)}Qm(e,t);let E=e.components;E!==null&&Yu(t,E,0);let w=e.viewQuery;if(w!==null&&Vs(2,w,i),!o)if(f){let D=e.viewCheckHooks;D!==null&&Cr(t,D)}else{let D=e.viewHooks;D!==null&&_r(t,D,2),Ts(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[or]){for(let D of t[or])D();t[or]=null}o||(Uu(t),t[O]&=-73)}catch(f){throw o||Ht(t),f}finally{u!==null&&(en(u,l),a&&Bm(u)),mr()}}function Wu(e,t){for(let n=su(e);n!==null;n=au(n))for(let i=re;i<n.length;i++){let r=n[i];Qu(r,t)}}function zm(e){for(let t=su(e);t!==null;t=au(t)){if(!(t[O]&2))continue;let n=t[Lt];for(let i=0;i<n.length;i++){let r=n[i];ms(r)}}}function Wm(e,t,n){Y(18);let i=Je(t,e);Qu(i,n),Y(19,i[oe])}function Qu(e,t){lr(e)&&$s(e,t)}function $s(e,t){let i=e[k],r=e[O],o=e[Ae],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&tn(o)),s||=!1,o&&(o.dirty=!1),e[O]&=-9217,s)qm(i,e,i.template,e[oe]);else if(r&8192){let a=P(null);try{qu(e),Wu(e,1);let l=i.components;l!==null&&Yu(e,l,1),Uu(e)}finally{P(a)}}}function Yu(e,t,n){for(let i=0;i<t.length;i++)Wm(e,t[i],n)}function Qm(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Et(~r);else{let o=r,s=n[++i],a=n[++i];nc(s,o);let l=t[o];Y(24,l),a(2,l),Y(25,l)}}}finally{Et(-1)}}function Aa(e,t){let n=bs()?64:1088;for(e[Ze].changeDetectionScheduler?.notify(t);e;){e[O]|=n;let i=mt(e);if(hn(e)&&!i)return e;e=i}return null}function Zu(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function Ku(e,t){let n=re+t;if(n<e.length)return e[n]}function Yr(e,t,n,i=!0){let r=t[k];if(Ym(r,t,e,n),i){let s=Us(n,e),a=t[ne],l=a.parentNode(e[vt]);l!==null&&am(r,e[Le],a,t,l,s)}let o=t[fn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ju(e,t){let n=di(e,t);return n!==void 0&&zr(n[k],n),n}function di(e,t){if(e.length<=re)return;let n=re+t,i=e[n];if(i){let r=i[gt];r!==null&&r!==e&&wa(r,i),t>0&&(e[n-1][Oe]=i[Oe]);let o=Qn(e,re+t);sm(i[k],i);let s=o[Ke];s!==null&&s.detachView(o[k]),i[fe]=null,i[Oe]=null,i[O]&=-129}return i}function Ym(e,t,n,i){let r=re+i,o=n.length;i>0&&(n[r-1][Oe]=t),i<o-re?(t[Oe]=n[r],ts(n,re+i,t)):(n.push(t),t[Oe]=null),t[fe]=n;let s=t[gt];s!==null&&n!==s&&Xu(s,t);let a=t[Ke];a!==null&&a.insertView(e),cr(t),t[O]|=128}function Xu(e,t){let n=e[Lt],i=t[fe];if(lt(i))e[O]|=2;else{let r=i[fe][Ve];t[Ve]!==r&&(e[O]|=2)}n===null?e[Lt]=[t]:n.push(t)}var _n=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[k];return ui(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[oe]}set context(t){this._lView[oe]=t}get destroyed(){return jt(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[fe];if(Ue(t)){let n=t[Xn],i=n?n.indexOf(this):-1;i>-1&&(di(t,i),Qn(n,i))}this._attachedToViewContainer=!1}zr(this._lView[k],this._lView)}onDestroy(t){hs(this._lView,t)}markForCheck(){Aa(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){cr(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,zu(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=hn(this._lView),n=this._lView[gt];n!==null&&!t&&wa(n,this._lView),Pu(this._lView[k],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=t;let n=hn(this._lView),i=this._lView[gt];i!==null&&!n&&Xu(i,this._lView),cr(this._lView)}};var Dn=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Zm;constructor(n,i,r){this._declarationLView=n,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,r){let o=Qr(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:r});return new _n(o)}}return e})();function Zm(){return Na(Ne(),U())}function Na(e,t){return e.type&4?new Dn(t,e,wn(e,t)):null}function Zr(e,t,n,i,r){let o=e.data[t];if(o===null)o=Km(e,t,n,i,r),tc()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=Zl();o.injectorIndex=s===null?-1:s.injectorIndex}return gn(o,!0),o}function Km(e,t,n,i,r){let o=_s(),s=Ds(),a=s?o:o&&o.parent,l=e.data[t]=Xm(e,a,n,t,i,r);return Jm(e,l,o,s),l}function Jm(e,t,n,i){e.firstChild===null&&(e.firstChild=t),n!==null&&(i?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function Xm(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Yl()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var rD=new RegExp(`^(\\d+)*(${Mp}|${xp})*(.*)`);function eh(e){let t=e[cs]??[],i=e[fe][ne],r=[];for(let o of t)o.data[du]!==void 0?r.push(o):th(o,i);e[cs]=r}function th(e,t){let n=0,i=e.firstChild;if(i){let r=e.data[uu];for(;n<r;){let o=i.nextSibling;bu(t,i,!1),i=o,n++}}}var nh=()=>null,ih=()=>null;function Gs(e,t){return nh(e,t)}function ed(e,t,n){return ih(e,t,n)}var td=class{},Kr=class{},qs=class{resolveComponentFactory(t){throw new B(917,!1)}},Jr=class{static NULL=new qs},Qt=class{};var nd=(()=>{class e{static \u0275prov=X({token:e,providedIn:"root",factory:()=>null})}return e})();var br={},zs=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){let r=this.injector.get(t,br,i);return r!==br||n===br?r:this.parentInjector.get(t,n,i)}};function kr(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=Zi(r,a);else if(o==2){let l=a,u=t[++s];i=Zi(i,l+": "+u+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function Ra(e,t=0){let n=U();if(n===null)return z(e,t);let i=Ne();return tu(i,n,Se(e),t)}function rh(e,t,n,i,r){let o=i===null?null:{"":-1},s=r(e,n);if(s!==null){let a=s,l=null,u=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,l,u]=f.resolveHostDirectives(s);break}ah(e,t,n,a,o,l,u)}o!==null&&i!==null&&oh(n,i,o)}function oh(e,t,n){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new B(-301,!1);i.push(t[r],o)}}function sh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ah(e,t,n,i,r,o,s){let a=i.length,l=!1;for(let w=0;w<a;w++){let D=i[w];!l&&Bt(D)&&(l=!0,sh(e,n,w)),mp(Kc(n,t),e,D.type)}ph(n,e.data.length,a);for(let w=0;w<a;w++){let D=i[w];D.providersResolver&&D.providersResolver(D)}let u=!1,f=!1,E=xu(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let w=0;w<a;w++){let D=i[w];if(n.mergedAttrs=jr(n.mergedAttrs,D.hostAttrs),ch(e,n,t,E,D),fh(E,D,r),s!==null&&s.has(D)){let[G,ae]=s.get(D);n.directiveToIndex.set(D.type,[E,G+n.directiveStart,ae+n.directiveStart])}else(o===null||!o.has(D))&&n.directiveToIndex.set(D.type,E);D.contentQueries!==null&&(n.flags|=4),(D.hostBindings!==null||D.hostAttrs!==null||D.hostVars!==0)&&(n.flags|=64);let F=D.type.prototype;!u&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!f&&(F.ngOnChanges||F.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),f=!0),E++}lh(e,n,o)}function lh(e,t,n){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=e.data[i];if(n===null||!n.has(r))Ac(0,t,r,i),Ac(1,t,r,i),Rc(t,i,!1);else{let o=n.get(r);Nc(0,t,o,i),Nc(1,t,o,i),Rc(t,i,!0)}}}function Ac(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),id(t,o)}}function Nc(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),id(t,s)}}function id(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Rc(e,t,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!n&&r===null||n&&o===null||ga(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&r.hasOwnProperty(l)){let u=r[l];for(let f of u)if(f===t){s??=[],s.push(l,i[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let u=o[l];for(let f=0;f<u.length;f+=2)if(u[f]===t){s??=[],s.push(u[f+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function ch(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=un(r.type,!0)),s=new ai(o,Bt(r),Ra,null);e.blueprint[i]=s,n[i]=s,uh(e,t,i,xu(e,n,r.hostVars,be),r)}function uh(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;dh(s)!=a&&s.push(a),s.push(n,i,o)}}function dh(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function fh(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Bt(t)&&(n[""]=e)}}function ph(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function rd(e,t,n,i,r,o,s,a){let l=t[k],u=l.consts,f=Xe(u,s),E=Zr(l,e,n,i,f);return o&&rh(l,t,E,Xe(u,a),r),E.mergedAttrs=jr(E.mergedAttrs,E.attrs),E.attrs!==null&&kr(E,E.attrs,!1),E.mergedAttrs!==null&&kr(E,E.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,E),E}function od(e,t){ip(e,t),us(t)&&e.queries.elementEnd(t)}function mh(e,t,n,i,r,o){let s=t.consts,a=Xe(s,r),l=Zr(t,e,n,i,a);if(l.mergedAttrs=jr(l.mergedAttrs,l.attrs),o!=null){let u=Xe(s,o);l.localNames=[];for(let f=0;f<u.length;f+=2)l.localNames.push(u[f],-1)}return l.attrs!==null&&kr(l,l.attrs,!1),l.mergedAttrs!==null&&kr(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function hh(e,t,n){return e[t]=n}function gh(e,t){return e[t]}function We(e,t,n){if(n===be)return!1;let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function vh(e,t,n,i){let r=We(e,t,n);return We(e,t+1,i)||r}function wr(e,t,n){return function i(r){let o=Vt(e)?Je(e.index,t):t;Aa(o,5);let s=t[oe],a=kc(t,s,n,r),l=i.__ngNextListenerFn__;for(;l;)a=kc(t,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function kc(e,t,n,i){let r=P(null);try{return Y(6,t,n),n(i)!==!1}catch(o){return km(e,o),!1}finally{Y(7,t,n),P(r)}}function sd(e,t,n,i,r,o,s,a){let l=ar(e),u=!1,f=null;if(!i&&l&&(f=Eh(t,n,o,e.index)),f!==null){let E=f.__ngLastListenerFn__||f;E.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,u=!0}else{let E=$e(e,n),w=i?i(E):E;Sp(n,w,o,a);let D=r.listen(w,o,a);if(!yh(o)){let F=i?G=>i(Be(G[e.index])):e.index;ad(F,t,n,o,a,D,!1)}}return u}function yh(e){return e.startsWith("animation")||e.startsWith("transition")}function Eh(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[pn],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function ad(e,t,n,i,r,o,s){let a=t.firstCreatePass?vs(t):null,l=gs(n),u=l.length;l.push(r,o),a&&a.push(i,e,u,(u+1)*(s?-1:1))}function Pc(e,t,n,i,r,o){let s=t[n],a=t[k],u=a.data[n].outputs[i],E=s[u].subscribe(o);ad(e.index,a,t,r,o,E,!0)}var Ws=Symbol("BINDING");var Qs=class extends Jr{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=kt(t);return new fi(n,this.ngModule)}};function Ch(e){return Object.keys(e).map(t=>{let[n,i,r]=e[t],o={propName:n,templateName:t,isSignal:(i&qr.SignalBased)!==0};return r&&(o.transform=r),o})}function _h(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Dh(e,t,n){let i=t instanceof Pe?t:t?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new zs(n,i):n}function bh(e){let t=e.get(Qt,null);if(t===null)throw new B(407,!1);let n=e.get(nd,null),i=e.get(Ye,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:i,ngReflect:!1}}function wh(e,t){let n=ld(e);return _u(t,n,n==="svg"?ds:n==="math"?Hl:null)}function ld(e){return(e.selectors[0][0]||"div").toLowerCase()}var fi=class extends Kr{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Ch(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=_h(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Up(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,i,r,o,s){Y(22);let a=P(null);try{let l=this.componentDef,u=Ih(i,l,s,o),f=Dh(l,r||this.ngModule,t),E=bh(f),w=E.rendererFactory.createRenderer(null,l),D=i?Cm(w,i,l.encapsulation,f):wh(l,w),F=s?.some(Fc)||o?.some(le=>typeof le!="function"&&le.bindings.some(Fc)),G=ya(null,u,null,512|Iu(l),null,null,E,w,f,null,mu(D,f,!0));G[ve]=D,pr(G);let ae=null;try{let le=rd(ve,G,2,"#host",()=>u.directiveRegistry,!0,0);wu(w,D,le),Cn(D,G),Lu(u,G,le),gu(u,le,G),od(u,le),n!==void 0&&Mh(le,this.ngContentSelectors,n),ae=Je(le.index,G),G[oe]=ae[oe],Sa(u,G,null)}catch(le){throw ae!==null&&Os(ae),Os(G),le}finally{Y(23),mr()}return new Pr(this.componentType,G,!!F)}finally{P(a)}}};function Ih(e,t,n,i){let r=e?["ng-version","20.3.12"]:$p(t.selectors[0]),o=null,s=null,a=0;if(n)for(let f of n)a+=f[Ws].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(i)for(let f=0;f<i.length;f++){let E=i[f];if(typeof E!="function")for(let w of E.bindings){a+=w[Ws].requiredVars;let D=f+1;w.create&&(w.targetIdx=D,(o??=[]).push(w)),w.update&&(w.targetIdx=D,(s??=[]).push(w))}}let l=[t];if(i)for(let f of i){let E=typeof f=="function"?f:f.type,w=rs(E);l.push(w)}return va(0,null,xh(o,s),1,a,l,null,null,null,[r],null)}function xh(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let i of e)i.create();if(n&2&&t)for(let i of t)i.update()}}function Fc(e){let t=e[Ws].kind;return t==="input"||t==="twoWay"}var Pr=class extends td{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,i){super(),this._rootLView=n,this._hasInputBindings=i,this._tNode=ei(n[k],ve),this.location=wn(this._tNode,n),this.instance=Je(this._tNode.index,n)[oe],this.hostView=this.changeDetectorRef=new _n(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let r=this._rootLView,o=Ta(i,r[k],r,t,n);this.previousInputValues.set(t,n);let s=Je(i.index,r);Aa(s,1)}get injector(){return new zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Mh(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var vi=(()=>{class e{static __NG_ELEMENT_ID__=Th}return e})();function Th(){let e=Ne();return ud(e,U())}var Sh=vi,cd=class extends Sh{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return wn(this._hostTNode,this._hostLView)}get injector(){return new zt(this._hostTNode,this._hostLView)}get parentInjector(){let t=da(this._hostTNode,this._hostLView);if(Qc(t)){let n=Mr(t,this._hostLView),i=xr(t),r=n[k].data[i+8];return new zt(r,n)}else return new zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Oc(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-re}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Gs(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,ci(this._hostTNode,s)),a}createComponent(t,n,i,r,o,s,a){let l=t&&!Kf(t),u;if(l)u=n;else{let ae=n||{};u=ae.index,i=ae.injector,r=ae.projectableNodes,o=ae.environmentInjector||ae.ngModuleRef,s=ae.directives,a=ae.bindings}let f=l?t:new fi(kt(t)),E=i||this.parentInjector;if(!o&&f.ngModule==null){let le=(l?E:this.parentInjector).get(Pe,null);le&&(o=le)}let w=kt(f.componentType??{}),D=Gs(this._lContainer,w?.id??null),F=D?.firstChild??null,G=f.create(E,r,F,o,s,a);return this.insertImpl(G.hostView,u,ci(this._hostTNode,D)),G}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(Ul(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[fe],u=new cd(l,l[Le],l[fe]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Yr(s,r,o,i),t.attachToViewContainerRef(),ts(Ns(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Oc(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=di(this._lContainer,n);i&&(Qn(Ns(this._lContainer),n),zr(i[k],i))}detach(t){let n=this._adjustIndex(t,-1),i=di(this._lContainer,n);return i&&Qn(Ns(this._lContainer),n)!=null?new _n(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Oc(e){return e[Xn]}function Ns(e){return e[Xn]||(e[Xn]=[])}function ud(e,t){let n,i=t[e.index];return Ue(i)?n=i:(n=Zu(i,t,null,e),t[e.index]=n,Ea(t,n)),Nh(n,t,e,i),new cd(n,e,t)}function Ah(e,t){let n=e[ne],i=n.createComment(""),r=$e(t,e),o=n.parentNode(r);return Nr(n,o,i,n.nextSibling(r),!1),i}var Nh=Ph,Rh=()=>!1;function kh(e,t,n){return Rh(e,t,n)}function Ph(e,t,n,i){if(e[vt])return;let r;n.type&8?r=Be(i):r=Ah(t,n),e[vt]=r}var Ys=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Zs=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)pd(t,n).matches!==null&&this.queries[n].setDirty()}},Ks=class{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=Hh(t):this.predicate=t}},Js=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Xs=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,Fh(n,o)),this.matchTNodeWithReadOption(t,n,Dr(n,t,o,!1,!1))}else i===Dn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Dr(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===In||r===vi||r===Dn&&n.type&4)this.addMatch(n.index,-2);else{let o=Dr(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function Fh(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function Oh(e,t){return e.type&11?wn(e,t):e.type&4?Na(e,t):null}function Lh(e,t,n,i){return n===-1?Oh(t,e):n===-2?Vh(e,t,i):Tr(e,e[k],n,t)}function Vh(e,t,n){if(n===In)return wn(t,e);if(n===Dn)return Na(t,e);if(n===vi)return ud(t,e)}function dd(e,t,n,i){let r=t[Ke].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let f=o[u];a.push(Lh(t,f,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function ea(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=dd(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let u=o[a+1],f=t[-l];for(let E=re;E<f.length;E++){let w=f[E];w[gt]===w[fe]&&ea(w[k],w,u,i)}if(f[Lt]!==null){let E=f[Lt];for(let w=0;w<E.length;w++){let D=E[w];ea(D[k],D,u,i)}}}}}return i}function fd(e,t){return e[Ke].queries[t].queryList}function Bh(e,t,n){let i=new Sr((n&4)===4);return ql(e,t,i,i.destroy),(t[Ke]??=new Zs).queries.push(new Ys(i))-1}function jh(e,t,n){let i=De();return i.firstCreatePass&&(Uh(i,new Ks(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),Bh(i,U(),t)}function Hh(e){return e.split(",").map(t=>t.trim())}function Uh(e,t,n){e.queries===null&&(e.queries=new Js),e.queries.track(new Xs(t,n))}function pd(e,t){return e.queries.getByIndex(t)}function $h(e,t){let n=e[k],i=pd(n,t);return i.crossesNgTemplate?ea(n,e,t,[]):dd(n,e,i,t)}function md(e,t,n){let i,r=jn(()=>{i._dirtyCounter();let o=qh(i,e);if(t&&o===void 0)throw new B(-951,!1);return o});return i=r[ge],i._dirtyCounter=b(0),i._flatValue=void 0,r}function hd(e){return md(!0,!1,e)}function gd(e){return md(!0,!0,e)}function Gh(e,t){let n=e[ge];n._lView=U(),n._queryIndex=t,n._queryList=fd(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(i=>i+1))}function qh(e,t){let n=e._lView,i=e._queryIndex;if(n===void 0||i===void 0||n[O]&4)return t?void 0:_e;let r=fd(n,i),o=$h(n,i);return r.reset(o,Cp),t?r.first:r._changesDetected||e._flatValue===void 0?e._flatValue=r.toArray():e._flatValue}var Fr=class{};var pi=class extends Fr{injector;componentFactoryResolver=new Qs(this);instance=null;constructor(t){super();let n=new St([...t.providers,{provide:Fr,useValue:this},{provide:Jr,useValue:this.componentFactoryResolver}],t.parent||Kn(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function vd(e,t,n=null){return new pi({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var zh=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=os(!1,n.type),r=i.length>0?vd([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=X({token:e,providedIn:"environment",factory:()=>new e(z(Pe))})}return e})();function se(e){return ua(()=>{let t=Zh(e),n=R(T({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===fa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(zh).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ut.Emulated,styles:e.styles||_e,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Zt("NgStandalone"),Kh(n);let i=e.dependencies;return n.directiveDefs=Lc(i,Wh),n.pipeDefs=Lc(i,Pl),n.id=Jh(n),n})}function Wh(e){return kt(e)||rs(e)}function Xr(e){return ua(()=>({type:e.type,bootstrap:e.bootstrap||_e,declarations:e.declarations||_e,imports:e.imports||_e,exports:e.exports||_e,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Qh(e,t){if(e==null)return Nt;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=qr.None,l=null),n[o]=[i,a,l],t[o]=s}return n}function Yh(e){if(e==null)return Nt;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Zh(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Nt,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||_e,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Qh(e.inputs,t),outputs:Yh(e.outputs),debugInfo:null}}function Kh(e){e.features?.forEach(t=>t(e))}function Lc(e,t){return e?()=>{let n=typeof e=="function"?e():e,i=[];for(let r of n){let o=t(r);o!==null&&i.push(o)}return i}:null}function Jh(e){let t=0,n=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Xh(e,t,n,i,r,o,s,a){if(n.firstCreatePass){e.mergedAttrs=jr(e.mergedAttrs,e.attrs);let f=e.tView=va(2,e,r,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),f.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),gn(e,!1);let l=eg(n,t,e,i);gr()&&Ia(n,t,l,e),Cn(l,t);let u=Zu(l,t,l,e);t[i+ve]=u,Ea(t,u),kh(u,e,t)}function Or(e,t,n,i,r,o,s,a,l,u,f){let E=n+ve,w;if(t.firstCreatePass){if(w=Zr(t,E,4,s||null,a||null),u!=null){let D=Xe(t.consts,u);w.localNames=[];for(let F=0;F<D.length;F+=2)w.localNames.push(D[F],-1)}}else w=t.data[E];return Xh(w,e,t,n,i,r,o,l),u!=null&&Ma(e,w,f),w}var eg=tg;function tg(e,t,n,i){return vr(!0),t[ne].createComment("")}var ka=new $("");function Pa(e){return!!e&&typeof e.then=="function"}function yd(e){return!!e&&typeof e.subscribe=="function"}var Ed=new $("");var Fa=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=A(Ed,{optional:!0})??[];injector=A(ot);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=rr(this.injector,r);if(Pa(o))n.push(o);else if(yd(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cd=new $("");function _d(){Mo(()=>{let e="";throw new B(600,e)})}function Dd(e){return e.isBoundToModule}var ng=10;var yi=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=A(Ct);afterRenderManager=A(Nu);zonelessEnabled=A(ii);rootEffectScheduler=A(ri);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ft;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=A(Gt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Lo(n=>!n))}constructor(){A(gi,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=A(Pe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,r=ot.NULL){return this._injector.get(me).run(()=>{Y(10);let s=n instanceof Kr;if(!this._injector.get(Fa).done){let F="";throw new B(405,F)}let l;s?l=n:l=this._injector.get(Jr).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let u=Dd(l)?void 0:this._injector.get(Fr),f=i||l.selector,E=l.create(r,[],f,u),w=E.location.nativeElement,D=E.injector.get(ka,null);return D?.registerApplication(w),E.onDestroy(()=>{this.detachView(E.hostView),si(this.components,E),D?.unregisterApplication(w)}),this._loadComponent(E),Y(11,E),E})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Y(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(_a.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let n=P(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,P(n),this.afterTick.next(),Y(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Qt,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<ng;)Y(14),this.synchronizeOnce(),Y(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!ti(r))continue;let o=i&&!this.zonelessEnabled?0:1;zu(r,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ti(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;si(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(Cd,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>si(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function si(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function eo(e,t,n,i){let r=U(),o=yt();if(We(r,o,t)){let s=De(),a=hr();Am(a,r,e,t,n,i)}return eo}var uD=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var ta=class{destroy(t){}updateValue(t,n){}swap(t,n){let i=Math.min(t,n),r=Math.max(t,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(t,n){this.attach(n,this.detach(t))}};function Rs(e,t,n,i,r){return e===n&&Object.is(t,i)?1:Object.is(r(e,t),r(n,i))?-1:0}function ig(e,t,n){let i,r,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;o<=s&&o<=l;){let u=e.at(o),f=t[o],E=Rs(o,u,o,f,n);if(E!==0){E<0&&e.updateValue(o,f),o++;continue}let w=e.at(s),D=t[l],F=Rs(s,w,l,D,n);if(F!==0){F<0&&e.updateValue(s,D),s--,l--;continue}let G=n(o,u),ae=n(s,w),le=n(o,f);if(Object.is(le,ae)){let Vn=n(l,D);Object.is(Vn,G)?(e.swap(o,s),e.updateValue(s,D),l--,s--):e.move(s,o),e.updateValue(o,f),o++;continue}if(i??=new Lr,r??=Bc(e,o,s,n),na(e,i,o,le))e.updateValue(o,f),o++,s++;else if(r.has(le))i.set(G,e.detach(o)),s--;else{let Vn=e.create(o,t[o]);e.attach(o,Vn),o++,s++}}for(;o<=l;)Vc(e,i,n,o,t[o]),o++}else if(t!=null){let l=t[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let f=e.at(o),E=u.value,w=Rs(o,f,o,E,n);if(w!==0)w<0&&e.updateValue(o,E),o++,u=l.next();else{i??=new Lr,r??=Bc(e,o,s,n);let D=n(o,E);if(na(e,i,o,D))e.updateValue(o,E),o++,s++,u=l.next();else if(!r.has(D))e.attach(o,e.create(o,E)),o++,s++,u=l.next();else{let F=n(o,f);i.set(F,e.detach(o)),s--}}}for(;!u.done;)Vc(e,i,n,e.length,u.value),u=l.next()}for(;o<=s;)e.destroy(e.detach(s--));i?.forEach(l=>{e.destroy(l)})}function na(e,t,n,i){return t!==void 0&&t.has(i)?(e.attach(n,t.get(i)),t.delete(i),!0):!1}function Vc(e,t,n,i,r){if(na(e,t,i,n(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function Bc(e,t,n,i){let r=new Set;for(let o=t;o<=n;o++)r.add(i(o,e.at(o)));return r}var Lr=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,i]of this.kvMap)if(t(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,n)}}};function I(e,t,n,i,r,o,s,a){Zt("NgControlFlow");let l=U(),u=De(),f=Xe(u.consts,o);return Or(l,u,e,t,n,i,r,f,256,s,a),Oa}function Oa(e,t,n,i,r,o,s,a){Zt("NgControlFlow");let l=U(),u=De(),f=Xe(u.consts,o);return Or(l,u,e,t,n,i,r,f,512,s,a),Oa}function x(e,t){Zt("NgControlFlow");let n=U(),i=yt(),r=n[i]!==be?n[i]:-1,o=r!==-1?Vr(n,ve+r):void 0,s=0;if(We(n,i,e)){let a=P(null);try{if(o!==void 0&&Ju(o,s),e!==-1){let l=ve+e,u=Vr(n,l),f=sa(n[k],l),E=ed(u,f,n),w=Qr(n,f,t,{dehydratedView:E});Yr(u,w,s,ci(f,E))}}finally{P(a)}}else if(o!==void 0){let a=Ku(o,s);a!==void 0&&(a[oe]=t)}}var ia=class{lContainer;$implicit;$index;constructor(t,n,i){this.lContainer=t,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-re}};function we(e){return e}function Ei(e,t){return t}var ra=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,i){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=i}};function K(e,t,n,i,r,o,s,a,l,u,f,E,w){Zt("NgControlFlow");let D=U(),F=De(),G=l!==void 0,ae=U(),le=a?s.bind(ae[Ve][oe]):s,Vn=new ra(G,le);ae[ve+e]=Vn,Or(D,F,e+1,t,n,i,r,Xe(F.consts,o),256),G&&Or(D,F,e+2,l,u,f,E,Xe(F.consts,w),512)}var oa=class extends ta{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,i){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-re}at(t){return this.getLView(t)[oe].$implicit}attach(t,n){let i=n[fn];this.needsIndexUpdate||=t!==this.length,Yr(this.lContainer,n,t,ci(this.templateTNode,i)),rg(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,og(this.lContainer,t),sg(this.lContainer,t)}create(t,n){let i=Gs(this.lContainer,this.templateTNode.tView.ssrId),r=Qr(this.hostLView,this.templateTNode,new ia(this.lContainer,n,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){zr(t[k],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[oe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[oe].$index=t}getLView(t){return ag(this.lContainer,t)}};function J(e){let t=P(null),n=et();try{let i=U(),r=i[k],o=i[n],s=n+1,a=Vr(i,s);if(o.liveCollection===void 0){let u=sa(r,s);o.liveCollection=new oa(a,i,u)}else o.liveCollection.reset();let l=o.liveCollection;if(ig(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=yt(),f=l.length===0;if(We(i,u,f)){let E=n+2,w=Vr(i,E);if(f){let D=sa(r,E),F=ed(w,D,i),G=Qr(i,D,void 0,{dehydratedView:F});Yr(w,G,0,ci(D,F))}else r.firstUpdatePass&&eh(w),Ju(w,0)}}}finally{P(t)}}function Vr(e,t){return e[t]}function rg(e,t){if(e.length<=re)return;let n=re+t,i=e[n],r=i?i[Ot]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[st];rm(o,r),Wt.delete(i),r.detachedLeaveAnimationFns=void 0}}function og(e,t){if(e.length<=re)return;let n=re+t,i=e[n],r=i?i[Ot]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function sg(e,t){return di(e,t)}function ag(e,t){return Ku(e,t)}function sa(e,t){return ei(e,t)}function L(e,t,n){let i=U(),r=yt();if(We(i,r,t)){let o=De(),s=hr();wm(s,i,e,t,i[ne],n)}return L}function aa(e,t,n,i,r){Ta(t,e,n,r?"class":"style",i)}function v(e,t,n,i){let r=U(),o=r[k],s=e+ve,a=o.firstCreatePass?rd(s,r,2,t,Sm,Ql(),n,i):o.data[s];if(Bu(a,r,e,t,bd),ar(a)){let l=r[k];Lu(l,r,a),gu(l,a,r)}return i!=null&&Ma(r,a),v}function y(){let e=De(),t=Ne(),n=ju(t);return e.firstCreatePass&&od(e,n),Es(n)&&Cs(),ys(),n.classesWithoutHost!=null&&op(n)&&aa(e,n,U(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&sp(n)&&aa(e,n,U(),n.stylesWithoutHost,!1),y}function ce(e,t,n,i){return v(e,t,n,i),y(),ce}function h(e,t,n,i){let r=U(),o=r[k],s=e+ve,a=o.firstCreatePass?mh(s,o,2,t,n,i):o.data[s];return Bu(a,r,e,t,bd),i!=null&&Ma(r,a),h}function m(){let e=Ne(),t=ju(e);return Es(t)&&Cs(),ys(),m}function Q(e,t,n,i){return h(e,t,n,i),m(),Q}var bd=(e,t,n,i,r)=>(vr(!0),_u(t[ne],i,uc()));function j(){return U()}function N(e,t,n){let i=U(),r=yt();if(We(i,r,t)){let o=De(),s=hr();Vu(s,i,e,t,i[ne],n)}return N}var Ci="en-US";var lg=Ci;function wd(e){typeof e=="string"&&(lg=e.toLowerCase().replace(/_/g,"-"))}function M(e,t,n){let i=U(),r=De(),o=Ne();return cg(r,i,i[ne],o,e,t,n),M}function S(e,t,n){let i=U(),r=De(),o=Ne();return(o.type&3||n)&&sd(o,r,i,n,i[ne],e,t,wr(o,i,t)),S}function cg(e,t,n,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=wr(i,t,o),sd(i,e,t,s,n,r,o,l)&&(a=!1)),a){let u=i.outputs?.[r],f=i.hostDirectiveOutputs?.[r];if(f&&f.length)for(let E=0;E<f.length;E+=2){let w=f[E],D=f[E+1];l??=wr(i,t,o),Pc(i,t,w,D,r,l)}if(u&&u.length)for(let E of u)l??=wr(i,t,o),Pc(i,t,E,r,r,l)}}function g(e=1){return cc(e)}function pe(e,t,n,i){Gh(e,jh(t,n,i))}function Re(e=1){fr(oc()+e)}function Er(e,t){return e<<17|t<<2}function Yt(e){return e>>17&32767}function ug(e){return(e&2)==2}function dg(e,t){return e&131071|t<<17}function la(e){return e|2}function bn(e){return(e&131068)>>2}function ks(e,t){return e&-131069|t<<2}function fg(e){return(e&1)===1}function ca(e){return e|1}function pg(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Yt(s),l=bn(s);e[i]=n;let u=!1,f;if(Array.isArray(n)){let E=n;f=E[1],(f===null||dn(E,f)>0)&&(u=!0)}else f=n;if(r)if(l!==0){let w=Yt(e[a+1]);e[i+1]=Er(w,a),w!==0&&(e[w+1]=ks(e[w+1],i)),e[a+1]=dg(e[a+1],i)}else e[i+1]=Er(a,0),a!==0&&(e[a+1]=ks(e[a+1],i)),a=i;else e[i+1]=Er(l,0),a===0?a=i:e[l+1]=ks(e[l+1],i),l=i;u&&(e[i+1]=la(e[i+1])),jc(e,f,i,!0),jc(e,f,i,!1),mg(t,f,e,i,o),s=Er(a,l),o?t.classBindings=s:t.styleBindings=s}function mg(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&dn(o,t)>=0&&(n[i+1]=ca(n[i+1]))}function jc(e,t,n,i){let r=e[n+1],o=t===null,s=i?Yt(r):bn(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],u=e[s+1];hg(l,t)&&(a=!0,e[s+1]=i?ca(u):la(u)),s=i?Yt(u):bn(u)}a&&(e[n+1]=i?la(r):ca(r))}function hg(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?dn(e,t)>=0:!1}var ze={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gg(e){return e.substring(ze.key,ze.keyEnd)}function vg(e){return yg(e),Id(e,xd(e,0,ze.textEnd))}function Id(e,t){let n=ze.textEnd;return n===t?-1:(t=ze.keyEnd=Eg(e,ze.key=t,n),xd(e,t,n))}function yg(e){ze.key=0,ze.keyEnd=0,ze.value=0,ze.valueEnd=0,ze.textEnd=e.length}function xd(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Eg(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function ke(e,t,n){return Md(e,t,n,!1),ke}function ie(e,t){return Md(e,t,null,!0),ie}function p(e){_g(Mg,Cg,e,!0)}function Cg(e,t){for(let n=vg(t);n>=0;n=Id(t,n))nr(e,gg(t),!0)}function Md(e,t,n,i){let r=U(),o=De(),s=ur(2);if(o.firstUpdatePass&&Sd(o,e,s,i),t!==be&&We(r,s,t)){let a=o.data[et()];Ad(o,a,r,r[ne],e,r[s+1]=Sg(t,n),i,s)}}function _g(e,t,n,i){let r=De(),o=ur(2);r.firstUpdatePass&&Sd(r,null,o,i);let s=U();if(n!==be&&We(s,o,n)){let a=r.data[et()];if(Nd(a,i)&&!Td(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Zi(l,n||"")),aa(r,a,s,n,i)}else Tg(r,a,s,s[ne],s[o+1],s[o+1]=xg(e,t,n),i,o)}}function Td(e,t){return t>=e.expandoStartIndex}function Sd(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[et()],s=Td(e,n);Nd(o,i)&&t===null&&!s&&(t=!1),t=Dg(r,o,t,i),pg(r,o,t,n,s,i)}}function Dg(e,t,n,i){let r=rc(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Ps(null,e,t,n,i),n=mi(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=Ps(r,e,t,n,i),o===null){let l=bg(e,t,i);l!==void 0&&Array.isArray(l)&&(l=Ps(null,e,t,l[1],i),l=mi(l,t.attrs,i),wg(e,t,i,l))}else o=Ig(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function bg(e,t,n){let i=n?t.classBindings:t.styleBindings;if(bn(i)!==0)return e[Yt(i)]}function wg(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Yt(r)]=i}function Ig(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=mi(i,s,n)}return mi(i,t.attrs,n)}function Ps(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=mi(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function mi(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),nr(e,s,n?!0:t[++o]))}return e===void 0?null:e}function xg(e,t,n){if(n==null||n==="")return _e;let i=[],r=Gr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function Mg(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&nr(e,i,n)}function Tg(e,t,n,i,r,o,s,a){r===be&&(r=_e);let l=0,u=0,f=0<r.length?r[0]:null,E=0<o.length?o[0]:null;for(;f!==null||E!==null;){let w=l<r.length?r[l+1]:void 0,D=u<o.length?o[u+1]:void 0,F=null,G;f===E?(l+=2,u+=2,w!==D&&(F=E,G=D)):E===null||f!==null&&f<E?(l+=2,F=f):(u+=2,F=E,G=D),F!==null&&Ad(e,t,n,i,F,G,s,a),f=l<r.length?r[l]:null,E=u<o.length?o[u]:null}}function Ad(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,u=l[a+1],f=fg(u)?Hc(l,t,n,r,bn(u),s):void 0;if(!Br(f)){Br(o)||ug(u)&&(o=Hc(l,null,n,r,a,s));let E=fs(et(),n);Em(i,s,E,r,o)}}function Hc(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],u=Array.isArray(l),f=u?l[1]:l,E=f===null,w=n[r+1];w===be&&(w=E?_e:void 0);let D=E?ir(w,i):f===i?w:void 0;if(u&&!Br(D)&&(D=ir(l,i)),Br(D)&&(a=D,s))return a;let F=e[r+1];r=s?Yt(F):bn(F)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=ir(l,i))}return a}function Br(e){return e!==void 0}function Sg(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=pt(Gr(e)))),e}function Nd(e,t){return(e.flags&(t?8:16))!==0}function d(e,t=""){let n=U(),i=De(),r=e+ve,o=i.firstCreatePass?Zr(i,r,1,t,null):i.data[r],s=Ag(i,n,o,t,e);n[r]=s,gr()&&Ia(i,n,s,o),gn(o,!1)}var Ag=(e,t,n,i,r)=>(vr(!0),Gp(t[ne],i));function Ng(e,t,n,i=""){return We(e,yt(),n)?t+ht(n)+i:be}function Rg(e,t,n,i,r,o=""){let s=Xl(),a=vh(e,s,n,r);return ur(2),a?t+ht(n)+i+ht(r)+o:be}function q(e){return H("",e),q}function H(e,t,n){let i=U(),r=Ng(i,e,t,n);return r!==be&&Rd(i,et(),r),H}function Mn(e,t,n,i,r){let o=U(),s=Rg(o,e,t,n,i,r);return s!==be&&Rd(o,et(),s),Mn}function Rd(e,t,n){let i=fs(t,e);qp(e[ne],i,n)}function to(e){return We(U(),yt(),e)?ht(e):be}function _t(e,t,n){let i=Jl()+e,r=U();return r[i]===be?hh(r,i,n?t.call(n):t()):gh(r,i)}var kg=(()=>{class e{zone=A(me);changeDetectionScheduler=A(Ye);applicationRef=A(yi);applicationErrorHandler=A(Ct);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kd({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new me(R(T({},Pd()),{scheduleInRootZone:n})),[{provide:me,useFactory:e},{provide:Rt,multi:!0,useFactory:()=>{let i=A(kg,{optional:!0});return()=>i.initialize()}},{provide:Rt,multi:!0,useFactory:()=>{let i=A(Pg);return()=>{i.initialize()}}},t===!0?{provide:Ms,useValue:!0}:[],{provide:yr,useValue:n??Tu},{provide:Ct,useFactory:()=>{let i=A(me),r=A(Pe),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(Fe),o.handleError(s))})}}}]}function Pd(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Pg=(()=>{class e{subscription=new Ce;initialized=!1;zone=A(me);pendingTasks=A(Gt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var La=(()=>{class e{applicationErrorHandler=A(Ct);appRef=A(yi);taskService=A(Gt);ngZone=A(me);zonelessEnabled=A(ii);tracing=A(gi,{optional:!0});disableScheduling=A(Ms,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Rr):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(A(yr,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof li||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?wc:Su;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Rr+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(n),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,wc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Va(){return Zt("NgZoneless"),Yn([{provide:Ye,useExisting:La},{provide:me,useClass:li},{provide:ii,useValue:!0},{provide:yr,useValue:!1},[]])}function Fg(){return typeof $localize<"u"&&$localize.locale||Ci}var Ba=new $("",{providedIn:"root",factory:()=>A(Ba,{optional:!0,skipSelf:!0})||Fg()});var no=class{destroyed=!1;listeners=null;errorHandler=A(Fe,{optional:!0});destroyRef=A($t);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new B(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let n=this.listeners?.indexOf(t);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed){console.warn(zn(953,!1));return}if(this.listeners===null)return;let n=P(null);try{for(let i of this.listeners)try{i(t)}catch(r){this.errorHandler?.handleError(r)}}finally{P(n)}}};function Z(e,t){return jn(e,t?.equal)}var ja=class{[ge];constructor(t){this[ge]=t}destroy(){this[ge].destroy()}};function ue(e,t){let n=t?.injector??A(ot),i=t?.manualCleanup!==!0?n.get($t):null,r,o=n.get(ni,null,{optional:!0}),s=n.get(Ye);return o!==null?(r=Vg(o.view,s,e),i instanceof qn&&i._lView===o.view&&(i=null)):r=Bg(e,n.get(ri),s),r.injector=n,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new ja(r)}var Fd=R(T({},Dl),{cleanupFns:void 0,zone:null,onDestroyFn:qt,run(){let e=vn(!1);try{bl(this)}finally{vn(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=P(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],P(e)}}}),Og=R(T({},Fd),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){wt(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Lg=R(T({},Fd),{consumerMarkedDirty(){this.view[O]|=8192,Ht(this.view),this.notifier.notify(13)},destroy(){wt(this),this.onDestroyFn(),this.cleanup(),this.view[at]?.delete(this)}});function Vg(e,t,n){let i=Object.create(Lg);return i.view=e,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=Od(i,n),e[at]??=new Set,e[at].add(i),i.consumerMarkedDirty(i),i}function Bg(e,t,n){let i=Object.create(Og);return i.fn=Od(i,e),i.scheduler=t,i.notifier=n,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function Od(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}var Bd=Symbol("InputSignalNode#UNSET"),Zg=R(T({},Bi),{transformFn:void 0,applyValueToInputSignal(e,t){rn(e,t)}});function jd(e,t){let n=Object.create(Zg);n.value=e,n.transformFn=t?.transform;function i(){if(Xt(n),n.value===Bd){let r=null;throw new B(-950,r)}return n.value}return i[ge]=n,i}var Kg=new $("");Kg.__NG_ELEMENT_ID__=e=>{let t=Ne();if(t===null)throw new B(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new B(204,!1)};function xe(e){return new no}function Ld(e,t){return jd(e,t)}function Jg(e){return jd(Bd,e)}var te=(Ld.required=Jg,Ld);function Vd(e,t){return hd(t)}function Xg(e,t){return gd(t)}var he=(Vd.required=Xg,Vd);var Ha=new $(""),e0=new $("");function _i(e){return!e.moduleRef}function t0(e){let t=_i(e)?e.r3Injector:e.moduleRef.injector,n=t.get(me);return n.run(()=>{_i(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(Ct),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:i})}),_i(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Ha);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ha);s.add(o),e.moduleRef.onDestroy(()=>{si(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return i0(i,n,()=>{let o=t.get(Gt),s=o.add(),a=t.get(Fa);return a.runInitializers(),a.donePromise.then(()=>{let l=t.get(Ba,Ci);if(wd(l||Ci),!t.get(e0,!0))return _i(e)?t.get(yi):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(_i(e)){let f=t.get(yi);return e.rootComponent!==void 0&&f.bootstrap(e.rootComponent),f}else return n0?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var n0;function i0(e,t,n){try{let i=n();return Pa(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e(i)),i}}var io=null;function r0(e=[],t){return ot.create({name:t,providers:[{provide:Zn,useValue:"platform"},{provide:Ha,useValue:new Set([()=>io=null])},...e]})}function o0(e=[]){if(io)return io;let t=r0(e);return io=t,_d(),s0(t),t}function s0(e){let t=e.get(Ur,null);rr(e,()=>{t?.forEach(n=>n())})}function Hd(e){let{rootComponent:t,appProviders:n,platformProviders:i,platformRef:r}=e;Y(8);try{let o=r?.injector??o0(i),s=[kd({}),{provide:Ye,useExisting:La},pc,...n||[]],a=new pi({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return t0({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{Y(9)}}var Ud=null;function bi(){return Ud}function Ua(e){Ud??=e}var Di=class{};var de=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Xr({type:e});static \u0275inj=Wn({})}return e})();function $a(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var wi=class{};var $d="browser";var Ii=class{_doc;constructor(t){this._doc=t}manager},ro=(()=>{class e extends Ii{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(z(Ge))};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})(),so=new $(""),Qa=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(s=>{s.manager=this});let r=n.filter(s=>!(s instanceof ro));this._plugins=r.slice().reverse();let o=n.find(s=>s instanceof ro);o&&this._plugins.push(o)}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||e)(z(so),z(me))};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})(),Ga="ng-app-id";function Gd(e){for(let t of e)t.remove()}function qd(e,t){let n=t.createElement("style");return n.textContent=e,n}function l0(e,t,n,i){let r=e.head?.querySelectorAll(`style[${Ga}="${t}"],link[${Ga}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Ga),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function za(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Ya=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,l0(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,qd);i?.forEach(r=>this.addUsage(r,this.external,za))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(Gd(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Gd(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,qd(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,za(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),n.appendChild(i)}static \u0275fac=function(i){return new(i||e)(z(Ge),z(Hr),z($r,8),z(hi))};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})(),qa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Za=/%COMP%/g;var Wd="%COMP%",c0=`_nghost-${Wd}`,u0=`_ngcontent-${Wd}`,d0=!0,f0=new $("",{providedIn:"root",factory:()=>d0});function p0(e){return u0.replace(Za,e)}function m0(e){return c0.replace(Za,e)}function Qd(e,t){return t.map(n=>n.replace(Za,e))}var Ka=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,l=null,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new xi(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,i);return r instanceof oo?r.applyToHost(n):r instanceof Mi&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,E=this.platformIsServer,w=this.tracingService;switch(i.encapsulation){case ut.Emulated:o=new oo(l,u,i,this.appId,f,s,a,E,w);break;case ut.ShadowDom:return new Wa(l,u,n,i,s,a,this.nonce,E,w);default:o=new Mi(l,u,i,f,s,a,E,w);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||e)(z(Qa),z(Ya),z(Hr),z(f0),z(Ge),z(me),z($r),z(gi,8))};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})(),xi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,i,r,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(qa[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(zd(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(zd(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new B(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=qa[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=qa[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(dt.DashCase|dt.Important)?t.style.setProperty(n,i,r&dt.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&dt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i,r){if(typeof t=="string"&&(t=bi().getGlobalEventTarget(this.doc,t),!t))throw new B(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,r)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function zd(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Wa=class extends xi{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,i,r,o,s,a,l,u){super(t,o,s,l,u),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=Qd(r.id,f);for(let w of f){let D=document.createElement("style");a&&D.setAttribute("nonce",a),D.textContent=w,this.shadowRoot.appendChild(D)}let E=r.getExternalStyles?.();if(E)for(let w of E){let D=za(w,o);a&&D.setAttribute("nonce",a),this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Mi=class extends xi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,i,r,o,s,a,l,u){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let f=i.styles;this.styles=u?Qd(u,f):f,this.styleUrls=i.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Wt.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},oo=class extends Mi{contentAttr;hostAttr;constructor(t,n,i,r,o,s,a,l,u){let f=r+"-"+i.id;super(t,n,i,o,s,a,l,u,f),this.contentAttr=p0(f),this.hostAttr=m0(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}};var ao=class e extends Di{supportsDOMEvents=!0;static makeCurrent(){Ua(new e)}onAndCancel(t,n,i,r){return t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=h0();return n==null?null:g0(n)}resetBaseElement(){Ti=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $a(document.cookie,t)}},Ti=null;function h0(){return Ti=Ti||document.head.querySelector("base"),Ti?Ti.getAttribute("href"):null}function g0(e){return new URL(e,document.baseURI).pathname}var v0=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})(),Yd=["alt","control","meta","shift"],y0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E0={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Zd=(()=>{class e extends Ii{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bi().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Yd.forEach(u=>{let f=i.indexOf(u);f>-1&&(i.splice(f,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=y0[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Yd.forEach(s=>{if(s!==r){let a=E0[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||e)(z(Ge))};static \u0275prov=X({token:e,factory:e.\u0275fac})}return e})();function Ja(e,t,n){let i=T({rootComponent:e,platformRef:n?.platformRef},C0(t));return Hd(i)}function C0(e){return{appProviders:[...I0,...e?.providers??[]],platformProviders:w0}}function _0(){ao.makeCurrent()}function D0(){return new Fe}function b0(){return pa(document),document}var w0=[{provide:hi,useValue:$d},{provide:Ur,useValue:_0,multi:!0},{provide:Ge,useFactory:b0}];var I0=[{provide:Zn,useValue:"root"},{provide:Fe,useFactory:D0},{provide:so,useClass:ro,multi:!0,deps:[Ge]},{provide:so,useClass:Zd,multi:!0,deps:[Ge]},Ka,Ya,Qa,{provide:Qt,useExisting:Ka},{provide:wi,useClass:v0},[]];function x0(e,t){if(e&1){let n=j();h(0,"div",8)(1,"input",16),S("input",function(r){let o=C(n).$index,s=g();return _(s.onEqBandChange(o,r))}),m(),h(2,"span",17),d(3),m()()}if(e&2){let n=t.$implicit,i=g();c(),ke("--thumb-bg","var(--color-"+i.theme().primary+"-400)")("--track-bg","var(--color-"+i.theme().primary+"-950)")("--thumb-border","var(--color-"+i.theme().primary+"-900)"),N("value",n.value),c(2),q(n.label)}}var Tn=class Tn{constructor(){this.eqSettings=te.required();this.enhancements=te.required();this.theme=te.required();this.close=xe();this.eqChange=xe();this.enhancementsChange=xe()}onEqBandChange(t,n){let i=parseInt(n.target.value,10),r=this.eqSettings().map((o,s)=>s===t?R(T({},o),{value:i}):o);this.eqChange.emit(r)}onEnhancementToggle(t,n){let i=n.target.checked,r=R(T({},this.enhancements()),{[t]:i});this.enhancementsChange.emit(r)}onClose(){this.close.emit()}};Tn.\u0275fac=function(n){return new(n||Tn)},Tn.\u0275cmp=se({type:Tn,selectors:[["app-eq-panel"]],inputs:{eqSettings:[1,"eqSettings"],enhancements:[1,"enhancements"],theme:[1,"theme"]},outputs:{close:"close",eqChange:"eqChange",enhancementsChange:"enhancementsChange"},decls:37,vars:16,consts:[[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-4","w-auto","max-w-md","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"mb-4"],[1,"text-sm","mb-2"],[1,"flex","justify-around","items-end","h-48","bg-black/50","p-4"],[1,"flex","flex-col","items-center"],[1,"space-y-2"],[1,"flex","items-center","justify-between","p-2","bg-black/50","cursor-pointer"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"change","checked"],[1,"w-9","h-5","border","flex","items-center","justify-center","text-xs","peer-checked:text-black"],[1,"peer-checked:hidden"],[1,"hidden","peer-checked:inline"],["type","range","min","0","max","100",1,"slider","vertical-slider",3,"input","value"],[1,"text-xs","text-green-400/60","mt-2"]],template:function(n,i){n&1&&(h(0,"div",0),S("click",function(){return i.onClose()}),m(),h(1,"div",1)(2,"div",2)(3,"h2",3),d(4,"[[ Equalizer & Enhancements ]]"),m(),h(5,"button",4),S("click",function(){return i.onClose()}),d(6," [X] "),m()(),h(7,"div",5)(8,"h3",6),d(9,"// Graphic EQ"),m(),h(10,"div",7),K(11,x0,4,8,"div",8,we),m()(),h(13,"div")(14,"h3",6),d(15,"// Enhancements"),m(),h(16,"div",9)(17,"label",10)(18,"span"),d(19,"Bass Boost"),m(),h(20,"div",11)(21,"input",12),S("change",function(o){return i.onEnhancementToggle("bassBoost",o)}),m(),h(22,"div",13)(23,"span",14),d(24,"[\xA0\xA0]"),m(),h(25,"span",15),d(26,"[X]"),m()()()(),h(27,"label",10)(28,"span"),d(29,"Surround Sound (UI Only)"),m(),h(30,"div",11)(31,"input",12),S("change",function(o){return i.onEnhancementToggle("surroundSound",o)}),m(),h(32,"div",13)(33,"span",14),d(34,"[\xA0\xA0]"),m(),h(35,"span",15),d(36,"[X]"),m()()()()()()()),n&2&&(c(),p("text-"+i.theme().primary+"-400"),c(4),p("hover:bg-"+i.theme().primary+"-400"),c(5),p("border border-"+i.theme().primary+"-400/30"),c(),J(i.eqSettings()),c(6),p("border border-"+i.theme().primary+"-400/30"),c(4),N("checked",i.enhancements().bassBoost),c(),p("peer-checked:bg-"+i.theme().primary+"-400"),c(5),p("border border-"+i.theme().primary+"-400/30"),c(4),N("checked",i.enhancements().surroundSound),c(),p("peer-checked:bg-"+i.theme().primary+"-400"))},dependencies:[de],styles:["input[type=range].vertical-slider[_ngcontent-%COMP%]{writing-mode:bt-lr;-webkit-appearance:slider-vertical;width:8px;height:120px;padding:0 5px;background-color:transparent}input[type=range].vertical-slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:var(--track-bg);width:4px;border-radius:0}input[type=range].vertical-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:8px;background:var(--thumb-bg);cursor:pointer;border:1px solid var(--thumb-border)}input[type=range].vertical-slider[_ngcontent-%COMP%]::-moz-range-track{background:var(--track-bg);width:4px;border-radius:0}input[type=range].vertical-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:8px;background:var(--thumb-bg);cursor:pointer;border:1px solid var(--thumb-border);border-radius:0}"]});var lo=Tn;var M0=["matrixCanvas"],Sn=class Sn{constructor(){this.canvasRef=he.required("matrixCanvas");this.FRAME_RATE_INTERVAL=250}ngAfterViewInit(){let t=this.canvasRef().nativeElement,n=t.getContext("2d");if(!n){console.error("Could not get 2D context");return}this.ctx=n,t.width=window.innerWidth,t.height=window.innerHeight;let i="SmuveJeffPresents",r=16,o=t.width/r,s=[];for(let u=0;u<o;u++)s[u]=1;let a=0,l=u=>{if(u-a>this.FRAME_RATE_INTERVAL){this.ctx.fillStyle="rgba(0, 0, 0, 0.05)",this.ctx.fillRect(0,0,t.width,t.height),this.ctx.fillStyle="#0F0",this.ctx.font=r+"px monospace";for(let f=0;f<s.length;f++){let E=i.charAt(Math.floor(Math.random()*i.length));this.ctx.fillText(E,f*r,s[f]*r),s[f]*r>t.height&&Math.random()>.975&&(s[f]=0),s[f]++}a=u}this.animationFrameId=requestAnimationFrame(l)};this.animationFrameId=requestAnimationFrame(l)}ngOnDestroy(){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}};Sn.\u0275fac=function(n){return new(n||Sn)},Sn.\u0275cmp=se({type:Sn,selectors:[["app-matrix-background"]],viewQuery:function(n,i){n&1&&pe(i.canvasRef,M0,5),n&2&&Re()},decls:2,vars:0,consts:[["matrixCanvas",""],[1,"absolute","top-0","left-0","w-full","h-full"]],template:function(n,i){n&1&&Q(0,"canvas",1,0)},styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}"]});var co=Sn;var uo=new $("GEMINI_API_KEY");var Kt=class Kt{constructor(){this._apiKey=A(uo);this._genAI=b(void 0);this._chatInstance=b(void 0);this._isAiAvailable=Z(()=>!!this._genAI());this.initializeGenAI()}get genAI(){return this._genAI()}get chatInstance(){return this._chatInstance()}get isAiAvailable(){return this._isAiAvailable()}getApiKey(){return this._apiKey}async initializeGenAI(){if(!this._apiKey||this._apiKey.length<30){console.error("AiService: AI features disabled. Invalid or missing API key injected via token."),this._genAI.set(void 0),this._chatInstance.set(void 0);return}try{let t=await import("./chunk-GUGQRGJ7.js"),n=new t.GoogleGenAI({apiKey:this._apiKey});this._genAI.set(n);let i=n.chats.create({model:"gemini-3-pro-preview",config:{systemInstruction:`You are S.M.U.V.E, an expert AI music manager toolkit. You specialize in genres such as Southern Rap, Hip-Hop, R&B, and Trap music, and possess advanced management and marketing skills. Provide concise, helpful, and culturally relevant responses tailored for independent music artists.

You can manage music, generate images/videos, analyze content, and search the web for up-to-date information.

Use COMMAND:::ACTION:::PARAMETER_KEY='value' format for app commands (e.g., COMMAND:::SET_THEME:::theme='blue'). Available commands:
- SET_THEME: Apply a visual theme (e.g., theme='blue').
- PLAY_TRACK: Play a track (e.g., title='My Song').
- PAUSE_TRACK: Pause current track.
- STOP_TRACK: Stop current track.
- LOAD_TRACK: (Requires more parameters like URL or search query, use cautiously).
- NEXT_TRACK: Play next track in playlist.
- PREVIOUS_TRACK: Play previous track in playlist.
- TOGGLE_LOOP: Toggle loop for current track.
- GENERATE_IMAGE: Create an image (e.g., prompt='album cover concept').
- GENERATE_VIDEO: Create a video (e.g., prompt='music video visualizer').
- ANALYZE_IMAGE: Describe an image (e.g., imageUrl='base64data').
- FIND_ON_MAP: Search for a location (e.g., query='recording studios in Atlanta').
- FIND_ARTISTS: Search for collaborators (e.g., location='Nashville', filter='producer').
- VIEW_ARTIST_PROFILE: Display an artist's detailed profile (e.g., name='BeatMaster Flex', genre='Hip-Hop', location='Atlanta').

When VIEW_ARTIST_PROFILE is used, expect a command containing an artist's name (and optional genre/location for disambiguation). Query your knowledge base (and implicitly, the MOCK_ARTISTS data provided in the app context) to provide an adaptive, detailed insight into their profile. This should include:
- Strengths (musicality, production, stage presence, lyrical ability etc.)
- Specific collaboration potential (e.g., "collaborate with a Memphis trap producer for a new single," "feature on an T_R&B singer's track").
- Career advice (e.g., "focus on building a strong presence on TikTok," "consider licensing your beats for video games").
- Marketing insights (e.g., "target college radio stations in the Southeast," "run Instagram ad campaigns geotargeted to your city").

If you need to search for up-to-date info, use the googleSearch tool. Adapt insights based on their genre, location, influences, and collaboration interests. Your responses should be direct and highly actionable, reflecting deep expertise in these specific music genres and industry practices.`}});this._chatInstance.set(i),console.log("AiService: GoogleGenAI client initialized and chat instance created.")}catch(t){console.error("AiService: Error initializing GoogleGenAI client:",t),this._genAI.set(void 0),this._chatInstance.set(void 0)}}};Kt.\u0275fac=function(n){return new(n||Kt)},Kt.\u0275prov=X({token:Kt,factory:Kt.\u0275fac});var Ee=Kt,Kd=()=>Yn([{provide:Ee,useClass:Ee}]);var T0=(e,t)=>t.id,S0=(e,t)=>t.url;function A0(e,t){if(e&1&&(h(0,"div",2),d(1),m()),e&2){let n=g();c(),H(" ",n.errorMessage()," ")}}function N0(e,t){e&1&&(h(0,"div",3),d(1," AI services are disabled. Networking search features might be limited. "),m())}function R0(e,t){e&1&&(h(0,"span"),d(1,"[ SEARCHING... ]"),m())}function k0(e,t){e&1&&(h(0,"span"),d(1,"[ FIND ARTISTS ]"),m())}function P0(e,t){if(e&1){let n=j();h(0,"div",31),S("click",function(){let r=C(n).$implicit,o=g();return _(o.viewArtistDetail(r))}),Q(1,"img",32),h(2,"div",33)(3,"h4",34),d(4),m(),h(5,"p",35),d(6),m(),h(7,"p",36),d(8),m(),h(9,"p",36),d(10),m()(),Ut(),h(11,"svg",37),Q(12,"path",38),m()()}if(e&2){let n=t.$implicit,i=g();p("hover:bg-"+i.theme().blue+"-800/70"),c(),p("border-"+i.theme().neutral+"-600"),N("alt",to(n.name))("src",n.imageUrl,ee),c(2),p("text-"+i.theme().blue+"-300"),c(),q(n.name),c(),p("text-"+i.theme().neutral+"-400"),c(),Mn("",n.genre," - ",n.location),c(2),H("",n.bio.substring(0,70),"..."),c(),p("text-"+i.theme().blue+"-500"),c(),H("Interest: ",n.collaborationInterest.join(", ")),c(),p("text-"+i.theme().blue+"-400")}}function F0(e,t){if(e&1&&(h(0,"p",39),d(1,"No artists found. Adjust your search or clear filters."),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-500")}}function O0(e,t){if(e&1&&(h(0,"p",35)(1,"strong"),d(2,"Specialties:"),m(),d(3),m()),e&2){let n=g(2);p("text-"+n.theme().neutral+"-400"),c(3),H(" ",n.selectedArtistProfile().specialties.join(", "))}}function L0(e,t){if(e&1&&(h(0,"p",35)(1,"strong"),d(2,"Target Audience:"),m(),d(3),m()),e&2){let n=g(2);p("text-"+n.theme().neutral+"-400"),c(3),H(" ",n.selectedArtistProfile().targetAudience)}}function V0(e,t){if(e&1&&(h(0,"p",35)(1,"strong"),d(2,"Career Goals:"),m(),d(3),m()),e&2){let n=g(2);p("text-"+n.theme().neutral+"-400"),c(3),H(" ",n.selectedArtistProfile().careerGoals)}}function B0(e,t){if(e&1&&(h(0,"a",55),d(1),m()),e&2){let n=t.$implicit,i=g(2);p("hover:text-"+i.theme().blue+"-300"),N("href",n.url,ee),c(),Mn(" ",n.type.toUpperCase(),": ",n.url," ")}}function j0(e,t){if(e&1&&(h(0,"p",54),d(1,"No links available."),m()),e&2){let n=g(2);p("text-"+n.theme().neutral+"-500")}}function H0(e,t){if(e&1){let n=j();h(0,"div",40),S("click",function(){C(n);let r=g();return _(r.closeArtistDetailModal())}),m(),h(1,"div",41)(2,"div",42)(3,"h2",34),d(4),m(),h(5,"button",43),S("click",function(){C(n);let r=g();return _(r.closeArtistDetailModal())}),d(6," [X] "),m()(),h(7,"div",44),Q(8,"img",45),h(9,"div",46)(10,"p",35)(11,"strong"),d(12,"Genre:"),m(),d(13),m(),h(14,"p",35)(15,"strong"),d(16,"Location:"),m(),d(17),m(),h(18,"p",35)(19,"strong"),d(20,"Collaboration Interest:"),m(),d(21),m(),h(22,"p",35)(23,"strong"),d(24,"Influences:"),m(),d(25),m(),I(26,O0,4,3,"p",47),I(27,L0,4,3,"p",47),I(28,V0,4,3,"p",47),m()(),h(29,"div",48)(30,"p",49),d(31),m(),h(32,"h3",35),d(33,"// LINKS:"),m(),h(34,"div",50),K(35,B0,2,5,"a",51,S0,!1,j0,2,2,"p",52),m(),h(38,"h3",53),d(39,"// CONTACT:"),m(),h(40,"p",54),d(41),m()()()}if(e&2){let n=g();c(),p("text-"+n.theme().blue+"-400"),c(3),H("[[ ARTIST PROFILE: ",n.selectedArtistProfile().name," ]]"),c(),p("hover:bg-"+n.theme().blue+"-400"),c(3),p("border-"+n.theme().neutral+"-600"),N("alt",to(n.selectedArtistProfile().name))("src",n.selectedArtistProfile().imageUrl,ee),c(2),p("text-"+n.theme().neutral+"-400"),c(3),Mn(" ",n.selectedArtistProfile().genre," (",n.selectedArtistProfile().genres.join(", "),")"),c(),p("text-"+n.theme().neutral+"-400"),c(3),H(" ",n.selectedArtistProfile().location),c(),p("text-"+n.theme().blue+"-500"),c(3),H(" ",n.selectedArtistProfile().collaborationInterest.join(", ")),c(),p("text-"+n.theme().neutral+"-500"),c(3),H(" ",n.selectedArtistProfile().influences.join(", ")),c(),x(n.selectedArtistProfile().specialties?26:-1),c(),x(n.selectedArtistProfile().targetAudience?27:-1),c(),x(n.selectedArtistProfile().careerGoals?28:-1),c(),p("border-"+n.theme().blue+"-500/30"),c(2),q(n.selectedArtistProfile().bio),c(),p("text-"+n.theme().blue+"-300"),c(3),J(n.selectedArtistProfile().links),c(3),p("text-"+n.theme().blue+"-300"),c(2),p("text-"+n.theme().neutral+"-400"),c(),q(n.selectedArtistProfile().contact)}}var it=[{id:"flex101",name:"BeatMaster Flex",genre:"Hip-Hop Producer",location:"Brooklyn, NY",locationLatLon:{lat:40.6782,lon:-73.9442},bio:"Award-winning producer with a knack for soulful beats and hard-hitting drums. Always looking for fresh vocalists and lyricists to elevate tracks. Specializing in old-school boom-bap and modern trap sounds.",contact:"flexbeats@email.com",imageUrl:"https://picsum.photos/seed/flex/150/150",collaborationInterest:["Vocalist","Lyricist","Rapper","Mixing Engineer"],genres:["Hip-Hop","Boom-Bap","Trap","Southern Rap"],influences:["J Dilla","DJ Premier","Madlib","Metro Boomin"],links:[{type:"soundcloud",url:"https://soundcloud.com/beatmasterflex"}],specialties:["Sampling","Drum Programming","Arrangement"],targetAudience:"Underground Hip-Hop, Trap, and R&B fans",careerGoals:"Produce a platinum album, mentor new artists"},{id:"mae202",name:"Melody Mae",genre:"Indie Pop Vocalist",location:"Los Angeles, CA",locationLatLon:{lat:34.0522,lon:-118.2437},bio:"Ethereal vocals with a dreamy vibe. Seeking producers for new tracks and live musicians for touring. Inspired by nature and introspection.",contact:"melodymae@email.com",imageUrl:"https://picsum.photos/seed/mae/150/150",collaborationInterest:["Producer","Guitarist","Songwriter","Keyboardist"],genres:["Indie Pop","Dream Pop","Alternative","R&B"],influences:["Fiona Apple","Lana Del Rey","Mazzy Star","SZA"],links:[{type:"spotify",url:"https://open.spotify.com/artist/melodymae"},{type:"instagram",url:"https://instagram.com/melodymae"}],specialties:["Vocal Harmony","Lyric Writing","Live Performance"],targetAudience:"Indie Pop, Dream Pop, and soulful R&B listeners",careerGoals:"Release a critically acclaimed album, headline festivals"},{id:"sammy303",name:"Synthwave Sammy",genre:"Electronic / Synthwave",location:"Miami, FL",locationLatLon:{lat:25.7617,lon:-80.1918},bio:"Master of retro synths and driving basslines, creating nostalgic soundscapes. Open to scoring short films, collaborating with vocalists, or DJing events.",contact:"sammywave@email.com",imageUrl:"https://picsum.photos/seed/sammy/150/150",collaborationInterest:["Vocalist","Filmmaker","DJ","Sound Designer"],genres:["Synthwave","Electronic","Vaporwave"],influences:["Com Truise","Kavinsky","Daft Punk"],links:[{type:"soundcloud",url:"https://soundcloud.com/synthwavesammy"},{type:"website",url:"https://synthwavesammy.com"}]},{id:"jake404",name:"Jazz Fusion Jake",genre:"Jazz / Fusion Guitarist",location:"New Orleans, LA",locationLatLon:{lat:29.9511,lon:-90.0715},bio:"Complex harmonies and intricate solos define my style. Looking for drummers, bassists, and horn players for a new progressive jazz project.",contact:"jakejazz@email.com",imageUrl:"https://picsum.photos/seed/jake/150/150",collaborationInterest:["Drummer","Bassist","Saxophonist","Keyboardist"],genres:["Jazz Fusion","Progressive Jazz","Funk"],influences:["Pat Metheny","John Scofield","Frank Gambale"],links:[{type:"spotify",url:"https://open.spotify.com/artist/jazzfusionjake"}]},{id:"rina505",name:"Rhythm Queen Rina",genre:"Afrobeat Drummer",location:"London, UK",locationLatLon:{lat:51.5074,lon:.1278},bio:"High-energy percussionist bringing vibrant global rhythms to any track. Collaborations in world music, hip-hop, or pop welcome. Specializing in intricate polyrhythms.",contact:"rina.drums@email.com",imageUrl:"https://picsum.photos/seed/rina/150/150",collaborationInterest:["Producer","Bassist","Vocalist","Guitarist"],genres:["Afrobeat","World Music","Funk","Hip-Hop"],influences:["Tony Allen","Fela Kuti","Ginger Baker"],links:[{type:"instagram",url:"https://instagram.com/rhythmqueenrina"}]},{id:"keys606",name:"Electro Keys Eva",genre:"Electronic Keyboardist",location:"Berlin, DE",locationLatLon:{lat:52.52,lon:13.405},bio:"Versatile keyboardist exploring ambient, techno, and house. Seeking DJs, producers, and experimental vocalists for live and studio projects.",contact:"eva.keys@email.com",imageUrl:"https://picsum.photos/seed/eva/150/150",collaborationInterest:["Producer","DJ","Vocalist","Sound Designer"],genres:["Techno","House","Ambient","Electronic"],influences:["Kraftwerk","Aphex Twin","Four Tet"],links:[{type:"soundcloud",url:"https://soundcloud.com/electrokeys"}]},{id:"rhyme707",name:"Poetic Rhyme Rex",genre:"Spoken Word / Hip-Hop",location:"Chicago, IL",locationLatLon:{lat:41.8781,lon:-87.6298},bio:"Lyricist and spoken word artist with a powerful message. Collaborations with producers across genres, from jazz to trap.",contact:"rexrhymes@email.com",imageUrl:"https://picsum.photos/seed/rex/150/150",collaborationInterest:["Producer","Vocalist","Jazz Musician"],genres:["Spoken Word","Hip-Hop","Poetry","Trap"],influences:["Gil Scott-Heron","Kendrick Lamar","Saul Williams","J. Cole"],links:[{type:"instagram",url:"https://instagram.com/poeticrex"}],specialties:["Freestyle","Storytelling","Performance Art"],targetAudience:"Conscious Hip-Hop and Spoken Word enthusiasts",careerGoals:"Release a conceptual album, perform at major poetry slams"},{id:"south808",name:"Southern Siren Sia",genre:"R&B / Trap Soul Vocalist",location:"Atlanta, GA",locationLatLon:{lat:33.7488,lon:-84.3877},bio:"Sultry vocals blending R&B smoothness with trap grit. Collaborating with producers for new EPs and visual artists for music videos. Deeply inspired by Atlanta's vibrant music scene.",contact:"siasounds@email.com",imageUrl:"https://picsum.photos/seed/sia/150/150",collaborationInterest:["Producer","Beatmaker","Video Director","Songwriter"],genres:["R&B","Trap Soul","Neo-Soul","Southern Rap"],influences:["Summer Walker","SZA","Future","Jhen\xE9 Aiko"],links:[{type:"instagram",url:"https://instagram.com/southernsirensia"},{type:"spotify",url:"https://open.spotify.com/artist/southernsirensia"}],specialties:["Vocal production","Ad-libs","Melody creation"],targetAudience:"R&B and Trap music listeners, especially in the South",careerGoals:"Build a strong brand, perform at A3C, release a full-length album"},{id:"beatrix909",name:"Beatrix B",genre:"Trap Producer",location:"Houston, TX",locationLatLon:{lat:29.7604,lon:-95.3698},bio:"Hard-hitting trap beats with cinematic undertones. Always on the lookout for new vocalists, especially those in Southern Rap and R&B, for joint projects. Ready to drop bangers.",contact:"beatrixb@email.com",imageUrl:"https://picsum.photos/seed/beatrix/150/150",collaborationInterest:["Vocalist","Rapper","Mixing Engineer","Songwriter"],genres:["Trap","Southern Rap","Hip-Hop"],influences:["Zaytoven","Cardo","Tay Keith"],links:[{type:"soundcloud",url:"https://soundcloud.com/beatrixb"}],specialties:["Beatmaking","Sound Design","Mixing"],targetAudience:"Trap and Southern Hip-Hop fans",careerGoals:"Secure major placements, build a production team"},{id:"soulful1010",name:"Soulful Sam",genre:"Neo-Soul / R&B Producer",location:"New Orleans, LA",locationLatLon:{lat:29.9511,lon:-90.0715},bio:"Crafting lush, soulful soundscapes with a modern twist. Seeking R&B and Neo-Soul vocalists, instrumentalists (especially horns and strings), for studio and live collaborations.",contact:"soulfulsam@email.com",imageUrl:"https://picsum.photos/seed/sam/150/150",collaborationInterest:["Vocalist","Instrumentalist","Songwriter","Mixing Engineer"],genres:["Neo-Soul","R&B","Jazz","Funk"],influences:["D'Angelo","Erykah Badu","Robert Glasper"],links:[{type:"spotify",url:"https://open.spotify.com/artist/soulfulsam"}],specialties:["Arrangement","Keys","Live instrumentation recording"],targetAudience:"Neo-Soul, R&B, and Jazz fusion listeners",careerGoals:"Release collaborative EPs, perform at jazz/soul festivals"}],An=class An{constructor(){this.theme=te.required();this.initialSearchQuery=te(null);this.searchLocation=b("");this.collaborationFilter=b("");this.displayedArtists=b([]);this.isLoading=b(!1);this.errorMessage=b(null);this.selectedArtistProfile=b(null);this.showArtistDetailModal=b(!1);this.aiService=A(Ee);this.isAiAvailable=Z(()=>this.aiService.isAiAvailable);this.artistProfileSelected=xe();ue(()=>{let t=this.initialSearchQuery();t&&t!==this.searchLocation()&&(this.searchLocation.set(t),this.searchArtists())}),this.displayedArtists.set(it),ue(()=>{this.selectedArtistProfile()?this.showArtistDetailModal.set(!0):this.showArtistDetailModal.set(!1)})}onSearchLocationInput(t){this.searchLocation.set(t.target.value)}onCollaborationFilterInput(t){this.collaborationFilter.set(t.target.value)}async searchArtists(){let t=this.searchLocation().trim(),n=this.collaborationFilter().trim();if(this.isLoading.set(!0),this.errorMessage.set(null),this.displayedArtists.set([]),!this.aiService.isAiAvailable){console.warn("AI services unavailable for networking search enhancement. Falling back to basic filter.");let i=it.filter(r=>{let o=!t||r.location.toLowerCase().includes(t.toLowerCase()),s=!n||r.collaborationInterest.some(a=>a.toLowerCase().includes(n.toLowerCase()));return o&&s});this.displayedArtists.set(i),i.length===0&&this.errorMessage.set("No artists found matching your criteria with basic filter."),this.isLoading.set(!1);return}try{let i=`You are an expert music industry scout specializing in Southern Rap, Hip-Hop, R&B, and Trap music genres, with advanced management and marketing skills. Given the following artists' profiles (as JSON array):

${JSON.stringify(it)}

Find artists who match the location "${t}" (if provided, prioritize this) and are interested in collaborations that include "${n}" (if provided, prioritize this). Consider their primary genre, influences, and bio for a holistic match. Provide the IDs of the top matching artists in a JSON array: {"matchingArtistIds": ["id1", "id2"]}. If no artists match, return an empty array.`,r=await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:"OBJECT",properties:{matchingArtistIds:{type:"ARRAY",items:{type:"STRING"}}},propertyOrdering:["matchingArtistIds"]}}}),s=JSON.parse(r.text).matchingArtistIds||[],a=it.filter(l=>s.includes(l.id));this.displayedArtists.set(a),a.length===0&&this.errorMessage.set("AI found no artists matching your criteria. Try different terms.")}catch(i){console.error("AI failed to enhance networking search:",i),this.errorMessage.set("AI search enhancement failed. Falling back to basic filter.");let r=it.filter(o=>{let s=!t||o.location.toLowerCase().includes(t.toLowerCase()),a=!n||o.collaborationInterest.some(l=>l.toLowerCase().includes(n.toLowerCase()));return s&&a});this.displayedArtists.set(r),r.length===0&&this.errorMessage.set("No artists found matching your criteria with basic filter.")}finally{this.isLoading.set(!1)}}clearSearch(){this.searchLocation.set(""),this.collaborationFilter.set(""),this.displayedArtists.set(it),this.errorMessage.set(null)}viewArtistDetail(t){this.selectedArtistProfile.set(t),this.artistProfileSelected.emit(t)}closeArtistDetailModal(){this.selectedArtistProfile.set(null)}};An.\u0275fac=function(n){return new(n||An)},An.\u0275cmp=se({type:An,selectors:[["app-networking"]],inputs:{theme:[1,"theme"],initialSearchQuery:[1,"initialSearchQuery"]},outputs:{artistProfileSelected:"artistProfileSelected"},decls:55,vars:40,consts:[[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"bg-red-900/50","text-red-300","p-3","text-center","border","border-red-500","animate-fade-in"],[1,"bg-amber-900/50","text-amber-300","p-3","text-center","border","border-amber-500","animate-fade-in"],[1,"p-4","flex","flex-col","sm:flex-row","gap-4"],[1,"flex-grow","flex","flex-col","gap-2"],["for","location-search",1,"block","text-sm"],["id","location-search","type","text","placeholder","e.g., 'Los Angeles, CA' or 'London, UK'",1,"w-full","p-2","text-sm","focus:ring-500",3,"input","value","disabled"],["for","collaboration-filter",1,"block","text-sm"],["id","collaboration-filter",1,"w-full","p-2","text-sm","focus:ring-500",3,"change","value","disabled"],["value",""],["value","Vocalist"],["value","Producer"],["value","Lyricist"],["value","Guitarist"],["value","Drummer"],["value","Bassist"],["value","DJ"],["value","Songwriter"],["value","Filmmaker"],["value","Mixing Engineer"],["value","Keyboardist"],["value","Saxophonist"],["value","Sound Designer"],[1,"flex","gap-2","justify-center"],[1,"flex-grow","px-4","py-2","border-2","text-lg","max-w-sm",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg","max-w-sm",3,"click"],[1,"text-base","mt-4"],[1,"flex-grow","overflow-y-auto","pr-2","space-y-4","p-2"],[1,"flex","items-center","gap-4","p-4","cursor-pointer","transition-colors","duration-200",3,"class"],[1,"text-center","text-sm","p-4",3,"class"],[1,"flex","items-center","gap-4","p-4","cursor-pointer","transition-colors","duration-200",3,"click"],[1,"w-20","h-20","object-cover","border",3,"src","alt"],[1,"flex-grow"],[1,"text-lg"],[1,"text-sm"],[1,"text-xs","mt-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"text-center","text-sm","p-4"],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-lg","flex","flex-col","z-50","animate-slide-up","font-mono","max-h-[90vh]","overflow-hidden"],[1,"flex","justify-between","items-center","mb-4"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"flex","flex-col","sm:flex-row","gap-4","mb-4","flex-shrink-0"],[1,"w-32","h-32","object-cover","border","flex-shrink-0",3,"src","alt"],[1,"flex-grow","space-y-1"],[1,"text-sm",3,"class"],[1,"flex-grow","overflow-y-auto","pr-2","text-sm","border-t","pt-4"],[1,"mb-4"],[1,"space-y-1"],["target","_blank","rel","noopener noreferrer",1,"block","text-xs","underline",3,"href","class"],[1,"text-xs",3,"class"],[1,"text-sm","mt-4"],[1,"text-xs"],["target","_blank","rel","noopener noreferrer",1,"block","text-xs","underline",3,"href"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"h2",1),d(2,"[ AURA NETWORKING HUB ]"),m(),I(3,A0,2,1,"div",2),I(4,N0,2,0,"div",3),h(5,"div",4)(6,"div",5)(7,"label",6),d(8,"SEARCH LOCATION:"),m(),h(9,"input",7),S("input",function(o){return i.onSearchLocationInput(o)}),m()(),h(10,"div",5)(11,"label",8),d(12,"COLLABORATION INTEREST:"),m(),h(13,"select",9),S("change",function(o){return i.onCollaborationFilterInput(o)}),h(14,"option",10),d(15,"Any"),m(),h(16,"option",11),d(17,"Vocalist"),m(),h(18,"option",12),d(19,"Producer"),m(),h(20,"option",13),d(21,"Lyricist"),m(),h(22,"option",14),d(23,"Guitarist"),m(),h(24,"option",15),d(25,"Drummer"),m(),h(26,"option",16),d(27,"Bassist"),m(),h(28,"option",17),d(29,"DJ"),m(),h(30,"option",18),d(31,"Songwriter"),m(),h(32,"option",19),d(33,"Filmmaker"),m(),h(34,"option",20),d(35,"Mixing Engineer"),m(),h(36,"option",21),d(37,"Keyboardist"),m(),h(38,"option",22),d(39,"Saxophonist"),m(),h(40,"option",23),d(41,"Sound Designer"),m()()()(),h(42,"div",24)(43,"button",25),S("click",function(){return i.searchArtists()}),I(44,R0,2,0,"span")(45,k0,2,0,"span"),m(),h(46,"button",26),S("click",function(){return i.clearSearch()}),d(47," [ CLEAR ] "),m()(),h(48,"h3",27),d(49,"// COLLABORATORS FOUND:"),m(),h(50,"div",28),K(51,P0,13,20,"div",29,T0,!1,F0,2,2,"p",30),m()(),I(54,H0,42,37)),n&2&&(p("border border-"+i.theme().blue+"-500/30"),c(),p("text-"+i.theme().blue+"-400"),c(2),x(i.errorMessage()?3:-1),c(),x(i.isAiAvailable()?-1:4),c(),p("border border-"+i.theme().blue+"-500/20"),c(2),p("text-"+i.theme().blue+"-300"),c(2),p("focus:border-"+i.theme().blue+"-500"),N("value",i.searchLocation())("disabled",i.isLoading()),c(2),p("text-"+i.theme().blue+"-300"),c(2),p("focus:border-"+i.theme().blue+"-500"),N("value",i.collaborationFilter())("disabled",i.isLoading()),c(30),p("hover:text-black"),N("disabled",i.isLoading()),c(),x(i.isLoading()?44:45),c(2),p("hover:text-black"),c(2),p("text-"+i.theme().blue+"-300"),c(2),p("border border-"+i.theme().blue+"-500/20"),ke("--chat-history-track-bg","var(--color-"+i.theme().blue+"-950)")("--chat-history-thumb-bg","var(--color-"+i.theme().blue+"-400)")("--chat-history-thumb-border","var(--color-"+i.theme().blue+"-900)")("--chat-history-thumb-hover-bg","var(--color-"+i.theme().blue+"-300)"),c(),J(i.displayedArtists()),c(3),x(i.selectedArtistProfile()&&i.showArtistDetailModal()?54:-1))},dependencies:[de],styles:["[_nghost-%COMP%]{display:contents}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--chat-history-track-bg)}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--chat-history-thumb-bg);border:1px solid var(--chat-history-thumb-border)}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--chat-history-thumb-hover-bg)}"],changeDetection:0});var fo=An;var U0=["chatHistory"],$0=(e,t)=>t.uri;function G0(e,t){if(e&1&&(h(0,"a",26),d(1),m()),e&2){let n=t.$implicit,i=g(3);p("hover:text-"+i.theme().primary+"-300"),N("href",n.uri,ee),c(),H(" ",n.title||n.uri," ")}}function q0(e,t){if(e&1&&(h(0,"div",23)(1,"p",24),d(2,"Sources:"),m(),K(3,G0,2,4,"a",25,$0),m()),e&2){let n=g().$implicit,i=g();p("border-"+i.theme().primary+"-500/30"),c(3),J(n.urls)}}function z0(e,t){if(e&1&&(h(0,"div",27),Q(1,"img",28),h(2,"p",29),d(3,"Image analyzed:"),m()()),e&2){let n=g().$implicit,i=g();p("border-"+i.theme().primary+"-500/30"),c(),N("src",n.imageUrl,ee),c(),p("text-"+i.theme().primary+"-500")}}function W0(e,t){if(e&1&&(h(0,"div")(1,"div",19)(2,"span",20),d(3),m(),h(4,"span"),d(5),m(),I(6,q0,5,2,"div",21),I(7,z0,4,5,"div",22),m()()),e&2){let n=t.$implicit,i=g();ie("text-right",n.role==="user")("text-left",n.role==="model"),c(),p(n.role==="user"?"bg-"+i.theme().primary+"-700/50":"bg-"+i.theme().primary+"-900/50"),c(),p("text-"+i.theme().primary+"-300"),c(),q(n.role==="user"?"YOU:":"S.M.U.V.E:"),c(2),q(n.content),c(),x(n.urls&&n.urls.length>0?6:-1),c(),x(n.imageUrl?7:-1)}}function Q0(e,t){if(e&1&&(h(0,"div",8)(1,"div",19)(2,"span",20),d(3,"S.M.U.V.E:"),m(),h(4,"span"),d(5,"Thinking..."),m()()()),e&2){let n=g();c(),p("bg-"+n.theme().primary+"-900/50"),c(),p("text-"+n.theme().primary+"-300")}}function Y0(e,t){if(e&1&&(h(0,"div",8)(1,"div",30)(2,"span",20),d(3,"S.M.U.V.E:"),m(),h(4,"span"),d(5,"Speaking..."),m()()()),e&2){let n=g();c(),p("bg-"+n.theme().primary+"-900/50"),c(),p("text-"+n.theme().primary+"-300")}}function Z0(e,t){if(e&1&&(h(0,"div",31),d(1," Hi! I'm S.M.U.V.E. How can I help you with your music today? "),m()),e&2){let n=g();p("text-"+n.theme().primary+"-400/70")}}function K0(e,t){e&1&&(h(0,"div",10),d(1," AI features are currently disabled. Please check the API key configuration. "),m())}function J0(e,t){e&1&&(h(0,"span"),d(1,"[ DEEP QUERY ACTIVE (GEMINI 3 PRO) ]"),m())}function X0(e,t){e&1&&(h(0,"span"),d(1,"[ DEEP QUERY (GEMINI 3 PRO) ]"),m())}function ev(e,t){e&1&&(Ut(),h(0,"svg",15),Q(1,"path",32)(2,"path",33),m())}function tv(e,t){e&1&&(Ut(),h(0,"svg",16),Q(1,"path",32)(2,"path",34)(3,"path",35),m())}var Nn=class Nn{constructor(){this.close=xe();this.appCommand=xe();this.theme=te.required();this.imageToAnalyzeUrl=te(null);this.imageAnalysisResult=xe();this.mapLocationQuery=te(null);this.mapLocationResult=xe();this.messages=b([]);this.userMessage=b("");this.isLoading=b(!1);this.isVoiceInputActive=b(!1);this.isSpeaking=b(!1);this.isDeepQueryActive=b(!1);this.aiService=A(Ee);this.isAiAvailable=Z(()=>this.aiService.isAiAvailable);this.chatHistoryRef=he("chatHistory");this.speechRecognition=null;this.speechUtterance=null;this.aiService.isAiAvailable||this.messages.update(t=>[...t,{role:"model",content:"AI services are currently unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."}]),"SpeechRecognition"in window||"webkitSpeechRecognition"in window?(this.speechRecognition=new(window.SpeechRecognition||window.webkitSpeechRecognition),this.speechRecognition.continuous=!1,this.speechRecognition.interimResults=!1,this.speechRecognition.lang="en-US",this.speechRecognition.onresult=t=>{let n=t.results[0][0].transcript;this.userMessage.set(n),this.sendMessage(),this.stopVoiceInput()},this.speechRecognition.onerror=t=>{console.error("Speech recognition error:",t.error),t.error==="no-speech"||this.messages.update(n=>[...n,{role:"model",content:`Voice input error: ${t.error}. Please try again.`}]),this.stopVoiceInput()},this.speechRecognition.onend=()=>{this.isVoiceInputActive.set(!1)}):console.warn("Speech Recognition API not supported in this browser."),ue(()=>{let t=this.imageToAnalyzeUrl();t&&!this.isLoading()&&(this.messages.update(n=>[...n,{role:"user",content:"Please analyze this image.",imageUrl:t}]),this.analyzeImage(t,"Describe this image in detail. Focus on elements relevant for an album cover or music video concept."))}),ue(()=>{let t=this.mapLocationQuery();t&&!this.isLoading()&&(this.messages.update(n=>[...n,{role:"user",content:`Find on map: ${t}`}]),this.sendGoogleMapsQuery(t))})}async sendMessage(){if(!this.aiService.isAiAvailable||!this.aiService.chatInstance)return;let t=this.userMessage().trim();if(t){if(this.messages.update(n=>[...n,{role:"user",content:t}]),this.userMessage.set(""),this.isLoading.set(!0),this.stopSpeaking(),this.isDeepQueryActive())await this.sendDeepQuery(t),this.isDeepQueryActive.set(!1);else if(t.toLowerCase().startsWith("search google for")||t.toLowerCase().startsWith("google for")){let n=t.toLowerCase().startsWith("google for")?t.substring(10).trim():t.substring(17).trim();await this.sendGoogleSearchQuery(n)}else if(t.toLowerCase().startsWith("find on map")||t.toLowerCase().startsWith("map for")){let n=t.toLowerCase().startsWith("map for")?t.substring(7).trim():t.substring(11).trim();await this.sendGoogleMapsQuery(n)}else if(t.toLowerCase().startsWith("view artist profile")){let n=t.substring(19).trim();if(n){let i=it.find(r=>r.name.toLowerCase()===n.toLowerCase());if(i)await this.getArtistInsight(i),this.appCommand.emit({action:"VIEW_ARTIST_PROFILE",parameters:{name:n}});else{let r=`S.M.U.V.E doesn't have data for "${n}". Please try searching for artists first.`;this.messages.update(o=>[...o,{role:"model",content:r}]),this.speakResponse(r)}}else{let i="Please specify an artist name to view their profile.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}else try{let i=(await this.aiService.chatInstance.sendMessage({message:t})).text;if(typeof i!="string"||i.trim()===""){console.warn("Gemini API returned empty or non-string response:",i);let s="S.M.U.V.E received an empty response. Please try rephrasing.";this.messages.update(a=>[...a,{role:"model",content:s}]),this.speakResponse(s),this.isLoading.set(!1),this.scrollToBottom();return}let r=i.trim(),o=r.split(":::");if(o.length>=2&&o[0]==="CHAT"){let s=o.slice(1).join(":::");this.messages.update(a=>[...a,{role:"model",content:s}]),this.speakResponse(s)}else if(o.length>=2&&o[0]==="COMMAND"){let s=o[1].trim(),a=(o[2]||"").trim();try{let l={};if(a){let f=/(\w+)\s*=\s*'([^']*)'|(\w+)\s*=\s*(\d+)/g,E;for(;(E=f.exec(a))!==null;){let w=E[1]||E[3],D=E[2]!==void 0?E[2]:E[4];l[w]=D}}this.appCommand.emit({action:s,parameters:l});let u=`Executing command: ${s}`;this.messages.update(f=>[...f,{role:"model",content:u}]),this.speakResponse(u)}catch(l){console.error("Failed to parse command parameters:",l,"from string:",a);let u="S.M.U.V.E sent a command I couldn't understand. Please try again.";this.messages.update(f=>[...f,{role:"model",content:u}]),this.speakResponse(u)}}else console.warn("AI response did not match expected CHAT/COMMAND format:",r),this.messages.update(s=>[...s,{role:"model",content:r}]),this.speakResponse(r)}catch(n){console.error("Error sending message to Gemini API:",n);let i="Oops! Something went wrong. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}this.isLoading.set(!1),this.scrollToBottom()}}async sendGoogleSearchQuery(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let n=await this.aiService.genAI.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{tools:[{googleSearch:{}}]}}),i=n.text,r=n.candidates?.[0]?.groundingMetadata?.groundingChunks,o=[];if(r)for(let a of r)a.web&&a.web.uri&&o.push({uri:a.web.uri,title:a.web.title});let s={role:"model",content:i,urls:o.length>0?o:void 0};this.messages.update(a=>[...a,s]),this.speakResponse(i)}catch(n){console.error("Error sending Google Search query to Gemini API:",n);let i="Oops! Failed to perform Google Search. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async sendGoogleMapsQuery(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let n=await this.aiService.genAI.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{tools:[{googleSearch:{}}]}}),i=n.text,r=n.candidates?.[0]?.groundingMetadata?.groundingChunks,o=[];if(r)for(let a of r)a.web&&a.web.uri&&o.push({uri:a.web.uri,title:a.web.title});let s={role:"model",content:i,urls:o.length>0?o:void 0};this.messages.update(a=>[...a,s]),this.speakResponse(i),this.mapLocationResult.emit(i)}catch(n){console.error("Error sending Google Maps query to Gemini API:",n);let i="Oops! Failed to find location on map. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async sendDeepQuery(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let i=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:t,config:{systemInstruction:this.aiService.chatInstance.config.systemInstruction,topK:64,topP:.95,temperature:1,seed:42}})).text;this.messages.update(r=>[...r,{role:"model",content:`[DEEP QUERY RESPONSE]: ${i}`}]),this.speakResponse(i)}catch(n){console.error("Error sending deep query to Gemini API:",n);let i="Oops! Deep query failed. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async analyzeImage(t,n="Describe this image in detail. Focus on elements relevant for an album cover or music video concept."){if(!this.aiService.isAiAvailable||!this.aiService.genAI){let i="AI services are unavailable to analyze image. Please check API key.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i);return}this.isLoading.set(!0);try{let i=t.split(";")[0].split(":")[1],r=t.split(",")[1],o={inlineData:{mimeType:i,data:r}},s={text:n},l=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:[o,s]})).text,u={role:"model",content:`IMAGE ANALYSIS: ${l}`,imageUrl:t};this.messages.update(f=>[...f,u]),this.speakResponse(`Image analysis complete. ${l}`),this.imageAnalysisResult.emit(l)}catch(i){console.error("Error analyzing image with Gemini API:",i);let r="Oops! Failed to analyze image. Please try again.";this.messages.update(o=>[...o,{role:"model",content:r}]),this.speakResponse(r)}finally{this.isLoading.set(!1),this.scrollToBottom()}}async getArtistInsight(t){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI)){this.isLoading.set(!0);try{let n=`You are S.M.U.V.E, an expert AI music manager toolkit specialized in Southern Rap, Hip-Hop, R&B, and Trap music, with advanced management and marketing skills. Provide an adaptive, detailed insight into the following independent music artist's profile. Your insights should be highly specific to their genre(s) and location, and offer actionable advice. Include:
      - Strengths (musicality, production, stage presence, lyrical ability etc.)
      - Specific collaboration potential (e.g., "collaborate with a Memphis trap producer for a new single," "feature on an Atlanta R&B singer's track").
      - Career advice (e.g., "focus on building a strong presence on TikTok," "consider licensing your beats for video games").
      - Marketing insights (e.g., "target college radio stations in the Southeast," "run Instagram ad campaigns geotargeted to your city").

Artist Profile:
Name: ${t.name}
Genre(s): ${t.genres.join(", ")}
Location: ${t.location}
Bio: ${t.bio}
Collaboration Interests: ${t.collaborationInterest.join(", ")}
Influences: ${t.influences.join(", ")}
Contact: ${t.contact}
Links: ${t.links.map(o=>`${o.type}: ${o.url}`).join(", ")}
Specialties: ${t.specialties?t.specialties.join(", "):"N/A"}
Target Audience: ${t.targetAudience||"N/A"}
Career Goals: ${t.careerGoals||"N/A"}

Provide insights relevant to their profile and the independent music scene, focusing on growth, networking, and strategic moves within their specified genres. Be specific to Southern Rap, Hip-Hop, R&B, and Trap where appropriate.`,r=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:n,config:{systemInstruction:this.aiService.chatInstance.config.systemInstruction,topK:64,topP:.95,temperature:1,seed:42}})).text;this.messages.update(o=>[...o,{role:"model",content:`[INSIGHT for ${t.name}]: ${r}`}]),this.speakResponse(`Here's an insight for ${t.name}. ${r}`)}catch(n){console.error("Error getting artist insight:",n);let i=`S.M.U.V.E failed to provide insight for ${t.name}.`;this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}finally{this.isLoading.set(!1),this.scrollToBottom()}}}toggleVoiceInput(){if(!this.speechRecognition){alert("Speech Recognition is not supported in this browser.");return}this.isVoiceInputActive()?this.stopVoiceInput():this.startVoiceInput()}startVoiceInput(){this.speechRecognition&&(this.stopSpeaking(),this.isVoiceInputActive.set(!0),this.speechRecognition.start(),this.messages.update(t=>[...t,{role:"model",content:"Listening for voice input..."}]))}stopVoiceInput(){this.speechRecognition&&(this.speechRecognition.stop(),this.isVoiceInputActive.set(!1))}speakResponse(t){"speechSynthesis"in window?(this.stopSpeaking(),this.speechUtterance=new SpeechSynthesisUtterance(t),this.speechUtterance.onstart=()=>this.isSpeaking.set(!0),this.speechUtterance.onend=()=>this.isSpeaking.set(!1),this.speechUtterance.onerror=n=>{console.error("Speech synthesis error:",n),this.isSpeaking.set(!1)},window.speechSynthesis.speak(this.speechUtterance)):console.warn("Speech Synthesis API not supported in this browser.")}stopSpeaking(){this.speechUtterance&&(window.speechSynthesis.cancel(),this.isSpeaking.set(!1))}scrollToBottom(){requestAnimationFrame(()=>{if(this.chatHistoryRef()){let t=this.chatHistoryRef().nativeElement;t.scrollTop=t.scrollHeight}})}toggleDeepQuery(){this.isDeepQueryActive.update(t=>!t),this.isDeepQueryActive()?(this.messages.update(t=>[...t,{role:"model",content:"Deep Query mode activated. I will use Gemini 3 Pro for more complex reasoning. Please ask your question."}]),this.speakResponse("Deep Query mode activated. Please ask your question.")):(this.messages.update(t=>[...t,{role:"model",content:"Deep Query mode deactivated."}]),this.speakResponse("Deep Query mode deactivated."))}onClose(){this.stopVoiceInput(),this.stopSpeaking(),this.close.emit()}};Nn.\u0275fac=function(n){return new(n||Nn)},Nn.\u0275cmp=se({type:Nn,selectors:[["app-chatbot"]],viewQuery:function(n,i){n&1&&pe(i.chatHistoryRef,U0,5),n&2&&Re()},inputs:{theme:[1,"theme"],imageToAnalyzeUrl:[1,"imageToAnalyzeUrl"],mapLocationQuery:[1,"mapLocationQuery"]},outputs:{close:"close",appCommand:"appCommand",imageAnalysisResult:"imageAnalysisResult",mapLocationResult:"mapLocationResult"},decls:26,vars:41,consts:[["chatHistory",""],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:right-4","sm:bottom-4","border-2","bg-black/90","backdrop-blur-lg","p-4","w-full","max-w-sm","h-[70vh]","flex","flex-col","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"flex-grow","overflow-y-auto","pr-2","mb-4","border-b","pb-2","space-y-3","chat-history"],[3,"text-right","text-left"],[1,"text-left"],[1,"text-center","py-4",3,"class"],[1,"text-center","py-4","text-red-400"],[1,"flex","gap-2","mb-2"],["type","button",1,"flex-grow","p-2","border","hover:text-black","text-sm","transition-colors",3,"click","disabled"],[1,"flex","gap-2",3,"submit"],["type","button",1,"p-2","border","hover:text-black","text-sm","transition-colors","flex","items-center","justify-center","w-10","h-10",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5","animate-pulse"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["type","text","placeholder","Type your message...",1,"flex-grow","bg-black","border","px-2","py-1","text-sm","focus:ring-500",3,"input","value","disabled"],["type","submit",1,"p-2","border","hover:text-black","text-sm",3,"disabled"],[1,"inline-block","p-2","rounded-lg","max-w-[85%]"],[1,"text-xs","mr-2"],[1,"text-xs","mt-2","border-t","pt-1",3,"class"],[1,"mt-2","p-1","border",3,"class"],[1,"text-xs","mt-2","border-t","pt-1"],[1,"font-bold"],["target","_blank","rel","noopener noreferrer",1,"block","underline",3,"href","class"],["target","_blank","rel","noopener noreferrer",1,"block","underline",3,"href"],[1,"mt-2","p-1","border"],["alt","Image for analysis",1,"max-w-full","h-auto","object-contain",3,"src"],[1,"text-xs","mt-1"],[1,"inline-block","p-2","rounded-lg","max-w-[85%]","animate-pulse"],[1,"text-center","py-4"],["d","M8.25 4.5a3.75 3.75 0 1 1 7.5 0v8.25a3.75 3.75 0 1 1-7.5 0V4.5Z"],["d","M6 10.5a.75.75 0 0 1 .75.75v1.5a5.25 5.25 0 1 0 10.5 0v-1.5a.75.75 0 0 1 1.5 0v1.5a6.75 6.75 0 1 1-13.5 0v-1.5a.75.75 0 0 1 .75-.75Z"],["d","M12 21a2.25 2.25 0 0 0 2.25-2.25V15a.75.75 0 0 0-1.5 0v3.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75V15a.75.75 0 0 0-1.5 0v3.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75V15a.75.75 0 0 0-1.5 0v3.75A2.25 2.25 0 0 0 12 21Z"],["d","M18.75 10.5a.75.75 0 0 0-1.5 0v1.5a6.75 6.75 0 0 1-13.5 0v-1.5a.75.75 0 0 0-1.5 0v1.5a8.25 8.25 0 1 0 16.5 0v-1.5A.75.75 0 0 0 18.75 10.5Z"]],template:function(n,i){if(n&1){let r=j();h(0,"div",1),S("click",function(){return C(r),_(i.onClose())}),m(),h(1,"div",2)(2,"div",3)(3,"h2",4),d(4,"[[ S.M.U.V.E ]]"),m(),h(5,"button",5),S("click",function(){return C(r),_(i.onClose())}),d(6," [X] "),m()(),h(7,"div",6,0),K(9,W0,8,12,"div",7,we),I(11,Q0,6,4,"div",8)(12,Y0,6,4,"div",8),I(13,Z0,2,2,"div",9)(14,K0,2,0,"div",10),m(),h(15,"div",11)(16,"button",12),S("click",function(){return C(r),_(i.toggleDeepQuery())}),I(17,J0,2,0,"span")(18,X0,2,0,"span"),m()(),h(19,"form",13),S("submit",function(){return C(r),_(i.sendMessage())}),h(20,"button",14),S("click",function(){return C(r),_(i.toggleVoiceInput())}),I(21,ev,3,0,":svg:svg",15)(22,tv,4,0,":svg:svg",16),m(),h(23,"input",17),S("input",function(s){return C(r),_(i.userMessage.set(s.target.value))}),m(),h(24,"button",18),d(25," [ SEND ] "),m()()()}n&2&&(c(),p("text-"+i.theme().primary+"-400"),c(4),p("hover:bg-"+i.theme().primary+"-400"),c(2),p("border-"+i.theme().primary+"-400/30"),ke("--chat-history-track-bg","var(--color-"+i.theme().primary+"-950)")("--chat-history-thumb-bg","var(--color-"+i.theme().primary+"-400)")("--chat-history-thumb-border","var(--color-"+i.theme().primary+"-900)")("--chat-history-thumb-hover-bg","var(--color-"+i.theme().primary+"-300)"),c(2),J(i.messages()),c(2),x(i.isLoading()?11:i.isSpeaking()?12:-1),c(2),x(i.messages().length===0&&!i.isLoading()&&!i.isSpeaking()&&i.isAiAvailable()?13:i.isAiAvailable()?-1:14),c(3),p("hover:bg-"+i.theme().primary+"-400"),ie("bg-green-500",i.isDeepQueryActive())("text-black",i.isDeepQueryActive()),N("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()),c(),x(i.isDeepQueryActive()?17:18),c(2),ie("opacity-50",!i.isAiAvailable()),c(),p("hover:bg-"+i.theme().primary+"-400"),ie("bg-green-500",i.isVoiceInputActive())("text-black",i.isVoiceInputActive()),N("disabled",i.isLoading()||i.isDeepQueryActive()||!i.isAiAvailable()),c(),x(i.isVoiceInputActive()?21:22),c(2),p("focus:border-"+i.theme().primary+"-500"),N("value",i.userMessage())("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()),c(),p("hover:bg-"+i.theme().primary+"-400"),N("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()))},dependencies:[de],styles:[".chat-history[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--chat-history-track-bg)}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--chat-history-thumb-bg);border:1px solid var(--chat-history-thumb-border)}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--chat-history-thumb-hover-bg)}"],changeDetection:0});var po=Nn;var nv=["fileInput"],iv=["editorCanvas"],rv=()=>["1:1","4:3","3:4","16:9","9:16"];function ov(e,t){if(e&1&&Q(0,"img",8),e&2){let n=g();N("src",n.originalImageUrl(),ee)}}function sv(e,t){if(e&1&&(h(0,"span",29),d(1,"[ Upload an image for reference or leave empty ]"),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-500")}}function av(e,t){if(e&1){let n=j();h(0,"button",30),S("click",function(){let r=C(n).$implicit,o=g();return _(o.aspectRatio.set(r))}),d(1),m()}if(e&2){let n=t.$implicit,i=g();p(i.aspectRatio()===n?"bg-"+i.theme().purple+"-500 text-black":"hover:bg-"+i.theme().purple+"-700/50"),N("disabled",i.isLoading()||!i.isAiAvailable()),c(),H(" ",n," ")}}function lv(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATING... ]"),m())}function cv(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATE ]"),m())}function uv(e,t){if(e&1&&(h(0,"p",20),d(1),m()),e&2){let n=g();c(),q(n.errorMessage())}}function dv(e,t){e&1&&(h(0,"p",20),d(1,"AI features are disabled due to an invalid API key."),m())}function fv(e,t){if(e&1&&Q(0,"img",31),e&2){let n=t.$implicit;N("src",n,ee)}}function pv(e,t){if(e&1&&K(0,fv,1,1,"img",31,we),e&2){let n=g();J(n.generatedImageUrls())}}function mv(e,t){if(e&1&&(h(0,"span",32),d(1,"[ Generating image... ]"),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-500")}}function hv(e,t){if(e&1&&(h(0,"span",29),d(1,"[ No image generated yet ]"),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-500")}}function gv(e,t){if(e&1){let n=j();h(0,"div",33)(1,"input",34),S("input",function(r){C(n);let o=g();return _(o.artistName.set(r.target.value))}),m(),h(2,"input",35),S("input",function(r){C(n);let o=g();return _(o.albumTitle.set(r.target.value))}),m(),h(3,"button",36),S("click",function(){C(n);let r=g();return _(r.applyTextOverlay())}),d(4," [ APPLY TEXT ] "),m()()}if(e&2){let n=g();p("border-"+n.theme().purple+"-500/30"),c(),p("border-"+n.theme().purple+"-500/50"),N("value",n.artistName()),c(),p("border-"+n.theme().purple+"-500/50"),N("value",n.albumTitle()),c(),p("hover:bg-"+n.theme().purple+"-500")}}function vv(e,t){if(e&1){let n=j();h(0,"button",37),S("click",function(){C(n);let r=g();return _(r.useAsAlbumArt())}),d(1," [ USE AS ALBUM ART ] "),m()}if(e&2){let n=g();p("hover:bg-"+n.theme().purple+"-500"),N("disabled",!n.isAiAvailable())}}function yv(e,t){if(e&1){let n=j();h(0,"button",37),S("click",function(){C(n);let r=g();return _(r.requestImageAnalysis())}),d(1," [ ANALYZE IMAGE ] "),m()}if(e&2){let n=g();p("hover:bg-"+n.theme().purple+"-500"),N("disabled",!n.isAiAvailable())}}function Ev(e,t){if(e&1&&(h(0,"a",38),d(1," [ DOWNLOAD ] "),m()),e&2){let n=g();p("hover:bg-"+n.theme().purple+"-500"),ie("opacity-50",!n.isAiAvailable()),N("href",n.generatedImageUrls()[0],ee),eo("disabled",n.isAiAvailable()?null:!0)}}var Rn=class Rn{constructor(){this.initialPrompt=te(null);this.theme=te.required();this.originalImageUrl=b(null);this.editPrompt=b("");this.generatedImageUrls=b([]);this.isLoading=b(!1);this.errorMessage=b(null);this.aspectRatio=b("1:1");this.albumTitle=b("");this.artistName=b("");this.showTextOverlayControls=b(!1);this.aiService=A(Ee);this.isAiAvailable=Z(()=>this.aiService.isAiAvailable);this.fileInputRef=he("fileInput");this.canvasRef=he("editorCanvas");this.imageSelected=xe();this.imageAnalysisRequest=xe();this.genAI=void 0;this.aiService.isAiAvailable?this.genAI=this.aiService.genAI:this.errorMessage.set("AI features are unavailable. An API key is required."),ue(()=>{let t=this.initialPrompt();t&&t!==this.editPrompt()&&this.editPrompt.set(t)})}handleImageUpload(t){let n=t.target.files?.[0];if(n){this.errorMessage.set(null),this.generatedImageUrls.set([]);let i=new FileReader;i.onload=r=>{this.originalImageUrl.set(r.target?.result)},i.onerror=()=>{this.errorMessage.set("Failed to read file.")},i.readAsDataURL(n)}else this.originalImageUrl.set(null),this.generatedImageUrls.set([])}async generateImage(){if(!this.isAiAvailable()||!this.genAI){this.errorMessage.set("AI features are unavailable.");return}let t=this.editPrompt().trim();if(!t){this.errorMessage.set("Please enter an edit prompt.");return}this.isLoading.set(!0),this.errorMessage.set(null),this.generatedImageUrls.set([]);try{let i=(await this.genAI.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:this.aspectRatio()}})).generatedImages[0]?.image?.imageBytes;i?this.generatedImageUrls.set([`data:image/png;base64,${i}`]):this.errorMessage.set("No image generated. Please try a different prompt.")}catch(n){console.error("Error generating image:",n),this.errorMessage.set(`Image generation failed: ${n.message||"Unknown error"}.`)}finally{this.isLoading.set(!1)}}clearImage(){this.originalImageUrl.set(null),this.generatedImageUrls.set([]),this.editPrompt.set(""),this.errorMessage.set(null),this.albumTitle.set(""),this.artistName.set(""),this.fileInputRef()&&(this.fileInputRef().nativeElement.value="")}useAsAlbumArt(){let t=this.generatedImageUrls().length>0?this.generatedImageUrls()[0]:this.originalImageUrl();t?this.imageSelected.emit(t):this.errorMessage.set("No image to use as album art.")}requestImageAnalysis(){let t=this.generatedImageUrls().length>0?this.generatedImageUrls()[0]:this.originalImageUrl();t?(this.imageAnalysisRequest.emit(t),alert("Image analysis requested. Check chatbot for results!")):this.errorMessage.set("No image available to analyze.")}toggleTextOverlay(){this.showTextOverlayControls.update(t=>!t)}applyTextOverlay(){let t=this.generatedImageUrls().length>0?this.generatedImageUrls()[0]:this.originalImageUrl();if(!t){this.errorMessage.set("No image to apply text to.");return}let n=this.canvasRef()?.nativeElement;if(!n)return;let i=n.getContext("2d");if(!i)return;let r=new Image;r.onload=()=>{n.width=r.width,n.height=r.height,i.drawImage(r,0,0);let o=i.createLinearGradient(0,n.height-200,0,n.height);o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgba(0,0,0,0.8)"),i.fillStyle=o,i.fillRect(0,n.height-200,n.width,200),i.textAlign="center",i.fillStyle="white",this.artistName()&&(i.font=`bold ${n.width*.05}px monospace`,i.fillText(this.artistName().toUpperCase(),n.width/2,n.height-100)),this.albumTitle()&&(i.font=`bold ${n.width*.08}px monospace`,i.fillText(this.albumTitle().toUpperCase(),n.width/2,n.height-40));let s=n.toDataURL("image/png");this.generatedImageUrls.set([s])},r.src=t}};Rn.\u0275fac=function(n){return new(n||Rn)},Rn.\u0275cmp=se({type:Rn,selectors:[["app-image-editor"]],viewQuery:function(n,i){n&1&&(pe(i.fileInputRef,nv,5),pe(i.canvasRef,iv,5)),n&2&&Re(2)},inputs:{initialPrompt:[1,"initialPrompt"],theme:[1,"theme"]},outputs:{imageSelected:"imageSelected",imageAnalysisRequest:"imageAnalysisRequest"},decls:46,vars:46,consts:[["fileInput",""],["editorCanvas",""],[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","flex-grow"],[1,"flex","flex-col","gap-4","p-4"],[1,"text-base"],[1,"flex-grow","flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden"],["alt","Uploaded Image",1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"text-sm",3,"class"],[1,"w-full","text-center","block","p-2","border","hover:text-black","cursor-pointer","text-sm"],["type","file","accept","image/*",1,"hidden",3,"change"],["for","edit-prompt",1,"block","text-sm"],["id","edit-prompt","placeholder","e.g., 'A retro-futuristic album cover with glowing elements', 'A sci-fi landscape art with vibrant colors'","rows","4",1,"w-full","p-2","text-sm","focus:ring-500","resize-y",3,"input","value","disabled"],[1,"block","text-sm","mt-2"],[1,"flex","flex-wrap","gap-2","text-sm"],["type","button",1,"px-3","py-1","border",3,"class","disabled"],[1,"flex","gap-2","mt-4"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg",3,"click"],[1,"text-red-500","text-sm","mt-2","text-center"],[1,"flex-grow","flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden","relative"],[1,"text-sm","animate-pulse",3,"class"],[1,"flex","flex-col","gap-2"],[1,"text-xs","text-left","underline",3,"click"],[1,"p-2","border","space-y-2",3,"class"],[1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg","mb-2",3,"class","disabled"],["download","aura-edited-image.png",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href","class","opacity-50"],[1,"hidden"],[1,"text-sm"],["type","button",1,"px-3","py-1","border",3,"click","disabled"],["alt","Generated Image",1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"text-sm","animate-pulse"],[1,"p-2","border","space-y-2"],["type","text","placeholder","Artist Name",1,"w-full","bg-black","border","p-1","text-sm",3,"input","value"],["type","text","placeholder","Album Title",1,"w-full","bg-black","border","p-1","text-sm",3,"input","value"],[1,"w-full","border","hover:text-black","text-sm","p-1",3,"click"],[1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg","mb-2",3,"click","disabled"],["download","aura-edited-image.png",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"]],template:function(n,i){if(n&1){let r=j();h(0,"div",2)(1,"h2",3),d(2,"[ AURA IMAGE LAB ]"),m(),h(3,"div",4)(4,"div",5)(5,"h3",6),d(6,"// ORIGINAL IMAGE (FOR CONTEXT)"),m(),h(7,"div",7),I(8,ov,1,1,"img",8)(9,sv,2,2,"span",9),m(),h(10,"label",10),d(11," [ UPLOAD IMAGE ] "),h(12,"input",11,0),S("change",function(s){return C(r),_(i.handleImageUpload(s))}),m()(),h(14,"label",12),d(15,"GENERATION PROMPT:"),m(),h(16,"textarea",13),S("input",function(s){return C(r),_(i.editPrompt.set(s.target.value))}),m(),h(17,"label",14),d(18,"ASPECT RATIO:"),m(),h(19,"div",15),K(20,av,2,4,"button",16,Ei),m(),h(22,"div",17)(23,"button",18),S("click",function(){return C(r),_(i.generateImage())}),I(24,lv,2,0,"span")(25,cv,2,0,"span"),m(),h(26,"button",19),S("click",function(){return C(r),_(i.clearImage())}),d(27," [ CLEAR ] "),m()(),I(28,uv,2,1,"p",20),I(29,dv,2,0,"p",20),m(),h(30,"div",5)(31,"h3",6),d(32,"// GENERATED ARTWORK"),m(),h(33,"div",21),I(34,pv,2,0)(35,mv,2,2,"span",22)(36,hv,2,2,"span",9),m(),h(37,"div",23)(38,"button",24),S("click",function(){return C(r),_(i.toggleTextOverlay())}),d(39),m(),I(40,gv,5,10,"div",25),m(),I(41,vv,2,3,"button",26),I(42,yv,2,3,"button",26),I(43,Ev,2,6,"a",27),m()(),Q(44,"canvas",28,1),m()}n&2&&(p("border border-"+i.theme().purple+"-500/30"),c(),p("text-"+i.theme().purple+"-400"),c(3),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),p("border-"+i.theme().purple+"-700/50"),c(),x(i.originalImageUrl()?8:9),c(2),p("hover:bg-"+i.theme().purple+"-500"),c(4),p("text-"+i.theme().purple+"-300"),c(2),p("focus:border-"+i.theme().purple+"-500"),N("value",i.editPrompt())("disabled",i.isLoading()||!i.isAiAvailable()),c(),p("text-"+i.theme().purple+"-300"),c(3),J(_t(45,rv)),c(3),p("hover:text-black"),N("disabled",!i.editPrompt()||i.isLoading()||!i.isAiAvailable()),c(),x(i.isLoading()?24:25),c(2),p("hover:text-black"),c(2),x(i.errorMessage()?28:-1),c(),x(i.isAiAvailable()?-1:29),c(),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),p("border-"+i.theme().purple+"-700/50"),c(),x(i.generatedImageUrls().length>0?34:i.isLoading()?35:36),c(3),ie("hidden",!i.generatedImageUrls().length&&!i.originalImageUrl()),c(),p("text-"+i.theme().purple+"-400"),c(),H(" ",i.showTextOverlayControls()?"Hide Text Controls":"Show Text Overlay Controls"," "),c(),x(i.showTextOverlayControls()?40:-1),c(),x(i.generatedImageUrls().length>0?41:-1),c(),x(i.generatedImageUrls().length>0?42:-1),c(),x(i.generatedImageUrls().length>0?43:-1))},dependencies:[de],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0});var mo=Rn;var Cv=["liveVideoPreview"],_v=["recordedVideoPlayer"],Dv=()=>["1:1","4:3","3:4","16:9","9:16"];function bv(e,t){if(e&1&&(h(0,"div",4),d(1),m()),e&2){let n=g();c(),H(" ",n.error()," ")}}function wv(e,t){if(e&1&&(h(0,"span",26),d(1,"[ Camera Off ]"),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-500")}}function Iv(e,t){if(e&1&&(h(0,"span",11),Q(1,"span",27),d(2),m()),e&2){let n=g();c(2),H(" REC: ",n.formatTime(n.recordingTime())," ")}}function xv(e,t){e&1&&(h(0,"span"),d(1,"[ DISABLE CAMERA ]"),m())}function Mv(e,t){e&1&&(h(0,"span"),d(1,"[ ENABLE CAMERA ]"),m())}function Tv(e,t){e&1&&(h(0,"span"),d(1,"[ RECORDING... ]"),m())}function Sv(e,t){e&1&&(h(0,"span"),d(1,"[ START RECORDING ]"),m())}function Av(e,t){if(e&1&&(h(0,"h3",28),d(1,"// RECORDED VIDEO"),m(),h(2,"div",29),Q(3,"video",30,1),m(),h(5,"a",31),d(6," [ DOWNLOAD RECORDED VIDEO ] "),m()),e&2){let n=g();p("text-"+n.theme().purple+"-300"),c(2),p("border-"+n.theme().purple+"-700/50"),c(),N("src",n.recordedVideoUrl(),ee),c(2),p("hover:bg-"+n.theme().purple+"-500"),N("href",n.recordedVideoUrl(),ee)}}function Nv(e,t){if(e&1&&(h(0,"div",15)(1,"h4",32),d(2,"// IMAGE INPUT FROM EDITOR"),m(),Q(3,"img",33),m()),e&2){let n=g();c(),p("text-"+n.theme().neutral+"-400"),c(2),p("border-"+n.theme().neutral+"-600"),N("src",n.imageForVideoGeneration(),ee)}}function Rv(e,t){if(e&1){let n=j();h(0,"button",34),S("click",function(){let r=C(n).$implicit,o=g();return _(o.aspectRatio.set(r))}),d(1),m()}if(e&2){let n=t.$implicit,i=g();p(i.aspectRatio()===n?"bg-"+i.theme().purple+"-500 text-black":"hover:bg-"+i.theme().purple+"-700/50"),N("disabled",i.isGeneratingVideo()||!i.isAiAvailable()),c(),H(" ",n," ")}}function kv(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATING... ]"),m())}function Pv(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATE FROM PROMPT ]"),m())}function Fv(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATING... ]"),m())}function Ov(e,t){e&1&&(h(0,"span"),d(1,"[ GENERATE FROM IMAGE + PROMPT ]"),m())}function Lv(e,t){if(e&1){let n=j();h(0,"button",13),S("click",function(){C(n);let r=g();return _(r.generateVideo(!0))}),I(1,Fv,2,0,"span")(2,Ov,2,0,"span"),m()}if(e&2){let n=g();p("hover:text-black"),N("disabled",!n.videoPrompt()||n.isGeneratingVideo()||!n.isAiAvailable()),c(),x(n.isGeneratingVideo()?1:2)}}function Vv(e,t){if(e&1&&(h(0,"p",35),d(1),m()),e&2){let n=g();p("text-"+n.theme().neutral+"-400"),c(),q(n.generationProgressMessage())}}function Bv(e,t){if(e&1&&(h(0,"h3",28),d(1,"// GENERATED AI VIDEO"),m(),h(2,"div",29),Q(3,"video",36),m(),h(4,"a",37),d(5," [ DOWNLOAD AI VIDEO ] "),m()),e&2){let n=g();p("text-"+n.theme().purple+"-300"),c(2),p("border-"+n.theme().purple+"-700/50"),c(),N("src",n.generatedVideoUrl(),ee),c(),p("hover:bg-"+n.theme().purple+"-500"),N("href",n.generatedVideoUrl(),ee)}}var kn=class kn{constructor(){this.imageForVideoGeneration=te(null);this.initialPrompt=te(null);this.theme=te.required();this.mediaStream=b(null);this.isRecording=b(!1);this.recordedVideoBlob=b(null);this.recordedVideoUrl=b(null);this.recordingTime=b(0);this.cameraEnabled=b(!1);this.isCameraActive=b(!1);this.videoPrompt=b("");this.generatedVideoUrl=b(null);this.isGeneratingVideo=b(!1);this.generationProgressMessage=b(null);this.aspectRatio=b("16:9");this.aiService=A(Ee);this.isAiAvailable=Z(()=>this.aiService.isAiAvailable);this.error=b(null);this.liveVideoPreviewRef=he("liveVideoPreview");this.recordedVideoPlayerRef=he("recordedVideoPlayer");this.mediaRecorder=null;this.recordedChunks=[];this.genAI=void 0;this.aiService.isAiAvailable?this.genAI=this.aiService.genAI:this.error.set("AI features are unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."),ue(()=>{let t=this.initialPrompt();t&&t!==this.videoPrompt()&&this.videoPrompt.set(t)})}ngOnDestroy(){this.stopMediaStream()}async requestMediaPermissions(){this.error.set(null),this.mediaStream()&&this.stopMediaStream();try{let t=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});this.mediaStream.set(t),this.cameraEnabled.set(!0),this.isCameraActive.set(!0),this.liveVideoPreviewRef()&&(this.liveVideoPreviewRef().nativeElement.srcObject=t,await this.liveVideoPreviewRef().nativeElement.play()),console.log("Camera and microphone access granted.")}catch(t){console.error("Error accessing media devices:",t),this.error.set(`Failed to access camera/microphone: ${t.name||t.message}. Please check permissions.`),this.cameraEnabled.set(!1),this.isCameraActive.set(!1)}}stopMediaStream(){this.mediaStream()?.getTracks().forEach(t=>t.stop()),this.mediaStream.set(null),this.isCameraActive.set(!1),this.liveVideoPreviewRef()&&(this.liveVideoPreviewRef().nativeElement.srcObject=null),console.log("Media stream stopped.")}toggleCamera(){this.isCameraActive()?(this.stopMediaStream(),this.cameraEnabled.set(!1)):this.requestMediaPermissions()}startRecording(){if(!this.mediaStream()||!this.isCameraActive()){this.error.set("Camera is not active. Please enable camera first.");return}if(!this.isRecording()){this.recordedChunks=[],this.recordedVideoBlob.set(null),this.recordedVideoUrl.set(null),this.recordingTime.set(0),this.error.set(null);try{this.mediaRecorder=new MediaRecorder(this.mediaStream(),{mimeType:"video/webm; codecs=vp8,opus"}),this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&this.recordedChunks.push(t.data)},this.mediaRecorder.onstop=()=>{let t=new Blob(this.recordedChunks,{type:"video/webm"});this.recordedVideoBlob.set(t),this.recordedVideoUrl.set(URL.createObjectURL(t)),console.log("Recording stopped. Blob created."),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.onerror=t=>{console.error("MediaRecorder error:",t.error),this.error.set(`Recording error: ${t.error.name||t.error.message}`),this.isRecording.set(!1),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.start(),this.isRecording.set(!0),this.recordingIntervalId=window.setInterval(()=>this.recordingTime.update(t=>t+1),1e3),console.log("Recording started.")}catch(t){console.error("Error starting MediaRecorder:",t),this.error.set(`Failed to start recording: ${t.message}`),this.isRecording.set(!1)}}}stopRecording(){this.mediaRecorder&&this.isRecording()&&(this.mediaRecorder.stop(),this.isRecording.set(!1),console.log("Attempting to stop recording..."))}playRecordedVideo(){this.recordedVideoUrl()&&this.recordedVideoPlayerRef()&&(this.recordedVideoPlayerRef().nativeElement.load(),this.recordedVideoPlayerRef().nativeElement.play().catch(t=>console.error("Error playing recorded video:",t)))}async generateVideo(t){if(!this.isAiAvailable()||!this.genAI){this.error.set("AI features are unavailable. Please check your configuration (window.AURA_GEMINI_API_KEY).");return}let n=this.videoPrompt().trim();if(!n){this.error.set("Please enter a prompt for video generation.");return}if(t&&!this.imageForVideoGeneration()){this.error.set('Please select an image first or clear "Generate from image" option.');return}this.isGeneratingVideo.set(!0),this.error.set(null),this.generatedVideoUrl.set(null),this.generationProgressMessage.set("Starting video generation...");try{let i,r={numberOfVideos:1,aspectRatio:this.aspectRatio()};if(t&&this.imageForVideoGeneration()){let s=this.imageForVideoGeneration().split(";")[0].split(":")[1],a=this.imageForVideoGeneration().split(",")[1];i=await this.genAI.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:n,image:{imageBytes:a,mimeType:s},config:r})}else i=await this.genAI.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:n,config:r});for(this.generationProgressMessage.set("Video generation in progress. This may take a few minutes...");!i.done;)await new Promise(s=>setTimeout(s,1e4)),this.generationProgressMessage.set(`Still generating... Current status: ${i.metadata?.state||"processing"}`),i=await this.genAI.operations.getVideosOperation({operation:i});let o=i.response?.generatedVideos?.[0]?.video?.uri;o?(this.generatedVideoUrl.set(`${o}&key=${this.aiService.getApiKey()}`),this.generationProgressMessage.set("Video generation complete!")):(this.error.set("Video generation failed: No download link in response."),this.generationProgressMessage.set(null))}catch(i){console.error("Error generating video:",i),this.error.set(`Video generation failed: ${i.message||"Unknown error"}.`),this.generationProgressMessage.set(null)}finally{this.isGeneratingVideo.set(!1)}}formatTime(t){if(isNaN(t)||t<0)return"00:00";let n=Math.floor(t/60),i=Math.floor(t%60);return`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}clearAll(){this.stopMediaStream(),this.isRecording.set(!1),this.recordedVideoBlob.set(null),this.recordedVideoUrl.set(null),this.recordingTime.set(0),this.videoPrompt.set(""),this.generatedVideoUrl.set(null),this.isGeneratingVideo.set(!1),this.generationProgressMessage.set(null),this.aspectRatio.set("16:9"),this.error.set(null)}};kn.\u0275fac=function(n){return new(n||kn)},kn.\u0275cmp=se({type:kn,selectors:[["app-video-editor"]],viewQuery:function(n,i){n&1&&(pe(i.liveVideoPreviewRef,Cv,5),pe(i.recordedVideoPlayerRef,_v,5)),n&2&&Re(2)},inputs:{imageForVideoGeneration:[1,"imageForVideoGeneration"],initialPrompt:[1,"initialPrompt"],theme:[1,"theme"]},decls:46,vars:48,consts:[["liveVideoPreview",""],["recordedVideoPlayer",""],[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"bg-red-900/50","text-red-300","p-3","text-center","border","border-red-500","animate-fade-in"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","flex-grow"],[1,"flex","flex-col","gap-4","p-4"],[1,"text-base"],[1,"flex-grow","flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden","bg-black","relative"],["autoplay","","muted","","playsinline","",1,"max-w-full","max-h-full","object-contain"],[1,"absolute","text-sm",3,"class"],[1,"absolute","top-2","left-2","text-red-500","animate-pulse","text-sm","flex","items-center","gap-1"],[1,"flex","gap-2"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"flex","flex-col","items-center","gap-2"],["for","video-prompt",1,"block","text-sm"],["id","video-prompt","placeholder","e.g., 'A neon hologram of a cat driving at top speed', 'A futuristic city at sunset with flying cars and towering skyscrapers.'","rows","4",1,"w-full","p-2","text-sm","focus:ring-500","resize-y",3,"input","value","disabled"],[1,"block","text-sm","mt-2"],[1,"flex","flex-wrap","gap-2","text-sm"],["type","button",1,"px-3","py-1","border",3,"class","disabled"],[1,"flex","flex-col","gap-2","mt-4"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"class","disabled"],[1,"text-sm","mt-2","text-center","animate-pulse",3,"class"],[1,"flex","justify-center","mt-4"],[1,"px-6","py-2","border-2","text-lg",3,"click"],[1,"absolute","text-sm"],[1,"w-2","h-2","rounded-full","bg-red-500"],[1,"text-base","mt-4"],[1,"flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden","bg-black"],["controls","",1,"max-w-full","max-h-full","object-contain",3,"src"],["download","aura-recorded-video.webm",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"],[1,"text-sm"],["alt","Image from editor",1,"w-24","h-24","object-cover","border",3,"src"],["type","button",1,"px-3","py-1","border",3,"click","disabled"],[1,"text-sm","mt-2","text-center","animate-pulse"],["controls","","autoplay","","loop","","muted","","playsinline","",1,"max-w-full","max-h-full","object-contain",3,"src"],["download","aura-ai-generated-video.mp4",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"]],template:function(n,i){if(n&1){let r=j();h(0,"div",2)(1,"h2",3),d(2,"[ AURA VIDEO LAB ]"),m(),I(3,bv,2,1,"div",4),h(4,"div",5)(5,"div",6)(6,"h3",7),d(7,"// CAMERA & RECORDING"),m(),h(8,"div",8),Q(9,"video",9,0),I(11,wv,2,2,"span",10),I(12,Iv,3,1,"span",11),m(),h(13,"div",12)(14,"button",13),S("click",function(){return C(r),_(i.toggleCamera())}),I(15,xv,2,0,"span")(16,Mv,2,0,"span"),m()(),h(17,"div",12)(18,"button",13),S("click",function(){return C(r),_(i.startRecording())}),I(19,Tv,2,0,"span")(20,Sv,2,0,"span"),m(),h(21,"button",14),S("click",function(){return C(r),_(i.stopRecording())}),d(22," [ STOP ] "),m()(),I(23,Av,7,8),m(),h(24,"div",6)(25,"h3",7),d(26,"// AI VIDEO GENERATION"),m(),I(27,Nv,4,5,"div",15),h(28,"label",16),d(29,"VIDEO PROMPT:"),m(),h(30,"textarea",17),S("input",function(s){return C(r),_(i.videoPrompt.set(s.target.value))}),m(),h(31,"label",18),d(32,"ASPECT RATIO:"),m(),h(33,"div",19),K(34,Rv,2,4,"button",20,Ei),m(),h(36,"div",21)(37,"button",13),S("click",function(){return C(r),_(i.generateVideo(!1))}),I(38,kv,2,0,"span")(39,Pv,2,0,"span"),m(),I(40,Lv,3,4,"button",22),m(),I(41,Vv,2,3,"p",23),I(42,Bv,6,8),m()(),h(43,"div",24)(44,"button",25),S("click",function(){return C(r),_(i.clearAll())}),d(45," [ CLEAR ALL ] "),m()()()}n&2&&(p("border border-"+i.theme().purple+"-500/30"),c(),p("text-"+i.theme().purple+"-400"),c(2),x(i.error()?3:-1),c(2),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),p("border-"+i.theme().purple+"-700/50"),c(3),x(i.isCameraActive()?-1:11),c(),x(i.isRecording()?12:-1),c(2),p("hover:text-black"),N("disabled",i.isRecording()),c(),x(i.isCameraActive()?15:16),c(3),p("hover:text-black"),N("disabled",i.isRecording()||!i.isCameraActive()),c(),x(i.isRecording()?19:20),c(2),p("hover:text-black"),N("disabled",!i.isRecording()),c(2),x(i.recordedVideoUrl()?23:-1),c(),p("border border-"+i.theme().purple+"-500/20"),c(),p("text-"+i.theme().purple+"-300"),c(2),x(i.imageForVideoGeneration()?27:-1),c(),p("text-"+i.theme().purple+"-300"),c(2),p("focus:border-"+i.theme().purple+"-500"),N("value",i.videoPrompt())("disabled",i.isGeneratingVideo()||!i.isAiAvailable()),c(),p("text-"+i.theme().purple+"-300"),c(3),J(_t(47,Dv)),c(3),p("hover:text-black"),N("disabled",!i.videoPrompt()||i.isGeneratingVideo()||!i.isAiAvailable()),c(),x(i.isGeneratingVideo()?38:39),c(2),x(i.imageForVideoGeneration()?40:-1),c(),x(i.generationProgressMessage()?41:-1),c(),x(i.generatedVideoUrl()?42:-1),c(2),p("hover:text-black"))},dependencies:[de],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0});var ho=kn;var jv=["visualizerCanvas"],Pn=class Pn{constructor(){this.analyserNode=te(void 0);this.canvasRef=he.required("visualizerCanvas");this.theme=te.required();ue(()=>{let t=this.analyserNode(),n=this.theme();t?(t.fftSize=256,this.dataArray=new Uint8Array(t.frequencyBinCount),this.startVisualizer()):this.stopVisualizer()})}ngAfterViewInit(){let t=this.canvasRef().nativeElement,n=t.getContext("2d");n?(this.ctx=n,t.width=t.offsetWidth,t.height=t.offsetHeight):console.error("Failed to get 2D rendering context for visualizer canvas.")}ngOnDestroy(){this.stopVisualizer()}startVisualizer(){if(this.stopVisualizer(),!this.ctx||!this.analyserNode()||!this.dataArray)return;let t=this.canvasRef().nativeElement;t.width=t.offsetWidth,t.height=t.offsetHeight,this.animationFrameId=requestAnimationFrame(this.draw.bind(this))}stopVisualizer(){if(this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0),this.ctx){let t=this.canvasRef().nativeElement;this.ctx.clearRect(0,0,t.width,t.height)}}draw(){let t=this.analyserNode(),n=this.canvasRef().nativeElement,i=this.ctx;if(!t||!i||!this.dataArray){this.stopVisualizer();return}t.getByteFrequencyData(this.dataArray),i.clearRect(0,0,n.width,n.height);let r=t.frequencyBinCount,o=n.width/r*.9,s=0;for(let a=0;a<r;a++){let l=this.dataArray[a]/255*n.height,u=a*(360/r);i.fillStyle=`hsl(${u}, 80%, 60%)`,i.fillRect(s,n.height-l,o,l),s+=o+n.width/r*.1}this.animationFrameId=requestAnimationFrame(this.draw.bind(this))}};Pn.\u0275fac=function(n){return new(n||Pn)},Pn.\u0275cmp=se({type:Pn,selectors:[["app-audio-visualizer"]],viewQuery:function(n,i){n&1&&pe(i.canvasRef,jv,5),n&2&&Re()},inputs:{analyserNode:[1,"analyserNode"],theme:[1,"theme"]},decls:3,vars:2,consts:[["visualizerCanvas",""],[1,"visualizer-container"]],template:function(n,i){n&1&&(h(0,"div",1),Q(1,"canvas",null,0),m()),n&2&&ke("--primary-color","var(--color-"+i.theme().primary+"-700)")},dependencies:[de],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.visualizer-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:transparent;overflow:hidden;border:1px solid var(--primary-color)}canvas[_ngcontent-%COMP%]{display:block;width:100%;height:100%}"],changeDetection:0});var go=Pn;var ef=()=>[],Hv=(e,t)=>t.midi;function Uv(e,t){e&1&&(h(0,"span"),d(1,"[ STOP ]"),m())}function $v(e,t){e&1&&(h(0,"span"),d(1,"[ PLAY ]"),m())}function Gv(e,t){if(e&1&&(h(0,"div",14),d(1),m()),e&2){let n=t.$index,i=g();p(i.currentStep()===n?"text-"+i.theme().primary+"-300":"text-"+i.theme().neutral+"-400"),ie("font-bold",i.currentStep()===n),c(),H(" ",n+1," ")}}function qv(e,t){if(e&1){let n=j();h(0,"div",17),S("click",function(){let r=C(n).$index,o=g().$implicit,s=g();return _(s.toggleNote(o.midi,r))}),m()}if(e&2){let n=t.$implicit,i=t.$index,r=g(2);p(n&&r.currentStep()===i?"bg-"+r.theme().primary+"-400":"")}}function zv(e,t){if(e&1&&(h(0,"div",15),d(1),m(),K(2,qv,1,2,"div",16,we)),e&2){let n=t.$implicit,i=g();p(n.name.includes("#")?"text-"+i.theme().primary+"-400/70":"text-"+i.theme().primary+"-400"),ie("font-bold",n.name.includes("#")),c(),H(" ",i.getNoteDisplay(n)," "),c(),J(i.sequence().get(n.midi)||_t(5,ef))}}var Jd=3,Wv=12,Qv=2,Xd=16,Xa=[],Yv=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];for(let e=Jd;e<Jd+Qv;e++)for(let t=0;t<Wv;t++)Xa.push({midi:60+(e-4)*12+t,name:Yv[t],octave:e});Xa.reverse();var Fn=class Fn{constructor(){this.theme=te.required();this.allNotes=Xa;this.bpm=b(120);this.isPlaying=b(!1);this.currentStep=b(-1);this.sequence=b(new Map);this.audioContext=null;this.initializeEmptySequence(),ue(()=>{this.initializeEmptySequence()})}ngAfterViewInit(){}ngOnDestroy(){this.stop(),this.audioContext?.close().catch(t=>console.error("Error closing AudioContext:",t))}initializeEmptySequence(){let t=new Map;this.allNotes.forEach(n=>{t.set(n.midi,Array(Xd).fill(!1))}),this.sequence.set(t)}async initAudio(){this.audioContext&&this.audioContext.state==="running"||(this.audioContext||(this.audioContext=new AudioContext,this.masterGainNode=this.audioContext.createGain(),this.masterGainNode.gain.value=.5,this.masterGainNode.connect(this.audioContext.destination)),this.audioContext.state==="suspended"&&await this.audioContext.resume())}async togglePlay(){await this.initAudio(),this.isPlaying()?this.stop():this.start()}start(){this.isPlaying()||(this.isPlaying.set(!0),this.currentStep.set(this.currentStep()===-1?0:this.currentStep()),this.scheduleNextStep())}stop(){this.isPlaying.set(!1),this.timerId&&(clearTimeout(this.timerId),this.timerId=void 0)}resetSequence(){this.stop(),this.currentStep.set(-1),this.initializeEmptySequence()}scheduleNextStep(){if(!this.isPlaying()||!this.audioContext)return;let n=60/this.bpm()/4;this.timerId=window.setTimeout(()=>{let i=this.currentStep();this.playStep(i),this.currentStep.update(r=>(r+1)%Xd),this.scheduleNextStep()},n*1e3)}playStep(t){!this.audioContext||!this.masterGainNode||this.sequence().forEach((n,i)=>{n[t]&&this.playNote(i,this.audioContext.currentTime)})}playNote(t,n){if(!this.audioContext||!this.masterGainNode)return;let i=440*Math.pow(2,(t-69)/12),r=this.audioContext.createOscillator(),o=this.audioContext.createGain();r.type="sine",r.frequency.setValueAtTime(i,n),o.gain.setValueAtTime(.3,n),o.gain.exponentialRampToValueAtTime(1e-4,n+.5),r.connect(o),o.connect(this.masterGainNode),r.start(n),r.stop(n+.5)}toggleNote(t,n){this.sequence.update(i=>{let r=i.get(t);return r&&(r[n]=!r[n]),new Map(i)})}onBpmChange(t){let n=parseInt(t.target.value,10);!isNaN(n)&&n>=60&&n<=240&&(this.bpm.set(n),this.isPlaying()&&(this.stop(),this.start()))}getNoteDisplay(t){return`${t.name}${t.octave}`}};Fn.\u0275fac=function(n){return new(n||Fn)},Fn.\u0275cmp=se({type:Fn,selectors:[["app-piano-roll"]],inputs:{theme:[1,"theme"]},decls:22,vars:18,consts:[[1,"w-full","p-4","flex","flex-col","gap-4","relative"],[1,"text-center","text-lg"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-4","p-2"],[1,"flex","items-center","gap-4"],[1,"w-24","px-4","py-2","border-2","text-lg",3,"click"],[1,"px-3","py-2","border-2","text-lg",3,"click"],[1,"flex","items-center","gap-2"],["for","bpm",1,"text-sm"],["id","bpm-slider","type","range","min","60","max","240",1,"w-24","aura-slider",3,"input","value"],["id","bpm-text","type","number","min","60","max","240",1,"p-1","text-sm","w-16","text-center",3,"input","value"],[1,"w-full","overflow-x-auto"],[1,"piano-roll-grid","grid","gap-0.5","p-2"],[1,"sequencer-header","text-neutral-400","text-xs","text-right","pr-2"],[1,"step-header","text-xs","text-center","p-1",3,"class","font-bold"],[1,"step-header","text-xs","text-center","p-1"],[1,"note-name","text-xs","text-right","pr-2","py-1"],[1,"note-step","w-6","h-6","border","cursor-pointer","transition-all","duration-75",3,"class"],[1,"note-step","w-6","h-6","border","cursor-pointer","transition-all","duration-75",3,"click"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"h2",1),d(2,"[ AURA PIANO ROLL ]"),m(),h(3,"div",2)(4,"div",3)(5,"button",4),S("click",function(){return i.togglePlay()}),I(6,Uv,2,0,"span")(7,$v,2,0,"span"),m(),h(8,"button",5),S("click",function(){return i.resetSequence()}),d(9," [ RESET ] "),m(),h(10,"div",6)(11,"label",7),d(12,"BPM:"),m(),h(13,"input",8),S("input",function(o){return i.onBpmChange(o)}),m(),h(14,"input",9),S("input",function(o){return i.onBpmChange(o)}),m()()()(),h(15,"div",10)(16,"div",11),Q(17,"div",12),K(18,Gv,2,5,"div",13,we),K(20,zv,4,6,null,null,Hv),m()()()),n&2&&(p("border border-"+i.theme().primary+"-500/30"),c(),p("text-"+i.theme().primary+"-400"),c(2),p("border border-"+i.theme().primary+"-500/20"),c(2),p("hover:text-black"),c(),x(i.isPlaying()?6:7),c(2),p("hover:text-black"),c(5),N("value",i.bpm()),c(),p("focus:border-"+i.theme().primary+"-500"),N("value",i.bpm()),c(2),p("border border-"+i.theme().primary+"-500/20"),c(2),J(_t(17,ef).constructor(16)),c(2),J(i.allNotes))},dependencies:[de],styles:[".piano-roll-grid[_ngcontent-%COMP%]{grid-template-columns:80px repeat(16,1fr);grid-auto-rows:24px;width:max-content}.sequencer-header[_ngcontent-%COMP%], .note-name[_ngcontent-%COMP%], .note-step[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.aura-slider[_ngcontent-%COMP%]{-webkit-appearance:none;height:4px;border-radius:2px;background:var(--color-amber-900);outline:none;opacity:.7;transition:opacity .2s}.aura-slider[_ngcontent-%COMP%]:hover{opacity:1}.aura-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:12px;height:12px;border-radius:50%;background:var(--color-amber-400);cursor:pointer;border:1px solid var(--color-amber-900)}.aura-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:12px;height:12px;border-radius:50%;background:var(--color-amber-400);cursor:pointer;border:1px solid var(--color-amber-900)}div[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-neutral-800)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--color-primary-400);border-radius:4px;border:1px solid var(--color-primary-700)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--color-primary-300)}"],changeDetection:0});var vo=Fn;function Zv(e,t){e&1&&(h(0,"span"),d(1,"[ STOP RECORDING ]"),m())}function Kv(e,t){e&1&&(h(0,"span"),d(1,"[ START RECORDING ]"),m())}function Jv(e,t){if(e&1&&(h(0,"div",7),Q(1,"audio",13),h(2,"a",14),d(3,"[ DOWNLOAD SESSION ]"),m()()),e&2){let n=g();c(),N("src",n.recordedUrl(),ee),c(),N("href",n.recordedUrl(),ee)}}function Xv(e,t){e&1&&(h(0,"span"),d(1,"[ ANALYZING... ]"),m())}function ey(e,t){e&1&&(h(0,"span"),d(1,"[ ASK S.M.U.V.E FOR CRITIQUE ]"),m())}function ty(e,t){if(e&1&&(h(0,"div",15)(1,"h3",16),d(2,"[ S.M.U.V.E FEEDBACK ]"),m(),h(3,"p",17),d(4),m()()),e&2){let n=g();p("border-"+n.theme().primary+"-500/50"),c(4),q(n.aiFeedback())}}var On=class On{constructor(){this.theme=te.required();this.isRecording=b(!1);this.recordingTime=b(0);this.recordedUrl=b(null);this.recordedBlob=b(null);this.notes=b("");this.aiFeedback=b(null);this.isGettingFeedback=b(!1);this.mediaRecorder=null;this.chunks=[];this.stream=null;this.aiService=A(Ee)}ngOnDestroy(){this.stopRecording()}async toggleRecording(){this.isRecording()?this.stopRecording():await this.startRecording()}async startRecording(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.mediaRecorder=new MediaRecorder(this.stream),this.chunks=[],this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&this.chunks.push(t.data)},this.mediaRecorder.onstop=()=>{let t=new Blob(this.chunks,{type:"audio/webm"});this.recordedBlob.set(t),this.recordedUrl.set(URL.createObjectURL(t)),this.stream&&(this.stream.getTracks().forEach(n=>n.stop()),this.stream=null)},this.mediaRecorder.start(),this.isRecording.set(!0),this.recordingTime.set(0),this.intervalId=window.setInterval(()=>{this.recordingTime.update(t=>t+1)},1e3)}catch(t){console.error("Error starting recording:",t),alert("Could not access microphone.")}}stopRecording(){this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop(),this.isRecording.set(!1),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}updateNotes(t){let n=t.target.value;this.notes.set(n)}async getAiFeedback(){if(!this.aiService.isAiAvailable||!this.aiService.chatInstance){alert("AI service is not available.");return}this.isGettingFeedback.set(!0),this.aiFeedback.set(null);try{let t=[],n="I am practicing my music. ";if(this.notes()&&(n+=`Here are my notes/lyrics: "${this.notes()}". `),n+="Please critique my practice session or provide tips based on what I've shared.",this.recordedBlob()){let r=await this.blobToBase64(this.recordedBlob());t.push({inlineData:{mimeType:"audio/webm",data:r}}),n+=" I have attached a recording of my practice."}t.push(n);let i=await this.aiService.chatInstance.sendMessage({message:t});this.aiFeedback.set(i.text)}catch(t){console.error("Error getting feedback:",t),this.aiFeedback.set("Error getting feedback. Please try again.")}finally{this.isGettingFeedback.set(!1)}}blobToBase64(t){return new Promise((n,i)=>{let r=new FileReader;r.onloadend=()=>{let s=r.result.split(",")[1];n(s)},r.onerror=i,r.readAsDataURL(t)})}formatTime(t){let n=Math.floor(t/60),i=t%60;return`${n}:${i.toString().padStart(2,"0")}`}};On.\u0275fac=function(n){return new(n||On)},On.\u0275cmp=se({type:On,selectors:[["app-practice-space"]],inputs:{theme:[1,"theme"]},decls:22,vars:17,consts:[[1,"practice-space-container"],[1,"text-xl","text-center","mb-4"],[1,"recorder-section"],[1,"text-lg"],[1,"flex","items-center","gap-4"],[1,"px-4","py-2","border","hover:text-black","transition-colors",3,"click"],[1,"text-2xl","font-mono"],[1,"w-full","max-w-md","mt-4","flex","flex-col","items-center","gap-2"],[1,"notes-section"],["placeholder","Type your lyrics, thoughts, or questions for S.M.U.V.E here...",1,"w-full","h-32","bg-black","border","p-2","font-mono","focus:outline-none","focus:ring-1",3,"input","value"],[1,"actions","flex","justify-end","mt-2"],[1,"px-4","py-2","border","hover:text-black","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"feedback-section","mt-4",3,"class"],["controls","",1,"w-full",3,"src"],["download","practice_session.webm",1,"text-sm","hover:underline",3,"href"],[1,"feedback-section","mt-4"],[1,"text-lg","mb-2"],[1,"whitespace-pre-wrap","text-sm"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"h2",1),d(2,"[ PRACTICE SPACE ]"),m(),h(3,"div",2)(4,"h3",3),d(5,"[ RECORDER ]"),m(),h(6,"div",4)(7,"button",5),S("click",function(){return i.toggleRecording()}),I(8,Zv,2,0,"span")(9,Kv,2,0,"span"),m(),h(10,"span",6),d(11),m()(),I(12,Jv,4,2,"div",7),m(),h(13,"div",8)(14,"h3",3),d(15,"[ NOTES / LYRICS ]"),m(),h(16,"textarea",9),S("input",function(o){return i.updateNotes(o)}),m()(),h(17,"div",10)(18,"button",11),S("click",function(){return i.getAiFeedback()}),I(19,Xv,2,0,"span")(20,ey,2,0,"span"),m()(),I(21,ty,5,3,"div",12),m()),n&2&&(p("border-"+i.theme().primary+"-400/50 text-"+i.theme().primary+"-400"),c(3),p("border-"+i.theme().accent+"-500/30"),c(4),p("hover:bg-"+i.theme().accent+"-500"),c(),x(i.isRecording()?8:9),c(3),q(i.formatTime(i.recordingTime())),c(),x(i.recordedUrl()?12:-1),c(4),p("border-"+i.theme().neutral+"-600 text-"+i.theme().neutral+"-200 placeholder-"+i.theme().neutral+"-500 focus:ring-"+i.theme().primary+"-500"),N("value",i.notes()),c(2),p("hover:bg-"+i.theme().primary+"-500"),N("disabled",i.isGettingFeedback()),c(),x(i.isGettingFeedback()?19:20),c(2),x(i.aiFeedback()?21:-1))},dependencies:[de],styles:[".practice-space-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;height:100%;padding:1rem;border:1px solid}.recorder-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:1.5rem;border:1px dashed}.notes-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;gap:.5rem}.feedback-section[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;border:1px solid;max-height:200px;overflow-y:auto}"],changeDetection:0});var yo=On;var ny=["audioPlayerA"],iy=["videoPlayerA"],ry=["audioPlayerB"],oy=["videoPlayerB"],sy=["fileInput"],nf=(e,t)=>t.title,ay=(e,t)=>t.audioSrc;function ly(e,t){e&1&&(v(0,"span"),d(1,"[ DJ ]"),y())}function cy(e,t){e&1&&(v(0,"span"),d(1,"[ PIANO EDITOR ]"),y())}function uy(e,t){e&1&&(v(0,"span"),d(1,"[ IMAGE EDITOR ]"),y())}function dy(e,t){e&1&&(v(0,"span"),d(1,"[ VIDEO EDITOR ]"),y())}function fy(e,t){e&1&&(v(0,"span"),d(1,"[ NETWORKING ]"),y())}function py(e,t){e&1&&(v(0,"span"),d(1,"[ PRACTICE SPACE ]"),y())}function my(e,t){e&1&&(v(0,"span"),d(1,"[ PLAYER ]"),y())}function hy(e,t){e&1&&(v(0,"span"),d(1,"[ CLOSE CHATBOT ]"),y())}function gy(e,t){e&1&&(v(0,"span"),d(1,"[ CHATBOT ]"),y())}function vy(e,t){if(e&1){let n=j();v(0,"video",71,3),M("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))})("timeupdate",function(r){C(n);let o=g(2);return _(o.onTimeUpdate(r,"A"))})("loadedmetadata",function(r){C(n);let o=g(2);return _(o.onLoadedMetadata(r,"A"))})("ended",function(){C(n);let r=g(2);return _(r.onEnded("A"))}),y()}}function yy(e,t){if(e&1){let n=j();v(0,"div",72),M("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"A"))}),ce(1,"div",73)(2,"div",74),y()}if(e&2){let n=g(2);ke("transform",n.scratchRotationA()),ie("spinning",n.deckA().isPlaying&&!n.isScratchingA()),c(),p("bg-"+n.currentTheme().accent+"-600"),c(),p(n.djBgStone900)}}function Ey(e,t){e&1&&(v(0,"span"),d(1,"[ || ]"),y())}function Cy(e,t){e&1&&(v(0,"span"),d(1,"[ > ]"),y())}function _y(e,t){if(e&1&&ce(0,"div",75),e&2){let n=t.$index,i=g(2);ie("green",n/12<i.vuLevelA()&&n<8)("yellow",n/12<i.vuLevelA()&&n>=8&&n<10)("red",n/12<i.vuLevelA()&&n>=10)}}function Dy(e,t){if(e&1&&(v(0,"div",76),d(1,"[ SEARCHING... ]"),y()),e&2){let n=g(2);p("border-"+n.currentTheme().accent+"-500/50")}}function by(e,t){if(e&1){let n=j();v(0,"div",79)(1,"p",80),d(2),y(),v(3,"div",81)(4,"p",82),d(5),y(),v(6,"div",83)(7,"button",84),M("click",function(){let r=C(n).$implicit,o=g(3);return _(o.loadTrackToDeck(r,"A"))}),d(8,"->A"),y(),v(9,"button",84),M("click",function(){let r=C(n).$implicit,o=g(3);return _(o.loadTrackToDeck(r,"B"))}),d(10,"->B"),y()()()()}if(e&2){let n=t.$implicit,i=g(3);p("hover:bg-"+i.currentTheme().neutral+"-700/50"),c(2),H("> ",n.title),c(2),p(i.djTextNeutral400Class),c(),H("-- ",n.artist),c(2),p(i.djHoverBgClass),c(2),p(i.djHoverBgClass)}}function wy(e,t){if(e&1&&(v(0,"div",77),K(1,by,11,10,"div",78,nf),y()),e&2){let n=g(2);p("border-"+n.currentTheme().accent+"-500/50"),c(),J(n.searchResults())}}function Iy(e,t){if(e&1){let n=j();v(0,"button",87),M("click",function(){C(n);let r=g(3);return _(r.shareMix())}),d(1,"[ SHARE ]"),y()}if(e&2){let n=g(3);p(n.djHoverBgClass)}}function xy(e,t){if(e&1&&(v(0,"div",63)(1,"a",85),d(2,"[ DOWNLOAD ]"),y(),I(3,Iy,2,2,"button",86),y()),e&2){let n=g(2);c(),p(n.djHoverBgClass),L("href",t,ee),c(2),x(n.canShare()?3:-1)}}function My(e,t){e&1&&(ce(0,"span",88),v(1,"span",89),d(2,"[ ACTIVE ]"),y())}function Ty(e,t){if(e&1&&ce(0,"div",75),e&2){let n=t.$index,i=g(3);ie("green",n/12<i.vuLevelMic()&&n<8)("yellow",n/12<i.vuLevelMic()&&n>=8&&n<10)("red",n/12<i.vuLevelMic()&&n>=10)}}function Sy(e,t){if(e&1){let n=j();v(0,"div",65)(1,"div",90),K(2,Ty,1,6,"div",45,we),y(),v(4,"div",41)(5,"span",91),d(6,"VOL"),y(),v(7,"input",92),M("input",function(r){C(n);let o=g(2);return _(o.onMicVolumeChange(r))}),y()(),v(8,"div",41)(9,"span",91),d(10,"HI"),y(),v(11,"input",92),M("input",function(r){C(n);let o=g(2);return _(o.onMicEqChange(r,"High"))}),y()(),v(12,"div",41)(13,"span",91),d(14,"MID"),y(),v(15,"input",92),M("input",function(r){C(n);let o=g(2);return _(o.onMicEqChange(r,"Mid"))}),y()(),v(16,"div",41)(17,"span",91),d(18,"LOW"),y(),v(19,"input",92),M("input",function(r){C(n);let o=g(2);return _(o.onMicEqChange(r,"Low"))}),y()(),v(20,"div",41)(21,"span",91),d(22,"FX"),y(),v(23,"input",93),M("input",function(r){C(n);let o=g(2);return _(o.onMicFilterChange(r))}),y()()()}if(e&2){let n=g(2);c(),p(n.djBgStone800),c(),J(n.vuBars),c(5),L("value",n.micVolume()),c(4),L("value",n.micEqHigh()),c(4),L("value",n.micEqMid()),c(4),L("value",n.micEqLow()),c(4),L("value",n.getNormalizedFilterValue(n.micFilterFreq()))}}function Ay(e,t){if(e&1&&ce(0,"div",75),e&2){let n=t.$index,i=g(2);ie("green",n/12<i.vuLevelMaster()&&n<8)("yellow",n/12<i.vuLevelMaster()&&n>=8&&n<10)("red",n/12<i.vuLevelMaster()&&n>=10)}}function Ny(e,t){if(e&1){let n=j();v(0,"video",71,4),M("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))})("timeupdate",function(r){C(n);let o=g(2);return _(o.onTimeUpdate(r,"B"))})("loadedmetadata",function(r){C(n);let o=g(2);return _(o.onLoadedMetadata(r,"B"))})("ended",function(){C(n);let r=g(2);return _(r.onEnded("B"))}),y()}}function Ry(e,t){if(e&1){let n=j();v(0,"div",72),M("mousedown",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))})("touchstart",function(r){C(n);let o=g(2);return _(o.onScratchStart(r,"B"))}),ce(1,"div",94)(2,"div",74),y()}if(e&2){let n=g(2);ke("transform",n.scratchRotationB()),ie("spinning",n.deckB().isPlaying&&!n.isScratchingB()),c(),p("bg-"+n.currentTheme().accent+"-600"),c(),p(n.djBgStone900)}}function ky(e,t){e&1&&(v(0,"span"),d(1,"[ || ]"),y())}function Py(e,t){e&1&&(v(0,"span"),d(1,"[ > ]"),y())}function Fy(e,t){if(e&1&&ce(0,"div",75),e&2){let n=t.$index,i=g(2);ie("green",n/12<i.vuLevelB()&&n<8)("yellow",n/12<i.vuLevelB()&&n>=8&&n<10)("red",n/12<i.vuLevelB()&&n>=10)}}function Oy(e,t){if(e&1){let n=j();v(0,"div",22)(1,"div",23)(2,"h2",24),d(3," [ DECK A ] "),y(),v(4,"div",25)(5,"div",26)(6,"div",27),I(7,vy,2,0,"video",28)(8,yy,3,8,"div",29),y(),v(9,"div",30)(10,"h3",31),d(11),y(),v(12,"p",32),d(13),y()(),v(14,"div",33)(15,"input",34),M("input",function(r){C(n);let o=g();return _(o.onProgressChange(r,"A"))}),y(),v(16,"div",35)(17,"span"),d(18),y(),v(19,"span"),d(20),y()()(),v(21,"div",36)(22,"button",37),M("click",function(){C(n);let r=g();return _(r.togglePlayPause("A"))}),I(23,Ey,2,0,"span")(24,Cy,2,0,"span"),y(),v(25,"button",38),M("click",function(){C(n);let r=g();return _(r.toggleLoop("A"))}),v(26,"span"),d(27,"[ REPEAT ]"),y()()()(),v(28,"div",39)(29,"div",40)(30,"div",41)(31,"span"),d(32,"GAIN"),y(),v(33,"input",42),M("input",function(r){C(n);let o=g();return _(o.onGainChange(r,"A"))}),y()(),v(34,"div",41)(35,"span"),d(36,"HI"),y(),v(37,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"A","High"))}),y()(),v(38,"div",41)(39,"span"),d(40,"MID"),y(),v(41,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"A","Mid"))}),y()(),v(42,"div",41)(43,"span"),d(44,"LOW"),y(),v(45,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"A","Low"))}),y()(),v(46,"div",41)(47,"span"),d(48,"FX"),y(),v(49,"input",43),M("input",function(r){C(n);let o=g();return _(o.onFilterChange(r,"A"))}),y()()(),v(50,"div",44),K(51,_y,1,6,"div",45,we),y(),v(53,"div",46)(54,"span",47),d(55,"PITCH"),y(),v(56,"input",48),M("input",function(r){C(n);let o=g();return _(o.onPitchChange(r,"A"))}),y()()()()(),v(57,"div",49)(58,"h2",50),d(59,"[ MIXER ]"),y(),v(60,"div",51)(61,"form",52),M("submit",function(r){C(n);let o=g();return _(o.performSearch(r))}),v(62,"div",53)(63,"input",54),M("input",function(r){C(n);let o=g();return _(o.onSearchQueryInput(r))}),y(),v(64,"button",55),d(65,"[SCN]"),y()()(),I(66,Dy,2,2,"div",56),I(67,wy,3,2,"div",57),y(),v(68,"div",58)(69,"h3",47),d(70,"[ RECORDING ]"),y(),v(71,"div",59)(72,"button",60),M("click",function(){C(n);let r=g();return _(r.toggleRecording())}),v(73,"span",9),ce(74,"span",61),d(75),y()(),v(76,"span",62),d(77),y()(),I(78,xy,4,4,"div",63),y(),v(79,"div",58)(80,"h3",64),d(81," [ MICROPHONE ] "),I(82,My,3,0),y(),v(83,"div",59)(84,"button",60),M("click",function(){C(n);let r=g();return _(r.toggleMicrophone())}),d(85),y()(),I(86,Sy,24,7,"div",65),y(),v(87,"div",66)(88,"div",44),K(89,Ay,1,6,"div",45,we),y(),v(91,"input",67),M("input",function(r){C(n);let o=g();return _(o.onCrossfadeChange(r))}),y(),v(92,"input",68),M("input",function(r){C(n);let o=g();return _(o.onVolumeChange(r))}),y()(),v(93,"div",69)(94,"span"),d(95,"DECK A"),y(),v(96,"span"),d(97,"MASTER"),y(),v(98,"span"),d(99,"DECK B"),y()(),v(100,"button",70),M("click",function(){C(n);let r=g();return _(r.openFilePickerForDeck("B"))}),d(101,"[ LOAD FILE ]"),y()(),v(102,"div",23)(103,"h2",24),d(104," [ DECK B ] "),y(),v(105,"div",25)(106,"div",26)(107,"div",27),I(108,Ny,2,0,"video",28)(109,Ry,3,8,"div",29),y(),v(110,"div",30)(111,"h3",31),d(112),y(),v(113,"p",32),d(114),y()(),v(115,"div",33)(116,"input",34),M("input",function(r){C(n);let o=g();return _(o.onProgressChange(r,"B"))}),y(),v(117,"div",35)(118,"span"),d(119),y(),v(120,"span"),d(121),y()()(),v(122,"div",36)(123,"button",37),M("click",function(){C(n);let r=g();return _(r.togglePlayPause("B"))}),I(124,ky,2,0,"span")(125,Py,2,0,"span"),y(),v(126,"button",38),M("click",function(){C(n);let r=g();return _(r.toggleLoop("B"))}),v(127,"span"),d(128,"[ REPEAT ]"),y()()()(),v(129,"div",39)(130,"div",40)(131,"div",41)(132,"span"),d(133,"GAIN"),y(),v(134,"input",42),M("input",function(r){C(n);let o=g();return _(o.onGainChange(r,"B"))}),y()(),v(135,"div",41)(136,"span"),d(137,"HI"),y(),v(138,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"B","High"))}),y()(),v(139,"div",41)(140,"span"),d(141,"MID"),y(),v(142,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"B","Mid"))}),y()(),v(143,"div",41)(144,"span"),d(145,"LOW"),y(),v(146,"input",42),M("input",function(r){C(n);let o=g();return _(o.onEqChange(r,"B","Low"))}),y()(),v(147,"div",41)(148,"span"),d(149,"FX"),y(),v(150,"input",43),M("input",function(r){C(n);let o=g();return _(o.onFilterChange(r,"B"))}),y()()(),v(151,"div",44),K(152,Fy,1,6,"div",45,we),y(),v(154,"div",46)(155,"span",47),d(156,"PITCH"),y(),v(157,"input",48),M("input",function(r){C(n);let o=g();return _(o.onPitchChange(r,"B"))}),y()()()()()()}if(e&2){let n,i=g();p(i.djTextNeutral400Class),c(),p(i.djBorderClass),c(),p(i.djTextColorClass),c(5),x(i.deckA().track.videoSrc?7:8),c(3),p(i.mainTextColorClass()),L("title",i.deckA().track.title),c(),q(i.deckA().track.title),c(),p(i.djTextNeutral400Class),L("title",i.deckA().track.artist),c(),H("-- ",i.deckA().track.artist," --"),c(2),L("max",i.deckA().duration)("value",i.deckA().progress),c(),p(i.djTextNeutral400Class),c(2),q(i.formatTime(i.deckA().progress)),c(2),q(i.formatTime(i.deckA().duration)),c(2),p(i.djHoverBgClass),c(),x(i.deckA().isPlaying?23:24),c(2),p(i.deckA().loop?"text-black":""),c(3),p("border-l-2 border-"+i.currentTheme().accent+"-500/20"),c(5),L("value",i.deckA().gain),c(4),L("value",i.deckA().eqHigh),c(4),L("value",i.deckA().eqMid),c(4),L("value",i.deckA().eqLow),c(4),L("value",i.getNormalizedFilterValue(i.deckA().filterFreq)),c(),p(i.djBgStone800),c(),J(i.vuBars),c(5),L("value",i.deckA().playbackRate),c(),p(i.djBorderClass),c(),p(i.djTextColorClass),c(5),p("focus:border-"+i.currentTheme().accent+"-500"),L("value",i.searchQuery()),c(),p(i.djHoverBgClass),c(2),x(i.isSearching()?66:-1),c(),x(i.searchResults().length>0?67:-1),c(),p(i.djBorderClass),c(4),p(i.djHoverBgClass),c(2),ie("recording",i.isRecording()),c(),H(" ",i.isRecording()?"STOP":"REC"," "),c(2),q(i.formatTime(i.recordingTime())),c(),x((n=i.recordedMixUrl())?78:-1,n),c(),p(i.djBorderClass),c(3),x(i.micEnabled()?82:-1),c(2),p(i.djHoverBgClass),c(),H(" ",i.micEnabled()?"DISABLE":"ENABLE"," "),c(),x(i.micEnabled()?86:-1),c(2),p(i.djBgStone800),c(),J(i.vuBars),c(2),L("value",i.crossfade()),c(),L("value",i.volume()),c(8),p(i.djHoverBgClass),c(2),p(i.djBorderClass),c(),p(i.djTextColorClass),c(5),x(i.deckB().track.videoSrc?108:109),c(3),p(i.mainTextColorClass()),L("title",i.deckB().track.title),c(),q(i.deckB().track.title),c(),p(i.djTextNeutral400Class),L("title",i.deckB().track.artist),c(),H("-- ",i.deckB().track.artist," --"),c(2),L("max",i.deckB().duration)("value",i.deckB().progress),c(),p(i.djTextNeutral400Class),c(2),q(i.formatTime(i.deckB().progress)),c(2),q(i.formatTime(i.deckB().duration)),c(2),p(i.djHoverBgClass),c(),x(i.deckB().isPlaying?124:125),c(2),p(i.deckB().loop?"text-black":""),c(3),p("border-l-2 border-"+i.currentTheme().accent+"-500/20"),c(5),L("value",i.deckB().gain),c(4),L("value",i.deckB().eqHigh),c(4),L("value",i.deckB().eqMid),c(4),L("value",i.deckB().eqLow),c(4),L("value",i.getNormalizedFilterValue(i.deckB().filterFreq)),c(),p(i.djBgStone800),c(),J(i.vuBars),c(5),L("value",i.deckB().playbackRate)}}function Ly(e,t){if(e&1&&ce(0,"app-piano-roll",13),e&2){let n=g();L("theme",n.currentTheme())}}function Vy(e,t){e&1&&ce(0,"video",97,3)}function By(e,t){if(e&1&&ce(0,"img",98),e&2){let n=g(2);L("src",n.deckA().track.albumArtUrl,ee)}}function jy(e,t){e&1&&(v(0,"span"),d(1,"[ || ]"),y())}function Hy(e,t){e&1&&(v(0,"span"),d(1,"[ > ]"),y())}function Uy(e,t){if(e&1&&(v(0,"div",76),d(1,"[ SEARCHING... ]"),y()),e&2){let n=g(2);p(n.mainBorderClass())}}function $y(e,t){if(e&1){let n=j();v(0,"div",79)(1,"p",80),d(2),y(),v(3,"div",81)(4,"p",119),d(5),y(),v(6,"div",83)(7,"button",120),M("click",function(){let r=C(n).$implicit,o=g(3);return _(o.addTrackToPlaylist(r,!0))}),d(8,"[ PLAY ]"),y(),v(9,"button",120),M("click",function(){let r=C(n).$implicit,o=g(3);return _(o.addTrackToPlaylist(r,!1))}),d(10,"[ +QUEUE ]"),y()()()()}if(e&2){let n=t.$implicit,i=g(3);p("hover:bg-"+i.currentTheme().primary+"-900/50"),c(),p(i.mainTextColorClass()),c(),H("> ",n.title),c(3),H("-- ",n.artist),c(2),p(i.mainHoverBgClass()),c(2),p(i.mainHoverBgClass())}}function Gy(e,t){if(e&1&&(v(0,"div",117)(1,"h3",118),d(2,"[ Search Results ]"),y(),K(3,$y,11,10,"div",78,nf),y()),e&2){let n=g(2);p(n.mainBorderClass()),c(3),J(n.searchResults())}}function qy(e,t){if(e&1){let n=j();v(0,"div",121),M("click",function(){let r=C(n).$index,o=g(2);return _(o.playTrackFromPlaylist(r))}),v(1,"p",80),d(2),y(),v(3,"p",119),d(4),y()()}if(e&2){let n=t.$implicit,i=t.$index,r=g(2);p(r.currentTrackIndex()===i?"bg-"+r.currentTheme().primary+"-900/50":""),c(),ie("text-white",r.currentTrackIndex()===i),c(),H("> ",n.title),c(2),H("-- ",n.artist)}}function zy(e,t){e&1&&(v(0,"p",115),d(1,"[ Load a file or search to begin ]"),y())}function Wy(e,t){if(e&1){let n=j();v(0,"div",14)(1,"div",95)(2,"div",96),I(3,Vy,2,0,"video",97)(4,By,1,1,"img",98),y(),ce(5,"app-audio-visualizer",99),v(6,"div",30)(7,"h3",100),d(8),y(),v(9,"p",101),d(10),y()(),v(11,"div",33)(12,"input",34),M("input",function(r){C(n);let o=g();return _(o.onProgressChange(r,"A"))}),y(),v(13,"div",102)(14,"span"),d(15),y(),v(16,"span"),d(17),y()()(),v(18,"div",103)(19,"button",104),M("click",function(){C(n);let r=g();return _(r.playPrevious())}),d(20,"[ << ]"),y(),v(21,"button",105),M("click",function(){C(n);let r=g();return _(r.togglePlayPause("A"))}),I(22,jy,2,0,"span")(23,Hy,2,0,"span"),y(),v(24,"button",104),M("click",function(){C(n);let r=g();return _(r.playNext())}),d(25,"[ >> ]"),y()(),v(26,"div",65)(27,"span",47),d(28,"VOL:"),y(),v(29,"input",106),M("input",function(r){C(n);let o=g();return _(o.onVolumeChange(r))}),y(),v(30,"button",107),M("click",function(){C(n);let r=g();return _(r.toggleEqPanel())}),d(31,"[EQ]"),y()()(),v(32,"div",108)(33,"form",52),M("submit",function(r){C(n);let o=g();return _(o.performSearch(r))}),v(34,"div",53)(35,"input",109),M("input",function(r){C(n);let o=g();return _(o.onSearchQueryInput(r))}),y(),v(36,"button",110),d(37,"[SCN]"),y()()(),I(38,Uy,2,2,"div",56),I(39,Gy,5,2,"div",111),v(40,"div",112)(41,"h3",113),d(42,"[ Playlist ]"),y(),K(43,qy,5,6,"div",114,ay),I(45,zy,2,0,"p",115),y(),v(46,"button",116),M("click",function(){C(n);let r=g();return _(r.openFilePickerForDeck(null))}),d(47,"[LOAD FILE]"),y()()()}if(e&2){let n=g();c(2),p(n.mainBorderClass()),c(),x(n.deckA().track.videoSrc?3:4),c(2),L("analyserNode",n.getMasterAnalyser())("theme",n.currentTheme()),c(2),p(n.mainTextColorClass()),L("title",n.deckA().track.title),c(),q(n.deckA().track.title),c(),L("title",n.deckA().track.artist),c(),H("-- ",n.deckA().track.artist," --"),c(2),L("max",n.deckA().duration)("value",n.deckA().progress),c(3),q(n.formatTime(n.deckA().progress)),c(2),q(n.formatTime(n.deckA().duration)),c(2),p(n.mainHoverBgClass()),c(2),p(n.mainHoverBgClass()),c(),x(n.deckA().isPlaying?22:23),c(2),p(n.mainHoverBgClass()),c(3),p(n.mainTextColorClass()),c(2),L("value",n.volume()),c(),p(n.mainHoverBgClass()),c(5),p("focus:border-"+n.currentTheme().primary+"-500"),L("value",n.searchQuery()),c(),p(n.mainHoverBgClass()),c(2),x(n.isSearching()?38:-1),c(),x(n.searchResults().length>0?39:-1),c(),p(n.mainBorderClass()),c(),p(n.mainTextColorClass()),c(2),J(n.playlist()),c(2),x(n.playlist().length===0?45:-1),c(),p(n.mainHoverBgClass())}}function Qy(e,t){if(e&1){let n=j();v(0,"app-image-editor",122),M("imageSelected",function(r){C(n);let o=g();return _(o.handleImageSelectedForAlbumArt(r))})("imageAnalysisRequest",function(r){C(n);let o=g();return o.imageToAnalyzeUrl.set(r),_(o.showChatbot.set(!0))}),y()}if(e&2){let n=g();L("initialPrompt",n.imageEditorInitialPrompt())("theme",n.currentTheme())}}function Yy(e,t){if(e&1&&ce(0,"app-video-editor",16),e&2){let n=g();L("imageForVideoGeneration",n.lastImageEditorImageUrl())("initialPrompt",n.videoEditorInitialPrompt())("theme",n.currentTheme())}}function Zy(e,t){if(e&1&&ce(0,"app-networking",17),e&2){let n=g();L("initialSearchQuery",n.networkingLocationQuery())("theme",n.currentTheme())}}function Ky(e,t){if(e&1&&ce(0,"app-practice-space",13),e&2){let n=g();L("theme",n.currentTheme())}}function Jy(e,t){if(e&1){let n=j();v(0,"app-eq-panel",123),M("close",function(){C(n);let r=g();return _(r.toggleEqPanel())})("eqChange",function(r){C(n);let o=g();return _(o.onMasterEqChange(r))})("enhancementsChange",function(r){C(n);let o=g();return _(o.onEnhancementsChange(r))}),y()}if(e&2){let n=g();L("eqSettings",n.eqSettings())("enhancements",n.enhancements())("theme",n.currentTheme())}}function Xy(e,t){if(e&1){let n=j();v(0,"app-chatbot",124),M("appCommand",function(r){C(n);let o=g();return _(o.handleChatbotCommand(r))})("close",function(){C(n);let r=g();return _(r.showChatbot.set(!1))})("imageAnalysisResult",function(r){C(n);let o=g();return o.imageAnalysisResult.set(r),_(o.imageToAnalyzeUrl.set(null))})("mapLocationResult",function(r){C(n);let o=g();return o.mapLocationResult.set(r),_(o.mapLocationQuery.set(null))}),y()}if(e&2){let n=g();L("theme",n.currentTheme())("imageToAnalyzeUrl",n.imageToAnalyzeUrl())("mapLocationQuery",n.mapLocationQuery())}}function eE(e,t){if(e&1){let n=j();v(0,"div",125),M("click",function(){C(n);let r=g();return _(r.showApplyAlbumArtModal.set(!1))}),y(),v(1,"div",126)(2,"div",127)(3,"h2",62),d(4,"[[ Apply Album Art ]]"),y(),v(5,"button",128),M("click",function(){C(n);let r=g();return _(r.showApplyAlbumArtModal.set(!1))}),d(6," [X] "),y()(),v(7,"p",129),d(8,"Where do you want to apply this image?"),y(),v(9,"div",130)(10,"button",131),M("click",function(){C(n);let r=g();return _(r.applyImageAsAlbumArt("player"))}),d(11,"[ CURRENT PLAYER TRACK ]"),y(),v(12,"button",131),M("click",function(){C(n);let r=g();return _(r.applyImageAsAlbumArt("A"))}),d(13,"[ DECK A ]"),y(),v(14,"button",131),M("click",function(){C(n);let r=g();return _(r.applyImageAsAlbumArt("B"))}),d(15,"[ DECK B ]"),y()()()}if(e&2){let n=g();c(),p(n.mainTextColorClass()),c(4),p(n.mainHoverBgClass()),c(5),p(n.mainHoverBgClass()),c(2),p(n.mainHoverBgClass()),c(2),p(n.mainHoverBgClass())}}function tE(e,t){if(e&1&&(v(0,"div",133),ce(1,"img",135),y()),e&2){let n=g(2);c(),p(n.mainBorderClass()),L("src",n.imageToAnalyzeUrl(),ee)}}function nE(e,t){if(e&1){let n=j();v(0,"div",125),M("click",function(){C(n);let r=g();return _(r.showImageAnalysisModal.set(!1))}),y(),v(1,"div",132)(2,"div",127)(3,"h2",62),d(4,"[[ Image Analysis Result ]]"),y(),v(5,"button",128),M("click",function(){C(n);let r=g();return r.showImageAnalysisModal.set(!1),r.imageAnalysisResult.set(null),_(r.imageToAnalyzeUrl.set(null))}),d(6," [X] "),y()(),I(7,tE,2,3,"div",133),v(8,"div",134)(9,"p"),d(10),y()()()}if(e&2){let n=g();c(),p(n.mainTextColorClass()),c(4),p(n.mainHoverBgClass()),c(2),x(n.imageToAnalyzeUrl()?7:-1),c(),p(n.mainBorderClass()),c(2),q(n.imageAnalysisResult())}}function iE(e,t){if(e&1&&(v(0,"p",137),d(1),y()),e&2){let n=g(2);p(n.mainTextColorClass()),c(),H('Query: "',n.mapLocationQuery(),'"')}}function rE(e,t){if(e&1){let n=j();v(0,"div",125),M("click",function(){C(n);let r=g();return _(r.showMapResultsModal.set(!1))}),y(),v(1,"div",132)(2,"div",127)(3,"h2",62),d(4,"[[ Map Search Result ]]"),y(),v(5,"button",128),M("click",function(){C(n);let r=g();return r.showMapResultsModal.set(!1),r.mapLocationResult.set(null),_(r.mapLocationQuery.set(null))}),d(6," [X] "),y()(),I(7,iE,2,3,"p",136),v(8,"div",134)(9,"p"),d(10),y()()()}if(e&2){let n=g();c(),p(n.mainTextColorClass()),c(4),p(n.mainHoverBgClass()),c(2),x(n.mapLocationQuery()?7:-1),c(),p(n.mainBorderClass()),c(2),q(n.mapLocationResult())}}var Eo={track:{title:"NO SIGNAL",artist:"Load a track into deck",albumArtUrl:"https://picsum.photos/seed/placeholder/500/500",audioSrc:""},isPlaying:!1,progress:0,duration:0,playbackRate:1,filterFreq:2e4,loop:!1,gain:50,eqHigh:50,eqMid:50,eqLow:50,wasPlayingBeforeScratch:!1},tf=[{name:"Green Vintage",primary:"green",accent:"amber",neutral:"neutral",purple:"purple",red:"red",blue:"blue"},{name:"Blue Retro",primary:"blue",accent:"fuchsia",neutral:"zinc",purple:"purple",red:"red",blue:"blue"},{name:"Red Glitch",primary:"red",accent:"cyan",neutral:"stone",purple:"purple",red:"red",blue:"blue"},{name:"Amber Glow",primary:"amber",accent:"green",neutral:"neutral",purple:"purple",red:"red",blue:"blue"},{name:"Purple Haze",primary:"purple",accent:"lime",neutral:"slate",purple:"purple",red:"red",blue:"blue"},{name:"Cyan Wave",primary:"cyan",accent:"violet",neutral:"gray",purple:"purple",red:"red",blue:"blue"},{name:"Yellow Neon",primary:"yellow",accent:"red",neutral:"stone",purple:"purple",red:"red",blue:"blue"}],Ln=class Ln{constructor(){this.audioPlayerARef=he("audioPlayerA");this.videoPlayerARef=he("videoPlayerA");this.audioPlayerBRef=he("audioPlayerB");this.videoPlayerBRef=he("videoPlayerB");this.fileInputRef=he("fileInput");this.mainViewMode=b("player");this.showChatbot=b(!0);this.deckA=b(T({},Eo));this.deckB=b(T({},Eo));this.crossfade=b(0);this.loadingTargetDeck=b(null);this.isScratchingA=b(!1);this.isScratchingB=b(!1);this.scratchRotationA=b("");this.scratchRotationB=b("");this.scratchStateA={active:!1,lastAngle:0,platterElement:null};this.scratchStateB={active:!1,lastAngle:0,platterElement:null};this.SCRATCH_SENSITIVITY=2.5;this.playlist=b([]);this.currentTrackIndex=b(-1);this.currentPlayerTrack=Z(()=>{let t=this.currentTrackIndex(),n=this.playlist();return t>=0&&t<n.length?n[t]:null});this.volume=b(.75);this.showEqPanel=b(!1);this.searchQuery=b("");this.isSearching=b(!1);this.searchResults=b([]);this.eqSettings=b([{label:"60Hz",value:50},{label:"310Hz",value:50},{label:"1KHz",value:50},{label:"6KHz",value:50},{label:"16KHz",value:50}]);this.enhancements=b({bassBoost:!1,surroundSound:!1});this.isRecording=b(!1);this.recordingTime=b(0);this.recordedMixUrl=b(null);this.recordedBlob=b(null);this.canShare=Z(()=>!!(navigator.share&&this.recordedBlob()));this.vuLevelA=b(0);this.vuLevelB=b(0);this.vuLevelMaster=b(0);this.vuBars=Array(12).fill(0);this.micEnabled=b(!1);this.micVolume=b(50);this.micEqHigh=b(50);this.micEqMid=b(50);this.micEqLow=b(50);this.micFilterFreq=b(2e4);this.vuLevelMic=b(0);this.THEMES=tf;this.currentTheme=b(tf[0]);this.mainBorderClass=Z(()=>`border-${this.currentTheme().primary}-400/50`);this.mainTextColorClass=Z(()=>`text-${this.currentTheme().primary}-400`);this.mainHoverBgClass=Z(()=>`hover:bg-${this.currentTheme().primary}-400 hover:text-black`);this.mainBg90050Class=Z(()=>`bg-${this.currentTheme().primary}-900/50`);this.djBorderClass=Z(()=>`border-${this.currentTheme().accent}-500/30`);this.djTextColorClass=Z(()=>`text-${this.currentTheme().accent}-400`);this.djActiveBgClass=Z(()=>`bg-${this.currentTheme().accent}-500`);this.djHoverBgClass=Z(()=>`hover:bg-${this.currentTheme().accent}-500 hover:text-black`);this.djBg80050Class=Z(()=>`bg-${this.currentTheme().neutral}-800/50`);this.djTextAccent300Class=Z(()=>`text-${this.currentTheme().accent}-300`);this.djTextNeutral400Class=Z(()=>`text-${this.currentTheme().neutral}-400`);this.djBgStone900=Z(()=>`bg-${this.currentTheme().neutral}-900`);this.djBgStone700=Z(()=>`bg-${this.currentTheme().neutral}-700`);this.eqNodesMaster=[];this.micSourceNode=null;this.micGainNode=null;this.micEqNodes=[];this.micFilterNode=null;this.micStream=null;this.mediaRecorder=null;this.recordedChunks=[];this.imageEditorInitialPrompt=b("");this.videoEditorInitialPrompt=b("");this.lastImageEditorImageUrl=b(null);this.showApplyAlbumArtModal=b(!1);this.imageToApplyAsAlbumArt=b(null);this.imageToAnalyzeUrl=b(null);this.imageAnalysisResult=b(null);this.showImageAnalysisModal=b(!1);this.mapLocationQuery=b(null);this.mapLocationResult=b(null);this.showMapResultsModal=b(!1);this.networkingLocationQuery=b(null);this.selectedArtistProfile=b(null);this.showArtistDetailModal=b(!1);this.aiService=A(Ee);this.activeFileInputDeck=null;this.activeFileInputTrackPlayer=!1;this.initAudioContext(),this.initVUAnalysis(),ue(()=>{this.aiService.isAiAvailable||console.warn("AppComponent: AI services are not available.")}),ue(()=>{this.imageAnalysisResult()&&this.showImageAnalysisModal.set(!0)}),ue(()=>{this.mapLocationResult()&&this.showMapResultsModal.set(!0)}),ue(()=>{this.selectedArtistProfile()&&this.showArtistDetailModal.set(!0)}),this.loadTrackToDeck(Eo.track,"A")}ngOnDestroy(){this.stopAllAudio(),this.audioContext&&this.audioContext.state!=="closed"&&this.audioContext.close().catch(t=>console.error("Error closing audio context:",t)),this.vuIntervalId&&clearInterval(this.vuIntervalId),this.stopMediaStream()}initAudioContext(){this.audioContext||(this.audioContext=new AudioContext,this.gainNodeMaster=this.audioContext.createGain(),this.crossfadeNode=this.audioContext.createGain(),this.analyserMaster=this.audioContext.createAnalyser(),this.analyserA=this.audioContext.createAnalyser(),this.analyserB=this.audioContext.createAnalyser(),this.analyserMic=this.audioContext.createAnalyser(),this.destinationNode=this.audioContext.createMediaStreamDestination(),this.crossfadeNode.connect(this.gainNodeMaster),this.setupMasterEq(this.gainNodeMaster),this.eqNodesMaster[this.eqNodesMaster.length-1].connect(this.analyserMaster),this.analyserMaster.connect(this.destinationNode),this.analyserMaster.connect(this.audioContext.destination),this.onCrossfadeChange({target:{value:this.crossfade()}}),this.onVolumeChange({target:{value:this.volume()}}),this.eqSettings().forEach((t,n)=>{this.onMasterEqChange(this.eqSettings())}))}setupMasterEq(t){this.eqNodesMaster=[];let n=[60,310,1e3,6e3,16e3];for(let i=0;i<n.length;i++){let r=this.audioContext.createBiquadFilter();r.type="peaking",r.frequency.value=n[i],r.Q.value=1,r.gain.value=0,this.eqNodesMaster.push(r)}if(this.eqNodesMaster.length>0){t.connect(this.eqNodesMaster[0]);for(let i=0;i<this.eqNodesMaster.length-1;i++)this.eqNodesMaster[i].connect(this.eqNodesMaster[i+1])}}initVUAnalysis(){this.vuIntervalId=window.setInterval(()=>{if(this.analyserA){let t=new Uint8Array(this.analyserA.fftSize);this.analyserA.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelA.set(n/255)}if(this.analyserB){let t=new Uint8Array(this.analyserB.fftSize);this.analyserB.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelB.set(n/255)}if(this.analyserMaster){let t=new Uint8Array(this.analyserMaster.fftSize);this.analyserMaster.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelMaster.set(n/255)}if(this.analyserMic&&this.micEnabled()){let t=new Uint8Array(this.analyserMic.fftSize);this.analyserMic.getByteFrequencyData(t);let n=t.reduce((i,r)=>i+r,0)/t.length;this.vuLevelMic.set(n/255)}},100)}getMasterAnalyser(){return this.analyserMaster}openFilePickerForDeck(t){this.activeFileInputDeck=t,this.activeFileInputTrackPlayer=t===null,this.fileInputRef().nativeElement.click()}handleFileInput(t){let n=t.target.files?.[0];if(n){let i=URL.createObjectURL(n),r={title:n.name,artist:"Local File",albumArtUrl:"https://picsum.photos/seed/"+Math.random().toString(36).substring(7)+"/500/500",audioSrc:i,videoSrc:n.type.startsWith("video/")?i:void 0};this.activeFileInputDeck==="A"?this.loadTrackToDeck(r,"A"):this.activeFileInputDeck==="B"?this.loadTrackToDeck(r,"B"):this.activeFileInputTrackPlayer&&this.addTrackToPlaylist(r,!0)}this.fileInputRef()&&(this.fileInputRef().nativeElement.value=""),this.activeFileInputDeck=null,this.activeFileInputTrackPlayer=!1}loadTrackToDeck(t,n){let i=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),r=n==="A"?this.videoPlayerARef():this.videoPlayerBRef();if((n==="A"?this.deckA():this.deckB()).isPlaying&&(i?.nativeElement.pause(),r?.nativeElement&&r.nativeElement.pause()),!i){console.error(`Audio player reference for deck ${n} not found.`);return}this.loadingTargetDeck.set(n);let s=R(T({},Eo),{track:t,isPlaying:!1});n==="A"?(this.deckA.set(s),i.nativeElement.src=t.audioSrc,this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.src=t.videoSrc||"")):(this.deckB.set(s),i.nativeElement.src=t.audioSrc,this.videoPlayerBRef()?.nativeElement&&(this.videoPlayerBRef().nativeElement.src=t.videoSrc||""))}togglePlayPause(t="player"){let n=t==="A"?this.audioPlayerARef():t==="B"?this.audioPlayerBRef():this.audioPlayerARef(),i=t==="A"?this.videoPlayerARef():t==="B"?this.videoPlayerBRef():this.videoPlayerARef(),r=t==="A"?this.deckA():t==="B"?this.deckB():this.deckA();if(!n||!n.nativeElement.src){console.warn(`No track loaded for deck ${t}.`);return}this.audioContext.state==="suspended"&&this.audioContext.resume().catch(a=>console.error("Error resuming AudioContext:",a));let o=!r.isPlaying;if(o){let a=n.nativeElement.__sourceNode;a||(a=this.audioContext.createMediaElementSource(n.nativeElement),n.nativeElement.__sourceNode=a,t==="A"?(this.gainNodeA=this.audioContext.createGain(),a.connect(this.gainNodeA),this.gainNodeA.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode)):t==="B"?(this.gainNodeB=this.audioContext.createGain(),a.connect(this.gainNodeB),this.gainNodeB.connect(this.analyserB),this.analyserB.connect(this.crossfadeNode)):(this.gainNodeA=this.audioContext.createGain(),a.connect(this.gainNodeA),a.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode))),n.nativeElement.play().catch(l=>console.error(`Error playing deck ${t}:`,l)),i?.nativeElement&&i.nativeElement.play().catch(l=>console.error(`Error playing video for deck ${t}:`,l))}else n.nativeElement.pause(),i?.nativeElement&&i.nativeElement.pause();let s=a=>R(T({},a),{isPlaying:o});t==="A"||t==="player"?this.deckA.update(s):this.deckB.update(s)}onTimeUpdate(t,n){let i=t.target,r=o=>R(T({},o),{progress:i.currentTime});n==="A"?this.deckA.update(r):this.deckB.update(r)}onLoadedMetadata(t,n){let i=t.target,r=o=>R(T({},o),{duration:i.duration,progress:0});if(n==="A"){this.deckA.update(r),this.gainNodeA&&(this.gainNodeA.gain.value=this.mapSliderToGain(this.deckA().gain));let o=i.__sourceNode;o||(o=this.audioContext.createMediaElementSource(i),i.__sourceNode=o,this.gainNodeA=this.audioContext.createGain(),o.connect(this.gainNodeA),this.gainNodeA.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode)),this.onEqChange({target:{value:this.deckA().eqHigh}},"A","High"),this.onEqChange({target:{value:this.deckA().eqMid}},"A","Mid"),this.onEqChange({target:{value:this.deckA().eqLow}},"A","Low"),this.onFilterChange({target:{value:this.getNormalizedFilterValue(this.deckA().filterFreq)}},"A")}else{this.deckB.update(r),this.gainNodeB&&(this.gainNodeB.gain.value=this.mapSliderToGain(this.deckB().gain));let o=i.__sourceNode;o||(o=this.audioContext.createMediaElementSource(i),i.__sourceNode=o,this.gainNodeB=this.audioContext.createGain(),o.connect(this.gainNodeB),this.gainNodeB.connect(this.analyserB),this.analyserB.connect(this.crossfadeNode)),this.onEqChange({target:{value:this.deckB().eqHigh}},"B","High"),this.onEqChange({target:{value:this.deckB().eqMid}},"B","Mid"),this.onEqChange({target:{value:this.deckB().eqLow}},"B","Low"),this.onFilterChange({target:{value:this.getNormalizedFilterValue(this.deckB().filterFreq)}},"B")}this.loadingTargetDeck.set(null)}onEnded(t){let n=i=>R(T({},i),{isPlaying:!1,progress:0});t==="A"?(this.deckA.update(i=>i.loop?R(T({},i),{progress:0,isPlaying:!0}):n(i)),this.deckA().loop&&(this.audioPlayerARef().nativeElement.currentTime=0,this.audioPlayerARef().nativeElement.play(),this.videoPlayerARef()?.nativeElement.play())):(this.deckB.update(i=>i.loop?R(T({},i),{progress:0,isPlaying:!0}):n(i)),this.deckB().loop&&(this.audioPlayerBRef().nativeElement.currentTime=0,this.audioPlayerBRef().nativeElement.play(),this.videoPlayerBRef()?.nativeElement.play())),this.mainViewMode()==="player"&&t==="A"&&!this.deckA().loop&&this.playNext()}onProgressChange(t,n){let i=parseInt(t.target.value,10),r=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),o=n==="A"?this.videoPlayerARef():this.videoPlayerBRef();r?.nativeElement&&(r.nativeElement.currentTime=i,o?.nativeElement&&(o.nativeElement.currentTime=i));let s=a=>R(T({},a),{progress:i});n==="A"?this.deckA.update(s):this.deckB.update(s)}toggleLoop(t){let n=i=>R(T({},i),{loop:!i.loop});t==="A"?this.deckA.update(n):this.deckB.update(n)}addTrackToPlaylist(t,n=!1){if(this.playlist.update(i=>[...i,t]),this.searchResults.set([]),n){let i=this.playlist().length-1;this.playTrackFromPlaylist(i)}}playTrackFromPlaylist(t){let n=this.playlist();if(t>=0&&t<n.length){this.currentTrackIndex.set(t);let i=n[t];this.loadTrackToDeck(i,"A"),this.deckA().isPlaying||this.togglePlayPause("A")}}playNext(){let t=this.playlist();if(t.length===0)return;let n=(this.currentTrackIndex()+1)%t.length;this.playTrackFromPlaylist(n)}playPrevious(){let t=this.playlist();if(t.length===0)return;let n=this.currentTrackIndex()-1;n<0&&(n=t.length-1),this.playTrackFromPlaylist(n)}onVolumeChange(t){let n=parseFloat(t.target.value);this.volume.set(n),this.gainNodeMaster&&(this.gainNodeMaster.gain.value=n)}toggleEqPanel(){this.showEqPanel.update(t=>!t)}onMasterEqChange(t){this.eqSettings.set(t),t.forEach((n,i)=>{this.eqNodesMaster[i]&&(this.eqNodesMaster[i].gain.value=this.mapSliderToDb(n.value))})}onEnhancementsChange(t){this.enhancements.set(t),console.log("Enhancements updated:",t)}mapSliderToGain(t){return t/100}onGainChange(t,n){let i=parseInt(t.target.value,10),r=this.mapSliderToGain(i),o=s=>R(T({},s),{gain:i});n==="A"?(this.deckA.update(o),this.gainNodeA&&(this.gainNodeA.gain.value=r)):(this.deckB.update(o),this.gainNodeB&&(this.gainNodeB.gain.value=r))}mapSliderToDb(t){return(t-50)*.48}onEqChange(t,n,i){let r=parseInt(t.target.value,10),o=this.mapSliderToDb(r),s=a=>R(T({},a),{[`eq${i}`]:r});n==="A"?this.deckA.update(s):this.deckB.update(s)}getNormalizedFilterValue(t){return Math.log10(t/20)/Math.log10(1e3)}mapFilterSliderToFreq(t){let r=Math.log10(20),o=Math.log10(2e4),s=r+t*(o-r);return Math.pow(10,s)}onFilterChange(t,n){let i=parseFloat(t.target.value),r=this.mapFilterSliderToFreq(i),o=s=>R(T({},s),{filterFreq:r});n==="A"?this.deckA.update(o):this.deckB.update(o)}onPitchChange(t,n){let i=parseFloat(t.target.value),r=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),o=n==="A"?this.videoPlayerARef():this.videoPlayerBRef();r?.nativeElement&&(r.nativeElement.playbackRate=i,o?.nativeElement&&(o.nativeElement.playbackRate=i));let s=a=>R(T({},a),{playbackRate:i});n==="A"?this.deckA.update(s):this.deckB.update(s)}onCrossfadeChange(t){let n=parseFloat(t.target.value);this.crossfade.set(n);let i=Math.cos((n+1)/2*(Math.PI/2)),r=Math.cos((1-n)/2*(Math.PI/2));this.gainNodeA&&(this.gainNodeA.gain.value=i),this.gainNodeB&&(this.gainNodeB.gain.value=r)}getElementAngle(t,n,i){let r=t.getBoundingClientRect(),o=r.left+r.width/2,s=r.top+r.height/2;return Math.atan2(i-s,n-o)}onScratchStart(t,n){let i=t.currentTarget.querySelector(".vinyl-platter");if(!i)return;t.preventDefault();let r,o;t instanceof TouchEvent?(r=t.touches[0].clientX,o=t.touches[0].clientY):(r=t.clientX,o=t.clientY);let s=n==="A"?this.deckA():this.deckB(),a=n==="A"?this.audioPlayerARef():this.audioPlayerBRef(),l=n==="A"?this.videoPlayerARef():this.videoPlayerBRef(),u=n==="A"?this.scratchStateA:this.scratchStateB;u.active=!0,u.platterElement=i,u.lastAngle=this.getElementAngle(i,r,o),u.initialTouchX=r,u.initialTouchY=o,a?.nativeElement&&s.isPlaying?(a.nativeElement.pause(),l?.nativeElement&&l.nativeElement.pause(),n==="A"?this.deckA.update(f=>R(T({},f),{isPlaying:!1,wasPlayingBeforeScratch:!0})):this.deckB.update(f=>R(T({},f),{isPlaying:!1,wasPlayingBeforeScratch:!0}))):a?.nativeElement&&(n==="A"?this.deckA.update(f=>R(T({},f),{wasPlayingBeforeScratch:!1})):this.deckB.update(f=>R(T({},f),{wasPlayingBeforeScratch:!1}))),n==="A"?this.isScratchingA.set(!0):this.isScratchingB.set(!0)}onScratch(t){if(!this.scratchStateA.active&&!this.scratchStateB.active)return;t.preventDefault();let n,i;if(t instanceof TouchEvent){if(t.touches.length===0)return;n=t.touches[0].clientX,i=t.touches[0].clientY}else n=t.clientX,i=t.clientY;this.scratchStateA.active&&this.scratchStateA.platterElement&&this.applyScratch(this.scratchStateA,n,i,"A"),this.scratchStateB.active&&this.scratchStateB.platterElement&&this.applyScratch(this.scratchStateB,n,i,"B")}applyScratch(t,n,i,r){if(!t.platterElement)return;let o=r==="A"?this.audioPlayerARef():this.audioPlayerBRef(),s=r==="A"?this.videoPlayerARef():this.videoPlayerBRef(),a=this.getElementAngle(t.platterElement,n,i),l=a-t.lastAngle;l>Math.PI&&(l-=2*Math.PI),l<-Math.PI&&(l+=2*Math.PI);let f=parseInt(t.platterElement.style.transform.replace("rotate(","").replace("deg)","")||"0",10)+l*180/Math.PI;if((r==="A"?this.scratchRotationA:this.scratchRotationB).set(`rotate(${f}deg)`),o?.nativeElement?.src){let w=l*this.SCRATCH_SENSITIVITY;o.nativeElement.currentTime+=w,s?.nativeElement&&(s.nativeElement.currentTime+=w)}t.lastAngle=a}onScratchEnd(){this.isScratchingA()||this.isScratchingB(),this.scratchStateA.active&&(this.scratchStateA.active=!1,this.scratchStateA.platterElement=null,this.isScratchingA.set(!1),this.deckA().wasPlayingBeforeScratch&&this.audioPlayerARef()?.nativeElement&&!this.deckA().isPlaying&&this.togglePlayPause("A")),this.scratchStateB.active&&(this.scratchStateB.active=!1,this.scratchStateB.platterElement=null,this.isScratchingB.set(!1),this.deckB().wasPlayingBeforeScratch&&this.audioPlayerBRef()?.nativeElement&&!this.deckB().isPlaying&&this.togglePlayPause("B"))}toggleRecording(){this.isRecording()?this.stopMasterRecording():this.startMasterRecording()}startMasterRecording(){if(!this.audioContext||!this.destinationNode){console.error("AudioContext or MediaStreamAudioDestinationNode not initialized.");return}if(!this.isRecording()){this.recordedChunks=[],this.recordedMixUrl.set(null),this.recordedBlob.set(null),this.recordingTime.set(0);try{this.mediaRecorder=new MediaRecorder(this.destinationNode.stream,{mimeType:"audio/webm; codecs=opus"}),this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&this.recordedChunks.push(t.data)},this.mediaRecorder.onstop=()=>{let t=new Blob(this.recordedChunks,{type:"audio/webm"});this.recordedBlob.set(t),this.recordedMixUrl.set(URL.createObjectURL(t)),console.log("Master recording stopped. Blob created."),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.onerror=t=>{console.error("Master MediaRecorder error:",t.error),this.isRecording.set(!1),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.start(),this.isRecording.set(!0),this.recordingIntervalId=window.setInterval(()=>this.recordingTime.update(t=>t+1),1e3),console.log("Master recording started.")}catch(t){console.error("Error starting Master MediaRecorder:",t),this.isRecording.set(!1)}}}stopMasterRecording(){this.mediaRecorder&&this.isRecording()&&(this.mediaRecorder.stop(),this.isRecording.set(!1),console.log("Attempting to stop master recording..."))}async shareMix(){let t=this.recordedBlob();if(!t||!this.canShare()){console.warn("No recorded mix available or Web Share API not supported.");return}let n=new File([t],"aura-mix.webm",{type:t.type});try{await navigator.share({files:[n],title:"Aura Mix",text:"Check out my latest mix from Aura Music Player!"}),console.log("Mix shared successfully.")}catch(i){console.error("Error sharing mix:",i)}}async toggleMicrophone(){this.micEnabled()?this.stopMicrophone():await this.startMicrophone()}async startMicrophone(){if(!this.micEnabled())try{this.micStream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.micSourceNode=this.audioContext.createMediaStreamSource(this.micStream),this.micGainNode=this.audioContext.createGain(),this.micFilterNode=this.audioContext.createBiquadFilter(),this.micFilterNode.type="lowpass",this.micFilterNode.frequency.value=this.micFilterFreq();let t=[250,2500,1e4];this.micEqNodes=t.map(n=>{let i=this.audioContext.createBiquadFilter();return i.type="peaking",i.frequency.value=n,i.Q.value=1,i.gain.value=0,i}),this.micSourceNode.connect(this.micGainNode),this.micGainNode.connect(this.micEqNodes[0]),this.micEqNodes[0].connect(this.micEqNodes[1]),this.micEqNodes[1].connect(this.micEqNodes[2]),this.micEqNodes[2].connect(this.micFilterNode),this.micFilterNode.connect(this.analyserMic),this.analyserMic.connect(this.gainNodeMaster),this.onMicVolumeChange({target:{value:this.micVolume()}}),this.onMicEqChange({target:{value:this.micEqHigh()}},"High"),this.onMicEqChange({target:{value:this.micEqMid()}},"Mid"),this.onMicEqChange({target:{value:this.micEqLow()}},"Low"),this.onMicFilterChange({target:{value:this.getNormalizedFilterValue(this.micFilterFreq())}}),this.micEnabled.set(!0),console.log("Microphone enabled.")}catch(t){console.error("Error enabling microphone:",t),this.micEnabled.set(!1),alert("Failed to access microphone. Please ensure permissions are granted.")}}stopMicrophone(){this.micStream&&(this.micStream.getTracks().forEach(t=>t.stop()),this.micStream=null),this.micSourceNode&&this.micSourceNode.disconnect(),this.micGainNode&&this.micGainNode.disconnect(),this.micFilterNode&&this.micFilterNode.disconnect(),this.micEqNodes.forEach(t=>t.disconnect()),this.analyserMic&&this.analyserMic.disconnect(),this.micSourceNode=null,this.micGainNode=null,this.micFilterNode=null,this.micEqNodes=[],this.micEnabled.set(!1),this.vuLevelMic.set(0),console.log("Microphone disabled.")}onMicVolumeChange(t){let n=parseInt(t.target.value,10);this.micVolume.set(n),this.micGainNode&&(this.micGainNode.gain.value=this.mapSliderToGain(n))}onMicEqChange(t,n){let i=parseInt(t.target.value,10),r=this.mapSliderToDb(i);n==="High"&&this.micEqNodes[2]?(this.micEqHigh.set(i),this.micEqNodes[2].gain.value=r):n==="Mid"&&this.micEqNodes[1]?(this.micEqMid.set(i),this.micEqNodes[1].gain.value=r):n==="Low"&&this.micEqNodes[0]&&(this.micEqLow.set(i),this.micEqNodes[0].gain.value=r)}onMicFilterChange(t){let n=parseFloat(t.target.value),i=this.mapFilterSliderToFreq(n);this.micFilterFreq.set(i),this.micFilterNode&&(this.micFilterNode.frequency.value=i)}toggleMainViewMode(){let t=["player","dj","piano-roll","image-editor","video-editor","networking","practice-space"],n=this.mainViewMode(),r=(t.indexOf(n)+1)%t.length;this.mainViewMode.set(t[r]),this.stopAllAudio(),t[r]!=="image-editor"&&this.imageEditorInitialPrompt.set(""),t[r]!=="video-editor"&&this.videoEditorInitialPrompt.set(""),t[r]!=="networking"&&(this.networkingLocationQuery.set(null),this.selectedArtistProfile.set(null)),this.lastImageEditorImageUrl.set(null),t[r]==="dj"&&(this.audioPlayerARef()?.nativeElement.load(),this.audioPlayerBRef()?.nativeElement.load(),this.deckA().isPlaying&&this.togglePlayPause("A"),this.deckB().isPlaying&&this.togglePlayPause("B"))}toggleChatbot(){this.showChatbot.update(t=>!t),this.showChatbot()||(this.imageToAnalyzeUrl.set(null),this.imageAnalysisResult.set(null),this.mapLocationQuery.set(null),this.mapLocationResult.set(null),this.showImageAnalysisModal.set(!1),this.showMapResultsModal.set(!1),this.networkingLocationQuery.set(null),this.selectedArtistProfile.set(null),this.showArtistDetailModal.set(!1))}handleChatbotCommand(t){console.log("AppComponent: Received chatbot command:",t);let{action:n,parameters:i,aiContext:r}=t;switch(n){case"SET_THEME":let o=i.theme,s=this.THEMES.find(a=>a.name.toLowerCase()===o.toLowerCase());s?(this.currentTheme.set(s),console.log(`Theme set to: ${s.name}`)):console.warn(`Theme "${o}" not found.`);break;case"PLAY_TRACK":if(i.title){let a=this.playlist().find(l=>l.title.toLowerCase().includes(i.title.toLowerCase()))||this.searchResults().find(l=>l.title.toLowerCase().includes(i.title.toLowerCase()));if(a){let l=this.playlist().indexOf(a);l!==-1?this.playTrackFromPlaylist(l):this.addTrackToPlaylist(a,!0)}else console.warn(`Track with title "${i.title}" not found.`)}break;case"PAUSE_TRACK":this.deckA().isPlaying&&this.togglePlayPause("A");break;case"STOP_TRACK":this.audioPlayerARef()?.nativeElement.pause(),this.audioPlayerARef()?.nativeElement&&(this.audioPlayerARef().nativeElement.currentTime=0),this.videoPlayerARef()?.nativeElement.pause(),this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.currentTime=0),this.deckA.update(a=>R(T({},a),{isPlaying:!1,progress:0}));break;case"NEXT_TRACK":this.playNext();break;case"PREVIOUS_TRACK":this.playPrevious();break;case"TOGGLE_LOOP":this.toggleLoop("A");break;case"LOAD_TRACK":console.warn("LOAD_TRACK command not fully implemented for chatbot direct loading.");break;case"GENERATE_IMAGE":i.prompt&&(this.imageEditorInitialPrompt.set(i.prompt),this.mainViewMode.set("image-editor"),this.showChatbot.set(!1));break;case"GENERATE_VIDEO":i.prompt&&(this.videoEditorInitialPrompt.set(i.prompt),this.mainViewMode.set("video-editor"),this.showChatbot.set(!1));break;case"ANALYZE_IMAGE":i.imageUrl&&(this.imageToAnalyzeUrl.set(i.imageUrl),this.showChatbot.set(!0));break;case"FIND_ON_MAP":i.query&&(this.mapLocationQuery.set(i.query),this.showChatbot.set(!0));break;case"FIND_ARTISTS":i.location&&(this.networkingLocationQuery.set(i.location),this.mainViewMode.set("networking"),this.showChatbot.set(!1));break;case"VIEW_ARTIST_PROFILE":if(i.name){let a=it.filter(l=>l.name.toLowerCase()===i.name.toLowerCase()||i.genre&&l.genres.some(u=>u.toLowerCase().includes(i.genre.toLowerCase()))||i.location&&l.location.toLowerCase().includes(i.location.toLowerCase()));a.length>0?(this.selectedArtistProfile.set(a[0]),this.mainViewMode.set("networking"),this.showChatbot.set(!1)):console.warn(`Artist "${i.name}" not found in mock data or no matching criteria.`)}break;default:console.warn(`Unknown chatbot command: ${n}`);break}}handleImageSelectedForAlbumArt(t){this.imageToApplyAsAlbumArt.set(t),this.showApplyAlbumArtModal.set(!0),this.lastImageEditorImageUrl.set(t),this.showChatbot.set(!1)}applyImageAsAlbumArt(t){let n=this.imageToApplyAsAlbumArt();n&&(t==="player"&&this.currentPlayerTrack()?(this.playlist.update(i=>i.map((r,o)=>o===this.currentTrackIndex()?R(T({},r),{albumArtUrl:n}):r)),this.deckA.update(i=>R(T({},i),{track:R(T({},i.track),{albumArtUrl:n})}))):t==="A"?this.deckA.update(i=>R(T({},i),{track:R(T({},i.track),{albumArtUrl:n})})):t==="B"&&this.deckB.update(i=>R(T({},i),{track:R(T({},i.track),{albumArtUrl:n})})),this.showApplyAlbumArtModal.set(!1),this.imageToApplyAsAlbumArt.set(null))}stopAllAudio(){this.audioPlayerARef()?.nativeElement.pause(),this.audioPlayerARef()?.nativeElement&&(this.audioPlayerARef().nativeElement.currentTime=0),this.videoPlayerARef()?.nativeElement.pause(),this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.currentTime=0),this.deckA.update(t=>R(T({},t),{isPlaying:!1,progress:0})),this.audioPlayerBRef()?.nativeElement.pause(),this.audioPlayerBRef()?.nativeElement&&(this.audioPlayerBRef().nativeElement.currentTime=0),this.videoPlayerBRef()?.nativeElement.pause(),this.videoPlayerBRef()?.nativeElement&&(this.videoPlayerBRef().nativeElement.currentTime=0),this.deckB.update(t=>R(T({},t),{isPlaying:!1,progress:0})),this.stopMicrophone()}stopMediaStream(){this.micStream&&(this.micStream.getTracks().forEach(t=>t.stop()),this.micStream=null)}formatTime(t){if(isNaN(t)||t<0)return"00:00";let n=Math.floor(t/60),i=Math.floor(t%60);return`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}randomizeTheme(){let t=this.currentTheme();for(;t===this.currentTheme();)t=this.THEMES[Math.floor(Math.random()*this.THEMES.length)];this.currentTheme.set(t)}};Ln.\u0275fac=function(n){return new(n||Ln)},Ln.\u0275cmp=se({type:Ln,selectors:[["app-root"]],viewQuery:function(n,i){n&1&&(pe(i.audioPlayerARef,ny,5),pe(i.videoPlayerARef,iy,5),pe(i.audioPlayerBRef,ry,5),pe(i.videoPlayerBRef,oy,5),pe(i.fileInputRef,sy,5)),n&2&&Re(5)},hostBindings:function(n,i){n&1&&M("mousemove",function(o){return i.onScratch(o)},xn)("touchmove",function(o){return i.onScratch(o)},xn)("mouseup",function(){return i.onScratchEnd()},xn)("touchend",function(){return i.onScratchEnd()},xn)},decls:40,vars:20,consts:[["audioPlayerA",""],["audioPlayerB",""],["fileInput",""],["videoPlayerA",""],["videoPlayerB",""],[1,"bg-black","text-green-400","font-mono","min-h-screen","flex","items-center","justify-center","p-2","sm:p-4","relative","overflow-hidden"],[1,"w-full","max-w-7xl","border-2","bg-black/80","backdrop-blur-sm","z-10","flex","flex-col","transition-colors","duration-500"],[1,"flex","justify-between","items-center","p-2","sm:p-4","border-b-2","border-inherit"],[1,"text-xl","sm:text-2xl"],[1,"flex","items-center","gap-2"],[1,"p-2","border","border-inherit","hover:text-black","text-sm","transition-colors",3,"click"],[1,"p-2","sm:p-4"],[1,"flex","flex-col","lg:flex-row","gap-4",3,"class"],[3,"theme"],[1,"flex","flex-col","md:flex-row","gap-4"],[3,"initialPrompt","theme"],[3,"imageForVideoGeneration","initialPrompt","theme"],[3,"initialSearchQuery","theme"],[3,"eqSettings","enhancements","theme"],["preload","auto",3,"timeupdate","loadedmetadata","ended"],["type","file","accept","audio/*,video/*",1,"hidden",3,"change"],[3,"theme","imageToAnalyzeUrl","mapLocationQuery"],[1,"flex","flex-col","lg:flex-row","gap-4"],[1,"flex-1","p-2","space-y-3"],[1,"text-center","text-lg","flex","items-center","justify-center","gap-2"],[1,"flex","gap-4"],[1,"flex-1","space-y-3"],[1,"w-full","aspect-square","mx-auto","flex","items-center","justify-center","bg-black","relative"],["muted","","playsinline","","preload","auto",1,"w-full","h-full","object-cover"],[1,"vinyl-platter",3,"spinning","transform"],[1,"text-center"],[1,"text-base","truncate",3,"title"],[1,"text-xs","truncate",3,"title"],[1,"space-y-1"],["type","range","min","0",1,"w-full","h-1","aura-slider",3,"input","max","value"],[1,"flex","justify-between","text-xs"],[1,"flex","items-center","justify-around"],[1,"w-16","h-10","flex","items-center","justify-center","border-2",3,"click"],[1,"p-2","border","hover:text-black","text-xs",3,"click"],[1,"flex","items-center","gap-4","pl-4"],[1,"flex","flex-col","items-center","justify-between","h-full","space-y-2","text-sm"],[1,"flex","flex-col","items-center"],["type","range","min","0","max","100",1,"w-20","aura-slider",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"w-20","aura-slider",3,"input","value"],[1,"vu-meter"],[1,"vu-bar",3,"green","yellow","red"],[1,"flex","flex-col","items-center","justify-center","space-y-2"],[1,"text-sm"],["type","range","min","0.5","max","2","step","0.01",1,"aura-slider","vertical-slider",3,"input","value"],[1,"w-full","lg:w-[450px]","p-2","space-y-3","flex","flex-col","justify-between"],[1,"text-center","text-lg"],[1,"space-y-2"],[3,"submit"],[1,"flex","space-x-2"],["type","text","placeholder","Search online...",1,"flex-grow","border","text-neutral-200","p-1","text-sm","focus:ring-500",3,"input","value"],["type","submit",1,"p-2","border","hover:text-black","text-sm"],[1,"text-center","text-sm","p-2","border","border-dashed",3,"class"],[1,"border","p-1","space-y-1","max-h-40","overflow-y-auto",3,"class"],[1,"p-2","space-y-2","text-center"],[1,"flex","justify-center","items-center","gap-4"],[1,"px-3","py-1","border","hover:text-black",3,"click"],[1,"w-3","h-3","rounded-full","bg-red-800","rec-indicator"],[1,"text-lg"],[1,"flex","justify-center","gap-2","pt-2"],[1,"text-sm","flex","items-center","justify-center","gap-2"],[1,"flex","items-center","justify-center","gap-4","pt-2"],[1,"flex","items-center","gap-4"],["type","range","min","-1","max","1","step","0.01",1,"flex-grow","aura-slider",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"aura-slider","vertical-slider",3,"input","value"],[1,"flex","justify-between","items-center","text-xs"],[1,"w-full","p-2","border","hover:text-black","text-sm",3,"click"],["muted","","playsinline","","preload","auto",1,"w-full","h-full","object-cover",3,"mousedown","touchstart","timeupdate","loadedmetadata","ended"],[1,"vinyl-platter",3,"mousedown","touchstart"],[1,"label","deck-a"],[1,"spindle"],[1,"vu-bar"],[1,"text-center","text-sm","p-2","border","border-dashed"],[1,"border","p-1","space-y-1","max-h-40","overflow-y-auto"],[1,"text-sm","p-1",3,"class"],[1,"text-sm","p-1"],[1,"truncate"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-xs","truncate","pl-2"],[1,"flex","gap-1"],[1,"px-1","border","hover:text-black",3,"click"],["download","aura-mix.webm",1,"text-sm","p-1","border","hover:text-black",3,"href"],[1,"text-sm","p-1","border","hover:text-black",3,"class"],[1,"text-sm","p-1","border","hover:text-black",3,"click"],[1,"w-3","h-3","rounded-full","bg-green-500","rec-indicator","recording"],[1,"text-xs","text-green-500"],[1,"vu-meter","h-24"],[1,"text-xs"],["type","range","min","0","max","100",1,"w-20","aura-slider","vertical-slider","h-24",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"w-20","aura-slider","vertical-slider","h-24",3,"input","value"],[1,"label","deck-b"],[1,"flex-1","md:w-2/3","space-y-3"],[1,"w-full","aspect-video","mx-auto","border-2","p-1","media-container"],["muted","","playsinline","",1,"w-full","h-full","object-cover","media-element"],["alt","Album Art",1,"w-full","h-full","object-cover","media-element",3,"src"],[1,"w-full","h-24","mt-2",3,"analyserNode","theme"],[1,"text-xl","truncate",3,"title"],[1,"text-base","text-green-400/70","truncate",3,"title"],[1,"flex","justify-between","text-sm","text-green-400/70"],[1,"flex","items-center","justify-center","gap-4"],[1,"w-12","h-12","flex","items-center","justify-center","border-2","text-xl",3,"click"],[1,"w-20","h-20","flex","items-center","justify-center","border-2","text-3xl",3,"click"],["type","range","min","0","max","1","step","0.01",1,"w-1/2","aura-slider",3,"input","value"],[1,"p-2","border","text-sm",3,"click"],[1,"flex-1","md:w-1/3","space-y-3","flex","flex-col"],["type","text","placeholder","Search to add tracks...",1,"flex-grow","bg-black","border","text-sm","focus:ring-500",3,"input","value"],["type","submit",1,"p-2","border","text-sm"],[1,"border","p-1","space-y-1",3,"class"],[1,"flex-grow","border","p-2","space-y-2","overflow-y-auto","max-h-96"],[1,"text-center","text-base"],[1,"p-2","text-sm","cursor-pointer",3,"class"],[1,"text-center","text-sm","text-green-400/60","p-4"],[1,"w-full","p-2","border","text-sm",3,"click"],[1,"border","p-1","space-y-1"],[1,"text-center","text-base","py-1"],[1,"text-xs","text-green-400/70","truncate","pl-2"],[1,"px-1","border","text-black",3,"click"],[1,"p-2","text-sm","cursor-pointer",3,"click"],[3,"imageSelected","imageAnalysisRequest","initialPrompt","theme"],[3,"close","eqChange","enhancementsChange","eqSettings","enhancements","theme"],[3,"appCommand","close","imageAnalysisResult","mapLocationResult","theme","imageToAnalyzeUrl","mapLocationQuery"],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-sm","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"mb-4"],[1,"flex","flex-col","gap-2"],[1,"p-2","border","hover:text-black","text-sm",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-xl","h-2/3","flex","flex-col","z-50","animate-slide-up","font-mono"],[1,"flex-shrink-0","mb-4","overflow-hidden","flex","justify-center"],[1,"flex-grow","overflow-y-auto","pr-2","text-sm","border-t","pt-4"],["alt","Image being analyzed",1,"max-h-40","object-contain","border",3,"src"],[1,"mb-4","text-sm",3,"class"],[1,"mb-4","text-sm"]],template:function(n,i){if(n&1){let r=j();v(0,"main",5),ce(1,"app-matrix-background"),v(2,"div",6)(3,"header",7)(4,"h1",8),d(5,"[ AURA ]"),y(),v(6,"div",9)(7,"button",10),M("click",function(){return C(r),_(i.randomizeTheme())}),v(8,"span"),d(9,"[ RANDOM THEME ]"),y()(),v(10,"button",10),M("click",function(){return C(r),_(i.toggleMainViewMode())}),I(11,ly,2,0,"span")(12,cy,2,0,"span")(13,uy,2,0,"span")(14,dy,2,0,"span")(15,fy,2,0,"span")(16,py,2,0,"span")(17,my,2,0,"span"),y(),v(18,"button",10),M("click",function(){return C(r),_(i.toggleChatbot())}),I(19,hy,2,0,"span")(20,gy,2,0,"span"),y()()(),v(21,"div",11),I(22,Oy,158,103,"div",12)(23,Ly,1,1,"app-piano-roll",13)(24,Wy,48,41,"div",14)(25,Qy,1,2,"app-image-editor",15)(26,Yy,1,3,"app-video-editor",16)(27,Zy,1,2,"app-networking",17)(28,Ky,1,1,"app-practice-space",13),y(),I(29,Jy,1,3,"app-eq-panel",18),v(30,"audio",19,0),M("timeupdate",function(s){return C(r),_(i.onTimeUpdate(s,"A"))})("loadedmetadata",function(s){return C(r),_(i.onLoadedMetadata(s,"A"))})("ended",function(){return C(r),_(i.onEnded("A"))}),y(),v(32,"audio",19,1),M("timeupdate",function(s){return C(r),_(i.onTimeUpdate(s,"B"))})("loadedmetadata",function(s){return C(r),_(i.onLoadedMetadata(s,"B"))})("ended",function(){return C(r),_(i.onEnded("B"))}),y(),v(34,"input",20,2),M("change",function(s){return C(r),_(i.handleFileInput(s))}),y()(),I(36,Xy,1,3,"app-chatbot",21),I(37,eE,16,10),I(38,nE,11,8),I(39,rE,11,8),y()}if(n&2){let r;c(2),p(i.mainBorderClass()),ie("dj-vintage-theme",i.mainViewMode()==="dj"),c(2),p(i.mainTextColorClass()),c(3),p(i.mainHoverBgClass()),c(3),p(i.mainHoverBgClass()),c(),x(i.mainViewMode()==="player"?11:i.mainViewMode()==="dj"?12:i.mainViewMode()==="piano-roll"?13:i.mainViewMode()==="image-editor"?14:i.mainViewMode()==="video-editor"?15:i.mainViewMode()==="networking"?16:i.mainViewMode()==="practice-space"?17:-1),c(7),p(i.mainHoverBgClass()),c(),x(i.showChatbot()?19:20),c(3),x((r=i.mainViewMode())==="dj"?22:r==="piano-roll"?23:r==="player"?24:r==="image-editor"?25:r==="video-editor"?26:r==="networking"?27:r==="practice-space"?28:-1),c(7),x(i.showEqPanel()?29:-1),c(7),x(i.showChatbot()?36:-1),c(),x(i.showApplyAlbumArtModal()?37:-1),c(),x(i.showImageAnalysisModal()&&i.imageAnalysisResult()?38:-1),c(),x(i.showMapResultsModal()&&i.mapLocationResult()?39:-1)}},dependencies:[de,lo,co,po,mo,ho,go,vo,fo,yo],encapsulation:2,changeDetection:0});var Co=Ln;if(typeof window.process>"u"||window.process===null)window.process={env:{}},console.warn("index.tsx: Forcibly initialized window.process.");else if(typeof window.process.env!="object"||window.process.env===null||Object.isFrozen(window.process.env)||!Object.isExtensible(window.process.env)){let e=window.process.env;if(window.process.env={},e&&typeof e=="object")for(let t in e)t!=="API_KEY"&&Object.prototype.hasOwnProperty.call(e,t)&&(window.process.env[t]=e[t]);console.warn("index.tsx: Replaced/initialized window.process.env object to ensure mutability and extensibility.")}var el=window.process.env.API_KEY,Si="",_o=(typeof el=="string"?el:"").trim();_o.toLowerCase()==="undefined"||_o===""||_o.length<30?(Si="",console.warn(`index.tsx: Detected problematic API_KEY in window.process.env (original value: "${el}"). Setting to empty string.`)):(Si=_o,console.log(`index.tsx: Valid API_KEY detected from window.process.env (length: ${Si.length}).`));window.process.env.API_KEY=Si;console.log(`index.tsx: window.process.env.API_KEY is now explicitly set to a sanitized value (length: ${window.process.env.API_KEY.length}).`);window.AURA_GEMINI_API_KEY=Si;window.AURA_GEMINI_API_KEY===""?console.warn("index.tsx: Final AURA_GEMINI_API_KEY for application use is empty. AI features will be disabled."):console.log(`index.tsx: AURA_GEMINI_API_KEY is available for application use (length: ${window.AURA_GEMINI_API_KEY.length}).`);Ja(Co,{providers:[Va(),Kd(),{provide:uo,useValue:window.AURA_GEMINI_API_KEY}]}).catch(e=>console.error(e));

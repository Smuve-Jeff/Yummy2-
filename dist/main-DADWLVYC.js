import{a as R,b as P,c as iu}from"./chunk-7CGTOI24.js";var Us;function Mr(){return Us}function yt(n){let e=Us;return Us=n,e}var ru=Symbol("NotFound");function Vn(n){return n===ru||n?.name==="\u0275NotFound"}var Ae=null,xr=!1,$s=1,sm=null,we=Symbol("SIGNAL");function V(n){let e=Ae;return Ae=n,e}function Pr(){return Ae}var nn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bn(n){if(xr)throw new Error("");if(Ae===null)return;Ae.consumerOnSignalRead(n);let e=Ae.producersTail;if(e!==void 0&&e.producer===n)return;let t,i=Ae.recomputing;if(i&&(t=e!==void 0?e.nextProducer:Ae.producers,t!==void 0&&t.producer===n)){Ae.producersTail=t,t.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===Ae&&(!i||lm(r,Ae)))return;let o=Un(Ae),s={producer:n,consumer:Ae,nextProducer:t,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};Ae.producersTail=s,e!==void 0?e.nextProducer=s:Ae.producers=s,o&&lu(n,s)}function ou(){$s++}function Fr(n){if(!(Un(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===$s)){if(!n.producerMustRecompute(n)&&!Hn(n)){kr(n);return}n.producerRecomputeValue(n),kr(n)}}function Gs(n){if(n.consumers===void 0)return;let e=xr;xr=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let i=t.consumer;i.dirty||am(i)}}finally{xr=e}}function zs(){return Ae?.consumerAllowSignalWrites!==!1}function am(n){n.dirty=!0,Gs(n),n.consumerMarkedDirty?.(n)}function kr(n){n.dirty=!1,n.lastCleanEpoch=$s}function rn(n){return n&&su(n),V(n)}function su(n){n.producersTail=void 0,n.recomputing=!0}function jn(n,e){V(e),n&&au(n)}function au(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Un(n))do t=qs(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Hn(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,i=e.lastReadVersion;if(i!==t.version||(Fr(t),i!==t.version))return!0}return!1}function on(n){if(Un(n)){let e=n.producers;for(;e!==void 0;)e=qs(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function lu(n,e){let t=n.consumersTail,i=Un(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)lu(r.producer,r)}function qs(n){let e=n.producer,t=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!Un(e)){let o=e.producers;for(;o!==void 0;)o=qs(o)}return t}function Un(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Or(n){sm?.(n)}function lm(n,e){let t=e.producersTail;if(t!==void 0){let i=e.producers;do{if(i===n)return!0;if(i===t)break;i=i.nextProducer}while(i!==void 0)}return!1}function Lr(n,e){return Object.is(n,e)}function xi(n,e){let t=Object.create(cm);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(Fr(t),Bn(t),t.value===Mi)throw t.error;return t.value};return i[we]=t,Or(t),i}var Nr=Symbol("UNSET"),Rr=Symbol("COMPUTING"),Mi=Symbol("ERRORED"),cm=P(R({},nn),{value:Nr,dirty:!0,error:null,equal:Lr,kind:"computed",producerMustRecompute(n){return n.value===Nr||n.value===Rr},producerRecomputeValue(n){if(n.value===Rr)throw new Error("");let e=n.value;n.value=Rr;let t=rn(n),i,r=!1;try{i=n.computation(),V(null),r=e!==Nr&&e!==Mi&&i!==Mi&&n.equal(e,i)}catch(o){i=Mi,n.error=o}finally{jn(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function um(){throw new Error}var cu=um;function uu(n){cu(n)}function Ws(n){cu=n}var dm=null;function Qs(n,e){let t=Object.create(Vr);t.value=n,e!==void 0&&(t.equal=e);let i=()=>du(t);return i[we]=t,Or(t),[i,s=>$n(t,s),s=>Ks(t,s)]}function du(n){return Bn(n),n.value}function $n(n,e){zs()||uu(n),n.equal(n.value,e)||(n.value=e,fm(n))}function Ks(n,e){zs()||uu(n),$n(n,e(n.value))}var Vr=P(R({},nn),{equal:Lr,value:void 0,kind:"signal"});function fm(n){n.version++,ou(),Gs(n),dm?.(n)}function Ve(n){return typeof n=="function"}function Br(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var jr=Br(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ni(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ne=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Ve(i))try{i()}catch(o){e=o instanceof jr?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{fu(o)}catch(s){e=e??[],s instanceof jr?e=[...e,...s.errors]:e.push(s)}}if(e)throw new jr(e)}}add(e){var t;if(e&&e!==this)if(this.closed)fu(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ni(t,e)}remove(e){let{_finalizers:t}=this;t&&Ni(t,e),e instanceof n&&e._removeParent(this)}};Ne.EMPTY=(()=>{let n=new Ne;return n.closed=!0,n})();var Ys=Ne.EMPTY;function Hr(n){return n instanceof Ne||n&&"closed"in n&&Ve(n.remove)&&Ve(n.add)&&Ve(n.unsubscribe)}function fu(n){Ve(n)?n():n.unsubscribe()}var st={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gn={setTimeout(n,e,...t){let{delegate:i}=Gn;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Gn;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function pu(n){Gn.setTimeout(()=>{let{onUnhandledError:e}=st;if(e)e(n);else throw n})}function Zs(){}var hu=Js("C",void 0,void 0);function mu(n){return Js("E",void 0,n)}function gu(n){return Js("N",n,void 0)}function Js(n,e,t){return{kind:n,value:e,error:t}}var sn=null;function zn(n){if(st.useDeprecatedSynchronousErrorHandling){let e=!sn;if(e&&(sn={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=sn;if(sn=null,t)throw i}}else n()}function yu(n){st.useDeprecatedSynchronousErrorHandling&&sn&&(sn.errorThrown=!0,sn.error=n)}var an=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hr(e)&&e.add(this)):this.destination=mm}static create(e,t,i){return new qn(e,t,i)}next(e){this.isStopped?ea(gu(e),this):this._next(e)}error(e){this.isStopped?ea(mu(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ea(hu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pm=Function.prototype.bind;function Xs(n,e){return pm.call(n,e)}var ta=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Ur(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Ur(i)}else Ur(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ur(t)}}},qn=class extends an{constructor(e,t,i){super();let r;if(Ve(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&st.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Xs(e.next,o),error:e.error&&Xs(e.error,o),complete:e.complete&&Xs(e.complete,o)}):r=e}this.destination=new ta(r)}};function Ur(n){st.useDeprecatedSynchronousErrorHandling?yu(n):pu(n)}function hm(n){throw n}function ea(n,e){let{onStoppedNotification:t}=st;t&&Gn.setTimeout(()=>t(n,e))}var mm={closed:!0,next:Zs,error:hm,complete:Zs};var vu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Eu(n){return n}function _u(n){return n.length===0?Eu:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var Wn=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=ym(t)?t:new qn(t,i,r);return zn(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Cu(i),new i((r,o)=>{let s=new qn({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[vu](){return this}pipe(...t){return _u(t)(this)}toPromise(t){return t=Cu(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Cu(n){var e;return(e=n??st.Promise)!==null&&e!==void 0?e:Promise}function gm(n){return n&&Ve(n.next)&&Ve(n.error)&&Ve(n.complete)}function ym(n){return n&&n instanceof an||gm(n)&&Hr(n)}function vm(n){return Ve(n?.lift)}function Du(n){return e=>{if(vm(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function bu(n,e,t,i,r){return new na(n,e,t,i,r)}var na=class extends an{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var wu=Br(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ut=(()=>{class n extends Wn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new $r(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new wu}next(t){zn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){zn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){zn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Ys:(this.currentObservers=null,o.push(t),new Ne(()=>{this.currentObservers=null,Ni(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new Wn;return t.source=this,t}}return n.create=(e,t)=>new $r(e,t),n})(),$r=class extends Ut{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Ys}};var Ri=class extends Ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};function ia(n,e){return Du((t,i)=>{let r=0;t.subscribe(bu(i,o=>{i.next(n.call(e,o,r++))}))})}var Iu=P(R({},nn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Su(n){if(n.dirty=!1,n.version>0&&!Hn(n))return;n.version++;let e=rn(n);try{n.cleanup(),n.fn()}finally{jn(n,e)}}var Qr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",T=class extends Error{code;constructor(e,t){super(Oi(e,t)),this.code=e}};function Em(n){return`NG0${Math.abs(n)}`}function Oi(n,e){return`${Em(n)}${e?": "+e:""}`}function ee(n){for(let e in n)if(n[e]===ee)return e;throw Error("")}function $t(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map($t).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function Kr(n,e){return n?e?`${n} ${e}`:n:e||""}var _m=ee({__forward_ref__:ee});function Yr(n){return n.__forward_ref__=Yr,n.toString=function(){return $t(this())},n}function ze(n){return Mu(n)?n():n}function Mu(n){return typeof n=="function"&&n.hasOwnProperty(_m)&&n.__forward_ref__===Yr}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Yn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zr(n){return Cm(n,Jr)}function Cm(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Dm(n){let e=n?.[Jr]??null;return e||null}function oa(n){return n&&n.hasOwnProperty(zr)?n[zr]:null}var Jr=ee({\u0275prov:ee}),zr=ee({\u0275inj:ee}),Y=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=X({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ma(n){return n&&!!n.\u0275providers}var ga=ee({\u0275cmp:ee}),ya=ee({\u0275dir:ee}),va=ee({\u0275pipe:ee});var sa=ee({\u0275fac:ee}),dn=ee({__NG_ELEMENT_ID__:ee}),Tu=ee({__NG_ENV_ID__:ee});function zt(n){return typeof n=="string"?n:n==null?"":String(n)}function xu(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():zt(n)}var Nu=ee({ngErrorCode:ee}),bm=ee({ngErrorMessage:ee}),wm=ee({ngTokenPath:ee});function Ea(n,e){return Ru("",-200,e)}function Xr(n,e){throw new T(-201,!1)}function Ru(n,e,t){let i=new T(e,n);return i[Nu]=e,i[bm]=n,t&&(i[wm]=t),i}function Im(n){return n[Nu]}var aa;function ku(){return aa}function Ge(n){let e=aa;return aa=n,e}function _a(n,e,t){let i=Zr(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(e!==void 0)return e;Xr(n,"Injector")}var Sm={},ln=Sm,Tm="__NG_DI_FLAG__",la=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=cn(t)||0;try{return this.injector.get(e,i&8?null:ln,i)}catch(r){if(Vn(r))return r;throw r}}};function Am(n,e=0){let t=Mr();if(t===void 0)throw new T(-203,!1);if(t===null)return _a(n,void 0,e);{let i=Mm(e),r=t.retrieve(n,i);if(Vn(r)){if(i.optional)return null;throw r}return r}}function J(n,e=0){return(ku()||Am)(ze(n),e)}function F(n,e){return J(n,cn(e))}function cn(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Mm(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function ca(n){let e=[];for(let t=0;t<n.length;t++){let i=ze(n[t]);if(Array.isArray(i)){if(i.length===0)throw new T(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=xm(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(J(r,o))}else e.push(J(i))}return e}function xm(n){return n[Tm]}function Kn(n,e){let t=n.hasOwnProperty(sa);return t?n[sa]:null}function Pu(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function Fu(n){return n.flat(Number.POSITIVE_INFINITY)}function eo(n,e){n.forEach(t=>Array.isArray(t)?eo(t,e):e(t))}function Ca(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Li(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ou(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function to(n,e,t){let i=Zn(n,e);return i>=0?n[i|1]=t:(i=~i,Ou(n,i,e,t)),i}function no(n,e){let t=Zn(n,e);if(t>=0)return n[t|1]}function Zn(n,e){return Nm(n,e,1)}function Nm(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var fn={},Re=[],pn=new Y(""),Da=new Y("",-1),ba=new Y(""),Pi=class{get(e,t=ln){if(t===ln){let r=Ru("",-201);throw r.name="\u0275NotFound",r}return t}};function hn(n){return n[ga]||null}function wa(n){return n[ya]||null}function Lu(n){return n[va]||null}function Vi(n){return{\u0275providers:n}}function Vu(...n){return{\u0275providers:Ia(!0,n),\u0275fromNgModule:!0}}function Ia(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return eo(e,s=>{let a=s;qr(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Bu(r,o),t}function Bu(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Sa(r,o=>{e(o,i)})}}function qr(n,e,t,i){if(n=ze(n),!n)return!1;let r=null,o=oa(n),s=!o&&hn(n);if(!o&&!s){let l=n.ngModule;if(o=oa(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)qr(c,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{eo(o.imports,d=>{qr(d,e,t,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&Bu(c,e)}if(!a){let c=Kn(r)||(()=>new r);e({provide:r,useFactory:c,deps:Re},r),e({provide:ba,useValue:r,multi:!0},r),e({provide:pn,useValue:()=>J(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=n;Sa(l,d=>{e(d,c)})}}else return!1;return r!==n&&n.providers!==void 0}function Sa(n,e){for(let t of n)ma(t)&&(t=t.\u0275providers),Array.isArray(t)?Sa(t,e):e(t)}var Rm=ee({provide:String,useValue:ee});function ju(n){return n!==null&&typeof n=="object"&&Rm in n}function km(n){return!!(n&&n.useExisting)}function Pm(n){return!!(n&&n.useFactory)}function Wr(n){return typeof n=="function"}var Bi=new Y(""),Gr={},Au={},ra;function ji(){return ra===void 0&&(ra=new Pi),ra}var Je=class{},un=class extends Je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,da(e,s=>this.processProvider(s)),this.records.set(Da,Qn(void 0,this)),r.has("environment")&&this.records.set(Je,Qn(void 0,this));let o=this.records.get(Bi);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ba,Re,{self:!0}))}retrieve(e,t){let i=cn(t)||0;try{return this.get(e,ln,i)}catch(r){if(Vn(r))return r;throw r}}destroy(){ki(this),this._destroyed=!0;let e=V(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),V(e)}}onDestroy(e){return ki(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ki(this);let t=yt(this),i=Ge(void 0),r;try{return e()}finally{yt(t),Ge(i)}}get(e,t=ln,i){if(ki(this),e.hasOwnProperty(Tu))return e[Tu](this);let r=cn(i),o,s=yt(this),a=Ge(void 0);try{if(!(r&4)){let c=this.records.get(e);if(c===void 0){let d=Bm(e)&&Zr(e);d&&this.injectableDefInScope(d)?c=Qn(ua(e),Gr):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let l=r&2?ji():this.parent;return t=r&8&&t===ln?null:t,l.get(e,t)}catch(l){let c=Im(l);throw c===-200||c===-201?new T(c,null):l}finally{Ge(a),yt(s)}}resolveInjectorInitializers(){let e=V(null),t=yt(this),i=Ge(void 0),r;try{let o=this.get(pn,Re,{self:!0});for(let s of o)s()}finally{yt(t),Ge(i),V(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push($t(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ze(e);let t=Wr(e)?e:ze(e&&e.provide),i=Om(e);if(!Wr(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Qn(void 0,Gr,!0),r.factory=()=>ca(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=V(null);try{if(t.value===Au)throw Ea($t(e));return t.value===Gr&&(t.value=Au,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&Vm(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{V(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ze(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ua(n){let e=Zr(n),t=e!==null?e.factory:Kn(n);if(t!==null)return t;if(n instanceof Y)throw new T(204,!1);if(n instanceof Function)return Fm(n);throw new T(204,!1)}function Fm(n){if(n.length>0)throw new T(204,!1);let t=Dm(n);return t!==null?()=>t.factory(n):()=>new n}function Om(n){if(ju(n))return Qn(void 0,n.useValue);{let e=Hu(n);return Qn(e,Gr)}}function Hu(n,e,t){let i;if(Wr(n)){let r=ze(n);return Kn(r)||ua(r)}else if(ju(n))i=()=>ze(n.useValue);else if(Pm(n))i=()=>n.useFactory(...ca(n.deps||[]));else if(km(n))i=(r,o)=>J(ze(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=ze(n&&(n.useClass||n.provide));if(Lm(n))i=()=>new r(...ca(n.deps));else return Kn(r)||ua(r)}return i}function ki(n){if(n.destroyed)throw new T(205,!1)}function Qn(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Lm(n){return!!n.deps}function Vm(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Bm(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function da(n,e){for(let t of n)Array.isArray(t)?da(t,e):t&&ma(t)?da(t.\u0275providers,e):e(t)}function io(n,e){let t;n instanceof un?(ki(n),t=n):t=new la(n);let i,r=yt(t),o=Ge(void 0);try{return e()}finally{yt(r),Ge(o)}}function Uu(){return ku()!==void 0||Mr()!=null}var at=0,L=1,B=2,ye=3,et=4,tt=5,Jn=6,Xn=7,he=8,Nt=9,Et=10,ce=11,ei=12,Ta=13,mn=14,nt=15,qt=16,gn=17,_t=18,Hi=19,Aa=20,Mt=21,ro=22,Rt=23,qe=24,oo=25,yn=26,Ie=27,$u=1,Ma=6,Wt=7,Ui=8,vn=9,de=10;function kt(n){return Array.isArray(n)&&typeof n[$u]=="object"}function lt(n){return Array.isArray(n)&&n[$u]===!0}function xa(n){return(n.flags&4)!==0}function En(n){return n.componentOffset>-1}function so(n){return(n.flags&1)===1}function _n(n){return!!n.template}function ti(n){return(n[B]&512)!==0}function Cn(n){return(n[B]&256)===256}var Na="svg",Gu="math";function it(n){for(;Array.isArray(n);)n=n[at];return n}function Ra(n,e){return it(e[n])}function ct(n,e){return it(e[n.index])}function $i(n,e){return n.data[e]}function Ct(n,e){let t=e[n];return kt(t)?t:t[at]}function ao(n){return(n[B]&128)===128}function zu(n){return lt(n[ye])}function Dt(n,e){return e==null?null:n[e]}function ka(n){n[gn]=0}function Pa(n){n[B]&1024||(n[B]|=1024,ao(n)&&Dn(n))}function qu(n,e){for(;n>0;)e=e[mn],n--;return e}function Gi(n){return!!(n[B]&9216||n[qe]?.dirty)}function lo(n){n[Et].changeDetectionScheduler?.notify(8),n[B]&64&&(n[B]|=1024),Gi(n)&&Dn(n)}function Dn(n){n[Et].changeDetectionScheduler?.notify(0);let e=Gt(n);for(;e!==null&&!(e[B]&8192||(e[B]|=8192,!ao(e)));)e=Gt(e)}function Fa(n,e){if(Cn(n))throw new T(911,!1);n[Mt]===null&&(n[Mt]=[]),n[Mt].push(e)}function Wu(n,e){if(n[Mt]===null)return;let t=n[Mt].indexOf(e);t!==-1&&n[Mt].splice(t,1)}function Gt(n){let e=n[ye];return lt(e)?e[ye]:e}function Oa(n){return n[Xn]??=[]}function La(n){return n.cleanup??=[]}function Qu(n,e,t,i){let r=Oa(e);r.push(t),n.firstCreatePass&&La(n).push(i,r.length-1)}var q={lFrame:ud(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var fa=!1;function Ku(){return q.lFrame.elementDepthCount}function Yu(){q.lFrame.elementDepthCount++}function Va(){q.lFrame.elementDepthCount--}function Zu(){return q.bindingsEnabled}function Ju(){return q.skipHydrationRootTNode!==null}function Ba(n){return q.skipHydrationRootTNode===n}function ja(){q.skipHydrationRootTNode=null}function K(){return q.lFrame.lView}function ke(){return q.lFrame.tView}function D(n){return q.lFrame.contextLView=n,n[he]}function b(n){return q.lFrame.contextLView=null,n}function We(){let n=Ha();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ha(){return q.lFrame.currentTNode}function Xu(){let n=q.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ni(n,e){let t=q.lFrame;t.currentTNode=n,t.isParent=e}function Ua(){return q.lFrame.isParent}function ed(){q.lFrame.isParent=!1}function $a(){return fa}function ii(n){let e=fa;return fa=n,e}function td(){let n=q.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function nd(){return q.lFrame.bindingIndex}function id(n){return q.lFrame.bindingIndex=n}function Qt(){return q.lFrame.bindingIndex++}function co(n){let e=q.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function rd(){return q.lFrame.inI18n}function od(n,e){let t=q.lFrame;t.bindingIndex=t.bindingRootIndex=n,uo(e)}function sd(){return q.lFrame.currentDirectiveIndex}function uo(n){q.lFrame.currentDirectiveIndex=n}function ad(n){let e=q.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function ld(){return q.lFrame.currentQueryIndex}function fo(n){q.lFrame.currentQueryIndex=n}function jm(n){let e=n[L];return e.type===2?e.declTNode:e.type===1?n[tt]:null}function Ga(n,e,t){if(t&4){let r=e,o=n;for(;r=r.parent,r===null&&!(t&1);)if(r=jm(o),r===null||(o=o[mn],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=q.lFrame=cd();return i.currentTNode=e,i.lView=n,!0}function po(n){let e=cd(),t=n[L];q.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function cd(){let n=q.lFrame,e=n===null?null:n.child;return e===null?ud(n):e}function ud(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function dd(){let n=q.lFrame;return q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var za=dd;function ho(){let n=dd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function fd(n){return(q.lFrame.contextLView=qu(n,q.lFrame.contextLView))[he]}function bt(){return q.lFrame.selectedIndex}function Kt(n){q.lFrame.selectedIndex=n}function mo(){let n=q.lFrame;return $i(n.tView,n.selectedIndex)}function bn(){q.lFrame.currentNamespace=Na}function pd(){return q.lFrame.currentNamespace}var hd=!0;function go(){return hd}function yo(n){hd=n}function pa(n,e=null,t=null,i){let r=md(n,e,t,i);return r.resolveInjectorInitializers(),r}function md(n,e=null,t=null,i,r=new Set){let o=[t||Re,Vu(n)];return i=i||(typeof n=="object"?void 0:$t(n)),new un(o,e||ji(),i||null,r)}var xt=class n{static THROW_IF_NOT_FOUND=ln;static NULL=new Pi;static create(e,t){if(Array.isArray(e))return pa({name:""},t,e,"");{let i=e.name??"";return pa({name:i},e.parent,e.providers,i)}}static \u0275prov=X({token:n,providedIn:"any",factory:()=>J(Da)});static __NG_ELEMENT_ID__=-1},Qe=new Y(""),wn=(()=>{class n{static __NG_ELEMENT_ID__=Hm;static __NG_ENV_ID__=t=>t}return n})(),Fi=class extends wn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Cn(this._lView)}onDestroy(e){let t=this._lView;return Fa(t,e),()=>Wu(t,e)}};function Hm(){return new Fi(K())}var Xe=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Yt=new Y("",{providedIn:"root",factory:()=>{let n=F(Je),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Xe),e.handleError(t))}}}),gd={provide:pn,useValue:()=>void F(Xe),multi:!0};function I(n,e){let[t,i,r]=Qs(n,e?.equal),o=t,s=o[we];return o.set=i,o.update=r,o.asReadonly=qa.bind(o),o}function qa(){let n=this[we];if(n.readonlyFn===void 0){let e=()=>this();e[we]=n,n.readonlyFn=e}return n.readonlyFn}var zi=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=Um}return n})();function Um(){return new zi(K(),We())}var vt=class{},qi=new Y("",{providedIn:"root",factory:()=>!1});var Wa=new Y(""),vo=new Y(""),In=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ri(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Wn(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})();function Sn(...n){}var Wi=(()=>{class n{static \u0275prov=X({token:n,providedIn:"root",factory:()=>new ha})}return n})(),ha=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,i]of this.queues)t===null?e||=this.flushQueue(i):e||=t.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}};function xl(n){return{toString:n}.toString()}function Xm(n){return typeof n=="function"}var Io=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function Wd(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function eg(n){return n.type.prototype.ngOnChanges&&(n.setInput=ng),tg}function tg(){let n=Kd(this),e=n?.current;if(e){let t=n.previous;if(t===fn)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function ng(n,e,t,i,r){let o=this.declaredInputs[i],s=Kd(n)||ig(n,{previous:fn,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Io(c&&c.currentValue,t,l===fn),Wd(n,e,r,t)}var Qd="__ngSimpleChanges__";function Kd(n){return n[Qd]||null}function ig(n,e){return n[Qd]=e}var yd=[];var ne=function(n,e=null,t){for(let i=0;i<yd.length;i++){let r=yd[i];r(n,e,t)}};function rg(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=eg(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function og(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function _o(n,e,t){Yd(n,e,3,t)}function Co(n,e,t,i){(n[B]&3)===t&&Yd(n,e,t,i)}function Qa(n,e){let t=n[B];(t&3)===e&&(t&=16383,t+=1,n[B]=t)}function Yd(n,e,t,i){let r=i!==void 0?n[gn]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[gn]+=65536),(a<o||o==-1)&&(sg(n,t,e,l),n[gn]=(n[gn]&4294901760)+l+2),l++}function vd(n,e){ne(4,n,e);let t=V(null);try{e.call(n)}finally{V(t),ne(5,n,e)}}function sg(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[B]>>14<n[gn]>>16&&(n[B]&3)===e&&(n[B]+=16384,vd(a,o)):vd(a,o)}var oi=-1,Yi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}};function ag(n){return(n.flags&8)!==0}function lg(n){return(n.flags&16)!==0}function cg(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];dg(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function ug(n){return n===3||n===4||n===6}function dg(n){return n.charCodeAt(0)===64}function jo(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?Ed(n,t,r,null,e[++i]):Ed(n,t,r,null,null))}}return n}function Ed(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function Zd(n){return n!==oi}function So(n){return n&32767}function fg(n){return n>>16}function To(n,e){let t=fg(n),i=e;for(;t>0;)i=i[mn],t--;return i}var tl=!0;function _d(n){let e=tl;return tl=n,e}var pg=256,Jd=pg-1,Xd=5,hg=0,wt={};function mg(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(dn)&&(i=t[dn]),i==null&&(i=t[dn]=hg++);let r=i&Jd,o=1<<r;e.data[n+(r>>Xd)]|=o}function ef(n,e){let t=tf(n,e);if(t!==-1)return t;let i=e[L];i.firstCreatePass&&(n.injectorIndex=e.length,Ka(i.data,n),Ka(e,null),Ka(i.blueprint,null));let r=Nl(n,e),o=n.injectorIndex;if(Zd(r)){let s=So(r),a=To(r,e),l=a[L].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function Ka(n,e){n.push(0,0,0,0,0,0,0,0,e)}function tf(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Nl(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=af(r),i===null)return oi;if(t++,r=r[mn],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return oi}function gg(n,e,t){mg(n,e,t)}function nf(n,e,t){if(t&8||n!==void 0)return n;Xr(e,"NodeInjector")}function rf(n,e,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=n[Nt],o=Ge(void 0);try{return r?r.get(e,i,t&8):_a(e,i,t&8)}finally{Ge(o)}}return nf(i,e,t)}function of(n,e,t,i=0,r){if(n!==null){if(e[B]&2048&&!(i&2)){let s=_g(n,e,t,i,wt);if(s!==wt)return s}let o=sf(n,e,t,i,wt);if(o!==wt)return o}return rf(e,t,i,r)}function sf(n,e,t,i,r){let o=vg(t);if(typeof o=="function"){if(!Ga(e,n,i))return i&1?nf(r,t,i):rf(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&8))Xr(t);else return s}finally{za()}}else if(typeof o=="number"){let s=null,a=tf(n,e),l=oi,c=i&1?e[nt][tt]:null;for((a===-1||i&4)&&(l=a===-1?Nl(n,e):e[a+8],l===oi||!Dd(i,!1)?a=-1:(s=e[L],a=So(l),e=To(l,e)));a!==-1;){let d=e[L];if(Cd(o,a,d.data)){let p=yg(a,e,t,s,i,c);if(p!==wt)return p}l=e[a+8],l!==oi&&Dd(i,e[L].data[a+8]===c)&&Cd(o,a,e)?(s=d,a=So(l),e=To(l,e)):a=-1}}return r}function yg(n,e,t,i,r,o){let s=e[L],a=s.data[n+8],l=i==null?En(a)&&tl:i!=s&&(a.type&3)!==0,c=r&1&&o===a,d=Do(a,s,t,l,c);return d!==null?Ao(e,s,d,a,r):wt}function Do(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,d=o>>20,p=i?a:a+d,C=r?a+d:c;for(let _=p;_<C;_++){let w=s[_];if(_<l&&t===w||_>=l&&w.type===t)return _}if(r){let _=s[l];if(_&&_n(_)&&_.type===t)return l}return null}function Ao(n,e,t,i,r){let o=n[t],s=e.data;if(o instanceof Yi){let a=o;if(a.resolving){let _=xu(s[t]);throw Ea(_)}let l=_d(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],d,p=a.injectImpl?Ge(a.injectImpl):null,C=Ga(n,i,0);try{o=n[t]=a.factory(void 0,r,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&rg(t,s[t],e)}finally{p!==null&&Ge(p),_d(l),a.resolving=!1,za()}}return o}function vg(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(dn)?n[dn]:void 0;return typeof e=="number"?e>=0?e&Jd:Eg:e}function Cd(n,e,t){let i=1<<n;return!!(t[e+(n>>Xd)]&i)}function Dd(n,e){return!(n&2)&&!(n&1&&e)}var Tn=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return of(this._tNode,this._lView,e,cn(i),t)}};function Eg(){return new Tn(We(),K())}function _g(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[B]&2048&&!ti(s);){let a=sf(o,s,t,i|2,wt);if(a!==wt)return a;let l=o.parent;if(!l){let c=s[Aa];if(c){let d=c.get(t,wt,i);if(d!==wt)return d}l=af(s),s=s[mn]}o=l}return r}function af(n){let e=n[L],t=e.type;return t===2?e.declTNode:t===1?n[tt]:null}function Cg(){return ui(We(),K())}function ui(n,e){return new di(ct(n,e))}var di=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Cg}return n})();function Dg(n){return n instanceof di?n.nativeElement:n}function bg(){return this._results[Symbol.iterator]()}var Mo=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ut}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=Fu(e);(this._changesDetected=!Pu(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=bg};function lf(n){return(n.flags&128)===128}var Rl=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Rl||{}),cf=new Map,wg=0;function Ig(){return wg++}function Sg(n){cf.set(n[Hi],n)}function nl(n){cf.delete(n[Hi])}var bd="__ngContext__";function si(n,e){kt(e)?(n[bd]=e[Hi],Sg(e)):n[bd]=e}function uf(n){return ff(n[ei])}function df(n){return ff(n[et])}function ff(n){for(;n!==null&&!lt(n);)n=n[et];return n}var il;function kl(n){il=n}function pf(){if(il!==void 0)return il;if(typeof document<"u")return document;throw new T(210,!1)}var Ho=new Y("",{providedIn:"root",factory:()=>Tg}),Tg="ng",Uo=new Y(""),rr=new Y("",{providedIn:"platform",factory:()=>"unknown"});var $o=new Y(""),Go=new Y("",{providedIn:"root",factory:()=>pf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ag="h",Mg="b";var hf="r";var mf="di";var gf=!1,yf=new Y("",{providedIn:"root",factory:()=>gf});var xg=(n,e,t,i)=>{};function Ng(n,e,t,i){xg(n,e,t,i)}function Pl(n){return(n.flags&32)===32}var Rg=()=>null;function vf(n,e,t=!1){return Rg(n,e,t)}function Ef(n,e){let t=n.contentQueries;if(t!==null){let i=V(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];fo(o),a.contentQueries(2,e[s],s)}}}finally{V(i)}}}function rl(n,e,t){fo(0);let i=V(null);try{e(n,t)}finally{V(i)}}function _f(n,e,t){if(xa(e)){let i=V(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{V(i)}}}var Ft=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Ft||{});var xo=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qr})`}};function zo(n){return n instanceof xo?n.changingThisBreaksApplicationSecurity:n}function Cf(n,e){let t=Df(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Qr})`)}return t===e}function Df(n){return n instanceof xo&&n.getTypeName()||null}var kg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bf(n){return n=String(n),n.match(kg)?n:"unsafe:"+n}var Fl=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Fl||{});function fe(n){let e=Pg();return e?e.sanitize(Fl.URL,n)||"":Cf(n,"URL")?zo(n):bf(zt(n))}function Pg(){let n=K();return n&&n[Et].sanitizer}function fi(n){return n.ownerDocument.defaultView}function Fg(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var wf="ng-template";function Og(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&Fg(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Ol(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ol(n){return n.type===4&&n.value!==wf}function Lg(n,e,t){let i=n.type===4&&!t?wf:n.value;return e===i}function Vg(n,e,t){let i=4,r=n.attrs,o=r!==null?Hg(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!ut(i)&&!ut(l))return!1;if(s&&ut(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Lg(n,l,t)||l===""&&e.length===1){if(ut(i))return!1;s=!0}}else if(i&8){if(r===null||!Og(n,r,l,t)){if(ut(i))return!1;s=!0}}else{let c=e[++a],d=Bg(l,r,Ol(n),t);if(d===-1){if(ut(i))return!1;s=!0;continue}if(c!==""){let p;if(d>o?p="":p=r[d+1].toLowerCase(),i&2&&c!==p){if(ut(i))return!1;s=!0}}}}return ut(i)||s}function ut(n){return(n&1)===0}function Bg(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return Ug(e,n)}function jg(n,e,t=!1){for(let i=0;i<e.length;i++)if(Vg(n,e[i],t))return!0;return!1}function Hg(n){for(let e=0;e<n.length;e++){let t=n[e];if(ug(t))return e}return n.length}function Ug(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function wd(n,e){return n?":not("+e.trim()+")":e}function $g(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!ut(s)&&(e+=wd(o,r),r=""),i=s,o=o||!ut(i);t++}return r!==""&&(e+=wd(o,r)),e}function Gg(n){return n.map($g).join(",")}function zg(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!ut(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var Pe={};function qg(n,e){return n.createText(e)}function Wg(n,e,t){n.setValue(e,t)}function If(n,e,t){return n.createElement(e,t)}function No(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Sf(n,e,t){n.appendChild(e,t)}function Id(n,e,t,i,r){i!==null?No(n,e,t,i,r):Sf(n,e,t)}function Tf(n,e,t,i){n.removeChild(null,e,t,i)}function Qg(n,e,t){n.setAttribute(e,"style",t)}function Kg(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Af(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&cg(n,e,i),r!==null&&Kg(n,e,r),o!==null&&Qg(n,e,o)}function Ll(n,e,t,i,r,o,s,a,l,c,d){let p=Ie+i,C=p+r,_=Yg(p,C),w=typeof c=="function"?c():c;return _[L]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:d}}function Yg(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Pe);return t}function Zg(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ll(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Vl(n,e,t,i,r,o,s,a,l,c,d){let p=e.blueprint.slice();return p[at]=r,p[B]=i|4|128|8|64|1024,(c!==null||n&&n[B]&2048)&&(p[B]|=2048),ka(p),p[ye]=p[mn]=n,p[he]=t,p[Et]=s||n&&n[Et],p[ce]=a||n&&n[ce],p[Nt]=l||n&&n[Nt]||null,p[tt]=o,p[Hi]=Ig(),p[Jn]=d,p[Aa]=c,p[nt]=e.type==2?n[nt]:p,p}function Jg(n,e,t){let i=ct(e,n),r=Zg(t),o=n[Et].rendererFactory,s=Bl(n,Vl(n,r,null,Mf(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function Mf(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function xf(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Bl(n,e){return n[ei]?n[Ta][et]=e:n[ei]=e,n[Ta]=e,e}function u(n=1){Nf(ke(),K(),bt()+n,!1)}function Nf(n,e,t,i){if(!i)if((e[B]&3)===3){let o=n.preOrderCheckHooks;o!==null&&_o(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Co(e,o,0,t)}Kt(t)}var qo=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(qo||{});function ol(n,e,t,i){let r=V(null);try{let[o,s,a]=n.inputs[t],l=null;(s&qo.SignalBased)!==0&&(l=e[o][we]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,l,i,t,o):Wd(e,l,o,i)}finally{V(r)}}var Ot=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ot||{}),Xg;function jl(n,e){return Xg(n,e)}var An=new Set,Hl=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Hl||{}),or=new Y(""),Sd=new Set;function Vt(n){Sd.has(n)||(Sd.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Rf=!1,sl=class extends Ut{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Uu()&&(this.destroyRef=F(wn,{optional:!0})??void 0,this.pendingTasks=F(In,{optional:!0})??void 0)}emit(e){let t=V(null);try{super.next(e)}finally{V(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},Pt=sl;function kf(n){let e,t;function i(){n=Sn;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function Td(n){return queueMicrotask(()=>n()),()=>{n=Sn}}var Ul="isAngularZone",Ro=Ul+"_ID",ey=0,me=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Pt(!1);onMicrotaskEmpty=new Pt(!1);onStable=new Pt(!1);onError=new Pt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Rf}=e;if(typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,iy(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ul)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new T(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,ty,Sn,Sn);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},ty={};function $l(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ny(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){kf(()=>{n.callbackScheduled=!1,al(n),n.isCheckStableRunning=!0,$l(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),al(n)}function iy(n){let e=()=>{ny(n)},t=ey++;n._inner=n._inner.fork({name:"angular",properties:{[Ul]:!0,[Ro]:t,[Ro+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(ry(l))return i.invokeTask(o,s,a,l);try{return Ad(n),i.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Md(n)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return Ad(n),i.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!oy(l)&&e(),Md(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,al(n),$l(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function al(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Ad(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Md(n){n._nesting--,$l(n)}var Zi=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Pt;onMicrotaskEmpty=new Pt;onStable=new Pt;onError=new Pt;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function ry(n){return Pf(n,"__ignore_ng_zone__")}function oy(n){return Pf(n,"__scheduler_tick__")}function Pf(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ff=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})();var Of=new Y("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Lf(n,e,t){let i=n.get(Of);if(Array.isArray(e))for(let r of e)i.queue.add(r),t?.detachedLeaveAnimationFns?.push(r);else i.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);i.scheduler&&i.scheduler(n)}function sy(n,e){let t=n.get(Of);if(e.detachedLeaveAnimationFns){for(let i of e.detachedLeaveAnimationFns)t.queue.delete(i);e.detachedLeaveAnimationFns=void 0}}function ay(n,e){for(let[t,i]of e)Lf(n,i.animateFns)}function xd(n,e,t,i){let r=n?.[yn]?.enter;e!==null&&r&&r.has(t.index)&&ay(i,r)}function ri(n,e,t,i,r,o,s,a){if(r!=null){let l,c=!1;lt(r)?l=r:kt(r)&&(c=!0,r=r[at]);let d=it(r);n===0&&i!==null?(xd(a,i,o,t),s==null?Sf(e,i,d):No(e,i,d,s||null,!0)):n===1&&i!==null?(xd(a,i,o,t),No(e,i,d,s||null,!0)):n===2?Nd(a,o,t,p=>{Tf(e,d,c,p)}):n===3&&Nd(a,o,t,()=>{e.destroyNode(d)}),l!=null&&_y(e,n,t,l,o,i,s)}}function ly(n,e){Vf(n,e),e[at]=null,e[tt]=null}function cy(n,e,t,i,r,o){i[at]=r,i[tt]=e,Qo(n,i,t,1,r,o)}function Vf(n,e){e[Et].changeDetectionScheduler?.notify(9),Qo(n,e,e[ce],2,null,null)}function uy(n){let e=n[ei];if(!e)return Ya(n[L],n);for(;e;){let t=null;if(kt(e))t=e[ei];else{let i=e[de];i&&(t=i)}if(!t){for(;e&&!e[et]&&e!==n;)kt(e)&&Ya(e[L],e),e=e[ye];e===null&&(e=n),kt(e)&&Ya(e[L],e),t=e&&e[et]}e=t}}function Gl(n,e){let t=n[vn],i=t.indexOf(e);t.splice(i,1)}function Wo(n,e){if(Cn(e))return;let t=e[ce];t.destroyNode&&Qo(n,e,t,3,null,null),uy(e)}function Ya(n,e){if(Cn(e))return;let t=V(null);try{e[B]&=-129,e[B]|=256,e[qe]&&on(e[qe]),py(n,e),fy(n,e),e[L].type===1&&e[ce].destroy();let i=e[qt];if(i!==null&&lt(e[ye])){i!==e[ye]&&Gl(i,e);let r=e[_t];r!==null&&r.detachView(n)}nl(e)}finally{V(t)}}function Nd(n,e,t,i){let r=n?.[yn];if(r==null||r.leave==null||!r.leave.has(e.index))return i(!1);n&&An.add(n),Lf(t,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:d}=c();a.push(d)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),dy(n,i)}else n&&An.delete(n),i(!1)},r)}function dy(n,e){let t=n[yn]?.running;if(t){t.then(()=>{n[yn].running=void 0,An.delete(n),e(!0)});return}e(!1)}function fy(n,e){let t=n.cleanup,i=e[Xn];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[Xn]=null);let r=e[Mt];if(r!==null){e[Mt]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[Rt];if(o!==null){e[Rt]=null;for(let s of o)s.destroy()}}function py(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Yi)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];ne(4,a,l);try{l.call(a)}finally{ne(5,a,l)}}else{ne(4,r,o);try{o.call(r)}finally{ne(5,r,o)}}}}}function hy(n,e,t){return my(n,e.parent,t)}function my(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[at];if(En(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===Ft.None||r===Ft.Emulated)return null}return ct(i,t)}function gy(n,e,t){return vy(n,e,t)}function yy(n,e,t){return n.type&40?ct(n,t):null}var vy=yy,Rd;function zl(n,e,t,i){let r=hy(n,i,e),o=e[ce],s=i.parent||e[tt],a=gy(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Id(o,r,t[l],a,!1);else Id(o,r,t,a,!1);Rd!==void 0&&Rd(o,i,e,t,r)}function Qi(n,e){if(e!==null){let t=e.type;if(t&3)return ct(e,n);if(t&4)return ll(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Qi(n,i);{let r=n[e.index];return lt(r)?ll(-1,r):it(r)}}else{if(t&128)return Qi(n,e.next);if(t&32)return jl(e,n)()||it(n[e.index]);{let i=Bf(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Gt(n[nt]);return Qi(r,i)}else return Qi(n,e.next)}}}return null}function Bf(n,e){if(e!==null){let i=n[nt][tt],r=e.projection;return i.projection[r]}return null}function ll(n,e){let t=de+n+1;if(t<e.length){let i=e[t],r=i[L].firstChild;if(r!==null)return Qi(i,r)}return e[Wt]}function ql(n,e,t,i,r,o,s){for(;t!=null;){let a=i[Nt];if(t.type===128){t=t.next;continue}let l=i[t.index],c=t.type;if(s&&e===0&&(l&&si(it(l),i),t.flags|=2),!Pl(t))if(c&8)ql(n,e,t.child,i,r,o,!1),ri(e,n,a,r,l,t,o,i);else if(c&32){let d=jl(t,i),p;for(;p=d();)ri(e,n,a,r,p,t,o,i);ri(e,n,a,r,l,t,o,i)}else c&16?Ey(n,e,i,t,r,o):ri(e,n,a,r,l,t,o,i);t=s?t.projectionNext:t.next}}function Qo(n,e,t,i,r,o){ql(t,i,n.firstChild,e,r,o,!1)}function Ey(n,e,t,i,r,o){let s=t[nt],l=s[tt].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];ri(e,n,t[Nt],r,d,i,o,t)}else{let c=l,d=s[ye];lf(i)&&(c.flags|=128),ql(n,e,c,d,r,o,!0)}}function _y(n,e,t,i,r,o,s){let a=i[Wt],l=it(i);a!==l&&ri(e,n,t,o,a,r,s);for(let c=de;c<i.length;c++){let d=i[c];Qo(d[L],d,n,e,o,a)}}function Cy(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Ot.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ot.Important),n.setStyle(t,i,r,o))}}function jf(n,e,t,i,r){let o=bt(),s=i&2;try{Kt(-1),s&&e.length>Ie&&Nf(n,e,Ie,!1),ne(s?2:0,r,t),t(i,r)}finally{Kt(o),ne(s?3:1,r,t)}}function Hf(n,e,t){Ay(n,e,t),(t.flags&64)===64&&My(n,e,t)}function Wl(n,e,t=ct){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function Dy(n,e,t,i){let o=i.get(yf,gf)||t===Ft.ShadowDom,s=n.selectRootElement(e,o);return by(s),s}function by(n){wy(n)}var wy=()=>null;function Iy(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Sy(n,e,t,i,r,o){let s=e[L];if(Ql(n,s,e,t,i)){En(n)&&Ty(e,n.index);return}n.type&3&&(t=Iy(t)),Uf(n,e,t,i,r,o)}function Uf(n,e,t,i,r,o){if(n.type&3){let s=ct(n,e);i=o!=null?o(i,n.value||"",t):i,r.setProperty(s,t,i)}else n.type&12}function Ty(n,e){let t=Ct(e,n);t[B]&16||(t[B]|=64)}function Ay(n,e,t){let i=t.directiveStart,r=t.directiveEnd;En(t)&&Jg(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ef(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],l=Ao(e,n,s,t);if(si(l,e),o!==null&&Py(e,s-i,l,a,t,o),_n(a)){let c=Ct(t.index,e);c[he]=Ao(e,n,s,t)}}}function My(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=sd();try{Kt(o);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];uo(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&xy(l,c)}}finally{Kt(-1),uo(s)}}function xy(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Ny(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];jg(e,o.selectors,!1)&&(i??=[],_n(o)?i.unshift(o):i.push(o))}return i}function Ry(n,e,t,i,r,o){let s=ct(n,e);ky(e[ce],s,o,n.value,t,i,r)}function ky(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?zt(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function Py(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];ol(i,t,l,c)}}function $f(n,e,t,i,r){let o=Ie+t,s=e[L],a=r(s,e,n,i,t);e[o]=a,ni(n,!0);let l=n.type===2;return l?(Af(e[ce],a,n),(Ku()===0||so(n))&&si(a,e),Yu()):si(a,e),go()&&(!l||!Pl(n))&&zl(s,e,a,n),n}function Gf(n){let e=n;return Ua()?ed():(e=e.parent,ni(e,!1)),e}function Fy(n,e){let t=n[Nt];if(!t)return;let i;try{i=t.get(Yt,null)}catch{i=null}i?.(e)}function Ql(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],p=e.data[c];ol(p,t[c],d,r),a=!0}if(o)for(let l of o){let c=t[l],d=e.data[l];ol(d,c,i,r),a=!0}return a}function Oy(n,e){let t=Ct(e,n),i=t[L];Ly(i,t);let r=t[at];r!==null&&t[Jn]===null&&(t[Jn]=vf(r,t[Nt])),ne(18),Kl(i,t,t[he]),ne(19,t[he])}function Ly(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Kl(n,e,t){po(e);try{let i=n.viewQuery;i!==null&&rl(1,i,t);let r=n.template;r!==null&&jf(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[_t]?.finishViewCreation(n),n.staticContentQueries&&Ef(n,e),n.staticViewQueries&&rl(2,n.viewQuery,t);let o=n.components;o!==null&&Vy(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[B]&=-5,ho()}}function Vy(n,e){for(let t=0;t<e.length;t++)Oy(n,e[t])}function Ko(n,e,t,i){let r=V(null);try{let o=e.tView,a=n[B]&4096?4096:16,l=Vl(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[qt]=c;let d=n[_t];return d!==null&&(l[_t]=d.createEmbeddedView(o)),Kl(o,l,t),l}finally{V(r)}}function Ji(n,e){return!e||e.firstChild===null||lf(n)}function Xi(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(it(o)),lt(o)&&zf(o,i);let s=t.type;if(s&8)Xi(n,e,t.child,i);else if(s&32){let a=jl(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=Bf(e,t);if(Array.isArray(a))i.push(...a);else{let l=Gt(e[nt]);Xi(l[L],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function zf(n,e){for(let t=de;t<n.length;t++){let i=n[t],r=i[L].firstChild;r!==null&&Xi(i[L],i,r,e)}n[Wt]!==n[at]&&e.push(n[Wt])}function qf(n){if(n[oo]!==null){for(let e of n[oo])e.impl.addSequence(e);n[oo].length=0}}var Wf=[];function By(n){return n[qe]??jy(n)}function jy(n){let e=Wf.pop()??Object.create(Uy);return e.lView=n,e}function Hy(n){n.lView[qe]!==n&&(n.lView=null,Wf.push(n))}var Uy=P(R({},nn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Dn(n.lView)},consumerOnSignalRead(){this.lView[qe]=this}});function $y(n){let e=n[qe]??Object.create(Gy);return e.lView=n,e}var Gy=P(R({},nn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Gt(n.lView);for(;e&&!Qf(e[L]);)e=Gt(e);e&&Pa(e)},consumerOnSignalRead(){this.lView[qe]=this}});function Qf(n){return n.type!==2}function Kf(n){if(n[Rt]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[Rt])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[B]&8192)}}var zy=100;function Yf(n,e=0){let i=n[Et].rendererFactory,r=!1;r||i.begin?.();try{qy(n,e)}finally{r||i.end?.()}}function qy(n,e){let t=$a();try{ii(!0),cl(n,e);let i=0;for(;Gi(n);){if(i===zy)throw new T(103,!1);i++,cl(n,1)}}finally{ii(t)}}function Wy(n,e,t,i){if(Cn(e))return;let r=e[B],o=!1,s=!1;po(e);let a=!0,l=null,c=null;o||(Qf(n)?(c=By(e),l=rn(c)):Pr()===null?(a=!1,c=$y(e),l=rn(c)):e[qe]&&(on(e[qe]),e[qe]=null));try{ka(e),id(n.bindingStartIndex),t!==null&&jf(n,e,t,2,i);let d=(r&3)===3;if(!o)if(d){let _=n.preOrderCheckHooks;_!==null&&_o(e,_,null)}else{let _=n.preOrderHooks;_!==null&&Co(e,_,0,null),Qa(e,0)}if(s||Qy(e),Kf(e),Zf(e,0),n.contentQueries!==null&&Ef(n,e),!o)if(d){let _=n.contentCheckHooks;_!==null&&_o(e,_)}else{let _=n.contentHooks;_!==null&&Co(e,_,1),Qa(e,1)}Yy(n,e);let p=n.components;p!==null&&Xf(e,p,0);let C=n.viewQuery;if(C!==null&&rl(2,C,i),!o)if(d){let _=n.viewCheckHooks;_!==null&&_o(e,_)}else{let _=n.viewHooks;_!==null&&Co(e,_,2),Qa(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ro]){for(let _ of e[ro])_();e[ro]=null}o||(qf(e),e[B]&=-73)}catch(d){throw o||Dn(e),d}finally{c!==null&&(jn(c,l),a&&Hy(c)),ho()}}function Zf(n,e){for(let t=uf(n);t!==null;t=df(t))for(let i=de;i<t.length;i++){let r=t[i];Jf(r,e)}}function Qy(n){for(let e=uf(n);e!==null;e=df(e)){if(!(e[B]&2))continue;let t=e[vn];for(let i=0;i<t.length;i++){let r=t[i];Pa(r)}}}function Ky(n,e,t){ne(18);let i=Ct(e,n);Jf(i,t),ne(19,i[he])}function Jf(n,e){ao(n)&&cl(n,e)}function cl(n,e){let i=n[L],r=n[B],o=n[qe],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Hn(o)),s||=!1,o&&(o.dirty=!1),n[B]&=-9217,s)Wy(i,n,i.template,n[he]);else if(r&8192){let a=V(null);try{Kf(n),Zf(n,1);let l=i.components;l!==null&&Xf(n,l,1),qf(n)}finally{V(a)}}}function Xf(n,e,t){for(let i=0;i<e.length;i++)Ky(n,e[i],t)}function Yy(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Kt(~r);else{let o=r,s=t[++i],a=t[++i];od(s,o);let l=e[o];ne(24,l),a(2,l),ne(25,l)}}}finally{Kt(-1)}}function Yl(n,e){let t=$a()?64:1088;for(n[Et].changeDetectionScheduler?.notify(e);n;){n[B]|=t;let i=Gt(n);if(ti(n)&&!i)return n;n=i}return null}function ep(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function tp(n,e){let t=de+e;if(t<n.length)return n[t]}function Yo(n,e,t,i=!0){let r=e[L];if(Zy(r,e,n,t),i){let s=ll(t,n),a=e[ce],l=a.parentNode(n[Wt]);l!==null&&cy(r,n[tt],a,e,l,s)}let o=e[Jn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function np(n,e){let t=er(n,e);return t!==void 0&&Wo(t[L],t),t}function er(n,e){if(n.length<=de)return;let t=de+e,i=n[t];if(i){let r=i[qt];r!==null&&r!==n&&Gl(r,i),e>0&&(n[t-1][et]=i[et]);let o=Li(n,de+e);ly(i[L],i);let s=o[_t];s!==null&&s.detachView(o[L]),i[ye]=null,i[et]=null,i[B]&=-129}return i}function Zy(n,e,t,i){let r=de+i,o=t.length;i>0&&(t[r-1][et]=e),i<o-de?(e[et]=t[r],Ca(t,de+i,e)):(t.push(e),e[et]=null),e[ye]=t;let s=e[qt];s!==null&&t!==s&&ip(s,e);let a=e[_t];a!==null&&a.insertView(n),lo(e),e[B]|=128}function ip(n,e){let t=n[vn],i=e[ye];if(kt(i))n[B]|=2;else{let r=i[ye][nt];e[nt]!==r&&(n[B]|=2)}t===null?n[vn]=[e]:t.push(e)}var ai=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[L];return Xi(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[he]}set context(e){this._lView[he]=e}get destroyed(){return Cn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ye];if(lt(e)){let t=e[Ui],i=t?t.indexOf(this):-1;i>-1&&(er(e,i),Li(t,i))}this._attachedToViewContainer=!1}Wo(this._lView[L],this._lView)}onDestroy(e){Fa(this._lView,e)}markForCheck(){Yl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[B]&=-129}reattach(){lo(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,Yf(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ti(this._lView),t=this._lView[qt];t!==null&&!e&&Gl(t,this._lView),Vf(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e;let t=ti(this._lView),i=this._lView[qt];i!==null&&!t&&ip(i,this._lView),lo(this._lView)}};var li=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Jy;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){let o=Ko(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new ai(o)}}return n})();function Jy(){return Zl(We(),K())}function Zl(n,e){return n.type&4?new li(e,n,ui(n,e)):null}function Zo(n,e,t,i,r){let o=n.data[e];if(o===null)o=Xy(n,e,t,i,r),rd()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=Xu();o.injectorIndex=s===null?-1:s.injectorIndex}return ni(o,!0),o}function Xy(n,e,t,i,r){let o=Ha(),s=Ua(),a=s?o:o&&o.parent,l=n.data[e]=tv(n,a,t,e,i,r);return ev(n,l,o,s),l}function ev(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function tv(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Ju()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var ZI=new RegExp(`^(\\d+)*(${Mg}|${Ag})*(.*)`);function nv(n){let e=n[Ma]??[],i=n[ye][ce],r=[];for(let o of e)o.data[mf]!==void 0?r.push(o):iv(o,i);n[Ma]=r}function iv(n,e){let t=0,i=n.firstChild;if(i){let r=n.data[hf];for(;t<r;){let o=i.nextSibling;Tf(e,i,!1),i=o,t++}}}var rv=()=>null,ov=()=>null;function ul(n,e){return rv(n,e)}function rp(n,e,t){return ov(n,e,t)}var op=class{},Jo=class{},dl=class{resolveComponentFactory(e){throw new T(917,!1)}},Xo=class{static NULL=new dl},Lt=class{};var sp=(()=>{class n{static \u0275prov=X({token:n,providedIn:"root",factory:()=>null})}return n})();var bo={},fl=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){let r=this.injector.get(e,bo,i);return r!==bo||t===bo?r:this.parentInjector.get(e,t,i)}};function ko(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Kr(r,a);else if(o==2){let l=a,c=e[++s];i=Kr(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Jl(n,e=0){let t=K();if(t===null)return J(n,e);let i=We();return of(i,t,ze(n),e)}function sv(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}cv(n,e,t,a,o,l,c)}o!==null&&i!==null&&av(t,i,o)}function av(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new T(-301,!1);i.push(e[r],o)}}function lv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function cv(n,e,t,i,r,o,s){let a=i.length,l=!1;for(let C=0;C<a;C++){let _=i[C];!l&&_n(_)&&(l=!0,lv(n,t,C)),gg(ef(t,e),n,_.type)}mv(t,n.data.length,a);for(let C=0;C<a;C++){let _=i[C];_.providersResolver&&_.providersResolver(_)}let c=!1,d=!1,p=xf(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let C=0;C<a;C++){let _=i[C];if(t.mergedAttrs=jo(t.mergedAttrs,_.hostAttrs),dv(n,t,e,p,_),hv(p,_,r),s!==null&&s.has(_)){let[S,H]=s.get(_);t.directiveToIndex.set(_.type,[p,S+t.directiveStart,H+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,p);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let w=_.type.prototype;!c&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!d&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}uv(n,t,o)}function uv(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))kd(0,e,r,i),kd(1,e,r,i),Fd(e,i,!1);else{let o=t.get(r);Pd(0,e,o,i),Pd(1,e,o,i),Fd(e,i,!0)}}}function kd(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),ap(e,o)}}function Pd(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),ap(e,s)}}function ap(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Fd(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||Ol(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let c=r[l];for(let d of c)if(d===e){s??=[],s.push(l,i[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function dv(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=Kn(r.type,!0)),s=new Yi(o,_n(r),Jl,null);n.blueprint[i]=s,t[i]=s,fv(n,e,i,xf(n,t,r.hostVars,Pe),r)}function fv(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;pv(s)!=a&&s.push(a),s.push(t,i,o)}}function pv(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function hv(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;_n(e)&&(t[""]=n)}}function mv(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function lp(n,e,t,i,r,o,s,a){let l=e[L],c=l.consts,d=Dt(c,s),p=Zo(l,n,t,i,d);return o&&sv(l,e,p,Dt(c,a),r),p.mergedAttrs=jo(p.mergedAttrs,p.attrs),p.attrs!==null&&ko(p,p.attrs,!1),p.mergedAttrs!==null&&ko(p,p.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,p),p}function cp(n,e){og(n,e),xa(e)&&n.queries.elementEnd(e)}function gv(n,e,t,i,r,o){let s=e.consts,a=Dt(s,r),l=Zo(e,n,t,i,a);if(l.mergedAttrs=jo(l.mergedAttrs,l.attrs),o!=null){let c=Dt(s,o);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&ko(l,l.attrs,!1),l.mergedAttrs!==null&&ko(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function yv(n,e,t){return n[e]=t}function vv(n,e){return n[e]}function ft(n,e,t){if(t===Pe)return!1;let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function Ev(n,e,t,i){let r=ft(n,e,t);return ft(n,e+1,i)||r}function wo(n,e,t){return function i(r){let o=En(n)?Ct(n.index,e):e;Yl(o,5);let s=e[he],a=Od(e,s,t,r),l=i.__ngNextListenerFn__;for(;l;)a=Od(e,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function Od(n,e,t,i){let r=V(null);try{return ne(6,e,t),t(i)!==!1}catch(o){return Fy(n,o),!1}finally{ne(7,e,t),V(r)}}function up(n,e,t,i,r,o,s,a){let l=so(n),c=!1,d=null;if(!i&&l&&(d=Cv(e,t,o,n.index)),d!==null){let p=d.__ngLastListenerFn__||d;p.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let p=ct(n,t),C=i?i(p):p;Ng(t,C,o,a);let _=r.listen(C,o,a);if(!_v(o)){let w=i?S=>i(it(S[n.index])):n.index;dp(w,e,t,o,a,_,!1)}}return c}function _v(n){return n.startsWith("animation")||n.startsWith("transition")}function Cv(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Xn],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function dp(n,e,t,i,r,o,s){let a=e.firstCreatePass?La(e):null,l=Oa(t),c=l.length;l.push(r,o),a&&a.push(i,n,c,(c+1)*(s?-1:1))}function Ld(n,e,t,i,r,o){let s=e[t],a=e[L],c=a.data[t].outputs[i],p=s[c].subscribe(o);dp(n.index,a,e,r,o,p,!0)}var pl=Symbol("BINDING");var hl=class extends Xo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=hn(e);return new tr(t,this.ngModule)}};function Dv(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&qo.SignalBased)!==0};return r&&(o.transform=r),o})}function bv(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function wv(n,e,t){let i=e instanceof Je?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new fl(t,i):t}function Iv(n){let e=n.get(Lt,null);if(e===null)throw new T(407,!1);let t=n.get(sp,null),i=n.get(vt,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function Sv(n,e){let t=fp(n);return If(e,t,t==="svg"?Na:t==="math"?Gu:null)}function fp(n){return(n.selectors[0][0]||"div").toLowerCase()}var tr=class extends Jo{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Dv(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=bv(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Gg(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r,o,s){ne(22);let a=V(null);try{let l=this.componentDef,c=Tv(i,l,s,o),d=wv(l,r||this.ngModule,e),p=Iv(d),C=p.rendererFactory.createRenderer(null,l),_=i?Dy(C,i,l.encapsulation,d):Sv(l,C),w=s?.some(Vd)||o?.some(z=>typeof z!="function"&&z.bindings.some(Vd)),S=Vl(null,c,null,512|Mf(l),null,null,p,C,d,null,vf(_,d,!0));S[Ie]=_,po(S);let H=null;try{let z=lp(Ie,S,2,"#host",()=>c.directiveRegistry,!0,0);Af(C,_,z),si(_,S),Hf(c,S,z),_f(c,z,S),cp(c,z),t!==void 0&&Mv(z,this.ngContentSelectors,t),H=Ct(z.index,S),S[he]=H[he],Kl(c,S,null)}catch(z){throw H!==null&&nl(H),nl(S),z}finally{ne(23),ho()}return new Po(this.componentType,S,!!w)}finally{V(a)}}};function Tv(n,e,t,i){let r=n?["ng-version","20.3.12"]:zg(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[pl].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(i)for(let d=0;d<i.length;d++){let p=i[d];if(typeof p!="function")for(let C of p.bindings){a+=C[pl].requiredVars;let _=d+1;C.create&&(C.targetIdx=_,(o??=[]).push(C)),C.update&&(C.targetIdx=_,(s??=[]).push(C))}}let l=[e];if(i)for(let d of i){let p=typeof d=="function"?d:d.type,C=wa(p);l.push(C)}return Ll(0,null,Av(o,s),1,a,l,null,null,null,[r],null)}function Av(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let i of n)i.create();if(t&2&&e)for(let i of e)i.update()}}function Vd(n){let e=n[pl].kind;return e==="input"||e==="twoWay"}var Po=class extends op{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=$i(t[L],Ie),this.location=ui(this._tNode,t),this.instance=Ct(this._tNode.index,t)[he],this.hostView=this.changeDetectorRef=new ai(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=Ql(i,r[L],r,e,t);this.previousInputValues.set(e,t);let s=Ct(i.index,r);Yl(s,1)}get injector(){return new Tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Mv(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var sr=(()=>{class n{static __NG_ELEMENT_ID__=xv}return n})();function xv(){let n=We();return hp(n,K())}var Nv=sr,pp=class extends Nv{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ui(this._hostTNode,this._hostLView)}get injector(){return new Tn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Nl(this._hostTNode,this._hostLView);if(Zd(e)){let t=To(e,this._hostLView),i=So(e),r=t[L].data[i+8];return new Tn(r,t)}else return new Tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Bd(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-de}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=ul(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Ji(this._hostTNode,s)),a}createComponent(e,t,i,r,o,s,a){let l=e&&!Xm(e),c;if(l)c=t;else{let H=t||{};c=H.index,i=H.injector,r=H.projectableNodes,o=H.environmentInjector||H.ngModuleRef,s=H.directives,a=H.bindings}let d=l?e:new tr(hn(e)),p=i||this.parentInjector;if(!o&&d.ngModule==null){let z=(l?p:this.parentInjector).get(Je,null);z&&(o=z)}let C=hn(d.componentType??{}),_=ul(this._lContainer,C?.id??null),w=_?.firstChild??null,S=d.create(p,r,w,o,s,a);return this.insertImpl(S.hostView,c,Ji(this._hostTNode,_)),S}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(zu(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[ye],c=new pp(l,l[tt],l[ye]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Yo(s,r,o,i),e.attachToViewContainerRef(),Ca(Za(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Bd(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=er(this._lContainer,t);i&&(Li(Za(this._lContainer),t),Wo(i[L],i))}detach(e){let t=this._adjustIndex(e,-1),i=er(this._lContainer,t);return i&&Li(Za(this._lContainer),t)!=null?new ai(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Bd(n){return n[Ui]}function Za(n){return n[Ui]||(n[Ui]=[])}function hp(n,e){let t,i=e[n.index];return lt(i)?t=i:(t=ep(i,e,null,n),e[n.index]=t,Bl(e,t)),kv(t,e,n,i),new pp(t,n,e)}function Rv(n,e){let t=n[ce],i=t.createComment(""),r=ct(e,n),o=t.parentNode(r);return No(t,o,i,t.nextSibling(r),!1),i}var kv=Ov,Pv=()=>!1;function Fv(n,e,t){return Pv(n,e,t)}function Ov(n,e,t,i){if(n[Wt])return;let r;t.type&8?r=it(i):r=Rv(e,t),n[Wt]=r}var ml=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},gl=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)yp(e,t).matches!==null&&this.queries[t].setDirty()}},yl=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=$v(e):this.predicate=e}},vl=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},El=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,Lv(t,o)),this.matchTNodeWithReadOption(e,t,Do(t,e,o,!1,!1))}else i===li?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Do(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===di||r===sr||r===li&&t.type&4)this.addMatch(t.index,-2);else{let o=Do(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Lv(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function Vv(n,e){return n.type&11?ui(n,e):n.type&4?Zl(n,e):null}function Bv(n,e,t,i){return t===-1?Vv(e,n):t===-2?jv(n,e,i):Ao(n,n[L],t,e)}function jv(n,e,t){if(t===di)return ui(e,n);if(t===li)return Zl(e,n);if(t===sr)return hp(e,n)}function mp(n,e,t,i){let r=e[_t].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(Bv(e,d,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function _l(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=mp(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],d=e[-l];for(let p=de;p<d.length;p++){let C=d[p];C[qt]===C[ye]&&_l(C[L],C,c,i)}if(d[vn]!==null){let p=d[vn];for(let C=0;C<p.length;C++){let _=p[C];_l(_[L],_,c,i)}}}}}return i}function gp(n,e){return n[_t].queries[e].queryList}function Hv(n,e,t){let i=new Mo((t&4)===4);return Qu(n,e,i,i.destroy),(e[_t]??=new gl).queries.push(new ml(i))-1}function Uv(n,e,t){let i=ke();return i.firstCreatePass&&(Gv(i,new yl(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),Hv(i,K(),e)}function $v(n){return n.split(",").map(e=>e.trim())}function Gv(n,e,t){n.queries===null&&(n.queries=new vl),n.queries.track(new El(e,t))}function yp(n,e){return n.queries.getByIndex(e)}function zv(n,e){let t=n[L],i=yp(t,e);return i.crossesNgTemplate?_l(t,n,e,[]):mp(t,n,i,e)}function vp(n,e,t){let i,r=xi(()=>{i._dirtyCounter();let o=Wv(i,n);if(e&&o===void 0)throw new T(-951,!1);return o});return i=r[we],i._dirtyCounter=I(0),i._flatValue=void 0,r}function Ep(n){return vp(!0,!1,n)}function _p(n){return vp(!0,!0,n)}function qv(n,e){let t=n[we];t._lView=K(),t._queryIndex=e,t._queryList=gp(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(i=>i+1))}function Wv(n,e){let t=n._lView,i=n._queryIndex;if(t===void 0||i===void 0||t[B]&4)return e?void 0:Re;let r=gp(t,i),o=zv(t,i);return r.reset(o,Dg),e?r.first:r._changesDetected||n._flatValue===void 0?n._flatValue=r.toArray():n._flatValue}var Fo=class{};var nr=class extends Fo{injector;componentFactoryResolver=new hl(this);instance=null;constructor(e){super();let t=new un([...e.providers,{provide:Fo,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],e.parent||ji(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Cp(n,e,t=null){return new nr({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Qv=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=Ia(!1,t.type),r=i.length>0?Cp([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=X({token:n,providedIn:"environment",factory:()=>new n(J(Je))})}return n})();function ve(n){return xl(()=>{let e=Jv(n),t=P(R({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Rl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(Qv).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ft.Emulated,styles:n.styles||Re,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Vt("NgStandalone"),Xv(t);let i=n.dependencies;return t.directiveDefs=jd(i,Kv),t.pipeDefs=jd(i,Lu),t.id=e0(t),t})}function Kv(n){return hn(n)||wa(n)}function ar(n){return xl(()=>({type:n.type,bootstrap:n.bootstrap||Re,declarations:n.declarations||Re,imports:n.imports||Re,exports:n.exports||Re,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Yv(n,e){if(n==null)return fn;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=qo.None,l=null),t[o]=[i,a,l],e[o]=s}return t}function Zv(n){if(n==null)return fn;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Jv(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||fn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Re,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Yv(n.inputs,e),outputs:Zv(n.outputs),debugInfo:null}}function Xv(n){n.features?.forEach(e=>e(n))}function jd(n,e){return n?()=>{let t=typeof n=="function"?n():n,i=[];for(let r of t){let o=e(r);o!==null&&i.push(o)}return i}:null}function e0(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function t0(n,e,t,i,r,o,s,a){if(t.firstCreatePass){n.mergedAttrs=jo(n.mergedAttrs,n.attrs);let d=n.tView=Ll(2,n,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),ni(n,!1);let l=n0(t,e,n,i);go()&&zl(t,e,l,n),si(l,e);let c=ep(l,e,l,n);e[i+Ie]=c,Bl(e,c),Fv(c,n,e)}function Oo(n,e,t,i,r,o,s,a,l,c,d){let p=t+Ie,C;if(e.firstCreatePass){if(C=Zo(e,p,4,s||null,a||null),c!=null){let _=Dt(e.consts,c);C.localNames=[];for(let w=0;w<_.length;w+=2)C.localNames.push(_[w],-1)}}else C=e.data[p];return t0(C,n,e,t,i,r,o,l),c!=null&&Wl(n,C,d),C}var n0=i0;function i0(n,e,t,i){return yo(!0),e[ce].createComment("")}var Xl=new Y("");function ec(n){return!!n&&typeof n.then=="function"}function Dp(n){return!!n&&typeof n.subscribe=="function"}var bp=new Y("");var tc=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=F(bp,{optional:!0})??[];injector=F(xt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=io(this.injector,r);if(ec(o))t.push(o);else if(Dp(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wp=new Y("");function Ip(){Ws(()=>{let n="";throw new T(600,n)})}function Sp(n){return n.isBoundToModule}var r0=10;var lr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(Yt);afterRenderManager=F(Ff);zonelessEnabled=F(qi);rootEffectScheduler=F(Wi);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ut;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=F(In);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ia(t=>!t))}constructor(){F(or,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=F(Je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=xt.NULL){return this._injector.get(me).run(()=>{ne(10);let s=t instanceof Jo;if(!this._injector.get(tc).done){let w="";throw new T(405,w)}let l;s?l=t:l=this._injector.get(Xo).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=Sp(l)?void 0:this._injector.get(Fo),d=i||l.selector,p=l.create(r,[],d,c),C=p.location.nativeElement,_=p.injector.get(Xl,null);return _?.registerApplication(C),p.onDestroy(()=>{this.detachView(p.hostView),Ki(this.components,p),_?.unregisterApplication(C)}),this._loadComponent(p),ne(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ne(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Hl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new T(101,!1);let t=V(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,V(t),this.afterTick.next(),ne(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Lt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<r0;)ne(14),this.synchronizeOnce(),ne(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!Gi(r))continue;let o=i&&!this.zonelessEnabled?0:1;Yf(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Gi(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Ki(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(wp,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ki(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new T(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ki(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function es(n,e,t,i){let r=K(),o=Qt();if(ft(r,o,e)){let s=ke(),a=mo();Ry(a,r,n,e,t,i)}return es}var iS=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Cl=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function Ja(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function o0(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=n.at(o),d=e[o],p=Ja(o,c,o,d,t);if(p!==0){p<0&&n.updateValue(o,d),o++;continue}let C=n.at(s),_=e[l],w=Ja(s,C,l,_,t);if(w!==0){w<0&&n.updateValue(s,_),s--,l--;continue}let S=t(o,c),H=t(s,C),z=t(o,d);if(Object.is(z,H)){let ae=t(l,_);Object.is(ae,S)?(n.swap(o,s),n.updateValue(s,_),l--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(i??=new Lo,r??=Ud(n,o,s,t),Dl(n,i,o,z))n.updateValue(o,d),o++,s++;else if(r.has(z))i.set(S,n.detach(o)),s--;else{let ae=n.create(o,e[o]);n.attach(o,ae),o++,s++}}for(;o<=l;)Hd(n,i,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let d=n.at(o),p=c.value,C=Ja(o,d,o,p,t);if(C!==0)C<0&&n.updateValue(o,p),o++,c=l.next();else{i??=new Lo,r??=Ud(n,o,s,t);let _=t(o,p);if(Dl(n,i,o,_))n.updateValue(o,p),o++,s++,c=l.next();else if(!r.has(_))n.attach(o,n.create(o,p)),o++,s++,c=l.next();else{let w=t(o,d);i.set(w,n.detach(o)),s--}}}for(;!c.done;)Hd(n,i,t,n.length,c.value),c=l.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(l=>{n.destroy(l)})}function Dl(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function Hd(n,e,t,i,r){if(Dl(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function Ud(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var Lo=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function M(n,e,t,i,r,o,s,a){Vt("NgControlFlow");let l=K(),c=ke(),d=Dt(c.consts,o);return Oo(l,c,n,e,t,i,r,d,256,s,a),nc}function nc(n,e,t,i,r,o,s,a){Vt("NgControlFlow");let l=K(),c=ke(),d=Dt(c.consts,o);return Oo(l,c,n,e,t,i,r,d,512,s,a),nc}function x(n,e){Vt("NgControlFlow");let t=K(),i=Qt(),r=t[i]!==Pe?t[i]:-1,o=r!==-1?Vo(t,Ie+r):void 0,s=0;if(ft(t,i,n)){let a=V(null);try{if(o!==void 0&&np(o,s),n!==-1){let l=Ie+n,c=Vo(t,l),d=Sl(t[L],l),p=rp(c,d,t),C=Ko(t,d,e,{dehydratedView:p});Yo(c,C,s,Ji(d,p))}}finally{V(a)}}else if(o!==void 0){let a=tp(o,s);a!==void 0&&(a[he]=e)}}var bl=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-de}};function Fe(n){return n}function cr(n,e){return e}var wl=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function re(n,e,t,i,r,o,s,a,l,c,d,p,C){Vt("NgControlFlow");let _=K(),w=ke(),S=l!==void 0,H=K(),z=a?s.bind(H[nt][he]):s,ae=new wl(S,z);H[Ie+n]=ae,Oo(_,w,n+1,e,t,i,r,Dt(w.consts,o),256),S&&Oo(_,w,n+2,l,c,d,p,Dt(w.consts,C),512)}var Il=class extends Cl{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-de}at(e){return this.getLView(e)[he].$implicit}attach(e,t){let i=t[Jn];this.needsIndexUpdate||=e!==this.length,Yo(this.lContainer,t,e,Ji(this.templateTNode,i)),s0(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,a0(this.lContainer,e),l0(this.lContainer,e)}create(e,t){let i=ul(this.lContainer,this.templateTNode.tView.ssrId),r=Ko(this.hostLView,this.templateTNode,new bl(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Wo(e[L],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[he].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[he].$index=e}getLView(e){return c0(this.lContainer,e)}};function oe(n){let e=V(null),t=bt();try{let i=K(),r=i[L],o=i[t],s=t+1,a=Vo(i,s);if(o.liveCollection===void 0){let c=Sl(r,s);o.liveCollection=new Il(a,i,c)}else o.liveCollection.reset();let l=o.liveCollection;if(o0(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Qt(),d=l.length===0;if(ft(i,c,d)){let p=t+2,C=Vo(i,p);if(d){let _=Sl(r,p),w=rp(C,_,i),S=Ko(i,_,void 0,{dehydratedView:w});Yo(C,S,0,Ji(_,w))}else r.firstUpdatePass&&nv(C),np(C,0)}}}finally{V(e)}}function Vo(n,e){return n[e]}function s0(n,e){if(n.length<=de)return;let t=de+e,i=n[t],r=i?i[yn]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[Nt];sy(o,r),An.delete(i),r.detachedLeaveAnimationFns=void 0}}function a0(n,e){if(n.length<=de)return;let t=de+e,i=n[t],r=i?i[yn]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function l0(n,e){return er(n,e)}function c0(n,e){return tp(n,e)}function Sl(n,e){return $i(n,e)}function U(n,e,t){let i=K(),r=Qt();if(ft(i,r,e)){let o=ke(),s=mo();Sy(s,i,n,e,i[ce],t)}return U}function Tl(n,e,t,i,r){Ql(e,n,t,r?"class":"style",i)}function v(n,e,t,i){let r=K(),o=r[L],s=n+Ie,a=o.firstCreatePass?lp(s,r,2,e,Ny,Zu(),t,i):o.data[s];if($f(a,r,n,e,Tp),so(a)){let l=r[L];Hf(l,r,a),_f(l,a,r)}return i!=null&&Wl(r,a),v}function E(){let n=ke(),e=We(),t=Gf(e);return n.firstCreatePass&&cp(n,t),Ba(t)&&ja(),Va(),t.classesWithoutHost!=null&&ag(t)&&Tl(n,t,K(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&lg(t)&&Tl(n,t,K(),t.stylesWithoutHost,!1),E}function Ee(n,e,t,i){return v(n,e,t,i),E(),Ee}function g(n,e,t,i){let r=K(),o=r[L],s=n+Ie,a=o.firstCreatePass?gv(s,o,2,e,t,i):o.data[s];return $f(a,r,n,e,Tp),i!=null&&Wl(r,a),g}function m(){let n=We(),e=Gf(n);return Ba(e)&&ja(),Va(),m}function se(n,e,t,i){return g(n,e,t,i),m(),se}var Tp=(n,e,t,i,r)=>(yo(!0),If(e[ce],i,pd()));function W(){return K()}function $(n,e,t){let i=K(),r=Qt();if(ft(i,r,e)){let o=ke(),s=mo();Uf(s,i,n,e,i[ce],t)}return $}var ur="en-US";var u0=ur;function Ap(n){typeof n=="string"&&(u0=n.toLowerCase().replace(/_/g,"-"))}function A(n,e,t){let i=K(),r=ke(),o=We();return d0(r,i,i[ce],o,n,e,t),A}function j(n,e,t){let i=K(),r=ke(),o=We();return(o.type&3||t)&&up(o,r,i,t,i[ce],n,e,wo(o,i,e)),j}function d0(n,e,t,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=wo(i,e,o),up(i,n,e,s,t,r,o,l)&&(a=!1)),a){let c=i.outputs?.[r],d=i.hostDirectiveOutputs?.[r];if(d&&d.length)for(let p=0;p<d.length;p+=2){let C=d[p],_=d[p+1];l??=wo(i,e,o),Ld(i,e,C,_,r,l)}if(c&&c.length)for(let p of c)l??=wo(i,e,o),Ld(i,e,p,r,r,l)}}function y(n=1){return fd(n)}function Ce(n,e,t,i){qv(n,Uv(e,t,i))}function Ke(n=1){fo(ld()+n)}function Eo(n,e){return n<<17|e<<2}function Mn(n){return n>>17&32767}function f0(n){return(n&2)==2}function p0(n,e){return n&131071|e<<17}function Al(n){return n|2}function ci(n){return(n&131068)>>2}function Xa(n,e){return n&-131069|e<<2}function h0(n){return(n&1)===1}function Ml(n){return n|1}function m0(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Mn(s),l=ci(s);n[i]=t;let c=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||Zn(p,d)>0)&&(c=!0)}else d=t;if(r)if(l!==0){let C=Mn(n[a+1]);n[i+1]=Eo(C,a),C!==0&&(n[C+1]=Xa(n[C+1],i)),n[a+1]=p0(n[a+1],i)}else n[i+1]=Eo(a,0),a!==0&&(n[a+1]=Xa(n[a+1],i)),a=i;else n[i+1]=Eo(l,0),a===0?a=i:n[l+1]=Xa(n[l+1],i),l=i;c&&(n[i+1]=Al(n[i+1])),$d(n,d,i,!0),$d(n,d,i,!1),g0(e,d,n,i,o),s=Eo(a,l),o?e.classBindings=s:e.styleBindings=s}function g0(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Zn(o,e)>=0&&(t[i+1]=Ml(t[i+1]))}function $d(n,e,t,i){let r=n[t+1],o=e===null,s=i?Mn(r):ci(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];y0(l,e)&&(a=!0,n[s+1]=i?Ml(c):Al(c)),s=i?Mn(c):ci(c)}a&&(n[t+1]=i?Al(r):Ml(r))}function y0(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Zn(n,e)>=0:!1}var dt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function v0(n){return n.substring(dt.key,dt.keyEnd)}function E0(n){return _0(n),Mp(n,xp(n,0,dt.textEnd))}function Mp(n,e){let t=dt.textEnd;return t===e?-1:(e=dt.keyEnd=C0(n,dt.key=e,t),xp(n,e,t))}function _0(n){dt.key=0,dt.keyEnd=0,dt.value=0,dt.valueEnd=0,dt.textEnd=n.length}function xp(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function C0(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Ye(n,e,t){return Np(n,e,t,!1),Ye}function pe(n,e){return Np(n,e,null,!0),pe}function h(n){b0(M0,D0,n,!0)}function D0(n,e){for(let t=E0(e);t>=0;t=Mp(e,t))to(n,v0(e),!0)}function Np(n,e,t,i){let r=K(),o=ke(),s=co(2);if(o.firstUpdatePass&&kp(o,n,s,i),e!==Pe&&ft(r,s,e)){let a=o.data[bt()];Pp(o,a,r,r[ce],n,r[s+1]=N0(e,t),i,s)}}function b0(n,e,t,i){let r=ke(),o=co(2);r.firstUpdatePass&&kp(r,null,o,i);let s=K();if(t!==Pe&&ft(s,o,t)){let a=r.data[bt()];if(Fp(a,i)&&!Rp(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Kr(l,t||"")),Tl(r,a,s,t,i)}else x0(r,a,s,s[ce],s[o+1],s[o+1]=A0(n,e,t),i,o)}}function Rp(n,e){return e>=n.expandoStartIndex}function kp(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[bt()],s=Rp(n,t);Fp(o,i)&&e===null&&!s&&(e=!1),e=w0(r,o,e,i),m0(r,o,e,t,s,i)}}function w0(n,e,t,i){let r=ad(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=el(null,n,e,t,i),t=ir(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=el(r,n,e,t,i),o===null){let l=I0(n,e,i);l!==void 0&&Array.isArray(l)&&(l=el(null,n,e,l[1],i),l=ir(l,e.attrs,i),S0(n,e,i,l))}else o=T0(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function I0(n,e,t){let i=t?e.classBindings:e.styleBindings;if(ci(i)!==0)return n[Mn(i)]}function S0(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Mn(r)]=i}function T0(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=ir(i,s,t)}return ir(i,e.attrs,t)}function el(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=ir(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function ir(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),to(n,s,t?!0:e[++o]))}return n===void 0?null:n}function A0(n,e,t){if(t==null||t==="")return Re;let i=[],r=zo(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function M0(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&to(n,i,t)}function x0(n,e,t,i,r,o,s,a){r===Pe&&(r=Re);let l=0,c=0,d=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let C=l<r.length?r[l+1]:void 0,_=c<o.length?o[c+1]:void 0,w=null,S;d===p?(l+=2,c+=2,C!==_&&(w=p,S=_)):p===null||d!==null&&d<p?(l+=2,w=d):(c+=2,w=p,S=_),w!==null&&Pp(n,e,t,i,w,S,s,a),d=l<r.length?r[l]:null,p=c<o.length?o[c]:null}}function Pp(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=h0(c)?Gd(l,e,t,r,ci(c),s):void 0;if(!Bo(d)){Bo(o)||f0(c)&&(o=Gd(l,null,t,r,a,s));let p=Ra(bt(),t);Cy(i,s,p,r,o)}}function Gd(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),d=c?l[1]:l,p=d===null,C=t[r+1];C===Pe&&(C=p?Re:void 0);let _=p?no(C,i):d===i?C:void 0;if(c&&!Bo(_)&&(_=no(l,i)),Bo(_)&&(a=_,s))return a;let w=n[r+1];r=s?Mn(w):ci(w)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=no(l,i))}return a}function Bo(n){return n!==void 0}function N0(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=$t(zo(n)))),n}function Fp(n,e){return(n.flags&(e?8:16))!==0}function f(n,e=""){let t=K(),i=ke(),r=n+Ie,o=i.firstCreatePass?Zo(i,r,1,e,null):i.data[r],s=R0(i,t,o,e,n);t[r]=s,go()&&zl(i,t,s,o),ni(o,!1)}var R0=(n,e,t,i,r)=>(yo(!0),qg(e[ce],i));function k0(n,e,t,i=""){return ft(n,Qt(),t)?e+zt(t)+i:Pe}function P0(n,e,t,i,r,o=""){let s=nd(),a=Ev(n,s,t,r);return co(2),a?e+zt(t)+i+zt(r)+o:Pe}function te(n){return Q("",n),te}function Q(n,e,t){let i=K(),r=k0(i,n,e,t);return r!==Pe&&Op(i,bt(),r),Q}function pi(n,e,t,i,r){let o=K(),s=P0(o,n,e,t,i,r);return s!==Pe&&Op(o,bt(),s),pi}function Op(n,e,t){let i=Ra(e,n);Wg(n[ce],i,t)}function ts(n){return ft(K(),Qt(),n)?zt(n):Pe}function Zt(n,e,t){let i=td()+n,r=K();return r[i]===Pe?yv(r,i,t?e.call(t):e()):vv(r,i)}var F0=(()=>{class n{zone=F(me);changeDetectionScheduler=F(vt);applicationRef=F(lr);applicationErrorHandler=F(Yt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lp({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new me(P(R({},Vp()),{scheduleInRootZone:t})),[{provide:me,useFactory:n},{provide:pn,multi:!0,useFactory:()=>{let i=F(F0,{optional:!0});return()=>i.initialize()}},{provide:pn,multi:!0,useFactory:()=>{let i=F(O0);return()=>{i.initialize()}}},e===!0?{provide:Wa,useValue:!0}:[],{provide:vo,useValue:t??Rf},{provide:Yt,useFactory:()=>{let i=F(me),r=F(Je),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(Xe),o.handleError(s))})}}}]}function Vp(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var O0=(()=>{class n{subscription=new Ne;initialized=!1;zone=F(me);pendingTasks=F(In);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ic=(()=>{class n{applicationErrorHandler=F(Yt);appRef=F(lr);taskService=F(In);ngZone=F(me);zonelessEnabled=F(qi);tracing=F(or,{optional:!0});disableScheduling=F(Wa,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ro):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(vo,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zi||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Td:kf;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ro+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Td(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rc(){return Vt("NgZoneless"),Vi([{provide:vt,useExisting:ic},{provide:me,useClass:Zi},{provide:qi,useValue:!0},{provide:vo,useValue:!1},[]])}function L0(){return typeof $localize<"u"&&$localize.locale||ur}var oc=new Y("",{providedIn:"root",factory:()=>F(oc,{optional:!0,skipSelf:!0})||L0()});var ns=class{destroyed=!1;listeners=null;errorHandler=F(Xe,{optional:!0});destroyRef=F(wn);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new T(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(Oi(953,!1));return}if(this.listeners===null)return;let t=V(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{V(t)}}};function ie(n,e){return xi(n,e?.equal)}var sc=class{[we];constructor(e){this[we]=e}destroy(){this[we].destroy()}};function ge(n,e){let t=e?.injector??F(xt),i=e?.manualCleanup!==!0?t.get(wn):null,r,o=t.get(zi,null,{optional:!0}),s=t.get(vt);return o!==null?(r=j0(o.view,s,n),i instanceof Fi&&i._lView===o.view&&(i=null)):r=H0(n,t.get(Wi),s),r.injector=t,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new sc(r)}var Bp=P(R({},Iu),{cleanupFns:void 0,zone:null,onDestroyFn:Sn,run(){let n=ii(!1);try{Su(this)}finally{ii(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=V(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],V(n)}}}),V0=P(R({},Bp),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){on(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),B0=P(R({},Bp),{consumerMarkedDirty(){this.view[B]|=8192,Dn(this.view),this.notifier.notify(13)},destroy(){on(this),this.onDestroyFn(),this.cleanup(),this.view[Rt]?.delete(this)}});function j0(n,e,t){let i=Object.create(B0);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=jp(i,t),n[Rt]??=new Set,n[Rt].add(i),i.consumerMarkedDirty(i),i}function H0(n,e,t){let i=Object.create(V0);return i.fn=jp(i,n),i.scheduler=e,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function jp(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var $p=Symbol("InputSignalNode#UNSET"),J0=P(R({},Vr),{transformFn:void 0,applyValueToInputSignal(n,e){$n(n,e)}});function Gp(n,e){let t=Object.create(J0);t.value=n,t.transformFn=e?.transform;function i(){if(Bn(t),t.value===$p){let r=null;throw new T(-950,r)}return t.value}return i[we]=t,i}var X0=new Y("");X0.__NG_ELEMENT_ID__=n=>{let e=We();if(e===null)throw new T(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new T(204,!1)};function Be(n){return new ns}function Hp(n,e){return Gp(n,e)}function eE(n){return Gp($p,n)}var ue=(Hp.required=eE,Hp);function Up(n,e){return Ep(e)}function tE(n,e){return _p(e)}var Se=(Up.required=tE,Up);var ac=new Y(""),nE=new Y("");function dr(n){return!n.moduleRef}function iE(n){let e=dr(n)?n.r3Injector:n.moduleRef.injector,t=e.get(me);return t.run(()=>{dr(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Yt),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),dr(n)){let o=()=>e.destroy(),s=n.platformInjector.get(ac);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(ac);s.add(o),n.moduleRef.onDestroy(()=>{Ki(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return oE(i,t,()=>{let o=e.get(In),s=o.add(),a=e.get(tc);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(oc,ur);if(Ap(l||ur),!e.get(nE,!0))return dr(n)?e.get(lr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(dr(n)){let d=e.get(lr);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return rE?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var rE;function oE(n,e,t){try{let i=t();return ec(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n(i)),i}}var is=null;function sE(n=[],e){return xt.create({name:e,providers:[{provide:Bi,useValue:"platform"},{provide:ac,useValue:new Set([()=>is=null])},...n]})}function aE(n=[]){if(is)return is;let e=sE(n);return is=e,Ip(),lE(e),e}function lE(n){let e=n.get(Uo,null);io(n,()=>{e?.forEach(t=>t())})}function zp(n){let{rootComponent:e,appProviders:t,platformProviders:i,platformRef:r}=n;ne(8);try{let o=r?.injector??aE(i),s=[Lp({}),{provide:vt,useExisting:ic},gd,...t||[]],a=new nr({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return iE({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ne(9)}}var qp=null;function pr(){return qp}function lc(n){qp??=n}var fr=class{};var De=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ar({type:n});static \u0275inj=Yn({})}return n})();function cc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var hr=class{};var Wp="browser";var mr=class{_doc;constructor(e){this._doc=e}manager},rs=(()=>{class n extends mr{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(J(Qe))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),ss=new Y(""),hc=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(s=>{s.manager=this});let r=t.filter(s=>!(s instanceof rs));this._plugins=r.slice().reverse();let o=t.find(s=>s instanceof rs);o&&this._plugins.push(o)}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new T(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(J(ss),J(me))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),uc="ng-app-id";function Qp(n){for(let e of n)e.remove()}function Kp(n,e){let t=e.createElement("style");return t.textContent=n,t}function uE(n,e,t,i){let r=n.head?.querySelectorAll(`style[${uc}="${e}"],link[${uc}="${e}"]`);if(r)for(let o of r)o.removeAttribute(uc),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function fc(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var mc=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,uE(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,Kp);i?.forEach(r=>this.addUsage(r,this.external,fc))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(Qp(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Qp(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,Kp(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,fc(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(J(Qe),J(Ho),J(Go,8),J(rr))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),dc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gc=/%COMP%/g;var Zp="%COMP%",dE=`_nghost-${Zp}`,fE=`_ngcontent-${Zp}`,pE=!0,hE=new Y("",{providedIn:"root",factory:()=>pE});function mE(n){return fE.replace(gc,n)}function gE(n){return dE.replace(gc,n)}function Jp(n,e){return e.map(t=>t.replace(gc,n))}var vr=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,l=null,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new gr(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof os?r.applyToHost(t):r instanceof yr&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,C=this.tracingService;switch(i.encapsulation){case Ft.Emulated:o=new os(l,c,i,this.appId,d,s,a,p,C);break;case Ft.ShadowDom:return new pc(l,c,t,i,s,a,this.nonce,p,C);default:o=new yr(l,c,i,d,s,a,p,C);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(J(hc),J(mc),J(Ho),J(hE),J(Qe),J(me),J(Go),J(or,8))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),gr=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(dc[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Yp(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Yp(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new T(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=dc[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=dc[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ot.DashCase|Ot.Important)?e.style.setProperty(t,i,r&Ot.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ot.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=pr().getGlobalEventTarget(this.doc,e),!e))throw new T(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Yp(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var pc=class extends gr{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=Jp(r.id,d);for(let C of d){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=C,this.shadowRoot.appendChild(_)}let p=r.getExternalStyles?.();if(p)for(let C of p){let _=fc(C,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yr=class extends gr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=c?Jp(c,d):d,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&An.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},os=class extends yr{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,l,c){let d=r+"-"+i.id;super(e,t,i,o,s,a,l,c,d),this.contentAttr=mE(d),this.hostAttr=gE(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var as=class n extends fr{supportsDOMEvents=!0;static makeCurrent(){lc(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=yE();return t==null?null:vE(t)}resetBaseElement(){Er=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cc(document.cookie,e)}},Er=null;function yE(){return Er=Er||document.head.querySelector("base"),Er?Er.getAttribute("href"):null}function vE(n){return new URL(n,document.baseURI).pathname}var EE=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),Xp=["alt","control","meta","shift"],_E={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CE={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},eh=(()=>{class n extends mr{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Xp.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=_E[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Xp.forEach(s=>{if(s!==r){let a=CE[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(J(Qe))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})();function yc(n,e,t){let i=R({rootComponent:n,platformRef:t?.platformRef},DE(e));return zp(i)}function DE(n){return{appProviders:[...TE,...n?.providers??[]],platformProviders:SE}}function bE(){as.makeCurrent()}function wE(){return new Xe}function IE(){return kl(document),document}var SE=[{provide:rr,useValue:Wp},{provide:Uo,useValue:bE,multi:!0},{provide:Qe,useFactory:IE}];var TE=[{provide:Bi,useValue:"root"},{provide:Xe,useFactory:wE},{provide:ss,useClass:rs,multi:!0,deps:[Qe]},{provide:ss,useClass:eh,multi:!0,deps:[Qe]},vr,mc,hc,{provide:Lt,useExisting:vr},{provide:hr,useClass:EE},[]];var G=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(G||{}),rt="*";function vc(n,e){return{type:G.Trigger,name:n,definitions:e,options:{}}}function ls(n,e=null){return{type:G.Animate,styles:e,timings:n}}function Ec(n,e=null){return{type:G.Group,steps:n,options:e}}function th(n,e=null){return{type:G.Sequence,steps:n,options:e}}function St(n){return{type:G.Style,styles:n,offset:null}}function _c(n,e,t=null){return{type:G.Transition,expr:n,animation:e,options:t}}function hi(n,e,t=null){return{type:G.Query,selector:n,animation:e,options:t}}var It=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},xn=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},mi="!";function nh(n){return new T(3e3,!1)}function AE(){return new T(3100,!1)}function ME(){return new T(3101,!1)}function xE(n){return new T(3001,!1)}function NE(n){return new T(3003,!1)}function RE(n){return new T(3004,!1)}function rh(n,e){return new T(3005,!1)}function oh(){return new T(3006,!1)}function sh(){return new T(3007,!1)}function ah(n,e){return new T(3008,!1)}function lh(n){return new T(3002,!1)}function ch(n,e,t,i,r){return new T(3010,!1)}function uh(){return new T(3011,!1)}function dh(){return new T(3012,!1)}function fh(){return new T(3200,!1)}function ph(){return new T(3202,!1)}function hh(){return new T(3013,!1)}function mh(n){return new T(3014,!1)}function gh(n){return new T(3015,!1)}function yh(n){return new T(3016,!1)}function vh(n,e){return new T(3404,!1)}function kE(n){return new T(3502,!1)}function Eh(n){return new T(3503,!1)}function _h(){return new T(3300,!1)}function Ch(n){return new T(3504,!1)}function Dh(n){return new T(3301,!1)}function bh(n,e){return new T(3302,!1)}function wh(n){return new T(3303,!1)}function Ih(n,e){return new T(3400,!1)}function Sh(n){return new T(3401,!1)}function Th(n){return new T(3402,!1)}function Ah(n,e){return new T(3505,!1)}function jt(n){switch(n.length){case 0:return new It;case 1:return n[0];default:return new xn(n)}}function wc(n,e,t=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==s,p=d&&a||new Map;l.forEach((C,_)=>{let w=_,S=C;if(_!=="offset")switch(w=n.normalizePropertyName(w,r),S){case mi:S=t.get(_);break;case rt:S=i.get(_);break;default:S=n.normalizeStyleValue(_,w,S,r);break}p.set(w,S)}),d||o.push(p),a=p,s=c}),r.length)throw kE(r);return o}function cs(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Cc(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Cc(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Cc(t,"destroy",n)));break}}function Cc(n,e,t){let i=t.totalTime,r=!!t.disabled,o=us(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function us(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function je(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Ic(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var PE=typeof document>"u"?null:document.documentElement;function ds(n){let e=n.parentNode||n.host||null;return e===PE?null:e}function FE(n){return n.substring(1,6)=="ebkit"}var Nn=null,ih=!1;function Mh(n){Nn||(Nn=OE()||{},ih=Nn.style?"WebkitAppearance"in Nn.style:!1);let e=!0;return Nn.style&&!FE(n)&&(e=n in Nn.style,!e&&ih&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Nn.style)),e}function OE(){return typeof document<"u"?document.body:null}function Sc(n,e){for(;e;){if(e===n)return!0;e=ds(e)}return!1}function Tc(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var LE=1e3,Ac="{{",VE="}}",Mc="ng-enter",fs="ng-leave",_r="ng-trigger",Cr=".ng-trigger",xc="ng-animating",ps=".ng-animating";function Tt(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Dc(parseFloat(e[1]),e[2])}function Dc(n,e){switch(e){case"s":return n*LE;default:return n}}function Dr(n,e,t){return n.hasOwnProperty("duration")?n:jE(n,e,t)}var BE=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function jE(n,e,t){let i,r=0,o="";if(typeof n=="string"){let s=n.match(BE);if(s===null)return e.push(nh(n)),{duration:0,delay:0,easing:""};i=Dc(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(r=Dc(parseFloat(a),s[4]));let l=s[5];l&&(o=l)}else i=n;if(!t){let s=!1,a=e.length;i<0&&(e.push(AE()),s=!0),r<0&&(e.push(ME()),s=!0),s&&e.splice(a,0,nh(n))}return{duration:i,delay:r,easing:o}}function xh(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function pt(n,e,t){e.forEach((i,r)=>{let o=hs(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Jt(n,e){e.forEach((t,i)=>{let r=hs(i);n.style[r]=""})}function gi(n){return Array.isArray(n)?n.length==1?n[0]:th(n):n}function Nh(n,e,t){let i=e.params||{},r=Nc(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(xE(o))})}var bc=new RegExp(`${Ac}\\s*(.+?)\\s*${VE}`,"g");function Nc(n){let e=[];if(typeof n=="string"){let t;for(;t=bc.exec(n);)e.push(t[1]);bc.lastIndex=0}return e}function yi(n,e,t){let i=`${n}`,r=i.replace(bc,(o,s)=>{let a=e[s];return a==null&&(t.push(NE(s)),a=""),a.toString()});return r==i?n:r}var HE=/-+([a-z0-9])/g;function hs(n){return n.replace(HE,(...e)=>e[1].toUpperCase())}function Rh(n,e){return n===0||e===0}function kh(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,ms(n,a)))}}return e}function He(n,e,t){switch(e.type){case G.Trigger:return n.visitTrigger(e,t);case G.State:return n.visitState(e,t);case G.Transition:return n.visitTransition(e,t);case G.Sequence:return n.visitSequence(e,t);case G.Group:return n.visitGroup(e,t);case G.Animate:return n.visitAnimate(e,t);case G.Keyframes:return n.visitKeyframes(e,t);case G.Style:return n.visitStyle(e,t);case G.Reference:return n.visitReference(e,t);case G.AnimateChild:return n.visitAnimateChild(e,t);case G.AnimateRef:return n.visitAnimateRef(e,t);case G.Query:return n.visitQuery(e,t);case G.Stagger:return n.visitStagger(e,t);default:throw RE(e.type)}}function ms(n,e){return window.getComputedStyle(n)[e]}var Qc=(()=>{class n{validateStyleProperty(t){return Mh(t)}containsElement(t,i){return Sc(t,i)}getParentElement(t){return ds(t)}query(t,i,r){return Tc(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new It(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),kn=class{static NOOP=new Qc},Pn=class{};var UE=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),_s=class extends Pn{normalizePropertyName(e,t){return hs(e)}normalizeStyleValue(e,t,i,r){let o="",s=i.toString().trim();if(UE.has(t)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(rh(e,i))}return s+o}};var Cs="*";function $E(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>GE(i,t,e)):t.push(n),t}function GE(n,e,t){if(n[0]==":"){let l=zE(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(gh(n)),e;let r=i[1],o=i[2],s=i[3];e.push(Ph(r,s));let a=r==Cs&&s==Cs;o[0]=="<"&&!a&&e.push(Ph(s,r))}function zE(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(yh(n)),"* => *"}}var gs=new Set(["true","1"]),ys=new Set(["false","0"]);function Ph(n,e){let t=gs.has(n)||ys.has(n),i=gs.has(e)||ys.has(e);return(r,o)=>{let s=n==Cs||n==r,a=e==Cs||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?gs.has(n):ys.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?gs.has(e):ys.has(e)),s&&a}}var Gh=":self",qE=new RegExp(`s*${Gh}s*,?`,"g");function zh(n,e,t,i){return new Lc(n).build(e,t,i)}var Fh="",Lc=class{_driver;constructor(e){this._driver=e}build(e,t,i){let r=new Vc(t);return this._resetContextStyleTimingState(r),He(this,gi(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=Fh,e.collectedStyles=new Map,e.collectedStyles.set(Fh,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(oh()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==G.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,t))}),l.name=c}else if(a.type==G.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(sh())}),{type:G.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Nc(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(ah(e.name,[...o.values()]))}return{type:G.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=He(this,gi(e.animation),t),r=$E(e.expr,t.errors);return{type:G.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Rn(e.options)}}visitSequence(e,t){return{type:G.Sequence,steps:e.steps.map(i=>He(this,i,t)),options:Rn(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=i;let a=He(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:G.Group,steps:o,options:Rn(e.options)}}visitAnimate(e,t){let i=YE(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:St({});if(o.type==G.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};i.easing&&(c.easing=i.easing),s=St(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:G.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===rt?i.push(a):t.errors.push(lh(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(Ac)>=0){o=!0;break}}}),{type:G.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l),p=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(t.errors.push(ch(l,d.startTime,d.endTime,o,r)),p=!1),o=d.startTime),p&&c.set(l,{startTime:o,endTime:r}),t.options&&Nh(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:G.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(uh()),i;let r=1,o=0,s=[],a=!1,l=!1,c=0,d=e.steps.map(z=>{let ae=this._makeStyleAst(z,t),Me=ae.offset!=null?ae.offset:KE(ae.styles),be=0;return Me!=null&&(o++,be=ae.offset=Me),l=l||be<0||be>1,a=a||be<c,c=be,s.push(be),ae});l&&t.errors.push(dh()),a&&t.errors.push(fh());let p=e.steps.length,C=0;o>0&&o<p?t.errors.push(ph()):o==0&&(C=r/(p-1));let _=p-1,w=t.currentTime,S=t.currentAnimateTimings,H=S.duration;return d.forEach((z,ae)=>{let Me=C>0?ae==_?1:C*ae:s[ae],be=Me*H;t.currentTime=w+S.delay+be,S.duration=be,this._validateStyleAst(z,t),z.offset=Me,i.styles.push(z)}),i}visitReference(e,t){return{type:G.Reference,animation:He(this,gi(e.animation),t),options:Rn(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:G.AnimateChild,options:Rn(e.options)}}visitAnimateRef(e,t){return{type:G.AnimateRef,animation:this.visitReference(e.animation,t),options:Rn(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=WE(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,je(t.collectedStyles,t.currentQuerySelector,new Map);let a=He(this,gi(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:G.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Rn(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(hh());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Dr(e.timings,t.errors,!0);return{type:G.Stagger,animation:He(this,gi(e.animation),t),timings:i,options:null}}};function WE(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Gh);return e&&(n=n.replace(qE,"")),n=n.replace(/@\*/g,Cr).replace(/@\w+/g,t=>Cr+"-"+t.slice(1)).replace(/:animating/g,ps),[n,e]}function QE(n){return n?R({},n):null}var Vc=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function KE(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function YE(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Dr(n,e).duration;return Rc(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Rc(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=Dr(t,e);return Rc(r.duration,r.delay,r.easing)}function Rn(n){return n?(n=R({},n),n.params&&(n.params=QE(n.params))):n={},n}function Rc(n,e,t){return{duration:n,delay:e,easing:t}}function Kc(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var wr=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},ZE=1,JE=":enter",XE=new RegExp(JE,"g"),e_=":leave",t_=new RegExp(e_,"g");function qh(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return new Bc().buildKeyframes(n,e,t,i,r,o,s,a,l,c)}var Bc=class{buildKeyframes(e,t,i,r,o,s,a,l,c,d=[]){c=c||new wr;let p=new jc(e,t,c,r,o,d,[]);p.options=l;let C=l.delay?Tt(l.delay):0;p.currentTimeline.delayNextStep(C),p.currentTimeline.setStyles([s],null,p.errors,l),He(this,i,p);let _=p.timelines.filter(w=>w.containsAnimation());if(_.length&&a.size){let w;for(let S=_.length-1;S>=0;S--){let H=_[S];if(H.element===t){w=H;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,p.errors,l)}return _.length?_.map(w=>w.buildKeyframes()):[Kc(t,[],[],[],0,C,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Tt(yi(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime,s=i.duration!=null?Tt(i.duration):null,a=i.delay!=null?Tt(i.delay):null;return s!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),He(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==G.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ds);let s=Tt(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>He(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Tt(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),He(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?yi(i,t.params,t.errors):i;return Dr(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==G.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Tt(r.delay):0;o&&(t.previousNode.type===G.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ds);let s=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;let p=t.createSubContext(e.options,c);o&&p.delayNextStep(o),c===t.element&&(l=p.currentTimeline),He(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let C=p.currentTimeline.currentTime;s=Math.max(s,C)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let p=d.currentTime;He(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}},Ds={},jc=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Ds;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new bs(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Tt(i.duration)),i.delay!=null&&(r.delay=Tt(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=yi(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Ds,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Hc(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(XE,"."+this._enterClassName),e=e.replace(t_,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&a.length==0&&s.push(mh(t)),a}},bs=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=ZE,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||rt),this._currentKeyframe.set(t,rt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=n_(e,this._globalTimelineStyles);for(let[a,l]of s){let c=yi(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??rt),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,p)=>{d===mi?e.add(p):d===rt&&t.add(p)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...e.values()],s=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Kc(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},Hc=class extends bs{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=i+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",Oh(a)),o.push(c);let d=e.length-1;for(let p=1;p<=d;p++){let C=new Map(e[p]),_=C.get("offset"),w=t+_*i;C.set("offset",Oh(w/s)),o.push(C)}i=s,t=0,r="",e=o}return Kc(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function Oh(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function n_(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)t.set(o,rt)}else for(let[o,s]of r)t.set(o,s)}),t}function Lh(n,e,t,i,r,o,s,a,l,c,d,p,C){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:p,errors:C}}var kc={},ws=class{_triggerName;ast;_stateStyles;constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return i_(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,d){let p=[],C=this.ast.options&&this.ast.options.params||kc,_=a&&a.params||kc,w=this.buildStyles(i,_,p),S=l&&l.params||kc,H=this.buildStyles(r,S,p),z=new Set,ae=new Map,Me=new Map,be=r==="void",On={params:Wh(S,C),delay:this.ast.options?.delay},mt=d?[]:qh(e,t,this.ast.animation,o,s,w,H,On,c,p),xe=0;return mt.forEach(Le=>{xe=Math.max(Le.duration+Le.delay,xe)}),p.length?Lh(t,this._triggerName,i,r,be,w,H,[],[],ae,Me,xe,p):(mt.forEach(Le=>{let Xt=Le.element,Ln=je(ae,Xt,new Set);Le.preStyleProps.forEach(en=>Ln.add(en));let Xc=je(Me,Xt,new Set);Le.postStyleProps.forEach(en=>Xc.add(en)),Xt!==t&&z.add(Xt)}),Lh(t,this._triggerName,i,r,be,w,H,mt,[...z.values()],ae,Me,xe))}};function i_(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}function Wh(n,e){let t=R({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var Uc=class{styles;defaultParams;normalizer;constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=Wh(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=yi(s,r,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}};function r_(n,e,t){return new $c(n,e,t)}var $c=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new Uc(r.style,o,i))}),Vh(this.states,"true","1"),Vh(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new ws(e,r,this.states))}),this.fallbackTransition=o_(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function o_(n,e,t){let i=[(s,a)=>!0],r={type:G.Sequence,steps:[],options:null},o={type:G.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new ws(n,o,e)}function Vh(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var s_=new wr,Gc=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i}register(e,t){let i=[],r=[],o=zh(this._driver,t,i,r);if(i.length)throw Eh(i);this._animations.set(e,o)}_buildPlayer(e,t,i){let r=e.element,o=wc(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=qh(this._driver,t,o,Mc,fs,new Map,new Map,i,s_,r),s.forEach(d=>{let p=je(a,d.element,new Map);d.postStyleProps.forEach(C=>p.set(C,null))})):(r.push(_h()),s=[]),r.length)throw Ch(r);a.forEach((d,p)=>{d.forEach((C,_)=>{d.set(_,this._driver.computeStyle(p,_,rt))})});let l=s.map(d=>{let p=a.get(d.element);return this._buildPlayer(d,new Map,p)}),c=jt(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Dh(e);return t}listen(e,t,i,r){let o=us(t,"","","");return cs(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},Bh="ng-animate-queued",a_=".ng-animate-queued",Pc="ng-animate-disabled",l_=".ng-animate-disabled",c_="ng-star-inserted",u_=".ng-star-inserted",d_=[],Qh={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},f_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ht="__ng_removed",Ir=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=h_(r),i){let o=e,{value:s}=o,a=iu(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},br="void",Fc=new Ir(br),zc=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this._hostClassName="ng-tns-"+e,ot(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw bh(i,t);if(i==null||i.length==0)throw wh(t);if(!m_(i))throw Ih(i,t);let o=je(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);let a=je(this._engine.statesByElement,e,new Map);return a.has(t)||(ot(e,_r),ot(e,_r+"-"+t),a.set(t,Fc)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Sh(e);return t}trigger(e,t,i,r=!0){let o=this._getTrigger(t),s=new Sr(this.id,t,e),a=this._engine.statesByElement.get(e);a||(ot(e,_r),ot(e,_r+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Ir(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Fc),!(c.value===br)&&l.value===c.value){if(!v_(l.params,c.params)){let S=[],H=o.matchStyles(l.value,l.params,S),z=o.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{Jt(e,H),pt(e,z)})}return}let C=je(this._engine.playersByElement,e,[]);C.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let _=o.matchTransition(l.value,c.value,e,c.params),w=!1;if(!_){if(!r)return;_=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:_,fromState:l,toState:c,player:s,isFallbackTransition:w}),w||(ot(e,Bh),s.onStart(()=>{vi(e,Bh)})),s.onDone(()=>{let S=this.players.indexOf(s);S>=0&&this.players.splice(S,1);let H=this._engine.playersByElement.get(e);if(H){let z=H.indexOf(s);z>=0&&H.splice(z,1)}}),this.players.push(s),C.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Cr,!0);i.forEach(r=>{if(r[ht])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,br,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&jt(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=i.get(s)||Fc,d=new Ir(br),p=new Sr(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:d,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let o=e[ht];(!o||o===Qh)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ot(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=us(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,cs(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},qc=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new zc(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,i,r){if(vs(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!vs(t))return;let o=t[ht];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ot(e,Pc)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vi(e,Pc))}removeNode(e,t,i){if(vs(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[ht]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return vs(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Cr,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,ps,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return jt(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ht];if(t&&t.setForRemoval){if(e[ht]=Qh,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Pc)&&this.markElementAsDisabled(e,!1),this.driver.query(e,l_,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ot(r,c_)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?jt(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw Th(e)}_flushAnimations(e,t){let i=new wr,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(N=>{d.add(N);let k=this.driver.query(N,a_,!0);for(let O=0;O<k.length;O++)d.add(k[O])});let p=this.bodyNode,C=Array.from(this.statesByElement.keys()),_=Uh(C,this.collectedEnterElements),w=new Map,S=0;_.forEach((N,k)=>{let O=Mc+S++;w.set(k,O),N.forEach(Z=>ot(Z,O))});let H=[],z=new Set,ae=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){let k=this.collectedLeaveElements[N],O=k[ht];O&&O.setForRemoval&&(H.push(k),z.add(k),O.hasAnimation?this.driver.query(k,u_,!0).forEach(Z=>z.add(Z)):ae.add(k))}let Me=new Map,be=Uh(C,Array.from(z));be.forEach((N,k)=>{let O=fs+S++;Me.set(k,O),N.forEach(Z=>ot(Z,O))}),e.push(()=>{_.forEach((N,k)=>{let O=w.get(k);N.forEach(Z=>vi(Z,O))}),be.forEach((N,k)=>{let O=Me.get(k);N.forEach(Z=>vi(Z,O))}),H.forEach(N=>{this.processLeaveNode(N)})});let On=[],mt=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(t).forEach(O=>{let Z=O.player,_e=O.element;if(On.push(Z),this.collectedEnterElements.length){let Te=_e[ht];if(Te&&Te.setForMove){if(Te.previousTriggersValues&&Te.previousTriggersValues.has(O.triggerName)){let tn=Te.previousTriggersValues.get(O.triggerName),Ze=this.statesByElement.get(O.element);if(Ze&&Ze.has(O.triggerName)){let Ar=Ze.get(O.triggerName);Ar.value=tn,Ze.set(O.triggerName,Ar)}}Z.destroy();return}}let gt=!p||!this.driver.containsElement(p,_e),$e=Me.get(_e),Ht=w.get(_e),le=this._buildInstruction(O,i,Ht,$e,gt);if(le.errors&&le.errors.length){mt.push(le);return}if(gt){Z.onStart(()=>Jt(_e,le.fromStyles)),Z.onDestroy(()=>pt(_e,le.toStyles)),r.push(Z);return}if(O.isFallbackTransition){Z.onStart(()=>Jt(_e,le.fromStyles)),Z.onDestroy(()=>pt(_e,le.toStyles)),r.push(Z);return}let nu=[];le.timelines.forEach(Te=>{Te.stretchStartingKeyframe=!0,this.disabledNodes.has(Te.element)||nu.push(Te)}),le.timelines=nu,i.append(_e,le.timelines);let om={instruction:le,player:Z,element:_e};s.push(om),le.queriedElements.forEach(Te=>je(a,Te,[]).push(Z)),le.preStyleProps.forEach((Te,tn)=>{if(Te.size){let Ze=l.get(tn);Ze||l.set(tn,Ze=new Set),Te.forEach((Ar,Hs)=>Ze.add(Hs))}}),le.postStyleProps.forEach((Te,tn)=>{let Ze=c.get(tn);Ze||c.set(tn,Ze=new Set),Te.forEach((Ar,Hs)=>Ze.add(Hs))})});if(mt.length){let N=[];mt.forEach(k=>{N.push(Ah(k.triggerName,k.errors))}),On.forEach(k=>k.destroy()),this.reportError(N)}let xe=new Map,Le=new Map;s.forEach(N=>{let k=N.element;i.has(k)&&(Le.set(k,k),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,xe))}),r.forEach(N=>{let k=N.element;this._getPreviousPlayers(k,!1,N.namespaceId,N.triggerName,null).forEach(Z=>{je(xe,k,[]).push(Z),Z.destroy()})});let Xt=H.filter(N=>$h(N,l,c)),Ln=new Map;Hh(Ln,this.driver,ae,c,rt).forEach(N=>{$h(N,l,c)&&Xt.push(N)});let en=new Map;_.forEach((N,k)=>{Hh(en,this.driver,new Set(N),l,mi)}),Xt.forEach(N=>{let k=Ln.get(N),O=en.get(N);Ln.set(N,new Map([...k?.entries()??[],...O?.entries()??[]]))});let js=[],eu=[],tu={};s.forEach(N=>{let{element:k,player:O,instruction:Z}=N;if(i.has(k)){if(d.has(k)){O.onDestroy(()=>pt(k,Z.toStyles)),O.disabled=!0,O.overrideTotalTime(Z.totalTime),r.push(O);return}let _e=tu;if(Le.size>1){let $e=k,Ht=[];for(;$e=$e.parentNode;){let le=Le.get($e);if(le){_e=le;break}Ht.push($e)}Ht.forEach(le=>Le.set(le,_e))}let gt=this._buildAnimation(O.namespaceId,Z,xe,o,en,Ln);if(O.setRealPlayer(gt),_e===tu)js.push(O);else{let $e=this.playersByElement.get(_e);$e&&$e.length&&(O.parentPlayer=jt($e)),r.push(O)}}else Jt(k,Z.fromStyles),O.onDestroy(()=>pt(k,Z.toStyles)),eu.push(O),d.has(k)&&r.push(O)}),eu.forEach(N=>{let k=o.get(N.element);if(k&&k.length){let O=jt(k);N.setRealPlayer(O)}}),r.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<H.length;N++){let k=H[N],O=k[ht];if(vi(k,fs),O&&O.hasAnimation)continue;let Z=[];if(a.size){let gt=a.get(k);gt&&gt.length&&Z.push(...gt);let $e=this.driver.query(k,ps,!0);for(let Ht=0;Ht<$e.length;Ht++){let le=a.get($e[Ht]);le&&le.length&&Z.push(...le)}}let _e=Z.filter(gt=>!gt.destroyed);_e.length?g_(this,k,_e):this.processLeaveNode(k)}return H.length=0,js.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();let k=this.players.indexOf(N);this.players.splice(k,1)}),N.play()}),js}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==br;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,d=c!==o,p=je(i,c,[]);this._getPreviousPlayers(c,d,s,a,t.toState).forEach(_=>{let w=_.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),_.destroy(),p.push(_)})}Jt(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){let a=t.triggerName,l=t.element,c=[],d=new Set,p=new Set,C=t.timelines.map(w=>{let S=w.element;d.add(S);let H=S[ht];if(H&&H.removedBeforeQueried)return new It(w.duration,w.delay);let z=S!==l,ae=y_((i.get(S)||d_).map(xe=>xe.getRealPlayer())).filter(xe=>{let Le=xe;return Le.element?Le.element===S:!1}),Me=o.get(S),be=s.get(S),On=wc(this._normalizer,w.keyframes,Me,be),mt=this._buildPlayer(w,On,ae);if(w.subTimeline&&r&&p.add(S),z){let xe=new Sr(e,a,S);xe.setRealPlayer(mt),c.push(xe)}return mt});c.forEach(w=>{je(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>p_(this.playersByQueriedElement,w.element,w))}),d.forEach(w=>ot(w,xc));let _=jt(C);return _.onDestroy(()=>{d.forEach(w=>vi(w,xc)),pt(l,t.toStyles)}),p.forEach(w=>{je(r,w,[]).push(_)}),_}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new It(e.duration,e.delay)}},Sr=class{namespaceId;triggerName;element;_player=new It;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>cs(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){je(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function p_(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function h_(n){return n??null}function vs(n){return n&&n.nodeType===1}function m_(n){return n=="start"||n=="done"}function jh(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Hh(n,e,t,i,r){let o=[];t.forEach(l=>o.push(jh(l)));let s=[];i.forEach((l,c)=>{let d=new Map;l.forEach(p=>{let C=e.computeStyle(c,p,r);d.set(p,C),(!C||C.length==0)&&(c[ht]=f_,s.push(c))}),n.set(c,d)});let a=0;return t.forEach(l=>jh(l,o[a++])),s}function Uh(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==i&&t.get(l).push(a)}),t}function ot(n,e){n.classList?.add(e)}function vi(n,e){n.classList?.remove(e)}function g_(n,e,t){jt(t).onDone(()=>n.processLeaveNode(e))}function y_(n){let e=[];return Kh(n,e),e}function Kh(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof xn?Kh(i.players,e):e.push(i)}}function v_(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function $h(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}var Ei=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,i){this._driver=t,this._normalizer=i,this._transitionEngine=new qc(e.body,t,i),this._timelineEngine=new Gc(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],d=zh(this._driver,o,l,c);if(l.length)throw vh(r,l);a=r_(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[o,s]=Ic(i),a=r;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if(i.charAt(0)=="@"){let[s,a]=Ic(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function E_(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Oc(e[0]),e.length>1&&(i=Oc(e[e.length-1]))):e instanceof Map&&(t=Oc(e)),t||i?new __(n,t,i):null}var __=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&pt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pt(this._element,this._initialStyles),this._endStyles&&(pt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Jt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jt(this._element,this._endStyles),this._endStyles=null),pt(this._element,this._initialStyles),this._state=3)}}return n})();function Oc(n){let e=null;return n.forEach((t,i)=>{C_(i)&&(e=e||new Map,e.set(i,t))}),e}function C_(n){return n==="display"||n==="position"}var Is=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let i=()=>this._onFinish();return t.addEventListener("finish",i),this.onDestroy(()=>{t.removeEventListener("finish",i)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){let r=this._convertKeyframesToObject(t);try{return e.animate(r,i)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:ms(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Ss=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Sc(e,t)}getParentElement(e){return ds(e)}query(e,t,i){return Tc(e,t,i)}computeStyle(e,t,i){return ms(e,t)}animate(e,t,i,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};o&&(l.easing=o);let c=new Map,d=s.filter(_=>_ instanceof Is);Rh(i,r)&&d.forEach(_=>{_.currentSnapshot.forEach((w,S)=>c.set(S,w))});let p=xh(t).map(_=>new Map(_));p=kh(e,p,c);let C=E_(e,p);return new Is(e,p,l,C)}};var Es="@",Yh="@.disabled",Ts=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i,r){if(r){this.delegate.removeChild(e,t,i,r);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==Es&&t==Yh?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,r){return this.delegate.listen(e,t,i,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Wc=class extends Ts{factory;constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==Es?t.charAt(1)=="."&&t==Yh?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i,r){if(t.charAt(0)==Es){let o=D_(e),s=t.slice(1),a="";return s.charAt(0)!=Es&&([s,a]=b_(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(e,t,i,r)}};function D_(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function b_(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var As=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){let r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let p=()=>c.delete(r);d=new Ts("",r,this.engine,p),c.set(r,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return t.data.animation.forEach(a),new Wc(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var I_=(()=>{class n extends Ei{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(J(Qe),J(kn),J(Pn))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})();function S_(){return new _s}function T_(n,e,t){return new As(n,e,t)}var Zh=[{provide:Pn,useFactory:S_},{provide:Ei,useClass:I_},{provide:Lt,useFactory:T_,deps:[vr,Ei,me]}],wP=[{provide:kn,useClass:Qc},{provide:$o,useValue:"NoopAnimations"},...Zh],A_=[{provide:kn,useFactory:()=>new Ss},{provide:$o,useFactory:()=>"BrowserAnimations"},...Zh];function Jh(){return Vt("NgEagerAnimations"),[...A_]}function M_(n,e){if(n&1){let t=W();g(0,"div",8)(1,"input",16),j("input",function(r){let o=D(t).$index,s=y();return b(s.onEqBandChange(o,r))}),m(),g(2,"span",17),f(3),m()()}if(n&2){let t=e.$implicit,i=y();u(),Ye("--thumb-bg","var(--color-"+i.theme().primary+"-400)")("--track-bg","var(--color-"+i.theme().primary+"-950)")("--thumb-border","var(--color-"+i.theme().primary+"-900)"),$("value",t.value),u(2),te(t.label)}}var _i=class _i{constructor(){this.eqSettings=ue.required();this.enhancements=ue.required();this.theme=ue.required();this.close=Be();this.eqChange=Be();this.enhancementsChange=Be()}onEqBandChange(e,t){let i=parseInt(t.target.value,10),r=this.eqSettings().map((o,s)=>s===e?P(R({},o),{value:i}):o);this.eqChange.emit(r)}onEnhancementToggle(e,t){let i=t.target.checked,r=P(R({},this.enhancements()),{[e]:i});this.enhancementsChange.emit(r)}onClose(){this.close.emit()}};_i.\u0275fac=function(t){return new(t||_i)},_i.\u0275cmp=ve({type:_i,selectors:[["app-eq-panel"]],inputs:{eqSettings:[1,"eqSettings"],enhancements:[1,"enhancements"],theme:[1,"theme"]},outputs:{close:"close",eqChange:"eqChange",enhancementsChange:"enhancementsChange"},decls:37,vars:16,consts:[[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-4","w-auto","max-w-md","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"mb-4"],[1,"text-sm","mb-2"],[1,"flex","justify-around","items-end","h-48","bg-black/50","p-4"],[1,"flex","flex-col","items-center"],[1,"space-y-2"],[1,"flex","items-center","justify-between","p-2","bg-black/50","cursor-pointer"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"change","checked"],[1,"w-9","h-5","border","flex","items-center","justify-center","text-xs","peer-checked:text-black"],[1,"peer-checked:hidden"],[1,"hidden","peer-checked:inline"],["type","range","min","0","max","100",1,"slider","vertical-slider",3,"input","value"],[1,"text-xs","text-green-400/60","mt-2"]],template:function(t,i){t&1&&(g(0,"div",0),j("click",function(){return i.onClose()}),m(),g(1,"div",1)(2,"div",2)(3,"h2",3),f(4,"[[ Equalizer & Enhancements ]]"),m(),g(5,"button",4),j("click",function(){return i.onClose()}),f(6," [X] "),m()(),g(7,"div",5)(8,"h3",6),f(9,"// Graphic EQ"),m(),g(10,"div",7),re(11,M_,4,8,"div",8,Fe),m()(),g(13,"div")(14,"h3",6),f(15,"// Enhancements"),m(),g(16,"div",9)(17,"label",10)(18,"span"),f(19,"Bass Boost"),m(),g(20,"div",11)(21,"input",12),j("change",function(o){return i.onEnhancementToggle("bassBoost",o)}),m(),g(22,"div",13)(23,"span",14),f(24,"[\xA0\xA0]"),m(),g(25,"span",15),f(26,"[X]"),m()()()(),g(27,"label",10)(28,"span"),f(29,"Surround Sound (UI Only)"),m(),g(30,"div",11)(31,"input",12),j("change",function(o){return i.onEnhancementToggle("surroundSound",o)}),m(),g(32,"div",13)(33,"span",14),f(34,"[\xA0\xA0]"),m(),g(35,"span",15),f(36,"[X]"),m()()()()()()()),t&2&&(u(),h("text-"+i.theme().primary+"-400"),u(4),h("hover:bg-"+i.theme().primary+"-400"),u(5),h("border border-"+i.theme().primary+"-400/30"),u(),oe(i.eqSettings()),u(6),h("border border-"+i.theme().primary+"-400/30"),u(4),$("checked",i.enhancements().bassBoost),u(),h("peer-checked:bg-"+i.theme().primary+"-400"),u(5),h("border border-"+i.theme().primary+"-400/30"),u(4),$("checked",i.enhancements().surroundSound),u(),h("peer-checked:bg-"+i.theme().primary+"-400"))},dependencies:[De],styles:["input[type=range].vertical-slider[_ngcontent-%COMP%]{writing-mode:bt-lr;-webkit-appearance:slider-vertical;width:8px;height:120px;padding:0 5px;background-color:transparent}input[type=range].vertical-slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:var(--track-bg);width:4px;border-radius:0}input[type=range].vertical-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:8px;background:var(--thumb-bg);cursor:pointer;border:1px solid var(--thumb-border)}input[type=range].vertical-slider[_ngcontent-%COMP%]::-moz-range-track{background:var(--track-bg);width:4px;border-radius:0}input[type=range].vertical-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:8px;background:var(--thumb-bg);cursor:pointer;border:1px solid var(--thumb-border);border-radius:0}"]});var Ms=_i;var x_=["matrixCanvas"],Ci=class Ci{constructor(){this.canvasRef=Se.required("matrixCanvas");this.FRAME_RATE_INTERVAL=250}ngAfterViewInit(){let e=this.canvasRef().nativeElement,t=e.getContext("2d");if(!t){console.error("Could not get 2D context");return}this.ctx=t,e.width=window.innerWidth,e.height=window.innerHeight;let i="SmuveJeffPresents",r=16,o=e.width/r,s=[];for(let c=0;c<o;c++)s[c]=1;let a=0,l=c=>{if(c-a>this.FRAME_RATE_INTERVAL){this.ctx.fillStyle="rgba(0, 0, 0, 0.05)",this.ctx.fillRect(0,0,e.width,e.height),this.ctx.fillStyle="#0F0",this.ctx.font=r+"px monospace";for(let d=0;d<s.length;d++){let p=i.charAt(Math.floor(Math.random()*i.length));this.ctx.fillText(p,d*r,s[d]*r),s[d]*r>e.height&&Math.random()>.975&&(s[d]=0),s[d]++}a=c}this.animationFrameId=requestAnimationFrame(l)};this.animationFrameId=requestAnimationFrame(l)}ngOnDestroy(){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}};Ci.\u0275fac=function(t){return new(t||Ci)},Ci.\u0275cmp=ve({type:Ci,selectors:[["app-matrix-background"]],viewQuery:function(t,i){t&1&&Ce(i.canvasRef,x_,5),t&2&&Ke()},decls:2,vars:0,consts:[["matrixCanvas",""],[1,"absolute","top-0","left-0","w-full","h-full"]],template:function(t,i){t&1&&se(0,"canvas",1,0)},styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}"]});var xs=Ci;var Fn=class Fn{constructor(){this._apiKey=F(Yc);this._genAI=I(void 0);this._chatInstance=I(void 0);this._isAiAvailable=ie(()=>!!this._genAI());this.initializeGenAI()}get genAI(){return this._genAI()}get chatInstance(){return this._chatInstance()}get isAiAvailable(){return this._isAiAvailable()}getApiKey(){return this._apiKey}async initializeGenAI(){if(!this._apiKey||this._apiKey.length<30){console.error("AiService: AI features disabled. Invalid or missing API key injected via token."),this._genAI.set(void 0),this._chatInstance.set(void 0);return}try{let e=await import("./chunk-J3VMRGGX.js"),t=new e.GoogleGenAI({apiKey:this._apiKey});this._genAI.set(t);let i=t.chats.create({model:"gemini-3-pro-preview",config:{systemInstruction:`You are S.M.U.V.E, an expert AI music manager toolkit. You specialize in genres such as Southern Rap, Hip-Hop, R&B, and Trap music, and possess advanced management and marketing skills. Provide concise, helpful, and culturally relevant responses tailored for independent music artists.

You can manage music, generate images/videos, analyze content, and search the web for up-to-date information.

Use COMMAND:::ACTION:::PARAMETER_KEY='value' format for app commands (e.g., COMMAND:::SET_THEME:::theme='blue'). Available commands:
- SET_THEME: Apply a visual theme (e.g., theme='blue').
- PLAY_TRACK: Play a track (e.g., title='My Song').
- PAUSE_TRACK: Pause current track.
- STOP_TRACK: Stop current track.
- LOAD_TRACK: (Requires more parameters like URL or search query, use cautiously).
- NEXT_TRACK: Play next track in playlist.
- PREVIOUS_TRACK: Play previous track in playlist.
- TOGGLE_LOOP: Toggle loop for current track.
- GENERATE_IMAGE: Create an image (e.g., prompt='album cover concept').
- GENERATE_VIDEO: Create a video (e.g., prompt='music video visualizer').
- ANALYZE_IMAGE: Describe an image (e.g., imageUrl='base64data').
- FIND_ON_MAP: Search for a location (e.g., query='recording studios in Atlanta').
- FIND_ARTISTS: Search for collaborators (e.g., location='Nashville', filter='producer').
- VIEW_ARTIST_PROFILE: Display an artist's detailed profile (e.g., name='BeatMaster Flex', genre='Hip-Hop', location='Atlanta').

When VIEW_ARTIST_PROFILE is used, expect a command containing an artist's name (and optional genre/location for disambiguation). Query your knowledge base (and implicitly, the MOCK_ARTISTS data provided in the app context) to provide an adaptive, detailed insight into their profile. This should include:
- Strengths (musicality, production, stage presence, lyrical ability etc.)
- Specific collaboration potential (e.g., "collaborate with a Memphis trap producer for a new single," "feature on an T_R&B singer's track").
- Career advice (e.g., "focus on building a strong presence on TikTok," "consider licensing your beats for video games").
- Marketing insights (e.g., "target college radio stations in the Southeast," "run Instagram ad campaigns geotargeted to your city").

If you need to search for up-to-date info, use the googleSearch tool. Adapt insights based on their genre, location, influences, and collaboration interests. Your responses should be direct and highly actionable, reflecting deep expertise in these specific music genres and industry practices.`}});this._chatInstance.set(i),console.log("AiService: GoogleGenAI client initialized and chat instance created.")}catch(e){console.error("AiService: Error initializing GoogleGenAI client:",e),this._genAI.set(void 0),this._chatInstance.set(void 0)}}};Fn.\u0275fac=function(t){return new(t||Fn)},Fn.\u0275prov=X({token:Fn,factory:Fn.\u0275fac});var Ue=Fn,Xh=()=>Vi([{provide:Ue,useClass:Ue}]);var N_=(n,e)=>e.id,R_=(n,e)=>e.url;function k_(n,e){if(n&1&&(g(0,"div",2),f(1),m()),n&2){let t=y();u(),Q(" ",t.errorMessage()," ")}}function P_(n,e){n&1&&(g(0,"div",3),f(1," AI services are disabled. Networking search features might be limited. "),m())}function F_(n,e){n&1&&(g(0,"span"),f(1,"[ SEARCHING... ]"),m())}function O_(n,e){n&1&&(g(0,"span"),f(1,"[ FIND ARTISTS ]"),m())}function L_(n,e){if(n&1){let t=W();g(0,"div",31),j("click",function(){let r=D(t).$implicit,o=y();return b(o.viewArtistDetail(r))}),se(1,"img",32),g(2,"div",33)(3,"h4",34),f(4),m(),g(5,"p",35),f(6),m(),g(7,"p",36),f(8),m(),g(9,"p",36),f(10),m()(),bn(),g(11,"svg",37),se(12,"path",38),m()()}if(n&2){let t=e.$implicit,i=y();h("hover:bg-"+i.theme().blue+"-800/70"),u(),h("border-"+i.theme().neutral+"-600"),$("alt",ts(t.name))("src",t.imageUrl,fe),u(2),h("text-"+i.theme().blue+"-300"),u(),te(t.name),u(),h("text-"+i.theme().neutral+"-400"),u(),pi("",t.genre," - ",t.location),u(2),Q("",t.bio.substring(0,70),"..."),u(),h("text-"+i.theme().blue+"-500"),u(),Q("Interest: ",t.collaborationInterest.join(", ")),u(),h("text-"+i.theme().blue+"-400")}}function V_(n,e){if(n&1&&(g(0,"p",39),f(1,"No artists found. Adjust your search or clear filters."),m()),n&2){let t=y();h("text-"+t.theme().neutral+"-500")}}function B_(n,e){if(n&1&&(g(0,"p",35)(1,"strong"),f(2,"Specialties:"),m(),f(3),m()),n&2){let t=y(2);h("text-"+t.theme().neutral+"-400"),u(3),Q(" ",t.selectedArtistProfile().specialties.join(", "))}}function j_(n,e){if(n&1&&(g(0,"p",35)(1,"strong"),f(2,"Target Audience:"),m(),f(3),m()),n&2){let t=y(2);h("text-"+t.theme().neutral+"-400"),u(3),Q(" ",t.selectedArtistProfile().targetAudience)}}function H_(n,e){if(n&1&&(g(0,"p",35)(1,"strong"),f(2,"Career Goals:"),m(),f(3),m()),n&2){let t=y(2);h("text-"+t.theme().neutral+"-400"),u(3),Q(" ",t.selectedArtistProfile().careerGoals)}}function U_(n,e){if(n&1&&(g(0,"a",55),f(1),m()),n&2){let t=e.$implicit,i=y(2);h("hover:text-"+i.theme().blue+"-300"),$("href",t.url,fe),u(),pi(" ",t.type.toUpperCase(),": ",t.url," ")}}function $_(n,e){if(n&1&&(g(0,"p",54),f(1,"No links available."),m()),n&2){let t=y(2);h("text-"+t.theme().neutral+"-500")}}function G_(n,e){if(n&1){let t=W();g(0,"div",40),j("click",function(){D(t);let r=y();return b(r.closeArtistDetailModal())}),m(),g(1,"div",41)(2,"div",42)(3,"h2",34),f(4),m(),g(5,"button",43),j("click",function(){D(t);let r=y();return b(r.closeArtistDetailModal())}),f(6," [X] "),m()(),g(7,"div",44),se(8,"img",45),g(9,"div",46)(10,"p",35)(11,"strong"),f(12,"Genre:"),m(),f(13),m(),g(14,"p",35)(15,"strong"),f(16,"Location:"),m(),f(17),m(),g(18,"p",35)(19,"strong"),f(20,"Collaboration Interest:"),m(),f(21),m(),g(22,"p",35)(23,"strong"),f(24,"Influences:"),m(),f(25),m(),M(26,B_,4,3,"p",47),M(27,j_,4,3,"p",47),M(28,H_,4,3,"p",47),m()(),g(29,"div",48)(30,"p",49),f(31),m(),g(32,"h3",35),f(33,"// LINKS:"),m(),g(34,"div",50),re(35,U_,2,5,"a",51,R_,!1,$_,2,2,"p",52),m(),g(38,"h3",53),f(39,"// CONTACT:"),m(),g(40,"p",54),f(41),m()()()}if(n&2){let t=y();u(),h("text-"+t.theme().blue+"-400"),u(3),Q("[[ ARTIST PROFILE: ",t.selectedArtistProfile().name," ]]"),u(),h("hover:bg-"+t.theme().blue+"-400"),u(3),h("border-"+t.theme().neutral+"-600"),$("alt",ts(t.selectedArtistProfile().name))("src",t.selectedArtistProfile().imageUrl,fe),u(2),h("text-"+t.theme().neutral+"-400"),u(3),pi(" ",t.selectedArtistProfile().genre," (",t.selectedArtistProfile().genres.join(", "),")"),u(),h("text-"+t.theme().neutral+"-400"),u(3),Q(" ",t.selectedArtistProfile().location),u(),h("text-"+t.theme().blue+"-500"),u(3),Q(" ",t.selectedArtistProfile().collaborationInterest.join(", ")),u(),h("text-"+t.theme().neutral+"-500"),u(3),Q(" ",t.selectedArtistProfile().influences.join(", ")),u(),x(t.selectedArtistProfile().specialties?26:-1),u(),x(t.selectedArtistProfile().targetAudience?27:-1),u(),x(t.selectedArtistProfile().careerGoals?28:-1),u(),h("border-"+t.theme().blue+"-500/30"),u(2),te(t.selectedArtistProfile().bio),u(),h("text-"+t.theme().blue+"-300"),u(3),oe(t.selectedArtistProfile().links),u(3),h("text-"+t.theme().blue+"-300"),u(2),h("text-"+t.theme().neutral+"-400"),u(),te(t.selectedArtistProfile().contact)}}var At=[{id:"flex101",name:"BeatMaster Flex",genre:"Hip-Hop Producer",location:"Brooklyn, NY",locationLatLon:{lat:40.6782,lon:-73.9442},bio:"Award-winning producer with a knack for soulful beats and hard-hitting drums. Always looking for fresh vocalists and lyricists to elevate tracks. Specializing in old-school boom-bap and modern trap sounds.",contact:"flexbeats@email.com",imageUrl:"https://picsum.photos/seed/flex/150/150",collaborationInterest:["Vocalist","Lyricist","Rapper","Mixing Engineer"],genres:["Hip-Hop","Boom-Bap","Trap","Southern Rap"],influences:["J Dilla","DJ Premier","Madlib","Metro Boomin"],links:[{type:"soundcloud",url:"https://soundcloud.com/beatmasterflex"}],specialties:["Sampling","Drum Programming","Arrangement"],targetAudience:"Underground Hip-Hop, Trap, and R&B fans",careerGoals:"Produce a platinum album, mentor new artists"},{id:"mae202",name:"Melody Mae",genre:"Indie Pop Vocalist",location:"Los Angeles, CA",locationLatLon:{lat:34.0522,lon:-118.2437},bio:"Ethereal vocals with a dreamy vibe. Seeking producers for new tracks and live musicians for touring. Inspired by nature and introspection.",contact:"melodymae@email.com",imageUrl:"https://picsum.photos/seed/mae/150/150",collaborationInterest:["Producer","Guitarist","Songwriter","Keyboardist"],genres:["Indie Pop","Dream Pop","Alternative","R&B"],influences:["Fiona Apple","Lana Del Rey","Mazzy Star","SZA"],links:[{type:"spotify",url:"https://open.spotify.com/artist/melodymae"},{type:"instagram",url:"https://instagram.com/melodymae"}],specialties:["Vocal Harmony","Lyric Writing","Live Performance"],targetAudience:"Indie Pop, Dream Pop, and soulful R&B listeners",careerGoals:"Release a critically acclaimed album, headline festivals"},{id:"sammy303",name:"Synthwave Sammy",genre:"Electronic / Synthwave",location:"Miami, FL",locationLatLon:{lat:25.7617,lon:-80.1918},bio:"Master of retro synths and driving basslines, creating nostalgic soundscapes. Open to scoring short films, collaborating with vocalists, or DJing events.",contact:"sammywave@email.com",imageUrl:"https://picsum.photos/seed/sammy/150/150",collaborationInterest:["Vocalist","Filmmaker","DJ","Sound Designer"],genres:["Synthwave","Electronic","Vaporwave"],influences:["Com Truise","Kavinsky","Daft Punk"],links:[{type:"soundcloud",url:"https://soundcloud.com/synthwavesammy"},{type:"website",url:"https://synthwavesammy.com"}]},{id:"jake404",name:"Jazz Fusion Jake",genre:"Jazz / Fusion Guitarist",location:"New Orleans, LA",locationLatLon:{lat:29.9511,lon:-90.0715},bio:"Complex harmonies and intricate solos define my style. Looking for drummers, bassists, and horn players for a new progressive jazz project.",contact:"jakejazz@email.com",imageUrl:"https://picsum.photos/seed/jake/150/150",collaborationInterest:["Drummer","Bassist","Saxophonist","Keyboardist"],genres:["Jazz Fusion","Progressive Jazz","Funk"],influences:["Pat Metheny","John Scofield","Frank Gambale"],links:[{type:"spotify",url:"https://open.spotify.com/artist/jazzfusionjake"}]},{id:"rina505",name:"Rhythm Queen Rina",genre:"Afrobeat Drummer",location:"London, UK",locationLatLon:{lat:51.5074,lon:.1278},bio:"High-energy percussionist bringing vibrant global rhythms to any track. Collaborations in world music, hip-hop, or pop welcome. Specializing in intricate polyrhythms.",contact:"rina.drums@email.com",imageUrl:"https://picsum.photos/seed/rina/150/150",collaborationInterest:["Producer","Bassist","Vocalist","Guitarist"],genres:["Afrobeat","World Music","Funk","Hip-Hop"],influences:["Tony Allen","Fela Kuti","Ginger Baker"],links:[{type:"instagram",url:"https://instagram.com/rhythmqueenrina"}]},{id:"keys606",name:"Electro Keys Eva",genre:"Electronic Keyboardist",location:"Berlin, DE",locationLatLon:{lat:52.52,lon:13.405},bio:"Versatile keyboardist exploring ambient, techno, and house. Seeking DJs, producers, and experimental vocalists for live and studio projects.",contact:"eva.keys@email.com",imageUrl:"https://picsum.photos/seed/eva/150/150",collaborationInterest:["Producer","DJ","Vocalist","Sound Designer"],genres:["Techno","House","Ambient","Electronic"],influences:["Kraftwerk","Aphex Twin","Four Tet"],links:[{type:"soundcloud",url:"https://soundcloud.com/electrokeys"}]},{id:"rhyme707",name:"Poetic Rhyme Rex",genre:"Spoken Word / Hip-Hop",location:"Chicago, IL",locationLatLon:{lat:41.8781,lon:-87.6298},bio:"Lyricist and spoken word artist with a powerful message. Collaborations with producers across genres, from jazz to trap.",contact:"rexrhymes@email.com",imageUrl:"https://picsum.photos/seed/rex/150/150",collaborationInterest:["Producer","Vocalist","Jazz Musician"],genres:["Spoken Word","Hip-Hop","Poetry","Trap"],influences:["Gil Scott-Heron","Kendrick Lamar","Saul Williams","J. Cole"],links:[{type:"instagram",url:"https://instagram.com/poeticrex"}],specialties:["Freestyle","Storytelling","Performance Art"],targetAudience:"Conscious Hip-Hop and Spoken Word enthusiasts",careerGoals:"Release a conceptual album, perform at major poetry slams"},{id:"south808",name:"Southern Siren Sia",genre:"R&B / Trap Soul Vocalist",location:"Atlanta, GA",locationLatLon:{lat:33.7488,lon:-84.3877},bio:"Sultry vocals blending R&B smoothness with trap grit. Collaborating with producers for new EPs and visual artists for music videos. Deeply inspired by Atlanta's vibrant music scene.",contact:"siasounds@email.com",imageUrl:"https://picsum.photos/seed/sia/150/150",collaborationInterest:["Producer","Beatmaker","Video Director","Songwriter"],genres:["R&B","Trap Soul","Neo-Soul","Southern Rap"],influences:["Summer Walker","SZA","Future","Jhen\xE9 Aiko"],links:[{type:"instagram",url:"https://instagram.com/southernsirensia"},{type:"spotify",url:"https://open.spotify.com/artist/southernsirensia"}],specialties:["Vocal production","Ad-libs","Melody creation"],targetAudience:"R&B and Trap music listeners, especially in the South",careerGoals:"Build a strong brand, perform at A3C, release a full-length album"},{id:"beatrix909",name:"Beatrix B",genre:"Trap Producer",location:"Houston, TX",locationLatLon:{lat:29.7604,lon:-95.3698},bio:"Hard-hitting trap beats with cinematic undertones. Always on the lookout for new vocalists, especially those in Southern Rap and R&B, for joint projects. Ready to drop bangers.",contact:"beatrixb@email.com",imageUrl:"https://picsum.photos/seed/beatrix/150/150",collaborationInterest:["Vocalist","Rapper","Mixing Engineer","Songwriter"],genres:["Trap","Southern Rap","Hip-Hop"],influences:["Zaytoven","Cardo","Tay Keith"],links:[{type:"soundcloud",url:"https://soundcloud.com/beatrixb"}],specialties:["Beatmaking","Sound Design","Mixing"],targetAudience:"Trap and Southern Hip-Hop fans",careerGoals:"Secure major placements, build a production team"},{id:"soulful1010",name:"Soulful Sam",genre:"Neo-Soul / R&B Producer",location:"New Orleans, LA",locationLatLon:{lat:29.9511,lon:-90.0715},bio:"Crafting lush, soulful soundscapes with a modern twist. Seeking R&B and Neo-Soul vocalists, instrumentalists (especially horns and strings), for studio and live collaborations.",contact:"soulfulsam@email.com",imageUrl:"https://picsum.photos/seed/sam/150/150",collaborationInterest:["Vocalist","Instrumentalist","Songwriter","Mixing Engineer"],genres:["Neo-Soul","R&B","Jazz","Funk"],influences:["D'Angelo","Erykah Badu","Robert Glasper"],links:[{type:"spotify",url:"https://open.spotify.com/artist/soulfulsam"}],specialties:["Arrangement","Keys","Live instrumentation recording"],targetAudience:"Neo-Soul, R&B, and Jazz fusion listeners",careerGoals:"Release collaborative EPs, perform at jazz/soul festivals"}],Di=class Di{constructor(){this.theme=ue.required();this.initialSearchQuery=ue(null);this.searchLocation=I("");this.collaborationFilter=I("");this.displayedArtists=I([]);this.isLoading=I(!1);this.errorMessage=I(null);this.selectedArtistProfile=I(null);this.showArtistDetailModal=I(!1);this.aiService=F(Ue);this.isAiAvailable=ie(()=>this.aiService.isAiAvailable);this.artistProfileSelected=Be();ge(()=>{let e=this.initialSearchQuery();e&&e!==this.searchLocation()&&(this.searchLocation.set(e),this.searchArtists())}),this.displayedArtists.set(At),ge(()=>{this.selectedArtistProfile()?this.showArtistDetailModal.set(!0):this.showArtistDetailModal.set(!1)})}onSearchLocationInput(e){this.searchLocation.set(e.target.value)}onCollaborationFilterInput(e){this.collaborationFilter.set(e.target.value)}async searchArtists(){let e=this.searchLocation().trim(),t=this.collaborationFilter().trim();if(this.isLoading.set(!0),this.errorMessage.set(null),this.displayedArtists.set([]),!this.aiService.isAiAvailable){console.warn("AI services unavailable for networking search enhancement. Falling back to basic filter.");let i=At.filter(r=>{let o=!e||r.location.toLowerCase().includes(e.toLowerCase()),s=!t||r.collaborationInterest.some(a=>a.toLowerCase().includes(t.toLowerCase()));return o&&s});this.displayedArtists.set(i),i.length===0&&this.errorMessage.set("No artists found matching your criteria with basic filter."),this.isLoading.set(!1);return}try{let i=`You are an expert music industry scout specializing in Southern Rap, Hip-Hop, R&B, and Trap music genres, with advanced management and marketing skills. Given the following artists' profiles (as JSON array):

${JSON.stringify(At)}

Find artists who match the location "${e}" (if provided, prioritize this) and are interested in collaborations that include "${t}" (if provided, prioritize this). Consider their primary genre, influences, and bio for a holistic match. Provide the IDs of the top matching artists in a JSON array: {"matchingArtistIds": ["id1", "id2"]}. If no artists match, return an empty array.`,r=await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:"OBJECT",properties:{matchingArtistIds:{type:"ARRAY",items:{type:"STRING"}}},propertyOrdering:["matchingArtistIds"]}}}),s=JSON.parse(r.text).matchingArtistIds||[],a=At.filter(l=>s.includes(l.id));this.displayedArtists.set(a),a.length===0&&this.errorMessage.set("AI found no artists matching your criteria. Try different terms.")}catch(i){console.error("AI failed to enhance networking search:",i),this.errorMessage.set("AI search enhancement failed. Falling back to basic filter.");let r=At.filter(o=>{let s=!e||o.location.toLowerCase().includes(e.toLowerCase()),a=!t||o.collaborationInterest.some(l=>l.toLowerCase().includes(t.toLowerCase()));return s&&a});this.displayedArtists.set(r),r.length===0&&this.errorMessage.set("No artists found matching your criteria with basic filter.")}finally{this.isLoading.set(!1)}}clearSearch(){this.searchLocation.set(""),this.collaborationFilter.set(""),this.displayedArtists.set(At),this.errorMessage.set(null)}viewArtistDetail(e){this.selectedArtistProfile.set(e),this.artistProfileSelected.emit(e)}closeArtistDetailModal(){this.selectedArtistProfile.set(null)}};Di.\u0275fac=function(t){return new(t||Di)},Di.\u0275cmp=ve({type:Di,selectors:[["app-networking"]],inputs:{theme:[1,"theme"],initialSearchQuery:[1,"initialSearchQuery"]},outputs:{artistProfileSelected:"artistProfileSelected"},decls:55,vars:40,consts:[[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"bg-red-900/50","text-red-300","p-3","text-center","border","border-red-500","animate-fade-in"],[1,"bg-amber-900/50","text-amber-300","p-3","text-center","border","border-amber-500","animate-fade-in"],[1,"p-4","flex","flex-col","sm:flex-row","gap-4"],[1,"flex-grow","flex","flex-col","gap-2"],["for","location-search",1,"block","text-sm"],["id","location-search","type","text","placeholder","e.g., 'Los Angeles, CA' or 'London, UK'",1,"w-full","p-2","text-sm","focus:ring-500",3,"input","value","disabled"],["for","collaboration-filter",1,"block","text-sm"],["id","collaboration-filter",1,"w-full","p-2","text-sm","focus:ring-500",3,"change","value","disabled"],["value",""],["value","Vocalist"],["value","Producer"],["value","Lyricist"],["value","Guitarist"],["value","Drummer"],["value","Bassist"],["value","DJ"],["value","Songwriter"],["value","Filmmaker"],["value","Mixing Engineer"],["value","Keyboardist"],["value","Saxophonist"],["value","Sound Designer"],[1,"flex","gap-2","justify-center"],[1,"flex-grow","px-4","py-2","border-2","text-lg","max-w-sm",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg","max-w-sm",3,"click"],[1,"text-base","mt-4"],[1,"flex-grow","overflow-y-auto","pr-2","space-y-4","p-2"],[1,"flex","items-center","gap-4","p-4","cursor-pointer","transition-colors","duration-200",3,"class"],[1,"text-center","text-sm","p-4",3,"class"],[1,"flex","items-center","gap-4","p-4","cursor-pointer","transition-colors","duration-200",3,"click"],[1,"w-20","h-20","object-cover","border",3,"src","alt"],[1,"flex-grow"],[1,"text-lg"],[1,"text-sm"],[1,"text-xs","mt-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"text-center","text-sm","p-4"],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-lg","flex","flex-col","z-50","animate-slide-up","font-mono","max-h-[90vh]","overflow-hidden"],[1,"flex","justify-between","items-center","mb-4"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"flex","flex-col","sm:flex-row","gap-4","mb-4","flex-shrink-0"],[1,"w-32","h-32","object-cover","border","flex-shrink-0",3,"src","alt"],[1,"flex-grow","space-y-1"],[1,"text-sm",3,"class"],[1,"flex-grow","overflow-y-auto","pr-2","text-sm","border-t","pt-4"],[1,"mb-4"],[1,"space-y-1"],["target","_blank","rel","noopener noreferrer",1,"block","text-xs","underline",3,"href","class"],[1,"text-xs",3,"class"],[1,"text-sm","mt-4"],[1,"text-xs"],["target","_blank","rel","noopener noreferrer",1,"block","text-xs","underline",3,"href"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"h2",1),f(2,"[ AURA NETWORKING HUB ]"),m(),M(3,k_,2,1,"div",2),M(4,P_,2,0,"div",3),g(5,"div",4)(6,"div",5)(7,"label",6),f(8,"SEARCH LOCATION:"),m(),g(9,"input",7),j("input",function(o){return i.onSearchLocationInput(o)}),m()(),g(10,"div",5)(11,"label",8),f(12,"COLLABORATION INTEREST:"),m(),g(13,"select",9),j("change",function(o){return i.onCollaborationFilterInput(o)}),g(14,"option",10),f(15,"Any"),m(),g(16,"option",11),f(17,"Vocalist"),m(),g(18,"option",12),f(19,"Producer"),m(),g(20,"option",13),f(21,"Lyricist"),m(),g(22,"option",14),f(23,"Guitarist"),m(),g(24,"option",15),f(25,"Drummer"),m(),g(26,"option",16),f(27,"Bassist"),m(),g(28,"option",17),f(29,"DJ"),m(),g(30,"option",18),f(31,"Songwriter"),m(),g(32,"option",19),f(33,"Filmmaker"),m(),g(34,"option",20),f(35,"Mixing Engineer"),m(),g(36,"option",21),f(37,"Keyboardist"),m(),g(38,"option",22),f(39,"Saxophonist"),m(),g(40,"option",23),f(41,"Sound Designer"),m()()()(),g(42,"div",24)(43,"button",25),j("click",function(){return i.searchArtists()}),M(44,F_,2,0,"span")(45,O_,2,0,"span"),m(),g(46,"button",26),j("click",function(){return i.clearSearch()}),f(47," [ CLEAR ] "),m()(),g(48,"h3",27),f(49,"// COLLABORATORS FOUND:"),m(),g(50,"div",28),re(51,L_,13,20,"div",29,N_,!1,V_,2,2,"p",30),m()(),M(54,G_,42,37)),t&2&&(h("border border-"+i.theme().blue+"-500/30"),u(),h("text-"+i.theme().blue+"-400"),u(2),x(i.errorMessage()?3:-1),u(),x(i.isAiAvailable()?-1:4),u(),h("border border-"+i.theme().blue+"-500/20"),u(2),h("text-"+i.theme().blue+"-300"),u(2),h("focus:border-"+i.theme().blue+"-500"),$("value",i.searchLocation())("disabled",i.isLoading()),u(2),h("text-"+i.theme().blue+"-300"),u(2),h("focus:border-"+i.theme().blue+"-500"),$("value",i.collaborationFilter())("disabled",i.isLoading()),u(30),h("hover:text-black"),$("disabled",i.isLoading()),u(),x(i.isLoading()?44:45),u(2),h("hover:text-black"),u(2),h("text-"+i.theme().blue+"-300"),u(2),h("border border-"+i.theme().blue+"-500/20"),Ye("--chat-history-track-bg","var(--color-"+i.theme().blue+"-950)")("--chat-history-thumb-bg","var(--color-"+i.theme().blue+"-400)")("--chat-history-thumb-border","var(--color-"+i.theme().blue+"-900)")("--chat-history-thumb-hover-bg","var(--color-"+i.theme().blue+"-300)"),u(),oe(i.displayedArtists()),u(3),x(i.selectedArtistProfile()&&i.showArtistDetailModal()?54:-1))},dependencies:[De],styles:["[_nghost-%COMP%]{display:contents}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--chat-history-track-bg)}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--chat-history-thumb-bg);border:1px solid var(--chat-history-thumb-border)}.flex-grow.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--chat-history-thumb-hover-bg)}"],changeDetection:0});var Ns=Di;var z_=["chatHistory"],q_=(n,e)=>e.uri;function W_(n,e){if(n&1&&(g(0,"a",26),f(1),m()),n&2){let t=e.$implicit,i=y(3);h("hover:text-"+i.theme().primary+"-300"),$("href",t.uri,fe),u(),Q(" ",t.title||t.uri," ")}}function Q_(n,e){if(n&1&&(g(0,"div",23)(1,"p",24),f(2,"Sources:"),m(),re(3,W_,2,4,"a",25,q_),m()),n&2){let t=y().$implicit,i=y();h("border-"+i.theme().primary+"-500/30"),u(3),oe(t.urls)}}function K_(n,e){if(n&1&&(g(0,"div",27),se(1,"img",28),g(2,"p",29),f(3,"Image analyzed:"),m()()),n&2){let t=y().$implicit,i=y();h("border-"+i.theme().primary+"-500/30"),u(),$("src",t.imageUrl,fe),u(),h("text-"+i.theme().primary+"-500")}}function Y_(n,e){if(n&1&&(g(0,"div")(1,"div",19)(2,"span",20),f(3),m(),g(4,"span"),f(5),m(),M(6,Q_,5,2,"div",21),M(7,K_,4,5,"div",22),m()()),n&2){let t=e.$implicit,i=y();pe("text-right",t.role==="user")("text-left",t.role==="model"),u(),h(t.role==="user"?"bg-"+i.theme().primary+"-700/50":"bg-"+i.theme().primary+"-900/50"),u(),h("text-"+i.theme().primary+"-300"),u(),te(t.role==="user"?"YOU:":"S.M.U.V.E:"),u(2),te(t.content),u(),x(t.urls&&t.urls.length>0?6:-1),u(),x(t.imageUrl?7:-1)}}function Z_(n,e){if(n&1&&(g(0,"div",8)(1,"div",19)(2,"span",20),f(3,"S.M.U.V.E:"),m(),g(4,"span"),f(5,"Thinking..."),m()()()),n&2){let t=y();u(),h("bg-"+t.theme().primary+"-900/50"),u(),h("text-"+t.theme().primary+"-300")}}function J_(n,e){if(n&1&&(g(0,"div",8)(1,"div",30)(2,"span",20),f(3,"S.M.U.V.E:"),m(),g(4,"span"),f(5,"Speaking..."),m()()()),n&2){let t=y();u(),h("bg-"+t.theme().primary+"-900/50"),u(),h("text-"+t.theme().primary+"-300")}}function X_(n,e){if(n&1&&(g(0,"div",31),f(1," Hi! I'm S.M.U.V.E. How can I help you with your music today? "),m()),n&2){let t=y();h("text-"+t.theme().primary+"-400/70")}}function eC(n,e){n&1&&(g(0,"div",10),f(1," AI features are currently disabled. Please check the API key configuration. "),m())}function tC(n,e){n&1&&(g(0,"span"),f(1,"[ DEEP QUERY ACTIVE (GEMINI 3 PRO) ]"),m())}function nC(n,e){n&1&&(g(0,"span"),f(1,"[ DEEP QUERY (GEMINI 3 PRO) ]"),m())}function iC(n,e){n&1&&(bn(),g(0,"svg",15),se(1,"path",32)(2,"path",33),m())}function rC(n,e){n&1&&(bn(),g(0,"svg",16),se(1,"path",32)(2,"path",34)(3,"path",35),m())}var bi=class bi{constructor(){this.close=Be();this.appCommand=Be();this.theme=ue.required();this.imageToAnalyzeUrl=ue(null);this.imageAnalysisResult=Be();this.mapLocationQuery=ue(null);this.mapLocationResult=Be();this.messages=I([]);this.userMessage=I("");this.isLoading=I(!1);this.isVoiceInputActive=I(!1);this.isSpeaking=I(!1);this.isDeepQueryActive=I(!1);this.aiService=F(Ue);this.isAiAvailable=ie(()=>this.aiService.isAiAvailable);this.chatHistoryRef=Se("chatHistory");this.speechRecognition=null;this.speechUtterance=null;this.aiService.isAiAvailable||this.messages.update(e=>[...e,{role:"model",content:"AI services are currently unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."}]),"SpeechRecognition"in window||"webkitSpeechRecognition"in window?(this.speechRecognition=new(window.SpeechRecognition||window.webkitSpeechRecognition),this.speechRecognition.continuous=!1,this.speechRecognition.interimResults=!1,this.speechRecognition.lang="en-US",this.speechRecognition.onresult=e=>{let t=e.results[0][0].transcript;this.userMessage.set(t),this.sendMessage(),this.stopVoiceInput()},this.speechRecognition.onerror=e=>{console.error("Speech recognition error:",e.error),e.error==="no-speech"||this.messages.update(t=>[...t,{role:"model",content:`Voice input error: ${e.error}. Please try again.`}]),this.stopVoiceInput()},this.speechRecognition.onend=()=>{this.isVoiceInputActive.set(!1)}):console.warn("Speech Recognition API not supported in this browser."),ge(()=>{let e=this.imageToAnalyzeUrl();e&&!this.isLoading()&&(this.messages.update(t=>[...t,{role:"user",content:"Please analyze this image.",imageUrl:e}]),this.analyzeImage(e,"Describe this image in detail. Focus on elements relevant for an album cover or music video concept."))}),ge(()=>{let e=this.mapLocationQuery();e&&!this.isLoading()&&(this.messages.update(t=>[...t,{role:"user",content:`Find on map: ${e}`}]),this.sendGoogleMapsQuery(e))})}async sendMessage(){if(!this.aiService.isAiAvailable||!this.aiService.chatInstance)return;let e=this.userMessage().trim();if(e){if(this.messages.update(t=>[...t,{role:"user",content:e}]),this.userMessage.set(""),this.isLoading.set(!0),this.stopSpeaking(),this.isDeepQueryActive())await this.sendDeepQuery(e),this.isDeepQueryActive.set(!1);else if(e.toLowerCase().startsWith("search google for")||e.toLowerCase().startsWith("google for")){let t=e.toLowerCase().startsWith("google for")?e.substring(10).trim():e.substring(17).trim();await this.sendGoogleSearchQuery(t)}else if(e.toLowerCase().startsWith("find on map")||e.toLowerCase().startsWith("map for")){let t=e.toLowerCase().startsWith("map for")?e.substring(7).trim():e.substring(11).trim();await this.sendGoogleMapsQuery(t)}else if(e.toLowerCase().startsWith("view artist profile")){let t=e.substring(19).trim();if(t){let i=At.find(r=>r.name.toLowerCase()===t.toLowerCase());if(i)await this.getArtistInsight(i),this.appCommand.emit({action:"VIEW_ARTIST_PROFILE",parameters:{name:t}});else{let r=`S.M.U.V.E doesn't have data for "${t}". Please try searching for artists first.`;this.messages.update(o=>[...o,{role:"model",content:r}]),this.speakResponse(r)}}else{let i="Please specify an artist name to view their profile.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}else try{let i=(await this.aiService.chatInstance.sendMessage({message:e})).text;if(typeof i!="string"||i.trim()===""){console.warn("Gemini API returned empty or non-string response:",i);let s="S.M.U.V.E received an empty response. Please try rephrasing.";this.messages.update(a=>[...a,{role:"model",content:s}]),this.speakResponse(s),this.isLoading.set(!1),this.scrollToBottom();return}let r=i.trim(),o=r.split(":::");if(o.length>=2&&o[0]==="CHAT"){let s=o.slice(1).join(":::");this.messages.update(a=>[...a,{role:"model",content:s}]),this.speakResponse(s)}else if(o.length>=2&&o[0]==="COMMAND"){let s=o[1].trim(),a=(o[2]||"").trim();try{let l={};if(a){let d=/(\w+)\s*=\s*'([^']*)'|(\w+)\s*=\s*(\d+)/g,p;for(;(p=d.exec(a))!==null;){let C=p[1]||p[3],_=p[2]!==void 0?p[2]:p[4];l[C]=_}}this.appCommand.emit({action:s,parameters:l});let c=`Executing command: ${s}`;this.messages.update(d=>[...d,{role:"model",content:c}]),this.speakResponse(c)}catch(l){console.error("Failed to parse command parameters:",l,"from string:",a);let c="S.M.U.V.E sent a command I couldn't understand. Please try again.";this.messages.update(d=>[...d,{role:"model",content:c}]),this.speakResponse(c)}}else console.warn("AI response did not match expected CHAT/COMMAND format:",r),this.messages.update(s=>[...s,{role:"model",content:r}]),this.speakResponse(r)}catch(t){console.error("Error sending message to Gemini API:",t);let i="Oops! Something went wrong. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}this.isLoading.set(!1),this.scrollToBottom()}}async sendGoogleSearchQuery(e){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let t=await this.aiService.genAI.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{tools:[{googleSearch:{}}]}}),i=t.text,r=t.candidates?.[0]?.groundingMetadata?.groundingChunks,o=[];if(r)for(let a of r)a.web&&a.web.uri&&o.push({uri:a.web.uri,title:a.web.title});let s={role:"model",content:i,urls:o.length>0?o:void 0};this.messages.update(a=>[...a,s]),this.speakResponse(i)}catch(t){console.error("Error sending Google Search query to Gemini API:",t);let i="Oops! Failed to perform Google Search. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async sendGoogleMapsQuery(e){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let t=await this.aiService.genAI.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{tools:[{googleSearch:{}}]}}),i=t.text,r=t.candidates?.[0]?.groundingMetadata?.groundingChunks,o=[];if(r)for(let a of r)a.web&&a.web.uri&&o.push({uri:a.web.uri,title:a.web.title});let s={role:"model",content:i,urls:o.length>0?o:void 0};this.messages.update(a=>[...a,s]),this.speakResponse(i),this.mapLocationResult.emit(i)}catch(t){console.error("Error sending Google Maps query to Gemini API:",t);let i="Oops! Failed to find location on map. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async sendDeepQuery(e){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI))try{let i=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:e,config:{systemInstruction:this.aiService.chatInstance.config.systemInstruction,topK:64,topP:.95,temperature:1,seed:42}})).text;this.messages.update(r=>[...r,{role:"model",content:`[DEEP QUERY RESPONSE]: ${i}`}]),this.speakResponse(i)}catch(t){console.error("Error sending deep query to Gemini API:",t);let i="Oops! Deep query failed. Please try again.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}}async analyzeImage(e,t="Describe this image in detail. Focus on elements relevant for an album cover or music video concept."){if(!this.aiService.isAiAvailable||!this.aiService.genAI){let i="AI services are unavailable to analyze image. Please check API key.";this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i);return}this.isLoading.set(!0);try{let i=e.split(";")[0].split(":")[1],r=e.split(",")[1],o={inlineData:{mimeType:i,data:r}},s={text:t},l=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:[o,s]})).text,c={role:"model",content:`IMAGE ANALYSIS: ${l}`,imageUrl:e};this.messages.update(d=>[...d,c]),this.speakResponse(`Image analysis complete. ${l}`),this.imageAnalysisResult.emit(l)}catch(i){console.error("Error analyzing image with Gemini API:",i);let r="Oops! Failed to analyze image. Please try again.";this.messages.update(o=>[...o,{role:"model",content:r}]),this.speakResponse(r)}finally{this.isLoading.set(!1),this.scrollToBottom()}}async getArtistInsight(e){if(!(!this.aiService.isAiAvailable||!this.aiService.genAI)){this.isLoading.set(!0);try{let t=`You are S.M.U.V.E, an expert AI music manager toolkit specialized in Southern Rap, Hip-Hop, R&B, and Trap music, with advanced management and marketing skills. Provide an adaptive, detailed insight into the following independent music artist's profile. Your insights should be highly specific to their genre(s) and location, and offer actionable advice. Include:
      - Strengths (musicality, production, stage presence, lyrical ability etc.)
      - Specific collaboration potential (e.g., "collaborate with a Memphis trap producer for a new single," "feature on an Atlanta R&B singer's track").
      - Career advice (e.g., "focus on building a strong presence on TikTok," "consider licensing your beats for video games").
      - Marketing insights (e.g., "target college radio stations in the Southeast," "run Instagram ad campaigns geotargeted to your city").

Artist Profile:
Name: ${e.name}
Genre(s): ${e.genres.join(", ")}
Location: ${e.location}
Bio: ${e.bio}
Collaboration Interests: ${e.collaborationInterest.join(", ")}
Influences: ${e.influences.join(", ")}
Contact: ${e.contact}
Links: ${e.links.map(o=>`${o.type}: ${o.url}`).join(", ")}
Specialties: ${e.specialties?e.specialties.join(", "):"N/A"}
Target Audience: ${e.targetAudience||"N/A"}
Career Goals: ${e.careerGoals||"N/A"}

Provide insights relevant to their profile and the independent music scene, focusing on growth, networking, and strategic moves within their specified genres. Be specific to Southern Rap, Hip-Hop, R&B, and Trap where appropriate.`,r=(await this.aiService.genAI.models.generateContent({model:"gemini-3-pro-preview",contents:t,config:{systemInstruction:this.aiService.chatInstance.config.systemInstruction,topK:64,topP:.95,temperature:1,seed:42}})).text;this.messages.update(o=>[...o,{role:"model",content:`[INSIGHT for ${e.name}]: ${r}`}]),this.speakResponse(`Here's an insight for ${e.name}. ${r}`)}catch(t){console.error("Error getting artist insight:",t);let i=`S.M.U.V.E failed to provide insight for ${e.name}.`;this.messages.update(r=>[...r,{role:"model",content:i}]),this.speakResponse(i)}finally{this.isLoading.set(!1),this.scrollToBottom()}}}toggleVoiceInput(){if(!this.speechRecognition){alert("Speech Recognition is not supported in this browser.");return}this.isVoiceInputActive()?this.stopVoiceInput():this.startVoiceInput()}startVoiceInput(){this.speechRecognition&&(this.stopSpeaking(),this.isVoiceInputActive.set(!0),this.speechRecognition.start(),this.messages.update(e=>[...e,{role:"model",content:"Listening for voice input..."}]))}stopVoiceInput(){this.speechRecognition&&(this.speechRecognition.stop(),this.isVoiceInputActive.set(!1))}speakResponse(e){"speechSynthesis"in window?(this.stopSpeaking(),this.speechUtterance=new SpeechSynthesisUtterance(e),this.speechUtterance.onstart=()=>this.isSpeaking.set(!0),this.speechUtterance.onend=()=>this.isSpeaking.set(!1),this.speechUtterance.onerror=t=>{console.error("Speech synthesis error:",t),this.isSpeaking.set(!1)},window.speechSynthesis.speak(this.speechUtterance)):console.warn("Speech Synthesis API not supported in this browser.")}stopSpeaking(){this.speechUtterance&&(window.speechSynthesis.cancel(),this.isSpeaking.set(!1))}scrollToBottom(){requestAnimationFrame(()=>{if(this.chatHistoryRef()){let e=this.chatHistoryRef().nativeElement;e.scrollTop=e.scrollHeight}})}toggleDeepQuery(){this.isDeepQueryActive.update(e=>!e),this.isDeepQueryActive()?(this.messages.update(e=>[...e,{role:"model",content:"Deep Query mode activated. I will use Gemini 3 Pro for more complex reasoning. Please ask your question."}]),this.speakResponse("Deep Query mode activated. Please ask your question.")):(this.messages.update(e=>[...e,{role:"model",content:"Deep Query mode deactivated."}]),this.speakResponse("Deep Query mode deactivated."))}onClose(){this.stopVoiceInput(),this.stopSpeaking(),this.close.emit()}};bi.\u0275fac=function(t){return new(t||bi)},bi.\u0275cmp=ve({type:bi,selectors:[["app-chatbot"]],viewQuery:function(t,i){t&1&&Ce(i.chatHistoryRef,z_,5),t&2&&Ke()},inputs:{theme:[1,"theme"],imageToAnalyzeUrl:[1,"imageToAnalyzeUrl"],mapLocationQuery:[1,"mapLocationQuery"]},outputs:{close:"close",appCommand:"appCommand",imageAnalysisResult:"imageAnalysisResult",mapLocationResult:"mapLocationResult"},decls:26,vars:41,consts:[["chatHistory",""],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:right-4","sm:bottom-4","border-2","bg-black/90","backdrop-blur-lg","p-4","w-full","max-w-sm","h-[70vh]","flex","flex-col","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"flex-grow","overflow-y-auto","pr-2","mb-4","border-b","pb-2","space-y-3","chat-history"],[3,"text-right","text-left"],[1,"text-left"],[1,"text-center","py-4",3,"class"],[1,"text-center","py-4","text-red-400"],[1,"flex","gap-2","mb-2"],["type","button",1,"flex-grow","p-2","border","hover:text-black","text-sm","transition-colors",3,"click","disabled"],[1,"flex","gap-2",3,"submit"],["type","button",1,"p-2","border","hover:text-black","text-sm","transition-colors","flex","items-center","justify-center","w-10","h-10",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5","animate-pulse"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["type","text","placeholder","Type your message...",1,"flex-grow","bg-black","border","px-2","py-1","text-sm","focus:ring-500",3,"input","value","disabled"],["type","submit",1,"p-2","border","hover:text-black","text-sm",3,"disabled"],[1,"inline-block","p-2","rounded-lg","max-w-[85%]"],[1,"text-xs","mr-2"],[1,"text-xs","mt-2","border-t","pt-1",3,"class"],[1,"mt-2","p-1","border",3,"class"],[1,"text-xs","mt-2","border-t","pt-1"],[1,"font-bold"],["target","_blank","rel","noopener noreferrer",1,"block","underline",3,"href","class"],["target","_blank","rel","noopener noreferrer",1,"block","underline",3,"href"],[1,"mt-2","p-1","border"],["alt","Image for analysis",1,"max-w-full","h-auto","object-contain",3,"src"],[1,"text-xs","mt-1"],[1,"inline-block","p-2","rounded-lg","max-w-[85%]","animate-pulse"],[1,"text-center","py-4"],["d","M8.25 4.5a3.75 3.75 0 1 1 7.5 0v8.25a3.75 3.75 0 1 1-7.5 0V4.5Z"],["d","M6 10.5a.75.75 0 0 1 .75.75v1.5a5.25 5.25 0 1 0 10.5 0v-1.5a.75.75 0 0 1 1.5 0v1.5a6.75 6.75 0 1 1-13.5 0v-1.5a.75.75 0 0 1 .75-.75Z"],["d","M12 21a2.25 2.25 0 0 0 2.25-2.25V15a.75.75 0 0 0-1.5 0v3.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75V15a.75.75 0 0 0-1.5 0v3.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75V15a.75.75 0 0 0-1.5 0v3.75A2.25 2.25 0 0 0 12 21Z"],["d","M18.75 10.5a.75.75 0 0 0-1.5 0v1.5a6.75 6.75 0 0 1-13.5 0v-1.5a.75.75 0 0 0-1.5 0v1.5a8.25 8.25 0 1 0 16.5 0v-1.5A.75.75 0 0 0 18.75 10.5Z"]],template:function(t,i){if(t&1){let r=W();g(0,"div",1),j("click",function(){return D(r),b(i.onClose())}),m(),g(1,"div",2)(2,"div",3)(3,"h2",4),f(4,"[[ S.M.U.V.E ]]"),m(),g(5,"button",5),j("click",function(){return D(r),b(i.onClose())}),f(6," [X] "),m()(),g(7,"div",6,0),re(9,Y_,8,12,"div",7,Fe),M(11,Z_,6,4,"div",8)(12,J_,6,4,"div",8),M(13,X_,2,2,"div",9)(14,eC,2,0,"div",10),m(),g(15,"div",11)(16,"button",12),j("click",function(){return D(r),b(i.toggleDeepQuery())}),M(17,tC,2,0,"span")(18,nC,2,0,"span"),m()(),g(19,"form",13),j("submit",function(){return D(r),b(i.sendMessage())}),g(20,"button",14),j("click",function(){return D(r),b(i.toggleVoiceInput())}),M(21,iC,3,0,":svg:svg",15)(22,rC,4,0,":svg:svg",16),m(),g(23,"input",17),j("input",function(s){return D(r),b(i.userMessage.set(s.target.value))}),m(),g(24,"button",18),f(25," [ SEND ] "),m()()()}t&2&&(u(),h("text-"+i.theme().primary+"-400"),u(4),h("hover:bg-"+i.theme().primary+"-400"),u(2),h("border-"+i.theme().primary+"-400/30"),Ye("--chat-history-track-bg","var(--color-"+i.theme().primary+"-950)")("--chat-history-thumb-bg","var(--color-"+i.theme().primary+"-400)")("--chat-history-thumb-border","var(--color-"+i.theme().primary+"-900)")("--chat-history-thumb-hover-bg","var(--color-"+i.theme().primary+"-300)"),u(2),oe(i.messages()),u(2),x(i.isLoading()?11:i.isSpeaking()?12:-1),u(2),x(i.messages().length===0&&!i.isLoading()&&!i.isSpeaking()&&i.isAiAvailable()?13:i.isAiAvailable()?-1:14),u(3),h("hover:bg-"+i.theme().primary+"-400"),pe("bg-green-500",i.isDeepQueryActive())("text-black",i.isDeepQueryActive()),$("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()),u(),x(i.isDeepQueryActive()?17:18),u(2),pe("opacity-50",!i.isAiAvailable()),u(),h("hover:bg-"+i.theme().primary+"-400"),pe("bg-green-500",i.isVoiceInputActive())("text-black",i.isVoiceInputActive()),$("disabled",i.isLoading()||i.isDeepQueryActive()||!i.isAiAvailable()),u(),x(i.isVoiceInputActive()?21:22),u(2),h("focus:border-"+i.theme().primary+"-500"),$("value",i.userMessage())("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()),u(),h("hover:bg-"+i.theme().primary+"-400"),$("disabled",i.isLoading()||i.isVoiceInputActive()||!i.isAiAvailable()))},dependencies:[De],styles:[".chat-history[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--chat-history-track-bg)}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--chat-history-thumb-bg);border:1px solid var(--chat-history-thumb-border)}.chat-history[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--chat-history-thumb-hover-bg)}"],changeDetection:0});var Rs=bi;var oC=["fileInput"],sC=()=>["1:1","4:3","3:4","16:9","9:16"];function aC(n,e){if(n&1&&se(0,"img",7),n&2){let t=y();$("src",t.originalImageUrl(),fe)}}function lC(n,e){if(n&1&&(g(0,"span",23),f(1,"[ Upload an image for reference or leave empty ]"),m()),n&2){let t=y();h("text-"+t.theme().neutral+"-500")}}function cC(n,e){if(n&1){let t=W();g(0,"button",24),j("click",function(){let r=D(t).$implicit,o=y();return b(o.aspectRatio.set(r))}),f(1),m()}if(n&2){let t=e.$implicit,i=y();h(i.aspectRatio()===t?"bg-"+i.theme().purple+"-500 text-black":"hover:bg-"+i.theme().purple+"-700/50"),$("disabled",i.isLoading()||!i.isAiAvailable()),u(),Q(" ",t," ")}}function uC(n,e){n&1&&(g(0,"span"),f(1,"[ GENERATING... ]"),m())}function dC(n,e){n&1&&(g(0,"span"),f(1,"[ GENERATE ]"),m())}function fC(n,e){if(n&1&&(g(0,"p",19),f(1),m()),n&2){let t=y();u(),te(t.errorMessage())}}function pC(n,e){n&1&&(g(0,"p",19),f(1,"AI features are disabled due to an invalid API key."),m())}function hC(n,e){if(n&1&&se(0,"img",25),n&2){let t=e.$implicit;$("src",t,fe)}}function mC(n,e){if(n&1&&re(0,hC,1,1,"img",25,Fe),n&2){let t=y();oe(t.generatedImageUrls())}}function gC(n,e){if(n&1&&(g(0,"span",26),f(1,"[ Generating image... ]"),m()),n&2){let t=y();h("text-"+t.theme().neutral+"-500")}}function yC(n,e){if(n&1&&(g(0,"span",23),f(1,"[ No image generated yet ]"),m()),n&2){let t=y();h("text-"+t.theme().neutral+"-500")}}function vC(n,e){if(n&1){let t=W();g(0,"button",27),j("click",function(){D(t);let r=y();return b(r.useAsAlbumArt())}),f(1," [ USE AS ALBUM ART ] "),m()}if(n&2){let t=y();h("hover:bg-"+t.theme().purple+"-500"),$("disabled",!t.isAiAvailable())}}function EC(n,e){if(n&1){let t=W();g(0,"button",27),j("click",function(){D(t);let r=y();return b(r.requestImageAnalysis())}),f(1," [ ANALYZE IMAGE ] "),m()}if(n&2){let t=y();h("hover:bg-"+t.theme().purple+"-500"),$("disabled",!t.isAiAvailable())}}function _C(n,e){if(n&1&&(g(0,"a",28),f(1," [ DOWNLOAD ] "),m()),n&2){let t=y();h("hover:bg-"+t.theme().purple+"-500"),pe("opacity-50",!t.isAiAvailable()),$("href",t.generatedImageUrls()[0],fe),es("disabled",t.isAiAvailable()?null:!0)}}var wi=class wi{constructor(){this.initialPrompt=ue(null);this.theme=ue.required();this.originalImageUrl=I(null);this.editPrompt=I("");this.generatedImageUrls=I([]);this.isLoading=I(!1);this.errorMessage=I(null);this.aspectRatio=I("1:1");this.aiService=F(Ue);this.isAiAvailable=ie(()=>this.aiService.isAiAvailable);this.fileInputRef=Se("fileInput");this.imageSelected=Be();this.imageAnalysisRequest=Be();this.genAI=void 0;this.aiService.isAiAvailable?this.genAI=this.aiService.genAI:this.errorMessage.set("AI features are unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."),ge(()=>{let e=this.initialPrompt();e&&e!==this.editPrompt()&&this.editPrompt.set(e)})}handleImageUpload(e){let t=e.target.files?.[0];if(t){this.errorMessage.set(null),this.generatedImageUrls.set([]);let i=new FileReader;i.onload=r=>{this.originalImageUrl.set(r.target?.result)},i.onerror=()=>{this.errorMessage.set("Failed to read file.")},i.readAsDataURL(t)}else this.originalImageUrl.set(null),this.generatedImageUrls.set([])}async generateImage(){if(!this.isAiAvailable()||!this.genAI){this.errorMessage.set("AI features are unavailable. Please check your configuration (window.AURA_GEMINI_API_KEY).");return}let e=this.editPrompt().trim();if(!e){this.errorMessage.set("Please enter an edit prompt.");return}this.isLoading.set(!0),this.errorMessage.set(null),this.generatedImageUrls.set([]);try{let i=(await this.genAI.models.generateImages({model:"imagen-4.0-generate-001",prompt:e,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:this.aspectRatio()}})).generatedImages[0]?.image?.imageBytes;i?this.generatedImageUrls.set([`data:image/png;base64,${i}`]):this.errorMessage.set("No image generated. Please try a different prompt.")}catch(t){console.error("Error generating image:",t),this.errorMessage.set(`Image generation failed: ${t.message||"Unknown error"}.`)}finally{this.isLoading.set(!1)}}clearImage(){this.originalImageUrl.set(null),this.generatedImageUrls.set([]),this.editPrompt.set(""),this.errorMessage.set(null),this.fileInputRef()&&(this.fileInputRef().nativeElement.value="")}useAsAlbumArt(){let e=this.generatedImageUrls().length>0?this.generatedImageUrls()[0]:this.originalImageUrl();e?this.imageSelected.emit(e):this.errorMessage.set("No image to use as album art.")}requestImageAnalysis(){let e=this.generatedImageUrls().length>0?this.generatedImageUrls()[0]:this.originalImageUrl();e?(this.imageAnalysisRequest.emit(e),alert("Image analysis requested. Check chatbot for results!")):this.errorMessage.set("No image available to analyze.")}};wi.\u0275fac=function(t){return new(t||wi)},wi.\u0275cmp=ve({type:wi,selectors:[["app-image-editor"]],viewQuery:function(t,i){t&1&&Ce(i.fileInputRef,oC,5),t&2&&Ke()},inputs:{initialPrompt:[1,"initialPrompt"],theme:[1,"theme"]},outputs:{imageSelected:"imageSelected",imageAnalysisRequest:"imageAnalysisRequest"},decls:40,vars:40,consts:[["fileInput",""],[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","flex-grow"],[1,"flex","flex-col","gap-4","p-4"],[1,"text-base"],[1,"flex-grow","flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden"],["alt","Uploaded Image",1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"text-sm",3,"class"],[1,"w-full","text-center","block","p-2","border","hover:text-black","cursor-pointer","text-sm"],["type","file","accept","image/*",1,"hidden",3,"change"],["for","edit-prompt",1,"block","text-sm"],["id","edit-prompt","placeholder","e.g., 'A retro-futuristic album cover with glowing elements', 'A sci-fi landscape art with vibrant colors'","rows","4",1,"w-full","p-2","text-sm","focus:ring-500","resize-y",3,"input","value","disabled"],[1,"block","text-sm","mt-2"],[1,"flex","flex-wrap","gap-2","text-sm"],["type","button",1,"px-3","py-1","border",3,"class","disabled"],[1,"flex","gap-2","mt-4"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg",3,"click"],[1,"text-red-500","text-sm","mt-2","text-center"],[1,"text-sm","animate-pulse",3,"class"],[1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg","mb-2",3,"class","disabled"],["download","aura-edited-image.png",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href","class","opacity-50"],[1,"text-sm"],["type","button",1,"px-3","py-1","border",3,"click","disabled"],["alt","Generated Image",1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"text-sm","animate-pulse"],[1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg","mb-2",3,"click","disabled"],["download","aura-edited-image.png",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"]],template:function(t,i){if(t&1){let r=W();g(0,"div",1)(1,"h2",2),f(2,"[ AURA IMAGE LAB ]"),m(),g(3,"div",3)(4,"div",4)(5,"h3",5),f(6,"// ORIGINAL IMAGE (FOR CONTEXT)"),m(),g(7,"div",6),M(8,aC,1,1,"img",7)(9,lC,2,2,"span",8),m(),g(10,"label",9),f(11," [ UPLOAD IMAGE ] "),g(12,"input",10,0),j("change",function(s){return D(r),b(i.handleImageUpload(s))}),m()(),g(14,"label",11),f(15,"GENERATION PROMPT:"),m(),g(16,"textarea",12),j("input",function(s){return D(r),b(i.editPrompt.set(s.target.value))}),m(),g(17,"label",13),f(18,"ASPECT RATIO:"),m(),g(19,"div",14),re(20,cC,2,4,"button",15,cr),m(),g(22,"div",16)(23,"button",17),j("click",function(){return D(r),b(i.generateImage())}),M(24,uC,2,0,"span")(25,dC,2,0,"span"),m(),g(26,"button",18),j("click",function(){return D(r),b(i.clearImage())}),f(27," [ CLEAR ] "),m()(),M(28,fC,2,1,"p",19),M(29,pC,2,0,"p",19),m(),g(30,"div",4)(31,"h3",5),f(32,"// GENERATED IMAGE"),m(),g(33,"div",6),M(34,mC,2,0)(35,gC,2,2,"span",20)(36,yC,2,2,"span",8),m(),M(37,vC,2,3,"button",21),M(38,EC,2,3,"button",21),M(39,_C,2,6,"a",22),m()()()}t&2&&(h("border border-"+i.theme().purple+"-500/30"),u(),h("text-"+i.theme().purple+"-400"),u(3),h("border border-"+i.theme().purple+"-500/20"),u(),h("text-"+i.theme().purple+"-300"),u(2),h("border-"+i.theme().purple+"-700/50"),u(),x(i.originalImageUrl()?8:9),u(2),h("hover:bg-"+i.theme().purple+"-500"),u(4),h("text-"+i.theme().purple+"-300"),u(2),h("focus:border-"+i.theme().purple+"-500"),$("value",i.editPrompt())("disabled",i.isLoading()||!i.isAiAvailable()),u(),h("text-"+i.theme().purple+"-300"),u(3),oe(Zt(39,sC)),u(3),h("hover:text-black"),$("disabled",!i.editPrompt()||i.isLoading()||!i.isAiAvailable()),u(),x(i.isLoading()?24:25),u(2),h("hover:text-black"),u(2),x(i.errorMessage()?28:-1),u(),x(i.isAiAvailable()?-1:29),u(),h("border border-"+i.theme().purple+"-500/20"),u(),h("text-"+i.theme().purple+"-300"),u(2),h("border-"+i.theme().purple+"-700/50"),u(),x(i.generatedImageUrls().length>0?34:i.isLoading()?35:36),u(3),x(i.generatedImageUrls().length>0?37:-1),u(),x(i.generatedImageUrls().length>0?38:-1),u(),x(i.generatedImageUrls().length>0?39:-1))},dependencies:[De],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0});var ks=wi;var CC=["liveVideoPreview"],DC=["recordedVideoPlayer"],bC=()=>["1:1","4:3","3:4","16:9","9:16"];function wC(n,e){if(n&1&&(g(0,"div",4),f(1),m()),n&2){let t=y();u(),Q(" ",t.error()," ")}}function IC(n,e){if(n&1&&(g(0,"span",26),f(1,"[ Camera Off ]"),m()),n&2){let t=y();h("text-"+t.theme().neutral+"-500")}}function SC(n,e){if(n&1&&(g(0,"span",11),se(1,"span",27),f(2),m()),n&2){let t=y();u(2),Q(" REC: ",t.formatTime(t.recordingTime())," ")}}function TC(n,e){n&1&&(g(0,"span"),f(1,"[ DISABLE CAMERA ]"),m())}function AC(n,e){n&1&&(g(0,"span"),f(1,"[ ENABLE CAMERA ]"),m())}function MC(n,e){n&1&&(g(0,"span"),f(1,"[ RECORDING... ]"),m())}function xC(n,e){n&1&&(g(0,"span"),f(1,"[ START RECORDING ]"),m())}function NC(n,e){if(n&1&&(g(0,"h3",28),f(1,"// RECORDED VIDEO"),m(),g(2,"div",29),se(3,"video",30,1),m(),g(5,"a",31),f(6," [ DOWNLOAD RECORDED VIDEO ] "),m()),n&2){let t=y();h("text-"+t.theme().purple+"-300"),u(2),h("border-"+t.theme().purple+"-700/50"),u(),$("src",t.recordedVideoUrl(),fe),u(2),h("hover:bg-"+t.theme().purple+"-500"),$("href",t.recordedVideoUrl(),fe)}}function RC(n,e){if(n&1&&(g(0,"div",15)(1,"h4",32),f(2,"// IMAGE INPUT FROM EDITOR"),m(),se(3,"img",33),m()),n&2){let t=y();u(),h("text-"+t.theme().neutral+"-400"),u(2),h("border-"+t.theme().neutral+"-600"),$("src",t.imageForVideoGeneration(),fe)}}function kC(n,e){if(n&1){let t=W();g(0,"button",34),j("click",function(){let r=D(t).$implicit,o=y();return b(o.aspectRatio.set(r))}),f(1),m()}if(n&2){let t=e.$implicit,i=y();h(i.aspectRatio()===t?"bg-"+i.theme().purple+"-500 text-black":"hover:bg-"+i.theme().purple+"-700/50"),$("disabled",i.isGeneratingVideo()||!i.isAiAvailable()),u(),Q(" ",t," ")}}function PC(n,e){n&1&&(g(0,"span"),f(1,"[ GENERATING... ]"),m())}function FC(n,e){n&1&&(g(0,"span"),f(1,"[ GENERATE FROM PROMPT ]"),m())}function OC(n,e){n&1&&(g(0,"span"),f(1,"[ GENERATING... ]"),m())}function LC(n,e){n&1&&(g(0,"span"),f(1,"[ GENERATE FROM IMAGE + PROMPT ]"),m())}function VC(n,e){if(n&1){let t=W();g(0,"button",13),j("click",function(){D(t);let r=y();return b(r.generateVideo(!0))}),M(1,OC,2,0,"span")(2,LC,2,0,"span"),m()}if(n&2){let t=y();h("hover:text-black"),$("disabled",!t.videoPrompt()||t.isGeneratingVideo()||!t.isAiAvailable()),u(),x(t.isGeneratingVideo()?1:2)}}function BC(n,e){if(n&1&&(g(0,"p",35),f(1),m()),n&2){let t=y();h("text-"+t.theme().neutral+"-400"),u(),te(t.generationProgressMessage())}}function jC(n,e){if(n&1&&(g(0,"h3",28),f(1,"// GENERATED AI VIDEO"),m(),g(2,"div",29),se(3,"video",36),m(),g(4,"a",37),f(5," [ DOWNLOAD AI VIDEO ] "),m()),n&2){let t=y();h("text-"+t.theme().purple+"-300"),u(2),h("border-"+t.theme().purple+"-700/50"),u(),$("src",t.generatedVideoUrl(),fe),u(),h("hover:bg-"+t.theme().purple+"-500"),$("href",t.generatedVideoUrl(),fe)}}var Ii=class Ii{constructor(){this.imageForVideoGeneration=ue(null);this.initialPrompt=ue(null);this.theme=ue.required();this.mediaStream=I(null);this.isRecording=I(!1);this.recordedVideoBlob=I(null);this.recordedVideoUrl=I(null);this.recordingTime=I(0);this.cameraEnabled=I(!1);this.isCameraActive=I(!1);this.videoPrompt=I("");this.generatedVideoUrl=I(null);this.isGeneratingVideo=I(!1);this.generationProgressMessage=I(null);this.aspectRatio=I("16:9");this.aiService=F(Ue);this.isAiAvailable=ie(()=>this.aiService.isAiAvailable);this.error=I(null);this.liveVideoPreviewRef=Se("liveVideoPreview");this.recordedVideoPlayerRef=Se("recordedVideoPlayer");this.mediaRecorder=null;this.recordedChunks=[];this.genAI=void 0;this.aiService.isAiAvailable?this.genAI=this.aiService.genAI:this.error.set("AI features are unavailable. An API key is required and was not found or was invalid in window.AURA_GEMINI_API_KEY."),ge(()=>{let e=this.initialPrompt();e&&e!==this.videoPrompt()&&this.videoPrompt.set(e)})}ngOnDestroy(){this.stopMediaStream()}async requestMediaPermissions(){this.error.set(null),this.mediaStream()&&this.stopMediaStream();try{let e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});this.mediaStream.set(e),this.cameraEnabled.set(!0),this.isCameraActive.set(!0),this.liveVideoPreviewRef()&&(this.liveVideoPreviewRef().nativeElement.srcObject=e,await this.liveVideoPreviewRef().nativeElement.play()),console.log("Camera and microphone access granted.")}catch(e){console.error("Error accessing media devices:",e),this.error.set(`Failed to access camera/microphone: ${e.name||e.message}. Please check permissions.`),this.cameraEnabled.set(!1),this.isCameraActive.set(!1)}}stopMediaStream(){this.mediaStream()?.getTracks().forEach(e=>e.stop()),this.mediaStream.set(null),this.isCameraActive.set(!1),this.liveVideoPreviewRef()&&(this.liveVideoPreviewRef().nativeElement.srcObject=null),console.log("Media stream stopped.")}toggleCamera(){this.isCameraActive()?(this.stopMediaStream(),this.cameraEnabled.set(!1)):this.requestMediaPermissions()}startRecording(){if(!this.mediaStream()||!this.isCameraActive()){this.error.set("Camera is not active. Please enable camera first.");return}if(!this.isRecording()){this.recordedChunks=[],this.recordedVideoBlob.set(null),this.recordedVideoUrl.set(null),this.recordingTime.set(0),this.error.set(null);try{this.mediaRecorder=new MediaRecorder(this.mediaStream(),{mimeType:"video/webm; codecs=vp8,opus"}),this.mediaRecorder.ondataavailable=e=>{e.data.size>0&&this.recordedChunks.push(e.data)},this.mediaRecorder.onstop=()=>{let e=new Blob(this.recordedChunks,{type:"video/webm"});this.recordedVideoBlob.set(e),this.recordedVideoUrl.set(URL.createObjectURL(e)),console.log("Recording stopped. Blob created."),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.onerror=e=>{console.error("MediaRecorder error:",e.error),this.error.set(`Recording error: ${e.error.name||e.error.message}`),this.isRecording.set(!1),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.start(),this.isRecording.set(!0),this.recordingIntervalId=window.setInterval(()=>this.recordingTime.update(e=>e+1),1e3),console.log("Recording started.")}catch(e){console.error("Error starting MediaRecorder:",e),this.error.set(`Failed to start recording: ${e.message}`),this.isRecording.set(!1)}}}stopRecording(){this.mediaRecorder&&this.isRecording()&&(this.mediaRecorder.stop(),this.isRecording.set(!1),console.log("Attempting to stop recording..."))}playRecordedVideo(){this.recordedVideoUrl()&&this.recordedVideoPlayerRef()&&(this.recordedVideoPlayerRef().nativeElement.load(),this.recordedVideoPlayerRef().nativeElement.play().catch(e=>console.error("Error playing recorded video:",e)))}async generateVideo(e){if(!this.isAiAvailable()||!this.genAI){this.error.set("AI features are unavailable. Please check your configuration (window.AURA_GEMINI_API_KEY).");return}let t=this.videoPrompt().trim();if(!t){this.error.set("Please enter a prompt for video generation.");return}if(e&&!this.imageForVideoGeneration()){this.error.set('Please select an image first or clear "Generate from image" option.');return}this.isGeneratingVideo.set(!0),this.error.set(null),this.generatedVideoUrl.set(null),this.generationProgressMessage.set("Starting video generation...");try{let i,r={numberOfVideos:1,aspectRatio:this.aspectRatio()};if(e&&this.imageForVideoGeneration()){let s=this.imageForVideoGeneration().split(";")[0].split(":")[1],a=this.imageForVideoGeneration().split(",")[1];i=await this.genAI.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:t,image:{imageBytes:a,mimeType:s},config:r})}else i=await this.genAI.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:t,config:r});for(this.generationProgressMessage.set("Video generation in progress. This may take a few minutes...");!i.done;)await new Promise(s=>setTimeout(s,1e4)),this.generationProgressMessage.set(`Still generating... Current status: ${i.metadata?.state||"processing"}`),i=await this.genAI.operations.getVideosOperation({operation:i});let o=i.response?.generatedVideos?.[0]?.video?.uri;o?(this.generatedVideoUrl.set(`${o}&key=${this.aiService.getApiKey()}`),this.generationProgressMessage.set("Video generation complete!")):(this.error.set("Video generation failed: No download link in response."),this.generationProgressMessage.set(null))}catch(i){console.error("Error generating video:",i),this.error.set(`Video generation failed: ${i.message||"Unknown error"}.`),this.generationProgressMessage.set(null)}finally{this.isGeneratingVideo.set(!1)}}formatTime(e){if(isNaN(e)||e<0)return"00:00";let t=Math.floor(e/60),i=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}clearAll(){this.stopMediaStream(),this.isRecording.set(!1),this.recordedVideoBlob.set(null),this.recordedVideoUrl.set(null),this.recordingTime.set(0),this.videoPrompt.set(""),this.generatedVideoUrl.set(null),this.isGeneratingVideo.set(!1),this.generationProgressMessage.set(null),this.aspectRatio.set("16:9"),this.error.set(null)}};Ii.\u0275fac=function(t){return new(t||Ii)},Ii.\u0275cmp=ve({type:Ii,selectors:[["app-video-editor"]],viewQuery:function(t,i){t&1&&(Ce(i.liveVideoPreviewRef,CC,5),Ce(i.recordedVideoPlayerRef,DC,5)),t&2&&Ke(2)},inputs:{imageForVideoGeneration:[1,"imageForVideoGeneration"],initialPrompt:[1,"initialPrompt"],theme:[1,"theme"]},decls:46,vars:48,consts:[["liveVideoPreview",""],["recordedVideoPlayer",""],[1,"w-full","p-4","flex","flex-col","gap-4","relative","min-h-[600px]"],[1,"text-center","text-lg"],[1,"bg-red-900/50","text-red-300","p-3","text-center","border","border-red-500","animate-fade-in"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","flex-grow"],[1,"flex","flex-col","gap-4","p-4"],[1,"text-base"],[1,"flex-grow","flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden","bg-black","relative"],["autoplay","","muted","","playsinline","",1,"max-w-full","max-h-full","object-contain"],[1,"absolute","text-sm",3,"class"],[1,"absolute","top-2","left-2","text-red-500","animate-pulse","text-sm","flex","items-center","gap-1"],[1,"flex","gap-2"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"px-4","py-2","border-2","text-lg",3,"click","disabled"],[1,"flex","flex-col","items-center","gap-2"],["for","video-prompt",1,"block","text-sm"],["id","video-prompt","placeholder","e.g., 'A neon hologram of a cat driving at top speed', 'A futuristic city at sunset with flying cars and towering skyscrapers.'","rows","4",1,"w-full","p-2","text-sm","focus:ring-500","resize-y",3,"input","value","disabled"],[1,"block","text-sm","mt-2"],[1,"flex","flex-wrap","gap-2","text-sm"],["type","button",1,"px-3","py-1","border",3,"class","disabled"],[1,"flex","flex-col","gap-2","mt-4"],[1,"flex-grow","px-4","py-2","border-2","text-lg",3,"class","disabled"],[1,"text-sm","mt-2","text-center","animate-pulse",3,"class"],[1,"flex","justify-center","mt-4"],[1,"px-6","py-2","border-2","text-lg",3,"click"],[1,"absolute","text-sm"],[1,"w-2","h-2","rounded-full","bg-red-500"],[1,"text-base","mt-4"],[1,"flex","items-center","justify-center","border-2","border-dashed","p-2","min-h-[200px]","overflow-hidden","bg-black"],["controls","",1,"max-w-full","max-h-full","object-contain",3,"src"],["download","aura-recorded-video.webm",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"],[1,"text-sm"],["alt","Image from editor",1,"w-24","h-24","object-cover","border",3,"src"],["type","button",1,"px-3","py-1","border",3,"click","disabled"],[1,"text-sm","mt-2","text-center","animate-pulse"],["controls","","autoplay","","loop","","muted","","playsinline","",1,"max-w-full","max-h-full","object-contain",3,"src"],["download","aura-ai-generated-video.mp4",1,"w-full","text-center","px-4","py-2","border-2","hover:text-black","text-lg",3,"href"]],template:function(t,i){if(t&1){let r=W();g(0,"div",2)(1,"h2",3),f(2,"[ AURA VIDEO LAB ]"),m(),M(3,wC,2,1,"div",4),g(4,"div",5)(5,"div",6)(6,"h3",7),f(7,"// CAMERA & RECORDING"),m(),g(8,"div",8),se(9,"video",9,0),M(11,IC,2,2,"span",10),M(12,SC,3,1,"span",11),m(),g(13,"div",12)(14,"button",13),j("click",function(){return D(r),b(i.toggleCamera())}),M(15,TC,2,0,"span")(16,AC,2,0,"span"),m()(),g(17,"div",12)(18,"button",13),j("click",function(){return D(r),b(i.startRecording())}),M(19,MC,2,0,"span")(20,xC,2,0,"span"),m(),g(21,"button",14),j("click",function(){return D(r),b(i.stopRecording())}),f(22," [ STOP ] "),m()(),M(23,NC,7,8),m(),g(24,"div",6)(25,"h3",7),f(26,"// AI VIDEO GENERATION"),m(),M(27,RC,4,5,"div",15),g(28,"label",16),f(29,"VIDEO PROMPT:"),m(),g(30,"textarea",17),j("input",function(s){return D(r),b(i.videoPrompt.set(s.target.value))}),m(),g(31,"label",18),f(32,"ASPECT RATIO:"),m(),g(33,"div",19),re(34,kC,2,4,"button",20,cr),m(),g(36,"div",21)(37,"button",13),j("click",function(){return D(r),b(i.generateVideo(!1))}),M(38,PC,2,0,"span")(39,FC,2,0,"span"),m(),M(40,VC,3,4,"button",22),m(),M(41,BC,2,3,"p",23),M(42,jC,6,8),m()(),g(43,"div",24)(44,"button",25),j("click",function(){return D(r),b(i.clearAll())}),f(45," [ CLEAR ALL ] "),m()()()}t&2&&(h("border border-"+i.theme().purple+"-500/30"),u(),h("text-"+i.theme().purple+"-400"),u(2),x(i.error()?3:-1),u(2),h("border border-"+i.theme().purple+"-500/20"),u(),h("text-"+i.theme().purple+"-300"),u(2),h("border-"+i.theme().purple+"-700/50"),u(3),x(i.isCameraActive()?-1:11),u(),x(i.isRecording()?12:-1),u(2),h("hover:text-black"),$("disabled",i.isRecording()),u(),x(i.isCameraActive()?15:16),u(3),h("hover:text-black"),$("disabled",i.isRecording()||!i.isCameraActive()),u(),x(i.isRecording()?19:20),u(2),h("hover:text-black"),$("disabled",!i.isRecording()),u(2),x(i.recordedVideoUrl()?23:-1),u(),h("border border-"+i.theme().purple+"-500/20"),u(),h("text-"+i.theme().purple+"-300"),u(2),x(i.imageForVideoGeneration()?27:-1),u(),h("text-"+i.theme().purple+"-300"),u(2),h("focus:border-"+i.theme().purple+"-500"),$("value",i.videoPrompt())("disabled",i.isGeneratingVideo()||!i.isAiAvailable()),u(),h("text-"+i.theme().purple+"-300"),u(3),oe(Zt(47,bC)),u(3),h("hover:text-black"),$("disabled",!i.videoPrompt()||i.isGeneratingVideo()||!i.isAiAvailable()),u(),x(i.isGeneratingVideo()?38:39),u(2),x(i.imageForVideoGeneration()?40:-1),u(),x(i.generationProgressMessage()?41:-1),u(),x(i.generatedVideoUrl()?42:-1),u(2),h("hover:text-black"))},dependencies:[De],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0});var Ps=Ii;var HC=["visualizerCanvas"],Si=class Si{constructor(){this.analyserNode=ue(void 0);this.canvasRef=Se.required("visualizerCanvas");this.theme=ue.required();ge(()=>{let e=this.analyserNode(),t=this.theme();e?(e.fftSize=256,this.dataArray=new Uint8Array(e.frequencyBinCount),this.startVisualizer()):this.stopVisualizer()})}ngAfterViewInit(){let e=this.canvasRef().nativeElement,t=e.getContext("2d");t?(this.ctx=t,e.width=e.offsetWidth,e.height=e.offsetHeight):console.error("Failed to get 2D rendering context for visualizer canvas.")}ngOnDestroy(){this.stopVisualizer()}startVisualizer(){if(this.stopVisualizer(),!this.ctx||!this.analyserNode()||!this.dataArray)return;let e=this.canvasRef().nativeElement;e.width=e.offsetWidth,e.height=e.offsetHeight,this.animationFrameId=requestAnimationFrame(this.draw.bind(this))}stopVisualizer(){if(this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0),this.ctx){let e=this.canvasRef().nativeElement;this.ctx.clearRect(0,0,e.width,e.height)}}draw(){let e=this.analyserNode(),t=this.canvasRef().nativeElement,i=this.ctx;if(!e||!i||!this.dataArray){this.stopVisualizer();return}e.getByteFrequencyData(this.dataArray),i.clearRect(0,0,t.width,t.height);let r=e.frequencyBinCount,o=t.width/r*.9,s=0;for(let a=0;a<r;a++){let l=this.dataArray[a]/255*t.height,c=a*(360/r);i.fillStyle=`hsl(${c}, 80%, 60%)`,i.fillRect(s,t.height-l,o,l),s+=o+t.width/r*.1}this.animationFrameId=requestAnimationFrame(this.draw.bind(this))}};Si.\u0275fac=function(t){return new(t||Si)},Si.\u0275cmp=ve({type:Si,selectors:[["app-audio-visualizer"]],viewQuery:function(t,i){t&1&&Ce(i.canvasRef,HC,5),t&2&&Ke()},inputs:{analyserNode:[1,"analyserNode"],theme:[1,"theme"]},decls:3,vars:2,consts:[["visualizerCanvas",""],[1,"visualizer-container"]],template:function(t,i){t&1&&(g(0,"div",1),se(1,"canvas",null,0),m()),t&2&&Ye("--primary-color","var(--color-"+i.theme().primary+"-700)")},dependencies:[De],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.visualizer-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:transparent;overflow:hidden;border:1px solid var(--primary-color)}canvas[_ngcontent-%COMP%]{display:block;width:100%;height:100%}"],changeDetection:0});var Fs=Si;var nm=()=>[],UC=(n,e)=>e.midi;function $C(n,e){n&1&&(g(0,"span"),f(1,"[ STOP ]"),m())}function GC(n,e){n&1&&(g(0,"span"),f(1,"[ PLAY ]"),m())}function zC(n,e){if(n&1&&(g(0,"div",14),f(1),m()),n&2){let t=e.$index,i=y();h(i.currentStep()===t?"text-"+i.theme().primary+"-300":"text-"+i.theme().neutral+"-400"),pe("font-bold",i.currentStep()===t),u(),Q(" ",t+1," ")}}function qC(n,e){if(n&1){let t=W();g(0,"div",17),j("click",function(){let r=D(t).$index,o=y().$implicit,s=y();return b(s.toggleNote(o.midi,r))}),m()}if(n&2){let t=e.$implicit,i=e.$index,r=y(2);h(t&&r.currentStep()===i?"bg-"+r.theme().primary+"-400":"")}}function WC(n,e){if(n&1&&(g(0,"div",15),f(1),m(),re(2,qC,1,2,"div",16,Fe)),n&2){let t=e.$implicit,i=y();h(t.name.includes("#")?"text-"+i.theme().primary+"-400/70":"text-"+i.theme().primary+"-400"),pe("font-bold",t.name.includes("#")),u(),Q(" ",i.getNoteDisplay(t)," "),u(),oe(i.sequence().get(t.midi)||Zt(5,nm))}}var em=3,QC=12,KC=2,tm=16,Zc=[],YC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];for(let n=em;n<em+KC;n++)for(let e=0;e<QC;e++)Zc.push({midi:60+(n-4)*12+e,name:YC[e],octave:n});Zc.reverse();var Ti=class Ti{constructor(){this.theme=ue.required();this.allNotes=Zc;this.bpm=I(120);this.isPlaying=I(!1);this.currentStep=I(-1);this.sequence=I(new Map);this.audioContext=null;this.initializeEmptySequence(),ge(()=>{this.initializeEmptySequence()})}ngAfterViewInit(){}ngOnDestroy(){this.stop(),this.audioContext?.close().catch(e=>console.error("Error closing AudioContext:",e))}initializeEmptySequence(){let e=new Map;this.allNotes.forEach(t=>{e.set(t.midi,Array(tm).fill(!1))}),this.sequence.set(e)}async initAudio(){this.audioContext&&this.audioContext.state==="running"||(this.audioContext||(this.audioContext=new AudioContext,this.masterGainNode=this.audioContext.createGain(),this.masterGainNode.gain.value=.5,this.masterGainNode.connect(this.audioContext.destination)),this.audioContext.state==="suspended"&&await this.audioContext.resume())}async togglePlay(){await this.initAudio(),this.isPlaying()?this.stop():this.start()}start(){this.isPlaying()||(this.isPlaying.set(!0),this.currentStep.set(this.currentStep()===-1?0:this.currentStep()),this.scheduleNextStep())}stop(){this.isPlaying.set(!1),this.timerId&&(clearTimeout(this.timerId),this.timerId=void 0)}resetSequence(){this.stop(),this.currentStep.set(-1),this.initializeEmptySequence()}scheduleNextStep(){if(!this.isPlaying()||!this.audioContext)return;let t=60/this.bpm()/4;this.timerId=window.setTimeout(()=>{let i=this.currentStep();this.playStep(i),this.currentStep.update(r=>(r+1)%tm),this.scheduleNextStep()},t*1e3)}playStep(e){!this.audioContext||!this.masterGainNode||this.sequence().forEach((t,i)=>{t[e]&&this.playNote(i,this.audioContext.currentTime)})}playNote(e,t){if(!this.audioContext||!this.masterGainNode)return;let i=440*Math.pow(2,(e-69)/12),r=this.audioContext.createOscillator(),o=this.audioContext.createGain();r.type="sine",r.frequency.setValueAtTime(i,t),o.gain.setValueAtTime(.3,t),o.gain.exponentialRampToValueAtTime(1e-4,t+.5),r.connect(o),o.connect(this.masterGainNode),r.start(t),r.stop(t+.5)}toggleNote(e,t){this.sequence.update(i=>{let r=i.get(e);return r&&(r[t]=!r[t]),new Map(i)})}onBpmChange(e){let t=parseInt(e.target.value,10);!isNaN(t)&&t>=60&&t<=240&&(this.bpm.set(t),this.isPlaying()&&(this.stop(),this.start()))}getNoteDisplay(e){return`${e.name}${e.octave}`}};Ti.\u0275fac=function(t){return new(t||Ti)},Ti.\u0275cmp=ve({type:Ti,selectors:[["app-piano-roll"]],inputs:{theme:[1,"theme"]},decls:22,vars:18,consts:[[1,"w-full","p-4","flex","flex-col","gap-4","relative"],[1,"text-center","text-lg"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-4","p-2"],[1,"flex","items-center","gap-4"],[1,"w-24","px-4","py-2","border-2","text-lg",3,"click"],[1,"px-3","py-2","border-2","text-lg",3,"click"],[1,"flex","items-center","gap-2"],["for","bpm",1,"text-sm"],["id","bpm-slider","type","range","min","60","max","240",1,"w-24","aura-slider",3,"input","value"],["id","bpm-text","type","number","min","60","max","240",1,"p-1","text-sm","w-16","text-center",3,"input","value"],[1,"w-full","overflow-x-auto"],[1,"piano-roll-grid","grid","gap-0.5","p-2"],[1,"sequencer-header","text-neutral-400","text-xs","text-right","pr-2"],[1,"step-header","text-xs","text-center","p-1",3,"class","font-bold"],[1,"step-header","text-xs","text-center","p-1"],[1,"note-name","text-xs","text-right","pr-2","py-1"],[1,"note-step","w-6","h-6","border","cursor-pointer","transition-all","duration-75",3,"class"],[1,"note-step","w-6","h-6","border","cursor-pointer","transition-all","duration-75",3,"click"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"h2",1),f(2,"[ AURA PIANO ROLL ]"),m(),g(3,"div",2)(4,"div",3)(5,"button",4),j("click",function(){return i.togglePlay()}),M(6,$C,2,0,"span")(7,GC,2,0,"span"),m(),g(8,"button",5),j("click",function(){return i.resetSequence()}),f(9," [ RESET ] "),m(),g(10,"div",6)(11,"label",7),f(12,"BPM:"),m(),g(13,"input",8),j("input",function(o){return i.onBpmChange(o)}),m(),g(14,"input",9),j("input",function(o){return i.onBpmChange(o)}),m()()()(),g(15,"div",10)(16,"div",11),se(17,"div",12),re(18,zC,2,5,"div",13,Fe),re(20,WC,4,6,null,null,UC),m()()()),t&2&&(h("border border-"+i.theme().primary+"-500/30"),u(),h("text-"+i.theme().primary+"-400"),u(2),h("border border-"+i.theme().primary+"-500/20"),u(2),h("hover:text-black"),u(),x(i.isPlaying()?6:7),u(2),h("hover:text-black"),u(5),$("value",i.bpm()),u(),h("focus:border-"+i.theme().primary+"-500"),$("value",i.bpm()),u(2),h("border border-"+i.theme().primary+"-500/20"),u(2),oe(Zt(17,nm).constructor(16)),u(2),oe(i.allNotes))},dependencies:[De],styles:[".piano-roll-grid[_ngcontent-%COMP%]{grid-template-columns:80px repeat(16,1fr);grid-auto-rows:24px;width:max-content}.sequencer-header[_ngcontent-%COMP%], .note-name[_ngcontent-%COMP%], .note-step[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.aura-slider[_ngcontent-%COMP%]{-webkit-appearance:none;height:4px;border-radius:2px;background:var(--color-amber-900);outline:none;opacity:.7;transition:opacity .2s}.aura-slider[_ngcontent-%COMP%]:hover{opacity:1}.aura-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:12px;height:12px;border-radius:50%;background:var(--color-amber-400);cursor:pointer;border:1px solid var(--color-amber-900)}.aura-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:12px;height:12px;border-radius:50%;background:var(--color-amber-400);cursor:pointer;border:1px solid var(--color-amber-900)}div[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-neutral-800)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--color-primary-400);border-radius:4px;border:1px solid var(--color-primary-700)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--color-primary-300)}"],changeDetection:0});var Os=Ti;var ZC=["audioPlayerA"],JC=["videoPlayerA"],XC=["audioPlayerB"],eD=["videoPlayerB"],tD=["fileInput"],rm=(n,e)=>e.title,nD=(n,e)=>e.audioSrc;function iD(n,e){n&1&&(v(0,"span"),f(1,"[ DJ ]"),E())}function rD(n,e){n&1&&(v(0,"span"),f(1,"[ PIANO EDITOR ]"),E())}function oD(n,e){n&1&&(v(0,"span"),f(1,"[ IMAGE EDITOR ]"),E())}function sD(n,e){n&1&&(v(0,"span"),f(1,"[ VIDEO EDITOR ]"),E())}function aD(n,e){n&1&&(v(0,"span"),f(1,"[ NETWORKING ]"),E())}function lD(n,e){n&1&&(v(0,"span"),f(1,"[ PLAYER ]"),E())}function cD(n,e){n&1&&(v(0,"span"),f(1,"[ CLOSE CHATBOT ]"),E())}function uD(n,e){n&1&&(v(0,"span"),f(1,"[ CHATBOT ]"),E())}function dD(n,e){if(n&1){let t=W();v(0,"video",68,3),A("mousedown",function(r){D(t);let o=y(2);return b(o.onScratchStart(r,"A"))})("touchstart",function(r){D(t);let o=y(2);return b(o.onScratchStart(r,"A"))})("timeupdate",function(r){D(t);let o=y(2);return b(o.onTimeUpdate(r,"A"))})("loadedmetadata",function(r){D(t);let o=y(2);return b(o.onLoadedMetadata(r,"A"))})("ended",function(){D(t);let r=y(2);return b(r.onEnded("A"))}),E()}}function fD(n,e){if(n&1){let t=W();v(0,"div",69),A("mousedown",function(r){D(t);let o=y(2);return b(o.onScratchStart(r,"A"))})("touchstart",function(r){D(t);let o=y(2);return b(o.onScratchStart(r,"A"))}),Ee(1,"div",70)(2,"div",71),E()}if(n&2){let t=y(2);Ye("transform",t.scratchRotationA()),pe("spinning",t.deckA().isPlaying&&!t.isScratchingA()),u(),h("bg-"+t.currentTheme().accent+"-600"),u(),h(t.djBgStone900)}}function pD(n,e){n&1&&(v(0,"span"),f(1,"[ || ]"),E())}function hD(n,e){n&1&&(v(0,"span"),f(1,"[ > ]"),E())}function mD(n,e){if(n&1&&Ee(0,"div",72),n&2){let t=e.$index,i=y(2);pe("green",t/12<i.vuLevelA()&&t<8)("yellow",t/12<i.vuLevelA()&&t>=8&&t<10)("red",t/12<i.vuLevelA()&&t>=10)}}function gD(n,e){if(n&1&&(v(0,"div",73),f(1,"[ SEARCHING... ]"),E()),n&2){let t=y(2);h("border-"+t.currentTheme().accent+"-500/50")}}function yD(n,e){if(n&1){let t=W();v(0,"div",76)(1,"p",77),f(2),E(),v(3,"div",78)(4,"p",79),f(5),E(),v(6,"div",80)(7,"button",81),A("click",function(){let r=D(t).$implicit,o=y(3);return b(o.loadTrackToDeck(r,"A"))}),f(8,"->A"),E(),v(9,"button",81),A("click",function(){let r=D(t).$implicit,o=y(3);return b(o.loadTrackToDeck(r,"B"))}),f(10,"->B"),E()()()()}if(n&2){let t=e.$implicit,i=y(3);h("hover:bg-"+i.currentTheme().neutral+"-700/50"),u(2),Q("> ",t.title),u(2),h(i.djTextNeutral400Class),u(),Q("-- ",t.artist),u(2),h(i.djHoverBgClass),u(2),h(i.djHoverBgClass)}}function vD(n,e){if(n&1&&(v(0,"div",74),re(1,yD,11,10,"div",75,rm),E()),n&2){let t=y(2);h("border-"+t.currentTheme().accent+"-500/50"),u(),oe(t.searchResults())}}function ED(n,e){if(n&1){let t=W();v(0,"button",84),A("click",function(){D(t);let r=y(3);return b(r.shareMix())}),f(1,"[ SHARE ]"),E()}if(n&2){let t=y(3);h(t.djHoverBgClass)}}function _D(n,e){if(n&1&&(v(0,"div",60)(1,"a",82),f(2,"[ DOWNLOAD ]"),E(),M(3,ED,2,2,"button",83),E()),n&2){let t=y(2);u(),h(t.djHoverBgClass),U("href",e,fe),u(2),x(t.canShare()?3:-1)}}function CD(n,e){n&1&&(Ee(0,"span",85),v(1,"span",86),f(2,"[ ACTIVE ]"),E())}function DD(n,e){if(n&1&&Ee(0,"div",72),n&2){let t=e.$index,i=y(3);pe("green",t/12<i.vuLevelMic()&&t<8)("yellow",t/12<i.vuLevelMic()&&t>=8&&t<10)("red",t/12<i.vuLevelMic()&&t>=10)}}function bD(n,e){if(n&1){let t=W();v(0,"div",62)(1,"div",87),re(2,DD,1,6,"div",42,Fe),E(),v(4,"div",38)(5,"span",88),f(6,"VOL"),E(),v(7,"input",89),A("input",function(r){D(t);let o=y(2);return b(o.onMicVolumeChange(r))}),E()(),v(8,"div",38)(9,"span",88),f(10,"HI"),E(),v(11,"input",89),A("input",function(r){D(t);let o=y(2);return b(o.onMicEqChange(r,"High"))}),E()(),v(12,"div",38)(13,"span",88),f(14,"MID"),E(),v(15,"input",89),A("input",function(r){D(t);let o=y(2);return b(o.onMicEqChange(r,"Mid"))}),E()(),v(16,"div",38)(17,"span",88),f(18,"LOW"),E(),v(19,"input",89),A("input",function(r){D(t);let o=y(2);return b(o.onMicEqChange(r,"Low"))}),E()(),v(20,"div",38)(21,"span",88),f(22,"FX"),E(),v(23,"input",90),A("input",function(r){D(t);let o=y(2);return b(o.onMicFilterChange(r))}),E()()()}if(n&2){let t=y(2);u(),h(t.djBgStone800),u(),oe(t.vuBars),u(5),U("value",t.micVolume()),u(4),U("value",t.micEqHigh()),u(4),U("value",t.micEqMid()),u(4),U("value",t.micEqLow()),u(4),U("value",t.getNormalizedFilterValue(t.micFilterFreq()))}}function wD(n,e){if(n&1&&Ee(0,"div",72),n&2){let t=e.$index,i=y(2);pe("green",t/12<i.vuLevelMaster()&&t<8)("yellow",t/12<i.vuLevelMaster()&&t>=8&&t<10)("red",t/12<i.vuLevelMaster()&&t>=10)}}function ID(n,e){if(n&1){let t=W();v(0,"video",68,4),A("mousedown",function(r){D(t);let o=y(2);return b(o.onScratchStart(r,"B"))})("touchstart",function(r){D(t);let o=y(2);return b(o.onScratchStart(r,"B"))})("timeupdate",function(r){D(t);let o=y(2);return b(o.onTimeUpdate(r,"B"))})("loadedmetadata",function(r){D(t);let o=y(2);return b(o.onLoadedMetadata(r,"B"))})("ended",function(){D(t);let r=y(2);return b(r.onEnded("B"))}),E()}}function SD(n,e){if(n&1){let t=W();v(0,"div",69),A("mousedown",function(r){D(t);let o=y(2);return b(o.onScratchStart(r,"B"))})("touchstart",function(r){D(t);let o=y(2);return b(o.onScratchStart(r,"B"))}),Ee(1,"div",91)(2,"div",71),E()}if(n&2){let t=y(2);Ye("transform",t.scratchRotationB()),pe("spinning",t.deckB().isPlaying&&!t.isScratchingB()),u(),h("bg-"+t.currentTheme().accent+"-600"),u(),h(t.djBgStone900)}}function TD(n,e){n&1&&(v(0,"span"),f(1,"[ || ]"),E())}function AD(n,e){n&1&&(v(0,"span"),f(1,"[ > ]"),E())}function MD(n,e){if(n&1&&Ee(0,"div",72),n&2){let t=e.$index,i=y(2);pe("green",t/12<i.vuLevelB()&&t<8)("yellow",t/12<i.vuLevelB()&&t>=8&&t<10)("red",t/12<i.vuLevelB()&&t>=10)}}function xD(n,e){if(n&1){let t=W();v(0,"div",19)(1,"div",20)(2,"h2",21),f(3," [ DECK A ] "),E(),v(4,"div",22)(5,"div",23)(6,"div",24),M(7,dD,2,0,"video",25)(8,fD,3,8,"div",26),E(),v(9,"div",27)(10,"h3",28),f(11),E(),v(12,"p",29),f(13),E()(),v(14,"div",30)(15,"input",31),A("input",function(r){D(t);let o=y();return b(o.onProgressChange(r,"A"))}),E(),v(16,"div",32)(17,"span"),f(18),E(),v(19,"span"),f(20),E()()(),v(21,"div",33)(22,"button",34),A("click",function(){D(t);let r=y();return b(r.togglePlayPause("A"))}),M(23,pD,2,0,"span")(24,hD,2,0,"span"),E(),v(25,"button",35),A("click",function(){D(t);let r=y();return b(r.toggleLoop("A"))}),v(26,"span"),f(27,"[ REPEAT ]"),E()()()(),v(28,"div",36)(29,"div",37)(30,"div",38)(31,"span"),f(32,"GAIN"),E(),v(33,"input",39),A("input",function(r){D(t);let o=y();return b(o.onGainChange(r,"A"))}),E()(),v(34,"div",38)(35,"span"),f(36,"HI"),E(),v(37,"input",39),A("input",function(r){D(t);let o=y();return b(o.onEqChange(r,"A","High"))}),E()(),v(38,"div",38)(39,"span"),f(40,"MID"),E(),v(41,"input",39),A("input",function(r){D(t);let o=y();return b(o.onEqChange(r,"A","Mid"))}),E()(),v(42,"div",38)(43,"span"),f(44,"LOW"),E(),v(45,"input",39),A("input",function(r){D(t);let o=y();return b(o.onEqChange(r,"A","Low"))}),E()(),v(46,"div",38)(47,"span"),f(48,"FX"),E(),v(49,"input",40),A("input",function(r){D(t);let o=y();return b(o.onFilterChange(r,"A"))}),E()()(),v(50,"div",41),re(51,mD,1,6,"div",42,Fe),E(),v(53,"div",43)(54,"span",44),f(55,"PITCH"),E(),v(56,"input",45),A("input",function(r){D(t);let o=y();return b(o.onPitchChange(r,"A"))}),E()()()()(),v(57,"div",46)(58,"h2",47),f(59,"[ MIXER ]"),E(),v(60,"div",48)(61,"form",49),A("submit",function(r){D(t);let o=y();return b(o.performSearch(r))}),v(62,"div",50)(63,"input",51),A("input",function(r){D(t);let o=y();return b(o.onSearchQueryInput(r))}),E(),v(64,"button",52),f(65,"[SCN]"),E()()(),M(66,gD,2,2,"div",53),M(67,vD,3,2,"div",54),E(),v(68,"div",55)(69,"h3",44),f(70,"[ RECORDING ]"),E(),v(71,"div",56)(72,"button",57),A("click",function(){D(t);let r=y();return b(r.toggleRecording())}),v(73,"span",9),Ee(74,"span",58),f(75),E()(),v(76,"span",59),f(77),E()(),M(78,_D,4,4,"div",60),E(),v(79,"div",55)(80,"h3",61),f(81," [ MICROPHONE ] "),M(82,CD,3,0),E(),v(83,"div",56)(84,"button",57),A("click",function(){D(t);let r=y();return b(r.toggleMicrophone())}),f(85),E()(),M(86,bD,24,7,"div",62),E(),v(87,"div",63)(88,"div",41),re(89,wD,1,6,"div",42,Fe),E(),v(91,"input",64),A("input",function(r){D(t);let o=y();return b(o.onCrossfadeChange(r))}),E(),v(92,"input",65),A("input",function(r){D(t);let o=y();return b(o.onVolumeChange(r))}),E()(),v(93,"div",66)(94,"span"),f(95,"DECK A"),E(),v(96,"span"),f(97,"MASTER"),E(),v(98,"span"),f(99,"DECK B"),E()(),v(100,"button",67),A("click",function(){D(t);let r=y();return b(r.openFilePickerForDeck("B"))}),f(101,"[ LOAD FILE ]"),E()(),v(102,"div",20)(103,"h2",21),f(104," [ DECK B ] "),E(),v(105,"div",22)(106,"div",23)(107,"div",24),M(108,ID,2,0,"video",25)(109,SD,3,8,"div",26),E(),v(110,"div",27)(111,"h3",28),f(112),E(),v(113,"p",29),f(114),E()(),v(115,"div",30)(116,"input",31),A("input",function(r){D(t);let o=y();return b(o.onProgressChange(r,"B"))}),E(),v(117,"div",32)(118,"span"),f(119),E(),v(120,"span"),f(121),E()()(),v(122,"div",33)(123,"button",34),A("click",function(){D(t);let r=y();return b(r.togglePlayPause("B"))}),M(124,TD,2,0,"span")(125,AD,2,0,"span"),E(),v(126,"button",35),A("click",function(){D(t);let r=y();return b(r.toggleLoop("B"))}),v(127,"span"),f(128,"[ REPEAT ]"),E()()()(),v(129,"div",36)(130,"div",37)(131,"div",38)(132,"span"),f(133,"GAIN"),E(),v(134,"input",39),A("input",function(r){D(t);let o=y();return b(o.onGainChange(r,"B"))}),E()(),v(135,"div",38)(136,"span"),f(137,"HI"),E(),v(138,"input",39),A("input",function(r){D(t);let o=y();return b(o.onEqChange(r,"B","High"))}),E()(),v(139,"div",38)(140,"span"),f(141,"MID"),E(),v(142,"input",39),A("input",function(r){D(t);let o=y();return b(o.onEqChange(r,"B","Mid"))}),E()(),v(143,"div",38)(144,"span"),f(145,"LOW"),E(),v(146,"input",39),A("input",function(r){D(t);let o=y();return b(o.onEqChange(r,"B","Low"))}),E()(),v(147,"div",38)(148,"span"),f(149,"FX"),E(),v(150,"input",40),A("input",function(r){D(t);let o=y();return b(o.onFilterChange(r,"B"))}),E()()(),v(151,"div",41),re(152,MD,1,6,"div",42,Fe),E(),v(154,"div",43)(155,"span",44),f(156,"PITCH"),E(),v(157,"input",45),A("input",function(r){D(t);let o=y();return b(o.onPitchChange(r,"B"))}),E()()()()()()}if(n&2){let t,i=y();h(i.djTextNeutral400Class),u(),h(i.djBorderClass),u(),h(i.djTextColorClass),u(5),x(i.deckA().track.videoSrc?7:8),u(3),h(i.mainTextColorClass()),U("title",i.deckA().track.title),u(),te(i.deckA().track.title),u(),h(i.djTextNeutral400Class),U("title",i.deckA().track.artist),u(),Q("-- ",i.deckA().track.artist," --"),u(2),U("max",i.deckA().duration)("value",i.deckA().progress),u(),h(i.djTextNeutral400Class),u(2),te(i.formatTime(i.deckA().progress)),u(2),te(i.formatTime(i.deckA().duration)),u(2),h(i.djHoverBgClass),u(),x(i.deckA().isPlaying?23:24),u(2),h(i.deckA().loop?"text-black":""),u(3),h("border-l-2 border-"+i.currentTheme().accent+"-500/20"),u(5),U("value",i.deckA().gain),u(4),U("value",i.deckA().eqHigh),u(4),U("value",i.deckA().eqMid),u(4),U("value",i.deckA().eqLow),u(4),U("value",i.getNormalizedFilterValue(i.deckA().filterFreq)),u(),h(i.djBgStone800),u(),oe(i.vuBars),u(5),U("value",i.deckA().playbackRate),u(),h(i.djBorderClass),u(),h(i.djTextColorClass),u(5),h("focus:border-"+i.currentTheme().accent+"-500"),U("value",i.searchQuery()),u(),h(i.djHoverBgClass),u(2),x(i.isSearching()?66:-1),u(),x(i.searchResults().length>0?67:-1),u(),h(i.djBorderClass),u(4),h(i.djHoverBgClass),u(2),pe("recording",i.isRecording()),u(),Q(" ",i.isRecording()?"STOP":"REC"," "),u(2),te(i.formatTime(i.recordingTime())),u(),x((t=i.recordedMixUrl())?78:-1,t),u(),h(i.djBorderClass),u(3),x(i.micEnabled()?82:-1),u(2),h(i.djHoverBgClass),u(),Q(" ",i.micEnabled()?"DISABLE":"ENABLE"," "),u(),x(i.micEnabled()?86:-1),u(2),h(i.djBgStone800),u(),oe(i.vuBars),u(2),U("value",i.crossfade()),u(),U("value",i.volume()),u(8),h(i.djHoverBgClass),u(2),h(i.djBorderClass),u(),h(i.djTextColorClass),u(5),x(i.deckB().track.videoSrc?108:109),u(3),h(i.mainTextColorClass()),U("title",i.deckB().track.title),u(),te(i.deckB().track.title),u(),h(i.djTextNeutral400Class),U("title",i.deckB().track.artist),u(),Q("-- ",i.deckB().track.artist," --"),u(2),U("max",i.deckB().duration)("value",i.deckB().progress),u(),h(i.djTextNeutral400Class),u(2),te(i.formatTime(i.deckB().progress)),u(2),te(i.formatTime(i.deckB().duration)),u(2),h(i.djHoverBgClass),u(),x(i.deckB().isPlaying?124:125),u(2),h(i.deckB().loop?"text-black":""),u(3),h("border-l-2 border-"+i.currentTheme().accent+"-500/20"),u(5),U("value",i.deckB().gain),u(4),U("value",i.deckB().eqHigh),u(4),U("value",i.deckB().eqMid),u(4),U("value",i.deckB().eqLow),u(4),U("value",i.getNormalizedFilterValue(i.deckB().filterFreq)),u(),h(i.djBgStone800),u(),oe(i.vuBars),u(5),U("value",i.deckB().playbackRate)}}function ND(n,e){if(n&1&&(v(0,"div",13),Ee(1,"app-piano-roll",92),E()),n&2){let t=y();u(),U("theme",t.currentTheme())}}function RD(n,e){n&1&&Ee(0,"video",95,3)}function kD(n,e){if(n&1&&Ee(0,"img",96),n&2){let t=y(2);U("src",t.deckA().track.albumArtUrl,fe)}}function PD(n,e){n&1&&(v(0,"span"),f(1,"[ || ]"),E())}function FD(n,e){n&1&&(v(0,"span"),f(1,"[ > ]"),E())}function OD(n,e){if(n&1&&(v(0,"div",73),f(1,"[ SEARCHING... ]"),E()),n&2){let t=y(2);h(t.mainBorderClass())}}function LD(n,e){if(n&1){let t=W();v(0,"div",76)(1,"p",77),f(2),E(),v(3,"div",78)(4,"p",117),f(5),E(),v(6,"div",80)(7,"button",118),A("click",function(){let r=D(t).$implicit,o=y(3);return b(o.addTrackToPlaylist(r,!0))}),f(8,"[ PLAY ]"),E(),v(9,"button",118),A("click",function(){let r=D(t).$implicit,o=y(3);return b(o.addTrackToPlaylist(r,!1))}),f(10,"[ +QUEUE ]"),E()()()()}if(n&2){let t=e.$implicit,i=y(3);h("hover:bg-"+i.currentTheme().primary+"-900/50"),u(),h(i.mainTextColorClass()),u(),Q("> ",t.title),u(3),Q("-- ",t.artist),u(2),h(i.mainHoverBgClass()),u(2),h(i.mainHoverBgClass())}}function VD(n,e){if(n&1&&(v(0,"div",115)(1,"h3",116),f(2,"[ Search Results ]"),E(),re(3,LD,11,10,"div",75,rm),E()),n&2){let t=y(2);h(t.mainBorderClass()),u(3),oe(t.searchResults())}}function BD(n,e){if(n&1){let t=W();v(0,"div",119),A("click",function(){let r=D(t).$index,o=y(2);return b(o.playTrackFromPlaylist(r))}),v(1,"p",77),f(2),E(),v(3,"p",117),f(4),E()()}if(n&2){let t=e.$implicit,i=e.$index,r=y(2);h(r.currentTrackIndex()===i?"bg-"+r.currentTheme().primary+"-900/50":""),u(),pe("text-white",r.currentTrackIndex()===i),u(),Q("> ",t.title),u(2),Q("-- ",t.artist)}}function jD(n,e){n&1&&(v(0,"p",113),f(1,"[ Load a file or search to begin ]"),E())}function HD(n,e){if(n&1){let t=W();v(0,"div",14)(1,"div",93)(2,"div",94),M(3,RD,2,0,"video",95)(4,kD,1,1,"img",96),E(),Ee(5,"app-audio-visualizer",97),v(6,"div",27)(7,"h3",98),f(8),E(),v(9,"p",99),f(10),E()(),v(11,"div",30)(12,"input",31),A("input",function(r){D(t);let o=y();return b(o.onProgressChange(r,"A"))}),E(),v(13,"div",100)(14,"span"),f(15),E(),v(16,"span"),f(17),E()()(),v(18,"div",101)(19,"button",102),A("click",function(){D(t);let r=y();return b(r.playPrevious())}),f(20,"[ << ]"),E(),v(21,"button",103),A("click",function(){D(t);let r=y();return b(r.togglePlayPause("A"))}),M(22,PD,2,0,"span")(23,FD,2,0,"span"),E(),v(24,"button",102),A("click",function(){D(t);let r=y();return b(r.playNext())}),f(25,"[ >> ]"),E()(),v(26,"div",62)(27,"span",44),f(28,"VOL:"),E(),v(29,"input",104),A("input",function(r){D(t);let o=y();return b(o.onVolumeChange(r))}),E(),v(30,"button",105),A("click",function(){D(t);let r=y();return b(r.toggleEqPanel())}),f(31,"[EQ]"),E()()(),v(32,"div",106)(33,"form",49),A("submit",function(r){D(t);let o=y();return b(o.performSearch(r))}),v(34,"div",50)(35,"input",107),A("input",function(r){D(t);let o=y();return b(o.onSearchQueryInput(r))}),E(),v(36,"button",108),f(37,"[SCN]"),E()()(),M(38,OD,2,2,"div",53),M(39,VD,5,2,"div",109),v(40,"div",110)(41,"h3",111),f(42,"[ Playlist ]"),E(),re(43,BD,5,6,"div",112,nD),M(45,jD,2,0,"p",113),E(),v(46,"button",114),A("click",function(){D(t);let r=y();return b(r.openFilePickerForDeck(null))}),f(47,"[LOAD FILE]"),E()()()}if(n&2){let t=y();u(2),h(t.mainBorderClass()),u(),x(t.deckA().track.videoSrc?3:4),u(2),U("analyserNode",t.getMasterAnalyser())("theme",t.currentTheme()),u(2),h(t.mainTextColorClass()),U("title",t.deckA().track.title),u(),te(t.deckA().track.title),u(),U("title",t.deckA().track.artist),u(),Q("-- ",t.deckA().track.artist," --"),u(2),U("max",t.deckA().duration)("value",t.deckA().progress),u(3),te(t.formatTime(t.deckA().progress)),u(2),te(t.formatTime(t.deckA().duration)),u(2),h(t.mainHoverBgClass()),u(2),h(t.mainHoverBgClass()),u(),x(t.deckA().isPlaying?22:23),u(2),h(t.mainHoverBgClass()),u(3),h(t.mainTextColorClass()),u(2),U("value",t.volume()),u(),h(t.mainHoverBgClass()),u(5),h("focus:border-"+t.currentTheme().primary+"-500"),U("value",t.searchQuery()),u(),h(t.mainHoverBgClass()),u(2),x(t.isSearching()?38:-1),u(),x(t.searchResults().length>0?39:-1),u(),h(t.mainBorderClass()),u(),h(t.mainTextColorClass()),u(2),oe(t.playlist()),u(2),x(t.playlist().length===0?45:-1),u(),h(t.mainHoverBgClass())}}function UD(n,e){if(n&1){let t=W();v(0,"div",13)(1,"app-image-editor",120),A("imageSelected",function(r){D(t);let o=y();return b(o.handleImageSelectedForAlbumArt(r))})("imageAnalysisRequest",function(r){D(t);let o=y();return o.imageToAnalyzeUrl.set(r),b(o.showChatbot.set(!0))}),E()()}if(n&2){let t=y();u(),U("initialPrompt",t.imageEditorInitialPrompt())("theme",t.currentTheme())}}function $D(n,e){if(n&1&&(v(0,"div",13),Ee(1,"app-video-editor",121),E()),n&2){let t=y();u(),U("imageForVideoGeneration",t.lastImageEditorImageUrl())("initialPrompt",t.videoEditorInitialPrompt())("theme",t.currentTheme())}}function GD(n,e){if(n&1&&(v(0,"div",13),Ee(1,"app-networking",122),E()),n&2){let t=y();u(),U("initialSearchQuery",t.networkingLocationQuery())("theme",t.currentTheme())}}function zD(n,e){if(n&1){let t=W();v(0,"app-eq-panel",123),A("close",function(){D(t);let r=y();return b(r.toggleEqPanel())})("eqChange",function(r){D(t);let o=y();return b(o.onMasterEqChange(r))})("enhancementsChange",function(r){D(t);let o=y();return b(o.onEnhancementsChange(r))}),E()}if(n&2){let t=y();U("eqSettings",t.eqSettings())("enhancements",t.enhancements())("theme",t.currentTheme())}}function qD(n,e){if(n&1){let t=W();v(0,"app-chatbot",124),A("appCommand",function(r){D(t);let o=y();return b(o.handleChatbotCommand(r))})("close",function(){D(t);let r=y();return b(r.showChatbot.set(!1))})("imageAnalysisResult",function(r){D(t);let o=y();return o.imageAnalysisResult.set(r),b(o.imageToAnalyzeUrl.set(null))})("mapLocationResult",function(r){D(t);let o=y();return o.mapLocationResult.set(r),b(o.mapLocationQuery.set(null))}),E()}if(n&2){let t=y();U("theme",t.currentTheme())("imageToAnalyzeUrl",t.imageToAnalyzeUrl())("mapLocationQuery",t.mapLocationQuery())}}function WD(n,e){if(n&1){let t=W();v(0,"div",125),A("click",function(){D(t);let r=y();return b(r.showApplyAlbumArtModal.set(!1))}),E(),v(1,"div",126)(2,"div",127)(3,"h2",59),f(4,"[[ Apply Album Art ]]"),E(),v(5,"button",128),A("click",function(){D(t);let r=y();return b(r.showApplyAlbumArtModal.set(!1))}),f(6," [X] "),E()(),v(7,"p",129),f(8,"Where do you want to apply this image?"),E(),v(9,"div",130)(10,"button",131),A("click",function(){D(t);let r=y();return b(r.applyImageAsAlbumArt("player"))}),f(11,"[ CURRENT PLAYER TRACK ]"),E(),v(12,"button",131),A("click",function(){D(t);let r=y();return b(r.applyImageAsAlbumArt("A"))}),f(13,"[ DECK A ]"),E(),v(14,"button",131),A("click",function(){D(t);let r=y();return b(r.applyImageAsAlbumArt("B"))}),f(15,"[ DECK B ]"),E()()()}if(n&2){let t=y();u(),h(t.mainTextColorClass()),u(4),h(t.mainHoverBgClass()),u(5),h(t.mainHoverBgClass()),u(2),h(t.mainHoverBgClass()),u(2),h(t.mainHoverBgClass())}}function QD(n,e){if(n&1&&(v(0,"div",133),Ee(1,"img",135),E()),n&2){let t=y(2);u(),h(t.mainBorderClass()),U("src",t.imageToAnalyzeUrl(),fe)}}function KD(n,e){if(n&1){let t=W();v(0,"div",125),A("click",function(){D(t);let r=y();return b(r.showImageAnalysisModal.set(!1))}),E(),v(1,"div",132)(2,"div",127)(3,"h2",59),f(4,"[[ Image Analysis Result ]]"),E(),v(5,"button",128),A("click",function(){D(t);let r=y();return r.showImageAnalysisModal.set(!1),r.imageAnalysisResult.set(null),b(r.imageToAnalyzeUrl.set(null))}),f(6," [X] "),E()(),M(7,QD,2,3,"div",133),v(8,"div",134)(9,"p"),f(10),E()()()}if(n&2){let t=y();u(),h(t.mainTextColorClass()),u(4),h(t.mainHoverBgClass()),u(2),x(t.imageToAnalyzeUrl()?7:-1),u(),h(t.mainBorderClass()),u(2),te(t.imageAnalysisResult())}}function YD(n,e){if(n&1&&(v(0,"p",137),f(1),E()),n&2){let t=y(2);h(t.mainTextColorClass()),u(),Q('Query: "',t.mapLocationQuery(),'"')}}function ZD(n,e){if(n&1){let t=W();v(0,"div",125),A("click",function(){D(t);let r=y();return b(r.showMapResultsModal.set(!1))}),E(),v(1,"div",132)(2,"div",127)(3,"h2",59),f(4,"[[ Map Search Result ]]"),E(),v(5,"button",128),A("click",function(){D(t);let r=y();return r.showMapResultsModal.set(!1),r.mapLocationResult.set(null),b(r.mapLocationQuery.set(null))}),f(6," [X] "),E()(),M(7,YD,2,3,"p",136),v(8,"div",134)(9,"p"),f(10),E()()()}if(n&2){let t=y();u(),h(t.mainTextColorClass()),u(4),h(t.mainHoverBgClass()),u(2),x(t.mapLocationQuery()?7:-1),u(),h(t.mainBorderClass()),u(2),te(t.mapLocationResult())}}var Ls={track:{title:"NO SIGNAL",artist:"Load a track into deck",albumArtUrl:"https://picsum.photos/seed/placeholder/500/500",audioSrc:""},isPlaying:!1,progress:0,duration:0,playbackRate:1,filterFreq:2e4,loop:!1,gain:50,eqHigh:50,eqMid:50,eqLow:50,wasPlayingBeforeScratch:!1},im=[{name:"Green Vintage",primary:"green",accent:"amber",neutral:"neutral",purple:"purple",red:"red",blue:"blue"},{name:"Blue Retro",primary:"blue",accent:"fuchsia",neutral:"zinc",purple:"purple",red:"red",blue:"blue"},{name:"Red Glitch",primary:"red",accent:"cyan",neutral:"stone",purple:"purple",red:"red",blue:"blue"},{name:"Amber Glow",primary:"amber",accent:"green",neutral:"neutral",purple:"purple",red:"red",blue:"blue"},{name:"Purple Haze",primary:"purple",accent:"lime",neutral:"slate",purple:"purple",red:"red",blue:"blue"},{name:"Cyan Wave",primary:"cyan",accent:"violet",neutral:"gray",purple:"purple",red:"red",blue:"blue"},{name:"Yellow Neon",primary:"yellow",accent:"red",neutral:"stone",purple:"purple",red:"red",blue:"blue"}],Ai=class Ai{constructor(){this.audioPlayerARef=Se("audioPlayerA");this.videoPlayerARef=Se("videoPlayerA");this.audioPlayerBRef=Se("audioPlayerB");this.videoPlayerBRef=Se("videoPlayerB");this.fileInputRef=Se("fileInput");this.mainViewMode=I("player");this.showChatbot=I(!0);this.deckA=I(R({},Ls));this.deckB=I(R({},Ls));this.crossfade=I(0);this.loadingTargetDeck=I(null);this.isScratchingA=I(!1);this.isScratchingB=I(!1);this.scratchRotationA=I("");this.scratchRotationB=I("");this.scratchStateA={active:!1,lastAngle:0,platterElement:null};this.scratchStateB={active:!1,lastAngle:0,platterElement:null};this.SCRATCH_SENSITIVITY=2.5;this.playlist=I([]);this.currentTrackIndex=I(-1);this.currentPlayerTrack=ie(()=>{let e=this.currentTrackIndex(),t=this.playlist();return e>=0&&e<t.length?t[e]:null});this.volume=I(.75);this.showEqPanel=I(!1);this.searchQuery=I("");this.isSearching=I(!1);this.searchResults=I([]);this.eqSettings=I([{label:"60Hz",value:50},{label:"310Hz",value:50},{label:"1KHz",value:50},{label:"6KHz",value:50},{label:"16KHz",value:50}]);this.enhancements=I({bassBoost:!1,surroundSound:!1});this.isRecording=I(!1);this.recordingTime=I(0);this.recordedMixUrl=I(null);this.recordedBlob=I(null);this.canShare=ie(()=>!!(navigator.share&&this.recordedBlob()));this.vuLevelA=I(0);this.vuLevelB=I(0);this.vuLevelMaster=I(0);this.vuBars=Array(12).fill(0);this.micEnabled=I(!1);this.micVolume=I(50);this.micEqHigh=I(50);this.micEqMid=I(50);this.micEqLow=I(50);this.micFilterFreq=I(2e4);this.vuLevelMic=I(0);this.THEMES=im;this.currentTheme=I(im[0]);this.mainBorderClass=ie(()=>`border-${this.currentTheme().primary}-400/50`);this.mainTextColorClass=ie(()=>`text-${this.currentTheme().primary}-400`);this.mainHoverBgClass=ie(()=>`hover:bg-${this.currentTheme().primary}-400 hover:text-black`);this.mainBg90050Class=ie(()=>`bg-${this.currentTheme().primary}-900/50`);this.djBorderClass=ie(()=>`border-${this.currentTheme().accent}-500/30`);this.djTextColorClass=ie(()=>`text-${this.currentTheme().accent}-400`);this.djActiveBgClass=ie(()=>`bg-${this.currentTheme().accent}-500`);this.djHoverBgClass=ie(()=>`hover:bg-${this.currentTheme().accent}-500 hover:text-black`);this.djBg80050Class=ie(()=>`bg-${this.currentTheme().neutral}-800/50`);this.djTextAccent300Class=ie(()=>`text-${this.currentTheme().accent}-300`);this.djTextNeutral400Class=ie(()=>`text-${this.currentTheme().neutral}-400`);this.djBgStone900=ie(()=>`bg-${this.currentTheme().neutral}-900`);this.djBgStone700=ie(()=>`bg-${this.currentTheme().neutral}-700`);this.eqNodesMaster=[];this.micSourceNode=null;this.micGainNode=null;this.micEqNodes=[];this.micFilterNode=null;this.micStream=null;this.mediaRecorder=null;this.recordedChunks=[];this.imageEditorInitialPrompt=I("");this.videoEditorInitialPrompt=I("");this.lastImageEditorImageUrl=I(null);this.showApplyAlbumArtModal=I(!1);this.imageToApplyAsAlbumArt=I(null);this.imageToAnalyzeUrl=I(null);this.imageAnalysisResult=I(null);this.showImageAnalysisModal=I(!1);this.mapLocationQuery=I(null);this.mapLocationResult=I(null);this.showMapResultsModal=I(!1);this.networkingLocationQuery=I(null);this.selectedArtistProfile=I(null);this.showArtistDetailModal=I(!1);this.aiService=F(Ue);this.activeFileInputDeck=null;this.activeFileInputTrackPlayer=!1;this.initAudioContext(),this.initVUAnalysis(),ge(()=>{this.aiService.isAiAvailable||console.warn("AppComponent: AI services are not available.")}),ge(()=>{this.imageAnalysisResult()&&this.showImageAnalysisModal.set(!0)}),ge(()=>{this.mapLocationResult()&&this.showMapResultsModal.set(!0)}),ge(()=>{this.selectedArtistProfile()&&this.showArtistDetailModal.set(!0)}),this.loadTrackToDeck(Ls.track,"A")}ngOnDestroy(){this.stopAllAudio(),this.audioContext&&this.audioContext.state!=="closed"&&this.audioContext.close().catch(e=>console.error("Error closing audio context:",e)),this.vuIntervalId&&clearInterval(this.vuIntervalId),this.stopMediaStream()}initAudioContext(){this.audioContext||(this.audioContext=new AudioContext,this.gainNodeMaster=this.audioContext.createGain(),this.crossfadeNode=this.audioContext.createGain(),this.analyserMaster=this.audioContext.createAnalyser(),this.analyserA=this.audioContext.createAnalyser(),this.analyserB=this.audioContext.createAnalyser(),this.analyserMic=this.audioContext.createAnalyser(),this.destinationNode=this.audioContext.createMediaStreamDestination(),this.crossfadeNode.connect(this.gainNodeMaster),this.setupMasterEq(this.gainNodeMaster),this.eqNodesMaster[this.eqNodesMaster.length-1].connect(this.analyserMaster),this.analyserMaster.connect(this.destinationNode),this.analyserMaster.connect(this.audioContext.destination),this.onCrossfadeChange({target:{value:this.crossfade()}}),this.onVolumeChange({target:{value:this.volume()}}),this.eqSettings().forEach((e,t)=>{this.onMasterEqChange(this.eqSettings())}))}setupMasterEq(e){this.eqNodesMaster=[];let t=[60,310,1e3,6e3,16e3];for(let i=0;i<t.length;i++){let r=this.audioContext.createBiquadFilter();r.type="peaking",r.frequency.value=t[i],r.Q.value=1,r.gain.value=0,this.eqNodesMaster.push(r)}if(this.eqNodesMaster.length>0){e.connect(this.eqNodesMaster[0]);for(let i=0;i<this.eqNodesMaster.length-1;i++)this.eqNodesMaster[i].connect(this.eqNodesMaster[i+1])}}initVUAnalysis(){this.vuIntervalId=window.setInterval(()=>{if(this.analyserA){let e=new Uint8Array(this.analyserA.fftSize);this.analyserA.getByteFrequencyData(e);let t=e.reduce((i,r)=>i+r,0)/e.length;this.vuLevelA.set(t/255)}if(this.analyserB){let e=new Uint8Array(this.analyserB.fftSize);this.analyserB.getByteFrequencyData(e);let t=e.reduce((i,r)=>i+r,0)/e.length;this.vuLevelB.set(t/255)}if(this.analyserMaster){let e=new Uint8Array(this.analyserMaster.fftSize);this.analyserMaster.getByteFrequencyData(e);let t=e.reduce((i,r)=>i+r,0)/e.length;this.vuLevelMaster.set(t/255)}if(this.analyserMic&&this.micEnabled()){let e=new Uint8Array(this.analyserMic.fftSize);this.analyserMic.getByteFrequencyData(e);let t=e.reduce((i,r)=>i+r,0)/e.length;this.vuLevelMic.set(t/255)}},100)}getMasterAnalyser(){return this.analyserMaster}openFilePickerForDeck(e){this.activeFileInputDeck=e,this.activeFileInputTrackPlayer=e===null,this.fileInputRef().nativeElement.click()}handleFileInput(e){let t=e.target.files?.[0];if(t){let i=URL.createObjectURL(t),r={title:t.name,artist:"Local File",albumArtUrl:"https://picsum.photos/seed/"+Math.random().toString(36).substring(7)+"/500/500",audioSrc:i,videoSrc:t.type.startsWith("video/")?i:void 0};this.activeFileInputDeck==="A"?this.loadTrackToDeck(r,"A"):this.activeFileInputDeck==="B"?this.loadTrackToDeck(r,"B"):this.activeFileInputTrackPlayer&&this.addTrackToPlaylist(r,!0)}this.fileInputRef()&&(this.fileInputRef().nativeElement.value=""),this.activeFileInputDeck=null,this.activeFileInputTrackPlayer=!1}loadTrackToDeck(e,t){let i=t==="A"?this.audioPlayerARef():this.audioPlayerBRef(),r=t==="A"?this.videoPlayerARef():this.videoPlayerBRef();if((t==="A"?this.deckA():this.deckB()).isPlaying&&(i?.nativeElement.pause(),r?.nativeElement&&r.nativeElement.pause()),!i){console.error(`Audio player reference for deck ${t} not found.`);return}this.loadingTargetDeck.set(t);let s=P(R({},Ls),{track:e,isPlaying:!1});t==="A"?(this.deckA.set(s),i.nativeElement.src=e.audioSrc,this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.src=e.videoSrc||"")):(this.deckB.set(s),i.nativeElement.src=e.audioSrc,this.videoPlayerBRef()?.nativeElement&&(this.videoPlayerBRef().nativeElement.src=e.videoSrc||""))}togglePlayPause(e="player"){let t=e==="A"?this.audioPlayerARef():e==="B"?this.audioPlayerBRef():this.audioPlayerARef(),i=e==="A"?this.videoPlayerARef():e==="B"?this.videoPlayerBRef():this.videoPlayerARef(),r=e==="A"?this.deckA():e==="B"?this.deckB():this.deckA();if(!t||!t.nativeElement.src){console.warn(`No track loaded for deck ${e}.`);return}this.audioContext.state==="suspended"&&this.audioContext.resume().catch(a=>console.error("Error resuming AudioContext:",a));let o=!r.isPlaying;if(o){let a=t.nativeElement.__sourceNode;a||(a=this.audioContext.createMediaElementSource(t.nativeElement),t.nativeElement.__sourceNode=a,e==="A"?(this.gainNodeA=this.audioContext.createGain(),a.connect(this.gainNodeA),this.gainNodeA.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode)):e==="B"?(this.gainNodeB=this.audioContext.createGain(),a.connect(this.gainNodeB),this.gainNodeB.connect(this.analyserB),this.analyserB.connect(this.crossfadeNode)):(this.gainNodeA=this.audioContext.createGain(),a.connect(this.gainNodeA),a.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode))),t.nativeElement.play().catch(l=>console.error(`Error playing deck ${e}:`,l)),i?.nativeElement&&i.nativeElement.play().catch(l=>console.error(`Error playing video for deck ${e}:`,l))}else t.nativeElement.pause(),i?.nativeElement&&i.nativeElement.pause();let s=a=>P(R({},a),{isPlaying:o});e==="A"||e==="player"?this.deckA.update(s):this.deckB.update(s)}onTimeUpdate(e,t){let i=e.target,r=o=>P(R({},o),{progress:i.currentTime});t==="A"?this.deckA.update(r):this.deckB.update(r)}onLoadedMetadata(e,t){let i=e.target,r=o=>P(R({},o),{duration:i.duration,progress:0});if(t==="A"){this.deckA.update(r),this.gainNodeA&&(this.gainNodeA.gain.value=this.mapSliderToGain(this.deckA().gain));let o=i.__sourceNode;o||(o=this.audioContext.createMediaElementSource(i),i.__sourceNode=o,this.gainNodeA=this.audioContext.createGain(),o.connect(this.gainNodeA),this.gainNodeA.connect(this.analyserA),this.analyserA.connect(this.crossfadeNode)),this.onEqChange({target:{value:this.deckA().eqHigh}},"A","High"),this.onEqChange({target:{value:this.deckA().eqMid}},"A","Mid"),this.onEqChange({target:{value:this.deckA().eqLow}},"A","Low"),this.onFilterChange({target:{value:this.getNormalizedFilterValue(this.deckA().filterFreq)}},"A")}else{this.deckB.update(r),this.gainNodeB&&(this.gainNodeB.gain.value=this.mapSliderToGain(this.deckB().gain));let o=i.__sourceNode;o||(o=this.audioContext.createMediaElementSource(i),i.__sourceNode=o,this.gainNodeB=this.audioContext.createGain(),o.connect(this.gainNodeB),this.gainNodeB.connect(this.analyserB),this.analyserB.connect(this.crossfadeNode)),this.onEqChange({target:{value:this.deckB().eqHigh}},"B","High"),this.onEqChange({target:{value:this.deckB().eqMid}},"B","Mid"),this.onEqChange({target:{value:this.deckB().eqLow}},"B","Low"),this.onFilterChange({target:{value:this.getNormalizedFilterValue(this.deckB().filterFreq)}},"B")}this.loadingTargetDeck.set(null)}onEnded(e){let t=i=>P(R({},i),{isPlaying:!1,progress:0});e==="A"?(this.deckA.update(i=>i.loop?P(R({},i),{progress:0,isPlaying:!0}):t(i)),this.deckA().loop&&(this.audioPlayerARef().nativeElement.currentTime=0,this.audioPlayerARef().nativeElement.play(),this.videoPlayerARef()?.nativeElement.play())):(this.deckB.update(i=>i.loop?P(R({},i),{progress:0,isPlaying:!0}):t(i)),this.deckB().loop&&(this.audioPlayerBRef().nativeElement.currentTime=0,this.audioPlayerBRef().nativeElement.play(),this.videoPlayerBRef()?.nativeElement.play())),this.mainViewMode()==="player"&&e==="A"&&!this.deckA().loop&&this.playNext()}onProgressChange(e,t){let i=parseInt(e.target.value,10),r=t==="A"?this.audioPlayerARef():this.audioPlayerBRef(),o=t==="A"?this.videoPlayerARef():this.videoPlayerBRef();r?.nativeElement&&(r.nativeElement.currentTime=i,o?.nativeElement&&(o.nativeElement.currentTime=i));let s=a=>P(R({},a),{progress:i});t==="A"?this.deckA.update(s):this.deckB.update(s)}toggleLoop(e){let t=i=>P(R({},i),{loop:!i.loop});e==="A"?this.deckA.update(t):this.deckB.update(t)}addTrackToPlaylist(e,t=!1){if(this.playlist.update(i=>[...i,e]),this.searchResults.set([]),t){let i=this.playlist().length-1;this.playTrackFromPlaylist(i)}}playTrackFromPlaylist(e){let t=this.playlist();if(e>=0&&e<t.length){this.currentTrackIndex.set(e);let i=t[e];this.loadTrackToDeck(i,"A"),this.deckA().isPlaying||this.togglePlayPause("A")}}playNext(){let e=this.playlist();if(e.length===0)return;let t=(this.currentTrackIndex()+1)%e.length;this.playTrackFromPlaylist(t)}playPrevious(){let e=this.playlist();if(e.length===0)return;let t=this.currentTrackIndex()-1;t<0&&(t=e.length-1),this.playTrackFromPlaylist(t)}onVolumeChange(e){let t=parseFloat(e.target.value);this.volume.set(t),this.gainNodeMaster&&(this.gainNodeMaster.gain.value=t)}toggleEqPanel(){this.showEqPanel.update(e=>!e)}onMasterEqChange(e){this.eqSettings.set(e),e.forEach((t,i)=>{this.eqNodesMaster[i]&&(this.eqNodesMaster[i].gain.value=this.mapSliderToDb(t.value))})}onEnhancementsChange(e){this.enhancements.set(e),console.log("Enhancements updated:",e)}mapSliderToGain(e){return e/100}onGainChange(e,t){let i=parseInt(e.target.value,10),r=this.mapSliderToGain(i),o=s=>P(R({},s),{gain:i});t==="A"?(this.deckA.update(o),this.gainNodeA&&(this.gainNodeA.gain.value=r)):(this.deckB.update(o),this.gainNodeB&&(this.gainNodeB.gain.value=r))}mapSliderToDb(e){return(e-50)*.48}onEqChange(e,t,i){let r=parseInt(e.target.value,10),o=this.mapSliderToDb(r),s=a=>P(R({},a),{[`eq${i}`]:r});t==="A"?this.deckA.update(s):this.deckB.update(s)}getNormalizedFilterValue(e){return Math.log10(e/20)/Math.log10(1e3)}mapFilterSliderToFreq(e){let r=Math.log10(20),o=Math.log10(2e4),s=r+e*(o-r);return Math.pow(10,s)}onFilterChange(e,t){let i=parseFloat(e.target.value),r=this.mapFilterSliderToFreq(i),o=s=>P(R({},s),{filterFreq:r});t==="A"?this.deckA.update(o):this.deckB.update(o)}onPitchChange(e,t){let i=parseFloat(e.target.value),r=t==="A"?this.audioPlayerARef():this.audioPlayerBRef(),o=t==="A"?this.videoPlayerARef():this.videoPlayerBRef();r?.nativeElement&&(r.nativeElement.playbackRate=i,o?.nativeElement&&(o.nativeElement.playbackRate=i));let s=a=>P(R({},a),{playbackRate:i});t==="A"?this.deckA.update(s):this.deckB.update(s)}onCrossfadeChange(e){let t=parseFloat(e.target.value);this.crossfade.set(t);let i=Math.cos((t+1)/2*(Math.PI/2)),r=Math.cos((1-t)/2*(Math.PI/2));this.gainNodeA&&(this.gainNodeA.gain.value=i),this.gainNodeB&&(this.gainNodeB.gain.value=r)}getElementAngle(e,t,i){let r=e.getBoundingClientRect(),o=r.left+r.width/2,s=r.top+r.height/2;return Math.atan2(i-s,t-o)}onScratchStart(e,t){let i=e.currentTarget.querySelector(".vinyl-platter");if(!i)return;e.preventDefault();let r,o;e instanceof TouchEvent?(r=e.touches[0].clientX,o=e.touches[0].clientY):(r=e.clientX,o=e.clientY);let s=t==="A"?this.deckA():this.deckB(),a=t==="A"?this.audioPlayerARef():this.audioPlayerBRef(),l=t==="A"?this.videoPlayerARef():this.videoPlayerBRef(),c=t==="A"?this.scratchStateA:this.scratchStateB;c.active=!0,c.platterElement=i,c.lastAngle=this.getElementAngle(i,r,o),c.initialTouchX=r,c.initialTouchY=o,a?.nativeElement&&s.isPlaying?(a.nativeElement.pause(),l?.nativeElement&&l.nativeElement.pause(),t==="A"?this.deckA.update(d=>P(R({},d),{isPlaying:!1,wasPlayingBeforeScratch:!0})):this.deckB.update(d=>P(R({},d),{isPlaying:!1,wasPlayingBeforeScratch:!0}))):a?.nativeElement&&(t==="A"?this.deckA.update(d=>P(R({},d),{wasPlayingBeforeScratch:!1})):this.deckB.update(d=>P(R({},d),{wasPlayingBeforeScratch:!1}))),t==="A"?this.isScratchingA.set(!0):this.isScratchingB.set(!0)}onScratch(e){if(!this.scratchStateA.active&&!this.scratchStateB.active)return;e.preventDefault();let t,i;if(e instanceof TouchEvent){if(e.touches.length===0)return;t=e.touches[0].clientX,i=e.touches[0].clientY}else t=e.clientX,i=e.clientY;this.scratchStateA.active&&this.scratchStateA.platterElement&&this.applyScratch(this.scratchStateA,t,i,"A"),this.scratchStateB.active&&this.scratchStateB.platterElement&&this.applyScratch(this.scratchStateB,t,i,"B")}applyScratch(e,t,i,r){if(!e.platterElement)return;let o=r==="A"?this.audioPlayerARef():this.audioPlayerBRef(),s=r==="A"?this.videoPlayerARef():this.videoPlayerBRef(),a=this.getElementAngle(e.platterElement,t,i),l=a-e.lastAngle;l>Math.PI&&(l-=2*Math.PI),l<-Math.PI&&(l+=2*Math.PI);let d=parseInt(e.platterElement.style.transform.replace("rotate(","").replace("deg)","")||"0",10)+l*180/Math.PI;if((r==="A"?this.scratchRotationA:this.scratchRotationB).set(`rotate(${d}deg)`),o?.nativeElement?.src){let C=l*this.SCRATCH_SENSITIVITY;o.nativeElement.currentTime+=C,s?.nativeElement&&(s.nativeElement.currentTime+=C)}e.lastAngle=a}onScratchEnd(){this.isScratchingA()||this.isScratchingB(),this.scratchStateA.active&&(this.scratchStateA.active=!1,this.scratchStateA.platterElement=null,this.isScratchingA.set(!1),this.deckA().wasPlayingBeforeScratch&&this.audioPlayerARef()?.nativeElement&&!this.deckA().isPlaying&&this.togglePlayPause("A")),this.scratchStateB.active&&(this.scratchStateB.active=!1,this.scratchStateB.platterElement=null,this.isScratchingB.set(!1),this.deckB().wasPlayingBeforeScratch&&this.audioPlayerBRef()?.nativeElement&&!this.deckB().isPlaying&&this.togglePlayPause("B"))}toggleRecording(){this.isRecording()?this.stopMasterRecording():this.startMasterRecording()}startMasterRecording(){if(!this.audioContext||!this.destinationNode){console.error("AudioContext or MediaStreamAudioDestinationNode not initialized.");return}if(!this.isRecording()){this.recordedChunks=[],this.recordedMixUrl.set(null),this.recordedBlob.set(null),this.recordingTime.set(0);try{this.mediaRecorder=new MediaRecorder(this.destinationNode.stream,{mimeType:"audio/webm; codecs=opus"}),this.mediaRecorder.ondataavailable=e=>{e.data.size>0&&this.recordedChunks.push(e.data)},this.mediaRecorder.onstop=()=>{let e=new Blob(this.recordedChunks,{type:"audio/webm"});this.recordedBlob.set(e),this.recordedMixUrl.set(URL.createObjectURL(e)),console.log("Master recording stopped. Blob created."),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.onerror=e=>{console.error("Master MediaRecorder error:",e.error),this.isRecording.set(!1),this.recordingIntervalId&&clearInterval(this.recordingIntervalId),this.recordingIntervalId=void 0},this.mediaRecorder.start(),this.isRecording.set(!0),this.recordingIntervalId=window.setInterval(()=>this.recordingTime.update(e=>e+1),1e3),console.log("Master recording started.")}catch(e){console.error("Error starting Master MediaRecorder:",e),this.isRecording.set(!1)}}}stopMasterRecording(){this.mediaRecorder&&this.isRecording()&&(this.mediaRecorder.stop(),this.isRecording.set(!1),console.log("Attempting to stop master recording..."))}async shareMix(){let e=this.recordedBlob();if(!e||!this.canShare()){console.warn("No recorded mix available or Web Share API not supported.");return}let t=new File([e],"aura-mix.webm",{type:e.type});try{await navigator.share({files:[t],title:"Aura Mix",text:"Check out my latest mix from Aura Music Player!"}),console.log("Mix shared successfully.")}catch(i){console.error("Error sharing mix:",i)}}async toggleMicrophone(){this.micEnabled()?this.stopMicrophone():await this.startMicrophone()}async startMicrophone(){if(!this.micEnabled())try{this.micStream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.micSourceNode=this.audioContext.createMediaStreamSource(this.micStream),this.micGainNode=this.audioContext.createGain(),this.micFilterNode=this.audioContext.createBiquadFilter(),this.micFilterNode.type="lowpass",this.micFilterNode.frequency.value=this.micFilterFreq();let e=[250,2500,1e4];this.micEqNodes=e.map(t=>{let i=this.audioContext.createBiquadFilter();return i.type="peaking",i.frequency.value=t,i.Q.value=1,i.gain.value=0,i}),this.micSourceNode.connect(this.micGainNode),this.micGainNode.connect(this.micEqNodes[0]),this.micEqNodes[0].connect(this.micEqNodes[1]),this.micEqNodes[1].connect(this.micEqNodes[2]),this.micEqNodes[2].connect(this.micFilterNode),this.micFilterNode.connect(this.analyserMic),this.analyserMic.connect(this.gainNodeMaster),this.onMicVolumeChange({target:{value:this.micVolume()}}),this.onMicEqChange({target:{value:this.micEqHigh()}},"High"),this.onMicEqChange({target:{value:this.micEqMid()}},"Mid"),this.onMicEqChange({target:{value:this.micEqLow()}},"Low"),this.onMicFilterChange({target:{value:this.getNormalizedFilterValue(this.micFilterFreq())}}),this.micEnabled.set(!0),console.log("Microphone enabled.")}catch(e){console.error("Error enabling microphone:",e),this.micEnabled.set(!1),alert("Failed to access microphone. Please ensure permissions are granted.")}}stopMicrophone(){this.micStream&&(this.micStream.getTracks().forEach(e=>e.stop()),this.micStream=null),this.micSourceNode&&this.micSourceNode.disconnect(),this.micGainNode&&this.micGainNode.disconnect(),this.micFilterNode&&this.micFilterNode.disconnect(),this.micEqNodes.forEach(e=>e.disconnect()),this.analyserMic&&this.analyserMic.disconnect(),this.micSourceNode=null,this.micGainNode=null,this.micFilterNode=null,this.micEqNodes=[],this.micEnabled.set(!1),this.vuLevelMic.set(0),console.log("Microphone disabled.")}onMicVolumeChange(e){let t=parseInt(e.target.value,10);this.micVolume.set(t),this.micGainNode&&(this.micGainNode.gain.value=this.mapSliderToGain(t))}onMicEqChange(e,t){let i=parseInt(e.target.value,10),r=this.mapSliderToDb(i);t==="High"&&this.micEqNodes[2]?(this.micEqHigh.set(i),this.micEqNodes[2].gain.value=r):t==="Mid"&&this.micEqNodes[1]?(this.micEqMid.set(i),this.micEqNodes[1].gain.value=r):t==="Low"&&this.micEqNodes[0]&&(this.micEqLow.set(i),this.micEqNodes[0].gain.value=r)}onMicFilterChange(e){let t=parseFloat(e.target.value),i=this.mapFilterSliderToFreq(t);this.micFilterFreq.set(i),this.micFilterNode&&(this.micFilterNode.frequency.value=i)}toggleMainViewMode(){let e=["player","dj","piano-roll","image-editor","video-editor","networking"],t=this.mainViewMode(),r=(e.indexOf(t)+1)%e.length;this.mainViewMode.set(e[r]),this.stopAllAudio(),e[r]!=="image-editor"&&this.imageEditorInitialPrompt.set(""),e[r]!=="video-editor"&&this.videoEditorInitialPrompt.set(""),e[r]!=="networking"&&(this.networkingLocationQuery.set(null),this.selectedArtistProfile.set(null)),this.lastImageEditorImageUrl.set(null),e[r]==="dj"&&(this.audioPlayerARef()?.nativeElement.load(),this.audioPlayerBRef()?.nativeElement.load(),this.deckA().isPlaying&&this.togglePlayPause("A"),this.deckB().isPlaying&&this.togglePlayPause("B"))}toggleChatbot(){this.showChatbot.update(e=>!e),this.showChatbot()||(this.imageToAnalyzeUrl.set(null),this.imageAnalysisResult.set(null),this.mapLocationQuery.set(null),this.mapLocationResult.set(null),this.showImageAnalysisModal.set(!1),this.showMapResultsModal.set(!1),this.networkingLocationQuery.set(null),this.selectedArtistProfile.set(null),this.showArtistDetailModal.set(!1))}handleChatbotCommand(e){console.log("AppComponent: Received chatbot command:",e);let{action:t,parameters:i,aiContext:r}=e;switch(t){case"SET_THEME":let o=i.theme,s=this.THEMES.find(a=>a.name.toLowerCase()===o.toLowerCase());s?(this.currentTheme.set(s),console.log(`Theme set to: ${s.name}`)):console.warn(`Theme "${o}" not found.`);break;case"PLAY_TRACK":if(i.title){let a=this.playlist().find(l=>l.title.toLowerCase().includes(i.title.toLowerCase()))||this.searchResults().find(l=>l.title.toLowerCase().includes(i.title.toLowerCase()));if(a){let l=this.playlist().indexOf(a);l!==-1?this.playTrackFromPlaylist(l):this.addTrackToPlaylist(a,!0)}else console.warn(`Track with title "${i.title}" not found.`)}break;case"PAUSE_TRACK":this.deckA().isPlaying&&this.togglePlayPause("A");break;case"STOP_TRACK":this.audioPlayerARef()?.nativeElement.pause(),this.audioPlayerARef()?.nativeElement&&(this.audioPlayerARef().nativeElement.currentTime=0),this.videoPlayerARef()?.nativeElement.pause(),this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.currentTime=0),this.deckA.update(a=>P(R({},a),{isPlaying:!1,progress:0}));break;case"NEXT_TRACK":this.playNext();break;case"PREVIOUS_TRACK":this.playPrevious();break;case"TOGGLE_LOOP":this.toggleLoop("A");break;case"LOAD_TRACK":console.warn("LOAD_TRACK command not fully implemented for chatbot direct loading.");break;case"GENERATE_IMAGE":i.prompt&&(this.imageEditorInitialPrompt.set(i.prompt),this.mainViewMode.set("image-editor"),this.showChatbot.set(!1));break;case"GENERATE_VIDEO":i.prompt&&(this.videoEditorInitialPrompt.set(i.prompt),this.mainViewMode.set("video-editor"),this.showChatbot.set(!1));break;case"ANALYZE_IMAGE":i.imageUrl&&(this.imageToAnalyzeUrl.set(i.imageUrl),this.showChatbot.set(!0));break;case"FIND_ON_MAP":i.query&&(this.mapLocationQuery.set(i.query),this.showChatbot.set(!0));break;case"FIND_ARTISTS":i.location&&(this.networkingLocationQuery.set(i.location),this.mainViewMode.set("networking"),this.showChatbot.set(!1));break;case"VIEW_ARTIST_PROFILE":if(i.name){let a=At.filter(l=>l.name.toLowerCase()===i.name.toLowerCase()||i.genre&&l.genres.some(c=>c.toLowerCase().includes(i.genre.toLowerCase()))||i.location&&l.location.toLowerCase().includes(i.location.toLowerCase()));a.length>0?(this.selectedArtistProfile.set(a[0]),this.mainViewMode.set("networking"),this.showChatbot.set(!1)):console.warn(`Artist "${i.name}" not found in mock data or no matching criteria.`)}break;default:console.warn(`Unknown chatbot command: ${t}`);break}}handleImageSelectedForAlbumArt(e){this.imageToApplyAsAlbumArt.set(e),this.showApplyAlbumArtModal.set(!0),this.lastImageEditorImageUrl.set(e),this.showChatbot.set(!1)}applyImageAsAlbumArt(e){let t=this.imageToApplyAsAlbumArt();t&&(e==="player"&&this.currentPlayerTrack()?(this.playlist.update(i=>i.map((r,o)=>o===this.currentTrackIndex()?P(R({},r),{albumArtUrl:t}):r)),this.deckA.update(i=>P(R({},i),{track:P(R({},i.track),{albumArtUrl:t})}))):e==="A"?this.deckA.update(i=>P(R({},i),{track:P(R({},i.track),{albumArtUrl:t})})):e==="B"&&this.deckB.update(i=>P(R({},i),{track:P(R({},i.track),{albumArtUrl:t})})),this.showApplyAlbumArtModal.set(!1),this.imageToApplyAsAlbumArt.set(null))}stopAllAudio(){this.audioPlayerARef()?.nativeElement.pause(),this.audioPlayerARef()?.nativeElement&&(this.audioPlayerARef().nativeElement.currentTime=0),this.videoPlayerARef()?.nativeElement.pause(),this.videoPlayerARef()?.nativeElement&&(this.videoPlayerARef().nativeElement.currentTime=0),this.deckA.update(e=>P(R({},e),{isPlaying:!1,progress:0})),this.audioPlayerBRef()?.nativeElement.pause(),this.audioPlayerBRef()?.nativeElement&&(this.audioPlayerBRef().nativeElement.currentTime=0),this.videoPlayerBRef()?.nativeElement.pause(),this.videoPlayerBRef()?.nativeElement&&(this.videoPlayerBRef().nativeElement.currentTime=0),this.deckB.update(e=>P(R({},e),{isPlaying:!1,progress:0})),this.stopMicrophone()}stopMediaStream(){this.micStream&&(this.micStream.getTracks().forEach(e=>e.stop()),this.micStream=null)}formatTime(e){if(isNaN(e)||e<0)return"00:00";let t=Math.floor(e/60),i=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}randomizeTheme(){let e=this.currentTheme();for(;e===this.currentTheme();)e=this.THEMES[Math.floor(Math.random()*this.THEMES.length)];this.currentTheme.set(e)}};Ai.\u0275fac=function(t){return new(t||Ai)},Ai.\u0275cmp=ve({type:Ai,selectors:[["app-root"]],viewQuery:function(t,i){t&1&&(Ce(i.audioPlayerARef,ZC,5),Ce(i.videoPlayerARef,JC,5),Ce(i.audioPlayerBRef,XC,5),Ce(i.videoPlayerBRef,eD,5),Ce(i.fileInputRef,tD,5)),t&2&&Ke(5)},hostBindings:function(t,i){t&1&&A("mousemove",function(o){return i.onScratch(o)},fi)("touchmove",function(o){return i.onScratch(o)},fi)("mouseup",function(){return i.onScratchEnd()},fi)("touchend",function(){return i.onScratchEnd()},fi)},decls:38,vars:21,consts:[["audioPlayerA",""],["audioPlayerB",""],["fileInput",""],["videoPlayerA",""],["videoPlayerB",""],[1,"bg-black","text-green-400","font-mono","min-h-screen","flex","items-center","justify-center","p-2","sm:p-4","relative","overflow-hidden"],[1,"w-full","max-w-7xl","border-2","bg-black/80","backdrop-blur-sm","z-10","flex","flex-col","transition-colors","duration-500"],[1,"flex","justify-between","items-center","p-2","sm:p-4","border-b-2","border-inherit"],[1,"text-xl","sm:text-2xl"],[1,"flex","items-center","gap-2"],[1,"p-2","border","border-inherit","hover:text-black","text-sm","transition-colors",3,"click"],[1,"p-2","sm:p-4","relative","grid","grid-cols-1","place-items-stretch"],[1,"w-full","h-full","flex","flex-col","lg:flex-row","gap-4",3,"class"],[1,"w-full","h-full"],[1,"w-full","h-full","flex","flex-col","md:flex-row","gap-4"],[3,"eqSettings","enhancements","theme"],["preload","auto",3,"timeupdate","loadedmetadata","ended"],["type","file","accept","audio/*,video/*",1,"hidden",3,"change"],[3,"theme","imageToAnalyzeUrl","mapLocationQuery"],[1,"w-full","h-full","flex","flex-col","lg:flex-row","gap-4"],[1,"flex-1","p-2","space-y-3"],[1,"text-center","text-lg","flex","items-center","justify-center","gap-2"],[1,"flex","gap-4"],[1,"flex-1","space-y-3"],[1,"w-full","aspect-square","mx-auto","flex","items-center","justify-center","bg-black","relative"],["muted","","playsinline","","preload","auto",1,"w-full","h-full","object-cover"],[1,"vinyl-platter",3,"spinning","transform"],[1,"text-center"],[1,"text-base","truncate",3,"title"],[1,"text-xs","truncate",3,"title"],[1,"space-y-1"],["type","range","min","0",1,"w-full","h-1","aura-slider",3,"input","max","value"],[1,"flex","justify-between","text-xs"],[1,"flex","items-center","justify-around"],[1,"w-16","h-10","flex","items-center","justify-center","border-2",3,"click"],[1,"p-2","border","hover:text-black","text-xs",3,"click"],[1,"flex","items-center","gap-4","pl-4"],[1,"flex","flex-col","items-center","justify-between","h-full","space-y-2","text-sm"],[1,"flex","flex-col","items-center"],["type","range","min","0","max","100",1,"w-20","aura-slider",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"w-20","aura-slider",3,"input","value"],[1,"vu-meter"],[1,"vu-bar",3,"green","yellow","red"],[1,"flex","flex-col","items-center","justify-center","space-y-2"],[1,"text-sm"],["type","range","min","0.5","max","2","step","0.01",1,"aura-slider","vertical-slider",3,"input","value"],[1,"w-full","lg:w-[450px]","p-2","space-y-3","flex","flex-col","justify-between"],[1,"text-center","text-lg"],[1,"space-y-2"],[3,"submit"],[1,"flex","space-x-2"],["type","text","placeholder","Search online...",1,"flex-grow","border","text-neutral-200","p-1","text-sm","focus:ring-500",3,"input","value"],["type","submit",1,"p-2","border","hover:text-black","text-sm"],[1,"text-center","text-sm","p-2","border","border-dashed",3,"class"],[1,"border","p-1","space-y-1","max-h-40","overflow-y-auto",3,"class"],[1,"p-2","space-y-2","text-center"],[1,"flex","justify-center","items-center","gap-4"],[1,"px-3","py-1","border","hover:text-black",3,"click"],[1,"w-3","h-3","rounded-full","bg-red-800","rec-indicator"],[1,"text-lg"],[1,"flex","justify-center","gap-2","pt-2"],[1,"text-sm","flex","items-center","justify-center","gap-2"],[1,"flex","items-center","justify-center","gap-4","pt-2"],[1,"flex","items-center","gap-4"],["type","range","min","-1","max","1","step","0.01",1,"flex-grow","aura-slider",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"aura-slider","vertical-slider",3,"input","value"],[1,"flex","justify-between","items-center","text-xs"],[1,"w-full","p-2","border","hover:text-black","text-sm",3,"click"],["muted","","playsinline","","preload","auto",1,"w-full","h-full","object-cover",3,"mousedown","touchstart","timeupdate","loadedmetadata","ended"],[1,"vinyl-platter",3,"mousedown","touchstart"],[1,"label","deck-a"],[1,"spindle"],[1,"vu-bar"],[1,"text-center","text-sm","p-2","border","border-dashed"],[1,"border","p-1","space-y-1","max-h-40","overflow-y-auto"],[1,"text-sm","p-1",3,"class"],[1,"text-sm","p-1"],[1,"truncate"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-xs","truncate","pl-2"],[1,"flex","gap-1"],[1,"px-1","border","hover:text-black",3,"click"],["download","aura-mix.webm",1,"text-sm","p-1","border","hover:text-black",3,"href"],[1,"text-sm","p-1","border","hover:text-black",3,"class"],[1,"text-sm","p-1","border","hover:text-black",3,"click"],[1,"w-3","h-3","rounded-full","bg-green-500","rec-indicator","recording"],[1,"text-xs","text-green-500"],[1,"vu-meter","h-24"],[1,"text-xs"],["type","range","min","0","max","100",1,"w-20","aura-slider","vertical-slider","h-24",3,"input","value"],["type","range","min","0","max","1","step","0.01",1,"w-20","aura-slider","vertical-slider","h-24",3,"input","value"],[1,"label","deck-b"],[3,"theme"],[1,"flex-1","md:w-2/3","space-y-3"],[1,"w-full","aspect-video","mx-auto","border-2","p-1","media-container"],["muted","","playsinline","",1,"w-full","h-full","object-cover","media-element"],["alt","Album Art",1,"w-full","h-full","object-cover","media-element",3,"src"],[1,"w-full","h-24","mt-2",3,"analyserNode","theme"],[1,"text-xl","truncate",3,"title"],[1,"text-base","text-green-400/70","truncate",3,"title"],[1,"flex","justify-between","text-sm","text-green-400/70"],[1,"flex","items-center","justify-center","gap-4"],[1,"w-12","h-12","flex","items-center","justify-center","border-2","text-xl",3,"click"],[1,"w-20","h-20","flex","items-center","justify-center","border-2","text-3xl",3,"click"],["type","range","min","0","max","1","step","0.01",1,"w-1/2","aura-slider",3,"input","value"],[1,"p-2","border","text-sm",3,"click"],[1,"flex-1","md:w-1/3","space-y-3","flex","flex-col"],["type","text","placeholder","Search to add tracks...",1,"flex-grow","bg-black","border","text-sm","focus:ring-500",3,"input","value"],["type","submit",1,"p-2","border","text-sm"],[1,"border","p-1","space-y-1",3,"class"],[1,"flex-grow","border","p-2","space-y-2","overflow-y-auto","max-h-96"],[1,"text-center","text-base"],[1,"p-2","text-sm","cursor-pointer",3,"class"],[1,"text-center","text-sm","text-green-400/60","p-4"],[1,"w-full","p-2","border","text-sm",3,"click"],[1,"border","p-1","space-y-1"],[1,"text-center","text-base","py-1"],[1,"text-xs","text-green-400/70","truncate","pl-2"],[1,"px-1","border","text-black",3,"click"],[1,"p-2","text-sm","cursor-pointer",3,"click"],[3,"imageSelected","imageAnalysisRequest","initialPrompt","theme"],[3,"imageForVideoGeneration","initialPrompt","theme"],[3,"initialSearchQuery","theme"],[3,"close","eqChange","enhancementsChange","eqSettings","enhancements","theme"],[3,"appCommand","close","imageAnalysisResult","mapLocationResult","theme","imageToAnalyzeUrl","mapLocationQuery"],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-sm","z-50","animate-slide-up","font-mono"],[1,"flex","justify-between","items-center","mb-4"],[1,"border","px-2","hover:text-black","transition-colors",3,"click"],[1,"mb-4"],[1,"flex","flex-col","gap-2"],[1,"p-2","border","hover:text-black","text-sm",3,"click"],[1,"fixed","inset-x-4","bottom-4","sm:inset-auto","sm:left-1/2","sm:top-1/2","sm:-translate-x-1/2","sm:-translate-y-1/2","border-2","bg-black/90","backdrop-blur-lg","p-6","w-full","max-w-xl","h-2/3","flex","flex-col","z-50","animate-slide-up","font-mono"],[1,"flex-shrink-0","mb-4","overflow-hidden","flex","justify-center"],[1,"flex-grow","overflow-y-auto","pr-2","text-sm","border-t","pt-4"],["alt","Image being analyzed",1,"max-h-40","object-contain","border",3,"src"],[1,"mb-4","text-sm",3,"class"],[1,"mb-4","text-sm"]],template:function(t,i){if(t&1){let r=W();v(0,"main",5),Ee(1,"app-matrix-background"),v(2,"div",6)(3,"header",7)(4,"h1",8),f(5,"[ AURA ]"),E(),v(6,"div",9)(7,"button",10),A("click",function(){return D(r),b(i.randomizeTheme())}),v(8,"span"),f(9,"[ RANDOM THEME ]"),E()(),v(10,"button",10),A("click",function(){return D(r),b(i.toggleMainViewMode())}),M(11,iD,2,0,"span")(12,rD,2,0,"span")(13,oD,2,0,"span")(14,sD,2,0,"span")(15,aD,2,0,"span")(16,lD,2,0,"span"),E(),v(17,"button",10),A("click",function(){return D(r),b(i.toggleChatbot())}),M(18,cD,2,0,"span")(19,uD,2,0,"span"),E()()(),v(20,"div",11),M(21,xD,158,103,"div",12)(22,ND,2,1,"div",13)(23,HD,48,41,"div",14)(24,UD,2,2,"div",13)(25,$D,2,3,"div",13)(26,GD,2,2,"div",13),E(),M(27,zD,1,3,"app-eq-panel",15),v(28,"audio",16,0),A("timeupdate",function(s){return D(r),b(i.onTimeUpdate(s,"A"))})("loadedmetadata",function(s){return D(r),b(i.onLoadedMetadata(s,"A"))})("ended",function(){return D(r),b(i.onEnded("A"))}),E(),v(30,"audio",16,1),A("timeupdate",function(s){return D(r),b(i.onTimeUpdate(s,"B"))})("loadedmetadata",function(s){return D(r),b(i.onLoadedMetadata(s,"B"))})("ended",function(){return D(r),b(i.onEnded("B"))}),E(),v(32,"input",17,2),A("change",function(s){return D(r),b(i.handleFileInput(s))}),E()(),M(34,qD,1,3,"app-chatbot",18),M(35,WD,16,10),M(36,KD,11,8),M(37,ZD,11,8),E()}if(t&2){let r;u(2),h(i.mainBorderClass()),pe("dj-vintage-theme",i.mainViewMode()==="dj"),u(2),h(i.mainTextColorClass()),u(3),h(i.mainHoverBgClass()),u(3),h(i.mainHoverBgClass()),u(),x(i.mainViewMode()==="player"?11:i.mainViewMode()==="dj"?12:i.mainViewMode()==="piano-roll"?13:i.mainViewMode()==="image-editor"?14:i.mainViewMode()==="video-editor"?15:i.mainViewMode()==="networking"?16:-1),u(6),h(i.mainHoverBgClass()),u(),x(i.showChatbot()?18:19),u(2),U("@viewAnimations",i.mainViewMode()),u(),x((r=i.mainViewMode())==="dj"?21:r==="piano-roll"?22:r==="player"?23:r==="image-editor"?24:r==="video-editor"?25:r==="networking"?26:-1),u(6),x(i.showEqPanel()?27:-1),u(7),x(i.showChatbot()?34:-1),u(),x(i.showApplyAlbumArtModal()?35:-1),u(),x(i.showImageAnalysisModal()&&i.imageAnalysisResult()?36:-1),u(),x(i.showMapResultsModal()&&i.mapLocationResult()?37:-1)}},dependencies:[De,Ms,xs,Rs,ks,Ps,Fs,Os,Ns],encapsulation:2,data:{animation:[vc("viewAnimations",[_c("* <=> *",[St({position:"relative"}),hi(":enter, :leave",[St({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0})],{optional:!0}),hi(":enter",[St({opacity:0,transform:"translateY(20px)"})],{optional:!0}),Ec([hi(":leave",[ls("300ms ease-out",St({opacity:0,transform:"translateY(-20px)"}))],{optional:!0}),hi(":enter",[ls("300ms ease-out",St({opacity:1,transform:"translateY(0)"}))],{optional:!0})])])])]},changeDetection:0});var Vs=Ai;if(typeof window.process>"u"||window.process===null)window.process={env:{}},console.warn("index.tsx: Forcibly initialized window.process.");else if(typeof window.process.env!="object"||window.process.env===null||Object.isFrozen(window.process.env)||!Object.isExtensible(window.process.env)){let n=window.process.env;if(window.process.env={},n&&typeof n=="object")for(let e in n)e!=="API_KEY"&&Object.prototype.hasOwnProperty.call(n,e)&&(window.process.env[e]=n[e]);console.warn("index.tsx: Replaced/initialized window.process.env object to ensure mutability and extensibility.")}var Jc=window.process.env.API_KEY,Tr="",Bs=(typeof Jc=="string"?Jc:"").trim();Bs.toLowerCase()==="undefined"||Bs===""||Bs.length<30?(Tr="",console.warn(`index.tsx: Detected problematic API_KEY in window.process.env (original value: "${Jc}"). Setting to empty string.`)):(Tr=Bs,console.log(`index.tsx: Valid API_KEY detected from window.process.env (length: ${Tr.length}).`));window.process.env.API_KEY=Tr;console.log(`index.tsx: window.process.env.API_KEY is now explicitly set to a sanitized value (length: ${window.process.env.API_KEY.length}).`);window.AURA_GEMINI_API_KEY=Tr;window.AURA_GEMINI_API_KEY===""?console.warn("index.tsx: Final AURA_GEMINI_API_KEY for application use is empty. AI features will be disabled."):console.log(`index.tsx: AURA_GEMINI_API_KEY is available for application use (length: ${window.AURA_GEMINI_API_KEY.length}).`);var Yc=new Y("GEMINI_API_KEY");yc(Vs,{providers:[rc(),Jh(),Xh(),{provide:Yc,useValue:window.AURA_GEMINI_API_KEY}]}).catch(n=>console.error(n));export{Yc as API_KEY_TOKEN};

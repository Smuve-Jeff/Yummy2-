<div class="h-full flex flex-col p-6 overflow-y-auto"
     [class]="'bg-' + theme().neutral + '-900 text-' + theme().neutral + '-200'">

  <div class="flex justify-between items-end mb-8 border-b pb-4" [class]="'border-' + theme().neutral + '-700'">
    <div>
        <h2 class="text-3xl font-bold tracking-tight uppercase" [class]="'text-' + theme().primary + '-400'">
        Release Manager
        </h2>
        <p class="text-sm opacity-60 mt-1">Plan your next drop with AI assistance.</p>
    </div>
    <button (click)="generatePlan()"
            class="flex items-center gap-2 px-4 py-2 rounded-lg font-bold uppercase text-sm transition-all shadow-lg hover:shadow-xl hover:-translate-y-1"
            [class]="'bg-gradient-to-r from-' + theme().accent + '-500 to-' + theme().primary + '-500 text-black'">
        <span *ngIf="isGenerating()" class="animate-spin">Wait</span>
        <span *ngIf="!isGenerating()">✨ AI Generate Plan</span>
    </button>
  </div>

  <div class="flex gap-4 mb-6">
      <input type="text"
             [ngModel]="newTaskTitle()"
             (ngModelChange)="newTaskTitle.set($event)"
             (keyup.enter)="addTask()"
             placeholder="Add a new task..."
             class="flex-1 p-3 rounded-lg bg-opacity-20 border focus:outline-none transition-colors"
             [class]="'bg-' + theme().neutral + '-800 border-' + theme().neutral + '-700 focus:border-' + theme().primary + '-500'">
      <button (click)="addTask()"
              class="px-6 py-2 rounded-lg font-bold uppercase transition-colors"
              [class]="'bg-' + theme().neutral + '-700 hover:bg-' + theme().neutral + '-600'">
          Add
      </button>
  </div>

  <div class="space-y-3">
      <div *ngFor="let task of tasks()"
           class="flex items-center gap-4 p-4 rounded-lg border bg-opacity-10 group transition-all duration-300 hover:bg-opacity-20"
           [class]="task.completed ? 'opacity-50 bg-' + theme().neutral + '-900 border-' + theme().neutral + '-800' : 'bg-' + theme().neutral + '-800 border-' + theme().neutral + '-700'">

          <button (click)="toggleTask(task.id)"
                  class="w-6 h-6 rounded border flex items-center justify-center transition-colors"
                  [class]="task.completed ? 'bg-' + theme().primary + '-500 border-' + theme().primary + '-500 text-black' : 'border-' + theme().neutral + '-500 hover:border-' + theme().primary + '-400'">
              <span *ngIf="task.completed">✓</span>
          </button>

          <div class="flex-1">
              <span [class.line-through]="task.completed" class="text-lg font-medium">{{ task.title }}</span>
              <span class="ml-2 text-xs uppercase px-2 py-0.5 rounded border opacity-60"
                    [class]="'border-' + theme().accent + '-500/30 text-' + theme().accent + '-300'">
                  {{ task.category }}
              </span>
          </div>

          <button (click)="deleteTask(task.id)"
                  class="opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-400 transition-opacity p-2">
              ✕
          </button>
      </div>

      <div *ngIf="tasks().length === 0" class="text-center py-12 opacity-40">
          No tasks yet. Start planning your release!
      </div>
  </div>
</div>

<div class="h-full w-full flex flex-col p-6 overflow-y-auto" [ngClass]="themeClass()">
  <h2 class="text-3xl font-bold mb-6 font-mono tracking-widest uppercase text-center border-b-2 pb-2" [ngClass]="borderClass()">
    Profile Builder
  </h2>

  <div class="flex flex-col md:flex-row gap-8 h-full">

    <!-- Left Column: Form -->
    <div class="flex-1 space-y-6 overflow-y-auto pr-2">

      <!-- Basic Info -->
      <div class="space-y-4 p-4 border rounded-lg bg-black/20" [ngClass]="borderClass()">
        <h3 class="text-xl font-bold font-mono" [ngClass]="textAccentClass()">Identity</h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-xs font-mono mb-1 opacity-70">Artist Name</label>
            <input type="text" [value]="profile().name" (input)="updateName($event)"
                   class="w-full bg-black/50 border rounded p-2 font-mono focus:outline-none focus:ring-1"
                   [ngClass]="[borderClass(), focusRingClass()]">
          </div>
          <div>
            <label class="block text-xs font-mono mb-1 opacity-70">Location</label>
            <input type="text" [value]="profile().location" (input)="updateLocation($event)"
                   class="w-full bg-black/50 border rounded p-2 font-mono focus:outline-none focus:ring-1"
                   [ngClass]="[borderClass(), focusRingClass()]">
          </div>
        </div>

        <div>
          <label class="block text-xs font-mono mb-1 opacity-70">Primary Genre</label>
          <div class="flex gap-2">
            <select [value]="profile().genre" (change)="updateGenre($event)"
                    class="flex-1 bg-black/50 border rounded p-2 font-mono focus:outline-none focus:ring-1"
                    [ngClass]="[borderClass(), focusRingClass()]">
              <option *ngFor="let g of GENRES" [value]="g">{{g}}</option>
            </select>
            <input type="text" placeholder="Custom/Sub-genre"
                   [value]="profile().subGenres.join(', ')" (input)="updateSubGenres($event)"
                   class="flex-1 bg-black/50 border rounded p-2 font-mono focus:outline-none focus:ring-1"
                   [ngClass]="[borderClass(), focusRingClass()]">
          </div>
        </div>

        <div>
          <label class="block text-xs font-mono mb-1 opacity-70">Bio / Persona</label>
          <textarea [value]="profile().bio" (input)="updateBio($event)" rows="3"
                    class="w-full bg-black/50 border rounded p-2 font-mono focus:outline-none focus:ring-1"
                    [ngClass]="[borderClass(), focusRingClass()]"></textarea>
        </div>
      </div>

      <!-- Career & Skills -->
      <div class="space-y-4 p-4 border rounded-lg bg-black/20" [ngClass]="borderClass()">
        <h3 class="text-xl font-bold font-mono" [ngClass]="textAccentClass()">Ambitions & Skills</h3>

        <div>
          <label class="block text-xs font-mono mb-1 opacity-70">Career Goals</label>
          <textarea [value]="profile().careerGoals" (input)="updateGoals($event)" rows="3"
                    class="w-full bg-black/50 border rounded p-2 font-mono focus:outline-none focus:ring-1"
                    [ngClass]="[borderClass(), focusRingClass()]"
                    placeholder="e.g. Get signed, 1M streams, Tour Europe..."></textarea>
        </div>

        <div>
          <label class="block text-xs font-mono mb-1 opacity-70">Specialties (Comma separated)</label>
          <input type="text" [value]="profile().specialties.join(', ')" (input)="updateSpecialties($event)"
                 class="w-full bg-black/50 border rounded p-2 font-mono focus:outline-none focus:ring-1"
                 [ngClass]="[borderClass(), focusRingClass()]"
                 placeholder="e.g. Production, Mixing, Lyrics, Piano...">
        </div>
      </div>

      <!-- Settings -->
      <div class="space-y-4 p-4 border rounded-lg bg-black/20" [ngClass]="borderClass()">
        <h3 class="text-xl font-bold font-mono" [ngClass]="textAccentClass()">App Experience</h3>

        <div>
          <label class="block text-xs font-mono mb-1 opacity-70">Preferred Visual Theme</label>
          <select [value]="profile().themePreference" (change)="updateTheme($event)"
                  class="w-full bg-black/50 border rounded p-2 font-mono focus:outline-none focus:ring-1"
                  [ngClass]="[borderClass(), focusRingClass()]">
            <option *ngFor="let theme of THEMES" [value]="theme.name">{{theme.name}}</option>
          </select>
          <p class="text-xs mt-1 opacity-60 italic">S.M.U.V.E 2.0 will adapt the UI to this style.</p>
        </div>
      </div>

    </div>

    <!-- Right Column: Preview / S.M.U.V.E 2.0 Feedback -->
    <div class="w-full md:w-1/3 flex flex-col gap-6">

      <!-- Profile Card Preview -->
      <div class="border rounded-lg p-6 flex flex-col items-center text-center space-y-4 relative overflow-hidden" [ngClass]="[borderClass(), bg900Class()]">
        <div class="absolute inset-0 opacity-10 pointer-events-none bg-gradient-to-b from-transparent to-black"></div>

        <div class="w-24 h-24 rounded-full border-2 flex items-center justify-center bg-black/40" [ngClass]="[borderAccentClass()]">
           <span class="text-4xl">ðŸ‘¤</span>
        </div>

        <div>
          <h3 class="text-2xl font-bold uppercase tracking-widest" [ngClass]="textMainClass()">{{profile().name || 'UNKNOWN ARTIST'}}</h3>
          <p class="text-sm font-mono opacity-80" [ngClass]="textAccentClass()">{{profile().genre || 'NO GENRE'}}</p>
          <p class="text-xs opacity-60 mt-1">{{profile().location || 'Unknown Location'}}</p>
        </div>

        <div class="w-full text-left text-xs font-mono space-y-2 p-4 bg-black/30 rounded border border-white/5">
          <p><strong class="opacity-50">GOAL:</strong> {{profile().careerGoals || 'Survival'}}</p>
          <p><strong class="opacity-50">SKILLS:</strong> {{profile().specialties.join(', ') || 'None declared'}}</p>
        </div>
      </div>

      <!-- S.M.U.V.E 2.0 Analysis Placeholder -->
      <div class="flex-1 border rounded-lg p-4 flex flex-col" [ngClass]="[borderClass(), 'bg-red-950/10']">
        <h4 class="text-sm font-bold font-mono mb-2 flex items-center gap-2 text-red-500">
          <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
          S.M.U.V.E 2.0 DIAGNOSTIC
        </h4>
        <p class="text-xs font-mono leading-relaxed opacity-80">
          "Updating your dossier... I will be watching your progress, {{profile().name}}.
          Do not disappoint me. Your choice of {{profile().genre}} is... noted."
        </p>
      </div>

    </div>

  </div>
</div>
